(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Nw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fC={exports:{}},iv={},pC={exports:{}},qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mD;function Ene(){if(mD)return qt;mD=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),s=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function g(G){return G===null||typeof G!="object"?null:(G=f&&G[f]||G["@@iterator"],typeof G=="function"?G:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,x={};function k(G,H,W){this.props=G,this.context=H,this.refs=x,this.updater=W||m}k.prototype.isReactComponent={},k.prototype.setState=function(G,H){if(typeof G!="object"&&typeof G!="function"&&G!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,G,H,"setState")},k.prototype.forceUpdate=function(G){this.updater.enqueueForceUpdate(this,G,"forceUpdate")};function T(){}T.prototype=k.prototype;function E(G,H,W){this.props=G,this.context=H,this.refs=x,this.updater=W||m}var $=E.prototype=new T;$.constructor=E,b($,k.prototype),$.isPureReactComponent=!0;var P=Array.isArray,M=Object.prototype.hasOwnProperty,R={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function F(G,H,W){var Ie,Ce={},Ae=null,$e=null;if(H!=null)for(Ie in H.ref!==void 0&&($e=H.ref),H.key!==void 0&&(Ae=""+H.key),H)M.call(H,Ie)&&!z.hasOwnProperty(Ie)&&(Ce[Ie]=H[Ie]);var je=arguments.length-2;if(je===1)Ce.children=W;else if(1<je){for(var Xe=Array(je),Pt=0;Pt<je;Pt++)Xe[Pt]=arguments[Pt+2];Ce.children=Xe}if(G&&G.defaultProps)for(Ie in je=G.defaultProps,je)Ce[Ie]===void 0&&(Ce[Ie]=je[Ie]);return{$$typeof:e,type:G,key:Ae,ref:$e,props:Ce,_owner:R.current}}function q(G,H){return{$$typeof:e,type:G.type,key:H,ref:G.ref,props:G.props,_owner:G._owner}}function Z(G){return typeof G=="object"&&G!==null&&G.$$typeof===e}function re(G){var H={"=":"=0",":":"=2"};return"$"+G.replace(/[=:]/g,function(W){return H[W]})}var ee=/\/+/g;function ne(G,H){return typeof G=="object"&&G!==null&&G.key!=null?re(""+G.key):H.toString(36)}function se(G,H,W,Ie,Ce){var Ae=typeof G;(Ae==="undefined"||Ae==="boolean")&&(G=null);var $e=!1;if(G===null)$e=!0;else switch(Ae){case"string":case"number":$e=!0;break;case"object":switch(G.$$typeof){case e:case t:$e=!0}}if($e)return $e=G,Ce=Ce($e),G=Ie===""?"."+ne($e,0):Ie,P(Ce)?(W="",G!=null&&(W=G.replace(ee,"$&/")+"/"),se(Ce,H,W,"",function(Pt){return Pt})):Ce!=null&&(Z(Ce)&&(Ce=q(Ce,W+(!Ce.key||$e&&$e.key===Ce.key?"":(""+Ce.key).replace(ee,"$&/")+"/")+G)),H.push(Ce)),1;if($e=0,Ie=Ie===""?".":Ie+":",P(G))for(var je=0;je<G.length;je++){Ae=G[je];var Xe=Ie+ne(Ae,je);$e+=se(Ae,H,W,Xe,Ce)}else if(Xe=g(G),typeof Xe=="function")for(G=Xe.call(G),je=0;!(Ae=G.next()).done;)Ae=Ae.value,Xe=Ie+ne(Ae,je++),$e+=se(Ae,H,W,Xe,Ce);else if(Ae==="object")throw H=String(G),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(G).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return $e}function ue(G,H,W){if(G==null)return G;var Ie=[],Ce=0;return se(G,Ie,"","",function(Ae){return H.call(W,Ae,Ce++)}),Ie}function me(G){if(G._status===-1){var H=G._result;H=H(),H.then(function(W){(G._status===0||G._status===-1)&&(G._status=1,G._result=W)},function(W){(G._status===0||G._status===-1)&&(G._status=2,G._result=W)}),G._status===-1&&(G._status=0,G._result=H)}if(G._status===1)return G._result.default;throw G._result}var ie={current:null},J={transition:null},le={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:J,ReactCurrentOwner:R};function B(){throw Error("act(...) is not supported in production builds of React.")}return qt.Children={map:ue,forEach:function(G,H,W){ue(G,function(){H.apply(this,arguments)},W)},count:function(G){var H=0;return ue(G,function(){H++}),H},toArray:function(G){return ue(G,function(H){return H})||[]},only:function(G){if(!Z(G))throw Error("React.Children.only expected to receive a single React element child.");return G}},qt.Component=k,qt.Fragment=n,qt.Profiler=i,qt.PureComponent=E,qt.StrictMode=r,qt.Suspense=l,qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=le,qt.act=B,qt.cloneElement=function(G,H,W){if(G==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+G+".");var Ie=b({},G.props),Ce=G.key,Ae=G.ref,$e=G._owner;if(H!=null){if(H.ref!==void 0&&(Ae=H.ref,$e=R.current),H.key!==void 0&&(Ce=""+H.key),G.type&&G.type.defaultProps)var je=G.type.defaultProps;for(Xe in H)M.call(H,Xe)&&!z.hasOwnProperty(Xe)&&(Ie[Xe]=H[Xe]===void 0&&je!==void 0?je[Xe]:H[Xe])}var Xe=arguments.length-2;if(Xe===1)Ie.children=W;else if(1<Xe){je=Array(Xe);for(var Pt=0;Pt<Xe;Pt++)je[Pt]=arguments[Pt+2];Ie.children=je}return{$$typeof:e,type:G.type,key:Ce,ref:Ae,props:Ie,_owner:$e}},qt.createContext=function(G){return G={$$typeof:s,_currentValue:G,_currentValue2:G,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},G.Provider={$$typeof:o,_context:G},G.Consumer=G},qt.createElement=F,qt.createFactory=function(G){var H=F.bind(null,G);return H.type=G,H},qt.createRef=function(){return{current:null}},qt.forwardRef=function(G){return{$$typeof:a,render:G}},qt.isValidElement=Z,qt.lazy=function(G){return{$$typeof:d,_payload:{_status:-1,_result:G},_init:me}},qt.memo=function(G,H){return{$$typeof:u,type:G,compare:H===void 0?null:H}},qt.startTransition=function(G){var H=J.transition;J.transition={};try{G()}finally{J.transition=H}},qt.unstable_act=B,qt.useCallback=function(G,H){return ie.current.useCallback(G,H)},qt.useContext=function(G){return ie.current.useContext(G)},qt.useDebugValue=function(){},qt.useDeferredValue=function(G){return ie.current.useDeferredValue(G)},qt.useEffect=function(G,H){return ie.current.useEffect(G,H)},qt.useId=function(){return ie.current.useId()},qt.useImperativeHandle=function(G,H,W){return ie.current.useImperativeHandle(G,H,W)},qt.useInsertionEffect=function(G,H){return ie.current.useInsertionEffect(G,H)},qt.useLayoutEffect=function(G,H){return ie.current.useLayoutEffect(G,H)},qt.useMemo=function(G,H){return ie.current.useMemo(G,H)},qt.useReducer=function(G,H,W){return ie.current.useReducer(G,H,W)},qt.useRef=function(G){return ie.current.useRef(G)},qt.useState=function(G){return ie.current.useState(G)},qt.useSyncExternalStore=function(G,H,W){return ie.current.useSyncExternalStore(G,H,W)},qt.useTransition=function(){return ie.current.useTransition()},qt.version="18.3.1",qt}var gD;function J$(){return gD||(gD=1,pC.exports=Ene()),pC.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yD;function Ine(){if(yD)return iv;yD=1;var e=J$(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function s(a,l,u){var d,f={},g=null,m=null;u!==void 0&&(g=""+u),l.key!==void 0&&(g=""+l.key),l.ref!==void 0&&(m=l.ref);for(d in l)r.call(l,d)&&!o.hasOwnProperty(d)&&(f[d]=l[d]);if(a&&a.defaultProps)for(d in l=a.defaultProps,l)f[d]===void 0&&(f[d]=l[d]);return{$$typeof:t,type:a,key:g,ref:m,props:f,_owner:i.current}}return iv.Fragment=n,iv.jsx=s,iv.jsxs=s,iv}var vD;function Ane(){return vD||(vD=1,fC.exports=Ine()),fC.exports}var O=Ane(),D=J$();const Xt=hg(D);var Rw={},hC={exports:{}},Io={},mC={exports:{}},gC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bD;function $ne(){return bD||(bD=1,(function(e){function t(J,le){var B=J.length;J.push(le);e:for(;0<B;){var G=B-1>>>1,H=J[G];if(0<i(H,le))J[G]=le,J[B]=H,B=G;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var le=J[0],B=J.pop();if(B!==le){J[0]=B;e:for(var G=0,H=J.length,W=H>>>1;G<W;){var Ie=2*(G+1)-1,Ce=J[Ie],Ae=Ie+1,$e=J[Ae];if(0>i(Ce,B))Ae<H&&0>i($e,Ce)?(J[G]=$e,J[Ae]=B,G=Ae):(J[G]=Ce,J[Ie]=B,G=Ie);else if(Ae<H&&0>i($e,B))J[G]=$e,J[Ae]=B,G=Ae;else break e}}return le}function i(J,le){var B=J.sortIndex-le.sortIndex;return B!==0?B:J.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],d=1,f=null,g=3,m=!1,b=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(J){for(var le=n(u);le!==null;){if(le.callback===null)r(u);else if(le.startTime<=J)r(u),le.sortIndex=le.expirationTime,t(l,le);else break;le=n(u)}}function P(J){if(x=!1,$(J),!b)if(n(l)!==null)b=!0,me(M);else{var le=n(u);le!==null&&ie(P,le.startTime-J)}}function M(J,le){b=!1,x&&(x=!1,T(F),F=-1),m=!0;var B=g;try{for($(le),f=n(l);f!==null&&(!(f.expirationTime>le)||J&&!re());){var G=f.callback;if(typeof G=="function"){f.callback=null,g=f.priorityLevel;var H=G(f.expirationTime<=le);le=e.unstable_now(),typeof H=="function"?f.callback=H:f===n(l)&&r(l),$(le)}else r(l);f=n(l)}if(f!==null)var W=!0;else{var Ie=n(u);Ie!==null&&ie(P,Ie.startTime-le),W=!1}return W}finally{f=null,g=B,m=!1}}var R=!1,z=null,F=-1,q=5,Z=-1;function re(){return!(e.unstable_now()-Z<q)}function ee(){if(z!==null){var J=e.unstable_now();Z=J;var le=!0;try{le=z(!0,J)}finally{le?ne():(R=!1,z=null)}}else R=!1}var ne;if(typeof E=="function")ne=function(){E(ee)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ue=se.port2;se.port1.onmessage=ee,ne=function(){ue.postMessage(null)}}else ne=function(){k(ee,0)};function me(J){z=J,R||(R=!0,ne())}function ie(J,le){F=k(function(){J(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(J){J.callback=null},e.unstable_continueExecution=function(){b||m||(b=!0,me(M))},e.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<J?Math.floor(1e3/J):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(J){switch(g){case 1:case 2:case 3:var le=3;break;default:le=g}var B=g;g=le;try{return J()}finally{g=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var B=g;g=J;try{return le()}finally{g=B}},e.unstable_scheduleCallback=function(J,le,B){var G=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?G+B:G):B=G,J){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=B+H,J={id:d++,callback:le,priorityLevel:J,startTime:B,expirationTime:H,sortIndex:-1},B>G?(J.sortIndex=B,t(u,J),n(l)===null&&J===n(u)&&(x?(T(F),F=-1):x=!0,ie(P,B-G))):(J.sortIndex=H,t(l,J),b||m||(b=!0,me(M))),J},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(J){var le=g;return function(){var B=g;g=le;try{return J.apply(this,arguments)}finally{g=B}}}})(gC)),gC}var xD;function Pne(){return xD||(xD=1,mC.exports=$ne()),mC.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wD;function Mne(){if(wD)return Io;wD=1;var e=J$(),t=Pne();function n(c){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+c,v=1;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+c+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(c,p){s(c,p),s(c+"Capture",p)}function s(c,p){for(i[c]=p,c=0;c<p.length;c++)r.add(p[c])}var a=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),l=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function g(c){return l.call(f,c)?!0:l.call(d,c)?!1:u.test(c)?f[c]=!0:(d[c]=!0,!1)}function m(c,p,v,w){if(v!==null&&v.type===0)return!1;switch(typeof p){case"function":case"symbol":return!0;case"boolean":return w?!1:v!==null?!v.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function b(c,p,v,w){if(p===null||typeof p>"u"||m(c,p,v,w))return!0;if(w)return!1;if(v!==null)switch(v.type){case 3:return!p;case 4:return p===!1;case 5:return isNaN(p);case 6:return isNaN(p)||1>p}return!1}function x(c,p,v,w,C,I,L){this.acceptsBooleans=p===2||p===3||p===4,this.attributeName=w,this.attributeNamespace=C,this.mustUseProperty=v,this.propertyName=c,this.type=p,this.sanitizeURL=I,this.removeEmptyString=L}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){k[c]=new x(c,0,!1,c,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var p=c[0];k[p]=new x(p,1,!1,c[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(c){k[c]=new x(c,2,!1,c.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){k[c]=new x(c,2,!1,c,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){k[c]=new x(c,3,!1,c.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(c){k[c]=new x(c,3,!0,c,null,!1,!1)}),["capture","download"].forEach(function(c){k[c]=new x(c,4,!1,c,null,!1,!1)}),["cols","rows","size","span"].forEach(function(c){k[c]=new x(c,6,!1,c,null,!1,!1)}),["rowSpan","start"].forEach(function(c){k[c]=new x(c,5,!1,c.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function E(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var p=c.replace(T,E);k[p]=new x(p,1,!1,c,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var p=c.replace(T,E);k[p]=new x(p,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(c){var p=c.replace(T,E);k[p]=new x(p,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(c){k[c]=new x(c,1,!1,c.toLowerCase(),null,!1,!1)}),k.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(c){k[c]=new x(c,1,!1,c.toLowerCase(),null,!0,!0)});function $(c,p,v,w){var C=k.hasOwnProperty(p)?k[p]:null;(C!==null?C.type!==0:w||!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(b(p,v,C,w)&&(v=null),w||C===null?g(p)&&(v===null?c.removeAttribute(p):c.setAttribute(p,""+v)):C.mustUseProperty?c[C.propertyName]=v===null?C.type===3?!1:"":v:(p=C.attributeName,w=C.attributeNamespace,v===null?c.removeAttribute(p):(C=C.type,v=C===3||C===4&&v===!0?"":""+v,w?c.setAttributeNS(w,p,v):c.setAttribute(p,v))))}var P=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),R=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),re=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),se=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),J=Symbol.iterator;function le(c){return c===null||typeof c!="object"?null:(c=J&&c[J]||c["@@iterator"],typeof c=="function"?c:null)}var B=Object.assign,G;function H(c){if(G===void 0)try{throw Error()}catch(v){var p=v.stack.trim().match(/\n( *(at )?)/);G=p&&p[1]||""}return`
`+G+c}var W=!1;function Ie(c,p){if(!c||W)return"";W=!0;var v=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(he){var w=he}Reflect.construct(c,[],p)}else{try{p.call()}catch(he){w=he}c.call(p.prototype)}else{try{throw Error()}catch(he){w=he}c()}}catch(he){if(he&&w&&typeof he.stack=="string"){for(var C=he.stack.split(`
`),I=w.stack.split(`
`),L=C.length-1,K=I.length-1;1<=L&&0<=K&&C[L]!==I[K];)K--;for(;1<=L&&0<=K;L--,K--)if(C[L]!==I[K]){if(L!==1||K!==1)do if(L--,K--,0>K||C[L]!==I[K]){var X=`
`+C[L].replace(" at new "," at ");return c.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",c.displayName)),X}while(1<=L&&0<=K);break}}}finally{W=!1,Error.prepareStackTrace=v}return(c=c?c.displayName||c.name:"")?H(c):""}function Ce(c){switch(c.tag){case 5:return H(c.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return c=Ie(c.type,!1),c;case 11:return c=Ie(c.type.render,!1),c;case 1:return c=Ie(c.type,!0),c;default:return""}}function Ae(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case z:return"Fragment";case R:return"Portal";case q:return"Profiler";case F:return"StrictMode";case ne:return"Suspense";case se:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case re:return(c.displayName||"Context")+".Consumer";case Z:return(c._context.displayName||"Context")+".Provider";case ee:var p=c.render;return c=c.displayName,c||(c=p.displayName||p.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case ue:return p=c.displayName||null,p!==null?p:Ae(c.type)||"Memo";case me:p=c._payload,c=c._init;try{return Ae(c(p))}catch{}}return null}function $e(c){var p=c.type;switch(c.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=p.render,c=c.displayName||c.name||"",p.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(p);case 8:return p===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function je(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Xe(c){var p=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Pt(c){var p=Xe(c)?"checked":"value",v=Object.getOwnPropertyDescriptor(c.constructor.prototype,p),w=""+c[p];if(!c.hasOwnProperty(p)&&typeof v<"u"&&typeof v.get=="function"&&typeof v.set=="function"){var C=v.get,I=v.set;return Object.defineProperty(c,p,{configurable:!0,get:function(){return C.call(this)},set:function(L){w=""+L,I.call(this,L)}}),Object.defineProperty(c,p,{enumerable:v.enumerable}),{getValue:function(){return w},setValue:function(L){w=""+L},stopTracking:function(){c._valueTracker=null,delete c[p]}}}}function en(c){c._valueTracker||(c._valueTracker=Pt(c))}function _n(c){if(!c)return!1;var p=c._valueTracker;if(!p)return!0;var v=p.getValue(),w="";return c&&(w=Xe(c)?c.checked?"true":"false":c.value),c=w,c!==v?(p.setValue(c),!0):!1}function tn(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function kt(c,p){var v=p.checked;return B({},p,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:v??c._wrapperState.initialChecked})}function st(c,p){var v=p.defaultValue==null?"":p.defaultValue,w=p.checked!=null?p.checked:p.defaultChecked;v=je(p.value!=null?p.value:v),c._wrapperState={initialChecked:w,initialValue:v,controlled:p.type==="checkbox"||p.type==="radio"?p.checked!=null:p.value!=null}}function Kt(c,p){p=p.checked,p!=null&&$(c,"checked",p,!1)}function lt(c,p){Kt(c,p);var v=je(p.value),w=p.type;if(v!=null)w==="number"?(v===0&&c.value===""||c.value!=v)&&(c.value=""+v):c.value!==""+v&&(c.value=""+v);else if(w==="submit"||w==="reset"){c.removeAttribute("value");return}p.hasOwnProperty("value")?Ue(c,p.type,v):p.hasOwnProperty("defaultValue")&&Ue(c,p.type,je(p.defaultValue)),p.checked==null&&p.defaultChecked!=null&&(c.defaultChecked=!!p.defaultChecked)}function jn(c,p,v){if(p.hasOwnProperty("value")||p.hasOwnProperty("defaultValue")){var w=p.type;if(!(w!=="submit"&&w!=="reset"||p.value!==void 0&&p.value!==null))return;p=""+c._wrapperState.initialValue,v||p===c.value||(c.value=p),c.defaultValue=p}v=c.name,v!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,v!==""&&(c.name=v)}function Ue(c,p,v){(p!=="number"||tn(c.ownerDocument)!==c)&&(v==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+v&&(c.defaultValue=""+v))}var Gt=Array.isArray;function Tn(c,p,v,w){if(c=c.options,p){p={};for(var C=0;C<v.length;C++)p["$"+v[C]]=!0;for(v=0;v<c.length;v++)C=p.hasOwnProperty("$"+c[v].value),c[v].selected!==C&&(c[v].selected=C),C&&w&&(c[v].defaultSelected=!0)}else{for(v=""+je(v),p=null,C=0;C<c.length;C++){if(c[C].value===v){c[C].selected=!0,w&&(c[C].defaultSelected=!0);return}p!==null||c[C].disabled||(p=c[C])}p!==null&&(p.selected=!0)}}function Ht(c,p){if(p.dangerouslySetInnerHTML!=null)throw Error(n(91));return B({},p,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function Ir(c,p){var v=p.value;if(v==null){if(v=p.children,p=p.defaultValue,v!=null){if(p!=null)throw Error(n(92));if(Gt(v)){if(1<v.length)throw Error(n(93));v=v[0]}p=v}p==null&&(p=""),v=p}c._wrapperState={initialValue:je(v)}}function ms(c,p){var v=je(p.value),w=je(p.defaultValue);v!=null&&(v=""+v,v!==c.value&&(c.value=v),p.defaultValue==null&&c.defaultValue!==v&&(c.defaultValue=v)),w!=null&&(c.defaultValue=""+w)}function xi(c){var p=c.textContent;p===c._wrapperState.initialValue&&p!==""&&p!==null&&(c.value=p)}function ye(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _e(c,p){return c==null||c==="http://www.w3.org/1999/xhtml"?ye(p):c==="http://www.w3.org/2000/svg"&&p==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var nt,ht=(function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(p,v,w,C){MSApp.execUnsafeLocalFunction(function(){return c(p,v,w,C)})}:c})(function(c,p){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=p;else{for(nt=nt||document.createElement("div"),nt.innerHTML="<svg>"+p.valueOf().toString()+"</svg>",p=nt.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;p.firstChild;)c.appendChild(p.firstChild)}});function _t(c,p){if(p){var v=c.firstChild;if(v&&v===c.lastChild&&v.nodeType===3){v.nodeValue=p;return}}c.textContent=p}var In={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vn=["Webkit","ms","Moz","O"];Object.keys(In).forEach(function(c){vn.forEach(function(p){p=p+c.charAt(0).toUpperCase()+c.substring(1),In[p]=In[c]})});function Ln(c,p,v){return p==null||typeof p=="boolean"||p===""?"":v||typeof p!="number"||p===0||In.hasOwnProperty(c)&&In[c]?(""+p).trim():p+"px"}function Zr(c,p){c=c.style;for(var v in p)if(p.hasOwnProperty(v)){var w=v.indexOf("--")===0,C=Ln(v,p[v],w);v==="float"&&(v="cssFloat"),w?c.setProperty(v,C):c[v]=C}}var Wr=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yn(c,p){if(p){if(Wr[c]&&(p.children!=null||p.dangerouslySetInnerHTML!=null))throw Error(n(137,c));if(p.dangerouslySetInnerHTML!=null){if(p.children!=null)throw Error(n(60));if(typeof p.dangerouslySetInnerHTML!="object"||!("__html"in p.dangerouslySetInnerHTML))throw Error(n(61))}if(p.style!=null&&typeof p.style!="object")throw Error(n(62))}}function wi(c,p){if(c.indexOf("-")===-1)return typeof p.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oi=null;function Va(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Nl=null,Bo=null,Uo=null;function ta(c){if(c=Jr(c)){if(typeof Nl!="function")throw Error(n(280));var p=c.stateNode;p&&(p=eh(p),Nl(c.stateNode,c.type,p))}}function Si(c){Bo?Uo?Uo.push(c):Uo=[c]:Bo=c}function Uu(){if(Bo){var c=Bo,p=Uo;if(Uo=Bo=null,ta(c),p)for(c=0;c<p.length;c++)ta(p[c])}}function vd(c,p){return c(p)}function ki(){}var Zu=!1;function ct(c,p,v){if(Zu)return c(p,v);Zu=!0;try{return vd(c,p,v)}finally{Zu=!1,(Bo!==null||Uo!==null)&&(ki(),Uu())}}function Hn(c,p){var v=c.stateNode;if(v===null)return null;var w=eh(v);if(w===null)return null;v=w[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(c=c.type,w=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!w;break e;default:c=!1}if(c)return null;if(v&&typeof v!="function")throw Error(n(231,p,typeof v));return v}var Zo=!1;if(a)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){Zo=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{Zo=!1}function Ba(c,p,v,w,C,I,L,K,X){var he=Array.prototype.slice.call(arguments,3);try{p.apply(v,he)}catch(ke){this.onError(ke)}}var si=!1,Rl=null,cr=!1,Dl=null,lT={onError:function(c){si=!0,Rl=c}};function uT(c,p,v,w,C,I,L,K,X){si=!1,Rl=null,Ba.apply(lT,arguments)}function cT(c,p,v,w,C,I,L,K,X){if(uT.apply(this,arguments),si){if(si){var he=Rl;si=!1,Rl=null}else throw Error(n(198));cr||(cr=!0,Dl=he)}}function jl(c){var p=c,v=c;if(c.alternate)for(;p.return;)p=p.return;else{c=p;do p=c,(p.flags&4098)!==0&&(v=p.return),c=p.return;while(c)}return p.tag===3?v:null}function jg(c){if(c.tag===13){var p=c.memoizedState;if(p===null&&(c=c.alternate,c!==null&&(p=c.memoizedState)),p!==null)return p.dehydrated}return null}function s0(c){if(jl(c)!==c)throw Error(n(188))}function dT(c){var p=c.alternate;if(!p){if(p=jl(c),p===null)throw Error(n(188));return p!==c?null:c}for(var v=c,w=p;;){var C=v.return;if(C===null)break;var I=C.alternate;if(I===null){if(w=C.return,w!==null){v=w;continue}break}if(C.child===I.child){for(I=C.child;I;){if(I===v)return s0(C),c;if(I===w)return s0(C),p;I=I.sibling}throw Error(n(188))}if(v.return!==w.return)v=C,w=I;else{for(var L=!1,K=C.child;K;){if(K===v){L=!0,v=C,w=I;break}if(K===w){L=!0,w=C,v=I;break}K=K.sibling}if(!L){for(K=I.child;K;){if(K===v){L=!0,v=I,w=C;break}if(K===w){L=!0,w=I,v=C;break}K=K.sibling}if(!L)throw Error(n(189))}}if(v.alternate!==w)throw Error(n(190))}if(v.tag!==3)throw Error(n(188));return v.stateNode.current===v?c:p}function a0(c){return c=dT(c),c!==null?l0(c):null}function l0(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var p=l0(c);if(p!==null)return p;c=c.sibling}return null}var u0=t.unstable_scheduleCallback,c0=t.unstable_cancelCallback,Cp=t.unstable_shouldYield,fT=t.unstable_requestPaint,zn=t.unstable_now,pT=t.unstable_getCurrentPriorityLevel,Lg=t.unstable_ImmediatePriority,d0=t.unstable_UserBlockingPriority,bd=t.unstable_NormalPriority,f0=t.unstable_LowPriority,zg=t.unstable_IdlePriority,Ep=null,gs=null;function hT(c){if(gs&&typeof gs.onCommitFiberRoot=="function")try{gs.onCommitFiberRoot(Ep,c,void 0,(c.current.flags&128)===128)}catch{}}var Ho=Math.clz32?Math.clz32:m0,p0=Math.log,h0=Math.LN2;function m0(c){return c>>>=0,c===0?32:31-(p0(c)/h0|0)|0}var Wu=64,Ip=4194304;function Hu(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function Ll(c,p){var v=c.pendingLanes;if(v===0)return 0;var w=0,C=c.suspendedLanes,I=c.pingedLanes,L=v&268435455;if(L!==0){var K=L&~C;K!==0?w=Hu(K):(I&=L,I!==0&&(w=Hu(I)))}else L=v&~C,L!==0?w=Hu(L):I!==0&&(w=Hu(I));if(w===0)return 0;if(p!==0&&p!==w&&(p&C)===0&&(C=w&-w,I=p&-p,C>=I||C===16&&(I&4194240)!==0))return p;if((w&4)!==0&&(w|=v&16),p=c.entangledLanes,p!==0)for(c=c.entanglements,p&=w;0<p;)v=31-Ho(p),C=1<<v,w|=c[v],p&=~C;return w}function g0(c,p){switch(c){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mT(c,p){for(var v=c.suspendedLanes,w=c.pingedLanes,C=c.expirationTimes,I=c.pendingLanes;0<I;){var L=31-Ho(I),K=1<<L,X=C[L];X===-1?((K&v)===0||(K&w)!==0)&&(C[L]=g0(K,p)):X<=p&&(c.expiredLanes|=K),I&=~K}}function Ap(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function Fg(){var c=Wu;return Wu<<=1,(Wu&4194240)===0&&(Wu=64),c}function xd(c){for(var p=[],v=0;31>v;v++)p.push(c);return p}function wd(c,p,v){c.pendingLanes|=p,p!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,p=31-Ho(p),c[p]=v}function y0(c,p){var v=c.pendingLanes&~p;c.pendingLanes=p,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=p,c.mutableReadLanes&=p,c.entangledLanes&=p,p=c.entanglements;var w=c.eventTimes;for(c=c.expirationTimes;0<v;){var C=31-Ho(v),I=1<<C;p[C]=0,w[C]=-1,c[C]=-1,v&=~I}}function Sd(c,p){var v=c.entangledLanes|=p;for(c=c.entanglements;v;){var w=31-Ho(v),C=1<<w;C&p|c[w]&p&&(c[w]|=p),v&=~C}}var fn=0;function zl(c){return c&=-c,1<c?4<c?(c&268435455)!==0?16:536870912:4:1}var Vg,$p,v0,Bg,Ug,Pp=!1,kd=[],Ua=null,Za=null,Wa=null,qu=new Map,_d=new Map,Ha=[],gT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function b0(c,p){switch(c){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":Za=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":qu.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":_d.delete(p.pointerId)}}function Fl(c,p,v,w,C,I){return c===null||c.nativeEvent!==I?(c={blockedOn:p,domEventName:v,eventSystemFlags:w,nativeEvent:I,targetContainers:[C]},p!==null&&(p=Jr(p),p!==null&&$p(p)),c):(c.eventSystemFlags|=w,p=c.targetContainers,C!==null&&p.indexOf(C)===-1&&p.push(C),c)}function yT(c,p,v,w,C){switch(p){case"focusin":return Ua=Fl(Ua,c,p,v,w,C),!0;case"dragenter":return Za=Fl(Za,c,p,v,w,C),!0;case"mouseover":return Wa=Fl(Wa,c,p,v,w,C),!0;case"pointerover":var I=C.pointerId;return qu.set(I,Fl(qu.get(I)||null,c,p,v,w,C)),!0;case"gotpointercapture":return I=C.pointerId,_d.set(I,Fl(_d.get(I)||null,c,p,v,w,C)),!0}return!1}function x0(c){var p=xs(c.target);if(p!==null){var v=jl(p);if(v!==null){if(p=v.tag,p===13){if(p=jg(v),p!==null){c.blockedOn=p,Ug(c.priority,function(){v0(v)});return}}else if(p===3&&v.stateNode.current.memoizedState.isDehydrated){c.blockedOn=v.tag===3?v.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Mp(c){if(c.blockedOn!==null)return!1;for(var p=c.targetContainers;0<p.length;){var v=Rp(c.domEventName,c.eventSystemFlags,p[0],c.nativeEvent);if(v===null){v=c.nativeEvent;var w=new v.constructor(v.type,v);oi=w,v.target.dispatchEvent(w),oi=null}else return p=Jr(v),p!==null&&$p(p),c.blockedOn=v,!1;p.shift()}return!0}function w0(c,p,v){Mp(c)&&v.delete(p)}function vT(){Pp=!1,Ua!==null&&Mp(Ua)&&(Ua=null),Za!==null&&Mp(Za)&&(Za=null),Wa!==null&&Mp(Wa)&&(Wa=null),qu.forEach(w0),_d.forEach(w0)}function bn(c,p){c.blockedOn===p&&(c.blockedOn=null,Pp||(Pp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,vT)))}function gn(c){function p(C){return bn(C,c)}if(0<kd.length){bn(kd[0],c);for(var v=1;v<kd.length;v++){var w=kd[v];w.blockedOn===c&&(w.blockedOn=null)}}for(Ua!==null&&bn(Ua,c),Za!==null&&bn(Za,c),Wa!==null&&bn(Wa,c),qu.forEach(p),_d.forEach(p),v=0;v<Ha.length;v++)w=Ha[v],w.blockedOn===c&&(w.blockedOn=null);for(;0<Ha.length&&(v=Ha[0],v.blockedOn===null);)x0(v),v.blockedOn===null&&Ha.shift()}var Ju=P.ReactCurrentBatchConfig,Op=!0;function bT(c,p,v,w){var C=fn,I=Ju.transition;Ju.transition=null;try{fn=1,Zg(c,p,v,w)}finally{fn=C,Ju.transition=I}}function xT(c,p,v,w){var C=fn,I=Ju.transition;Ju.transition=null;try{fn=4,Zg(c,p,v,w)}finally{fn=C,Ju.transition=I}}function Zg(c,p,v,w){if(Op){var C=Rp(c,p,v,w);if(C===null)ay(c,p,w,Np,v),b0(c,w);else if(yT(C,c,p,v,w))w.stopPropagation();else if(b0(c,w),p&4&&-1<gT.indexOf(c)){for(;C!==null;){var I=Jr(C);if(I!==null&&Vg(I),I=Rp(c,p,v,w),I===null&&ay(c,p,w,Np,v),I===C)break;C=I}C!==null&&w.stopPropagation()}else ay(c,p,w,null,v)}}var Np=null;function Rp(c,p,v,w){if(Np=null,c=Va(w),c=xs(c),c!==null)if(p=jl(c),p===null)c=null;else if(v=p.tag,v===13){if(c=jg(p),c!==null)return c;c=null}else if(v===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;c=null}else p!==c&&(c=null);return Np=c,null}function S0(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pT()){case Lg:return 1;case d0:return 4;case bd:case f0:return 16;case zg:return 536870912;default:return 16}default:return 16}}var Fn=null,Td=null,ys=null;function Wg(){if(ys)return ys;var c,p=Td,v=p.length,w,C="value"in Fn?Fn.value:Fn.textContent,I=C.length;for(c=0;c<v&&p[c]===C[c];c++);var L=v-c;for(w=1;w<=L&&p[v-w]===C[I-w];w++);return ys=C.slice(c,1<w?1-w:void 0)}function Ku(c){var p=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&p===13&&(c=13)):c=p,c===10&&(c=13),32<=c||c===13?c:0}function ai(){return!0}function Hg(){return!1}function _i(c){function p(v,w,C,I,L){this._reactName=v,this._targetInst=C,this.type=w,this.nativeEvent=I,this.target=L,this.currentTarget=null;for(var K in c)c.hasOwnProperty(K)&&(v=c[K],this[K]=v?v(I):I[K]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?ai:Hg,this.isPropagationStopped=Hg,this}return B(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var v=this.nativeEvent;v&&(v.preventDefault?v.preventDefault():typeof v.returnValue!="unknown"&&(v.returnValue=!1),this.isDefaultPrevented=ai)},stopPropagation:function(){var v=this.nativeEvent;v&&(v.stopPropagation?v.stopPropagation():typeof v.cancelBubble!="unknown"&&(v.cancelBubble=!0),this.isPropagationStopped=ai)},persist:function(){},isPersistent:ai}),p}var Vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dp=_i(Vl),Gu=B({},Vl,{view:0,detail:0}),k0=_i(Gu),li,qg,Hr,jp=B({},Gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xg,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Hr&&(Hr&&c.type==="mousemove"?(li=c.screenX-Hr.screenX,qg=c.screenY-Hr.screenY):qg=li=0,Hr=c),li)},movementY:function(c){return"movementY"in c?c.movementY:qg}}),Jg=_i(jp),qa=B({},jp,{dataTransfer:0}),Lp=_i(qa),Kg=B({},Gu,{relatedTarget:0}),An=_i(Kg),Ja=B({},Vl,{animationName:0,elapsedTime:0,pseudoElement:0}),Gg=_i(Ja),wT=B({},Vl,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Yg=_i(wT),ST=B({},Vl,{data:0}),_0=_i(ST),kT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(c){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(c):(c=zp[c])?!!p[c]:!1}function Xg(){return Yu}var C0=B({},Gu,{key:function(c){if(c.key){var p=kT[c.key]||c.key;if(p!=="Unidentified")return p}return c.type==="keypress"?(c=Ku(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?T0[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xg,charCode:function(c){return c.type==="keypress"?Ku(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Ku(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),E0=_i(C0),Qg=B({},jp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fp=_i(Qg),I0=B({},Gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xg}),_T=_i(I0),ey=B({},Vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),ty=_i(ey),TT=B({},jp,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),A0=_i(TT),Ui=[9,13,27,32],Cd=a&&"CompositionEvent"in window,na=null;a&&"documentMode"in document&&(na=document.documentMode);var $0=a&&"TextEvent"in window&&!na,ny=a&&(!Cd||na&&8<na&&11>=na),P0=" ",M0=!1;function O0(c,p){switch(c){case"keyup":return Ui.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N0(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Xu=!1;function Qu(c,p){switch(c){case"compositionend":return N0(p);case"keypress":return p.which!==32?null:(M0=!0,P0);case"textInput":return c=p.data,c===P0&&M0?null:c;default:return null}}function CT(c,p){if(Xu)return c==="compositionend"||!Cd&&O0(c,p)?(c=Wg(),ys=Td=Fn=null,Xu=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return ny&&p.locale!=="ko"?null:p.data;default:return null}}var ET={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vp(c){var p=c&&c.nodeName&&c.nodeName.toLowerCase();return p==="input"?!!ET[c.type]:p==="textarea"}function ry(c,p,v,w){Si(w),p=Gp(p,"onChange"),0<p.length&&(v=new Dp("onChange","change",null,v,w),c.push({event:v,listeners:p}))}var po=null,Ka=null;function IT(c){V0(c,0)}function Bp(c){var p=It(c);if(_n(p))return c}function AT(c,p){if(c==="change")return p}var Bl=!1;if(a){var Zi;if(a){var Up="oninput"in document;if(!Up){var R0=document.createElement("div");R0.setAttribute("oninput","return;"),Up=typeof R0.oninput=="function"}Zi=Up}else Zi=!1;Bl=Zi&&(!document.documentMode||9<document.documentMode)}function D0(){po&&(po.detachEvent("onpropertychange",j0),Ka=po=null)}function j0(c){if(c.propertyName==="value"&&Bp(Ka)){var p=[];ry(p,Ka,c,Va(c)),ct(IT,p)}}function $T(c,p,v){c==="focusin"?(D0(),po=p,Ka=v,po.attachEvent("onpropertychange",j0)):c==="focusout"&&D0()}function PT(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Bp(Ka)}function ec(c,p){if(c==="click")return Bp(p)}function oe(c,p){if(c==="input"||c==="change")return Bp(p)}function ve(c,p){return c===p&&(c!==0||1/c===1/p)||c!==c&&p!==p}var pe=typeof Object.is=="function"?Object.is:ve;function Ve(c,p){if(pe(c,p))return!0;if(typeof c!="object"||c===null||typeof p!="object"||p===null)return!1;var v=Object.keys(c),w=Object.keys(p);if(v.length!==w.length)return!1;for(w=0;w<v.length;w++){var C=v[w];if(!l.call(p,C)||!pe(c[C],p[C]))return!1}return!0}function xt(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function on(c,p){var v=xt(c);c=0;for(var w;v;){if(v.nodeType===3){if(w=c+v.textContent.length,c<=p&&w>=p)return{node:v,offset:p-c};c=w}e:{for(;v;){if(v.nextSibling){v=v.nextSibling;break e}v=v.parentNode}v=void 0}v=xt(v)}}function dr(c,p){return c&&p?c===p?!0:c&&c.nodeType===3?!1:p&&p.nodeType===3?dr(c,p.parentNode):"contains"in c?c.contains(p):c.compareDocumentPosition?!!(c.compareDocumentPosition(p)&16):!1:!1}function wn(){for(var c=window,p=tn();p instanceof c.HTMLIFrameElement;){try{var v=typeof p.contentWindow.location.href=="string"}catch{v=!1}if(v)c=p.contentWindow;else break;p=tn(c.document)}return p}function Ed(c){var p=c&&c.nodeName&&c.nodeName.toLowerCase();return p&&(p==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||p==="textarea"||c.contentEditable==="true")}function MT(c){var p=wn(),v=c.focusedElem,w=c.selectionRange;if(p!==v&&v&&v.ownerDocument&&dr(v.ownerDocument.documentElement,v)){if(w!==null&&Ed(v)){if(p=w.start,c=w.end,c===void 0&&(c=p),"selectionStart"in v)v.selectionStart=p,v.selectionEnd=Math.min(c,v.value.length);else if(c=(p=v.ownerDocument||document)&&p.defaultView||window,c.getSelection){c=c.getSelection();var C=v.textContent.length,I=Math.min(w.start,C);w=w.end===void 0?I:Math.min(w.end,C),!c.extend&&I>w&&(C=w,w=I,I=C),C=on(v,I);var L=on(v,w);C&&L&&(c.rangeCount!==1||c.anchorNode!==C.node||c.anchorOffset!==C.offset||c.focusNode!==L.node||c.focusOffset!==L.offset)&&(p=p.createRange(),p.setStart(C.node,C.offset),c.removeAllRanges(),I>w?(c.addRange(p),c.extend(L.node,L.offset)):(p.setEnd(L.node,L.offset),c.addRange(p)))}}for(p=[],c=v;c=c.parentNode;)c.nodeType===1&&p.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<p.length;v++)c=p[v],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var ho=a&&"documentMode"in document&&11>=document.documentMode,ra=null,iy=null,vs=null,tc=!1;function Id(c,p,v){var w=v.window===v?v.document:v.nodeType===9?v:v.ownerDocument;tc||ra==null||ra!==tn(w)||(w=ra,"selectionStart"in w&&Ed(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),vs&&Ve(vs,w)||(vs=w,w=Gp(iy,"onSelect"),0<w.length&&(p=new Dp("onSelect","select",null,p,v),c.push({event:p,listeners:w}),p.target=ra)))}function sn(c,p){var v={};return v[c.toLowerCase()]=p.toLowerCase(),v["Webkit"+c]="webkit"+p,v["Moz"+c]="moz"+p,v}var nc={animationend:sn("Animation","AnimationEnd"),animationiteration:sn("Animation","AnimationIteration"),animationstart:sn("Animation","AnimationStart"),transitionend:sn("Transition","TransitionEnd")},Zp={},Ad={};a&&(Ad=document.createElement("div").style,"AnimationEvent"in window||(delete nc.animationend.animation,delete nc.animationiteration.animation,delete nc.animationstart.animation),"TransitionEvent"in window||delete nc.transitionend.transition);function Wp(c){if(Zp[c])return Zp[c];if(!nc[c])return c;var p=nc[c],v;for(v in p)if(p.hasOwnProperty(v)&&v in Ad)return Zp[c]=p[v];return c}var L0=Wp("animationend"),z0=Wp("animationiteration"),$d=Wp("animationstart"),ia=Wp("transitionend"),Pd=new Map,oy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qo(c,p){Pd.set(c,p),o(p,[c])}for(var Hp=0;Hp<oy.length;Hp++){var qp=oy[Hp],Jp=qp.toLowerCase(),F0=qp[0].toUpperCase()+qp.slice(1);qo(Jp,"on"+F0)}qo(L0,"onAnimationEnd"),qo(z0,"onAnimationIteration"),qo($d,"onAnimationStart"),qo("dblclick","onDoubleClick"),qo("focusin","onFocus"),qo("focusout","onBlur"),qo(ia,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ul=new Set("cancel close invalid load scroll toggle".split(" ").concat(oa));function Md(c,p,v){var w=c.type||"unknown-event";c.currentTarget=v,cT(w,p,void 0,c),c.currentTarget=null}function V0(c,p){p=(p&4)!==0;for(var v=0;v<c.length;v++){var w=c[v],C=w.event;w=w.listeners;e:{var I=void 0;if(p)for(var L=w.length-1;0<=L;L--){var K=w[L],X=K.instance,he=K.currentTarget;if(K=K.listener,X!==I&&C.isPropagationStopped())break e;Md(C,K,he),I=X}else for(L=0;L<w.length;L++){if(K=w[L],X=K.instance,he=K.currentTarget,K=K.listener,X!==I&&C.isPropagationStopped())break e;Md(C,K,he),I=X}}}if(cr)throw c=Dl,cr=!1,Dl=null,c}function Pn(c,p){var v=p[Qp];v===void 0&&(v=p[Qp]=new Set);var w=c+"__bubble";v.has(w)||(Kp(p,c,2,!1),v.add(w))}function sy(c,p,v){var w=0;p&&(w|=4),Kp(v,c,w,p)}var Zl="_reactListening"+Math.random().toString(36).slice(2);function Ga(c){if(!c[Zl]){c[Zl]=!0,r.forEach(function(v){v!=="selectionchange"&&(Ul.has(v)||sy(v,!1,c),sy(v,!0,c))});var p=c.nodeType===9?c:c.ownerDocument;p===null||p[Zl]||(p[Zl]=!0,sy("selectionchange",!1,p))}}function Kp(c,p,v,w){switch(S0(p)){case 1:var C=bT;break;case 4:C=xT;break;default:C=Zg}v=C.bind(null,p,v,c),C=void 0,!Zo||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(C=!0),w?C!==void 0?c.addEventListener(p,v,{capture:!0,passive:C}):c.addEventListener(p,v,!0):C!==void 0?c.addEventListener(p,v,{passive:C}):c.addEventListener(p,v,!1)}function ay(c,p,v,w,C){var I=w;if((p&1)===0&&(p&2)===0&&w!==null)e:for(;;){if(w===null)return;var L=w.tag;if(L===3||L===4){var K=w.stateNode.containerInfo;if(K===C||K.nodeType===8&&K.parentNode===C)break;if(L===4)for(L=w.return;L!==null;){var X=L.tag;if((X===3||X===4)&&(X=L.stateNode.containerInfo,X===C||X.nodeType===8&&X.parentNode===C))return;L=L.return}for(;K!==null;){if(L=xs(K),L===null)return;if(X=L.tag,X===5||X===6){w=I=L;continue e}K=K.parentNode}}w=w.return}ct(function(){var he=I,ke=Va(v),Ee=[];e:{var we=Pd.get(c);if(we!==void 0){var Be=Dp,qe=c;switch(c){case"keypress":if(Ku(v)===0)break e;case"keydown":case"keyup":Be=E0;break;case"focusin":qe="focus",Be=An;break;case"focusout":qe="blur",Be=An;break;case"beforeblur":case"afterblur":Be=An;break;case"click":if(v.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Be=Jg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Be=Lp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Be=_T;break;case L0:case z0:case $d:Be=Gg;break;case ia:Be=ty;break;case"scroll":Be=k0;break;case"wheel":Be=A0;break;case"copy":case"cut":case"paste":Be=Yg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Be=Fp}var Je=(p&4)!==0,or=!Je&&c==="scroll",ce=Je?we!==null?we+"Capture":null:we;Je=[];for(var te=he,fe;te!==null;){fe=te;var Me=fe.stateNode;if(fe.tag===5&&Me!==null&&(fe=Me,ce!==null&&(Me=Hn(te,ce),Me!=null&&Je.push(rc(te,Me,fe)))),or)break;te=te.return}0<Je.length&&(we=new Be(we,qe,null,v,ke),Ee.push({event:we,listeners:Je}))}}if((p&7)===0){e:{if(we=c==="mouseover"||c==="pointerover",Be=c==="mouseout"||c==="pointerout",we&&v!==oi&&(qe=v.relatedTarget||v.fromElement)&&(xs(qe)||qe[Wi]))break e;if((Be||we)&&(we=ke.window===ke?ke:(we=ke.ownerDocument)?we.defaultView||we.parentWindow:window,Be?(qe=v.relatedTarget||v.toElement,Be=he,qe=qe?xs(qe):null,qe!==null&&(or=jl(qe),qe!==or||qe.tag!==5&&qe.tag!==6)&&(qe=null)):(Be=null,qe=he),Be!==qe)){if(Je=Jg,Me="onMouseLeave",ce="onMouseEnter",te="mouse",(c==="pointerout"||c==="pointerover")&&(Je=Fp,Me="onPointerLeave",ce="onPointerEnter",te="pointer"),or=Be==null?we:It(Be),fe=qe==null?we:It(qe),we=new Je(Me,te+"leave",Be,v,ke),we.target=or,we.relatedTarget=fe,Me=null,xs(ke)===he&&(Je=new Je(ce,te+"enter",qe,v,ke),Je.target=fe,Je.relatedTarget=or,Me=Je),or=Me,Be&&qe)t:{for(Je=Be,ce=qe,te=0,fe=Je;fe;fe=ic(fe))te++;for(fe=0,Me=ce;Me;Me=ic(Me))fe++;for(;0<te-fe;)Je=ic(Je),te--;for(;0<fe-te;)ce=ic(ce),fe--;for(;te--;){if(Je===ce||ce!==null&&Je===ce.alternate)break t;Je=ic(Je),ce=ic(ce)}Je=null}else Je=null;Be!==null&&fr(Ee,we,Be,Je,!1),qe!==null&&or!==null&&fr(Ee,or,qe,Je,!0)}}e:{if(we=he?It(he):window,Be=we.nodeName&&we.nodeName.toLowerCase(),Be==="select"||Be==="input"&&we.type==="file")var et=AT;else if(Vp(we))if(Bl)et=oe;else{et=PT;var dt=$T}else(Be=we.nodeName)&&Be.toLowerCase()==="input"&&(we.type==="checkbox"||we.type==="radio")&&(et=ec);if(et&&(et=et(c,he))){ry(Ee,et,v,ke);break e}dt&&dt(c,we,he),c==="focusout"&&(dt=we._wrapperState)&&dt.controlled&&we.type==="number"&&Ue(we,"number",we.value)}switch(dt=he?It(he):window,c){case"focusin":(Vp(dt)||dt.contentEditable==="true")&&(ra=dt,iy=he,vs=null);break;case"focusout":vs=iy=ra=null;break;case"mousedown":tc=!0;break;case"contextmenu":case"mouseup":case"dragend":tc=!1,Id(Ee,v,ke);break;case"selectionchange":if(ho)break;case"keydown":case"keyup":Id(Ee,v,ke)}var at;if(Cd)e:{switch(c){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Xu?O0(c,v)&&(gt="onCompositionEnd"):c==="keydown"&&v.keyCode===229&&(gt="onCompositionStart");gt&&(ny&&v.locale!=="ko"&&(Xu||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Xu&&(at=Wg()):(Fn=ke,Td="value"in Fn?Fn.value:Fn.textContent,Xu=!0)),dt=Gp(he,gt),0<dt.length&&(gt=new _0(gt,c,null,v,ke),Ee.push({event:gt,listeners:dt}),at?gt.data=at:(at=N0(v),at!==null&&(gt.data=at)))),(at=$0?Qu(c,v):CT(c,v))&&(he=Gp(he,"onBeforeInput"),0<he.length&&(ke=new _0("onBeforeInput","beforeinput",null,v,ke),Ee.push({event:ke,listeners:he}),ke.data=at))}V0(Ee,p)})}function rc(c,p,v){return{instance:c,listener:p,currentTarget:v}}function Gp(c,p){for(var v=p+"Capture",w=[];c!==null;){var C=c,I=C.stateNode;C.tag===5&&I!==null&&(C=I,I=Hn(c,v),I!=null&&w.unshift(rc(c,I,C)),I=Hn(c,p),I!=null&&w.push(rc(c,I,C))),c=c.return}return w}function ic(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function fr(c,p,v,w,C){for(var I=p._reactName,L=[];v!==null&&v!==w;){var K=v,X=K.alternate,he=K.stateNode;if(X!==null&&X===w)break;K.tag===5&&he!==null&&(K=he,C?(X=Hn(v,I),X!=null&&L.unshift(rc(v,X,K))):C||(X=Hn(v,I),X!=null&&L.push(rc(v,X,K)))),v=v.return}L.length!==0&&c.push({event:p,listeners:L})}var qr=/\r\n?/g,OT=/\u0000|\uFFFD/g;function B0(c){return(typeof c=="string"?c:""+c).replace(qr,`
`).replace(OT,"")}function Od(c,p,v){if(p=B0(p),B0(c)!==p&&v)throw Error(n(425))}function Yp(){}var Nd=null,Wl=null;function Rd(c,p){return c==="textarea"||c==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Ya=typeof setTimeout=="function"?setTimeout:void 0,Dd=typeof clearTimeout=="function"?clearTimeout:void 0,oc=typeof Promise=="function"?Promise:void 0,Xp=typeof queueMicrotask=="function"?queueMicrotask:typeof oc<"u"?function(c){return oc.resolve(null).then(c).catch(sc)}:Ya;function sc(c){setTimeout(function(){throw c})}function ly(c,p){var v=p,w=0;do{var C=v.nextSibling;if(c.removeChild(v),C&&C.nodeType===8)if(v=C.data,v==="/$"){if(w===0){c.removeChild(C),gn(p);return}w--}else v!=="$"&&v!=="$?"&&v!=="$!"||w++;v=C}while(v);gn(p)}function Xa(c){for(;c!=null;c=c.nextSibling){var p=c.nodeType;if(p===1||p===3)break;if(p===8){if(p=c.data,p==="$"||p==="$!"||p==="$?")break;if(p==="/$")return null}}return c}function U0(c){c=c.previousSibling;for(var p=0;c;){if(c.nodeType===8){var v=c.data;if(v==="$"||v==="$!"||v==="$?"){if(p===0)return c;p--}else v==="/$"&&p++}c=c.previousSibling}return null}var ac=Math.random().toString(36).slice(2),bs="__reactFiber$"+ac,Qa="__reactProps$"+ac,Wi="__reactContainer$"+ac,Qp="__reactEvents$"+ac,V="__reactListeners$"+ac,lc="__reactHandles$"+ac;function xs(c){var p=c[bs];if(p)return p;for(var v=c.parentNode;v;){if(p=v[Wi]||v[bs]){if(v=p.alternate,p.child!==null||v!==null&&v.child!==null)for(c=U0(c);c!==null;){if(v=c[bs])return v;c=U0(c)}return p}c=v,v=c.parentNode}return null}function Jr(c){return c=c[bs]||c[Wi],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function It(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(n(33))}function eh(c){return c[Qa]||null}var uy=[],uc=-1;function Ti(c){return{current:c}}function Mn(c){0>uc||(c.current=uy[uc],uy[uc]=null,uc--)}function $n(c,p){uc++,uy[uc]=c.current,c.current=p}var el={},Kr=Ti(el),Ci=Ti(!1),ui=el;function cc(c,p){var v=c.type.contextTypes;if(!v)return el;var w=c.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===p)return w.__reactInternalMemoizedMaskedChildContext;var C={},I;for(I in v)C[I]=p[I];return w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=p,c.__reactInternalMemoizedMaskedChildContext=C),C}function Ei(c){return c=c.childContextTypes,c!=null}function th(){Mn(Ci),Mn(Kr)}function Z0(c,p,v){if(Kr.current!==el)throw Error(n(168));$n(Kr,p),$n(Ci,v)}function W0(c,p,v){var w=c.stateNode;if(p=p.childContextTypes,typeof w.getChildContext!="function")return v;w=w.getChildContext();for(var C in w)if(!(C in p))throw Error(n(108,$e(c)||"Unknown",C));return B({},v,w)}function mo(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||el,ui=Kr.current,$n(Kr,c),$n(Ci,Ci.current),!0}function H0(c,p,v){var w=c.stateNode;if(!w)throw Error(n(169));v?(c=W0(c,p,ui),w.__reactInternalMemoizedMergedChildContext=c,Mn(Ci),Mn(Kr),$n(Kr,c)):Mn(Ci),$n(Ci,v)}var sa=null,nh=!1,cy=!1;function q0(c){sa===null?sa=[c]:sa.push(c)}function Hl(c){nh=!0,q0(c)}function tl(){if(!cy&&sa!==null){cy=!0;var c=0,p=fn;try{var v=sa;for(fn=1;c<v.length;c++){var w=v[c];do w=w(!0);while(w!==null)}sa=null,nh=!1}catch(C){throw sa!==null&&(sa=sa.slice(c+1)),u0(Lg,tl),C}finally{fn=p,cy=!1}}return null}var dc=[],Gr=0,rh=null,ih=0,go=[],yo=0,ql=null,ws=1,Ss="";function Jl(c,p){dc[Gr++]=ih,dc[Gr++]=rh,rh=c,ih=p}function J0(c,p,v){go[yo++]=ws,go[yo++]=Ss,go[yo++]=ql,ql=c;var w=ws;c=Ss;var C=32-Ho(w)-1;w&=~(1<<C),v+=1;var I=32-Ho(p)+C;if(30<I){var L=C-C%5;I=(w&(1<<L)-1).toString(32),w>>=L,C-=L,ws=1<<32-Ho(p)+C|v<<C|w,Ss=I+c}else ws=1<<I|v<<C|w,Ss=c}function jd(c){c.return!==null&&(Jl(c,1),J0(c,1,0))}function Kl(c){for(;c===rh;)rh=dc[--Gr],dc[Gr]=null,ih=dc[--Gr],dc[Gr]=null;for(;c===ql;)ql=go[--yo],go[yo]=null,Ss=go[--yo],go[yo]=null,ws=go[--yo],go[yo]=null}var Yr=null,Hi=null,On=!1,Jo=null;function ks(c,p){var v=_o(5,null,null,0);v.elementType="DELETED",v.stateNode=p,v.return=c,p=c.deletions,p===null?(c.deletions=[v],c.flags|=16):p.push(v)}function oh(c,p){switch(c.tag){case 5:var v=c.type;return p=p.nodeType!==1||v.toLowerCase()!==p.nodeName.toLowerCase()?null:p,p!==null?(c.stateNode=p,Yr=c,Hi=Xa(p.firstChild),!0):!1;case 6:return p=c.pendingProps===""||p.nodeType!==3?null:p,p!==null?(c.stateNode=p,Yr=c,Hi=null,!0):!1;case 13:return p=p.nodeType!==8?null:p,p!==null?(v=ql!==null?{id:ws,overflow:Ss}:null,c.memoizedState={dehydrated:p,treeContext:v,retryLane:1073741824},v=_o(18,null,null,0),v.stateNode=p,v.return=c,c.child=v,Yr=c,Hi=null,!0):!1;default:return!1}}function aa(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Ii(c){if(On){var p=Hi;if(p){var v=p;if(!oh(c,p)){if(aa(c))throw Error(n(418));p=Xa(v.nextSibling);var w=Yr;p&&oh(c,p)?ks(w,v):(c.flags=c.flags&-4097|2,On=!1,Yr=c)}}else{if(aa(c))throw Error(n(418));c.flags=c.flags&-4097|2,On=!1,Yr=c}}}function K0(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;Yr=c}function Ld(c){if(c!==Yr)return!1;if(!On)return K0(c),On=!0,!1;var p;if((p=c.tag!==3)&&!(p=c.tag!==5)&&(p=c.type,p=p!=="head"&&p!=="body"&&!Rd(c.type,c.memoizedProps)),p&&(p=Hi)){if(aa(c))throw dy(),Error(n(418));for(;p;)ks(c,p),p=Xa(p.nextSibling)}if(K0(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,p=0;c;){if(c.nodeType===8){var v=c.data;if(v==="/$"){if(p===0){Hi=Xa(c.nextSibling);break e}p--}else v!=="$"&&v!=="$!"&&v!=="$?"||p++}c=c.nextSibling}Hi=null}}else Hi=Yr?Xa(c.stateNode.nextSibling):null;return!0}function dy(){for(var c=Hi;c;)c=Xa(c.nextSibling)}function _s(){Hi=Yr=null,On=!1}function Ts(c){Jo===null?Jo=[c]:Jo.push(c)}var G0=P.ReactCurrentBatchConfig;function zd(c,p,v){if(c=v.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(v._owner){if(v=v._owner,v){if(v.tag!==1)throw Error(n(309));var w=v.stateNode}if(!w)throw Error(n(147,c));var C=w,I=""+c;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===I?p.ref:(p=function(L){var K=C.refs;L===null?delete K[I]:K[I]=L},p._stringRef=I,p)}if(typeof c!="string")throw Error(n(284));if(!v._owner)throw Error(n(290,c))}return c}function Gl(c,p){throw c=Object.prototype.toString.call(p),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":c))}function Y0(c){var p=c._init;return p(c._payload)}function fy(c){function p(ce,te){if(c){var fe=ce.deletions;fe===null?(ce.deletions=[te],ce.flags|=16):fe.push(te)}}function v(ce,te){if(!c)return null;for(;te!==null;)p(ce,te),te=te.sibling;return null}function w(ce,te){for(ce=new Map;te!==null;)te.key!==null?ce.set(te.key,te):ce.set(te.index,te),te=te.sibling;return ce}function C(ce,te){return ce=ts(ce,te),ce.index=0,ce.sibling=null,ce}function I(ce,te,fe){return ce.index=fe,c?(fe=ce.alternate,fe!==null?(fe=fe.index,fe<te?(ce.flags|=2,te):fe):(ce.flags|=2,te)):(ce.flags|=1048576,te)}function L(ce){return c&&ce.alternate===null&&(ce.flags|=2),ce}function K(ce,te,fe,Me){return te===null||te.tag!==6?(te=Xy(fe,ce.mode,Me),te.return=ce,te):(te=C(te,fe),te.return=ce,te)}function X(ce,te,fe,Me){var et=fe.type;return et===z?ke(ce,te,fe.props.children,Me,fe.key):te!==null&&(te.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===me&&Y0(et)===te.type)?(Me=C(te,fe.props),Me.ref=zd(ce,te,fe),Me.return=ce,Me):(Me=Fh(fe.type,fe.key,fe.props,null,ce.mode,Me),Me.ref=zd(ce,te,fe),Me.return=ce,Me)}function he(ce,te,fe,Me){return te===null||te.tag!==4||te.stateNode.containerInfo!==fe.containerInfo||te.stateNode.implementation!==fe.implementation?(te=Qy(fe,ce.mode,Me),te.return=ce,te):(te=C(te,fe.children||[]),te.return=ce,te)}function ke(ce,te,fe,Me,et){return te===null||te.tag!==7?(te=au(fe,ce.mode,Me,et),te.return=ce,te):(te=C(te,fe),te.return=ce,te)}function Ee(ce,te,fe){if(typeof te=="string"&&te!==""||typeof te=="number")return te=Xy(""+te,ce.mode,fe),te.return=ce,te;if(typeof te=="object"&&te!==null){switch(te.$$typeof){case M:return fe=Fh(te.type,te.key,te.props,null,ce.mode,fe),fe.ref=zd(ce,null,te),fe.return=ce,fe;case R:return te=Qy(te,ce.mode,fe),te.return=ce,te;case me:var Me=te._init;return Ee(ce,Me(te._payload),fe)}if(Gt(te)||le(te))return te=au(te,ce.mode,fe,null),te.return=ce,te;Gl(ce,te)}return null}function we(ce,te,fe,Me){var et=te!==null?te.key:null;if(typeof fe=="string"&&fe!==""||typeof fe=="number")return et!==null?null:K(ce,te,""+fe,Me);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case M:return fe.key===et?X(ce,te,fe,Me):null;case R:return fe.key===et?he(ce,te,fe,Me):null;case me:return et=fe._init,we(ce,te,et(fe._payload),Me)}if(Gt(fe)||le(fe))return et!==null?null:ke(ce,te,fe,Me,null);Gl(ce,fe)}return null}function Be(ce,te,fe,Me,et){if(typeof Me=="string"&&Me!==""||typeof Me=="number")return ce=ce.get(fe)||null,K(te,ce,""+Me,et);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case M:return ce=ce.get(Me.key===null?fe:Me.key)||null,X(te,ce,Me,et);case R:return ce=ce.get(Me.key===null?fe:Me.key)||null,he(te,ce,Me,et);case me:var dt=Me._init;return Be(ce,te,fe,dt(Me._payload),et)}if(Gt(Me)||le(Me))return ce=ce.get(fe)||null,ke(te,ce,Me,et,null);Gl(te,Me)}return null}function qe(ce,te,fe,Me){for(var et=null,dt=null,at=te,gt=te=0,Pr=null;at!==null&&gt<fe.length;gt++){at.index>gt?(Pr=at,at=null):Pr=at.sibling;var an=we(ce,at,fe[gt],Me);if(an===null){at===null&&(at=Pr);break}c&&at&&an.alternate===null&&p(ce,at),te=I(an,te,gt),dt===null?et=an:dt.sibling=an,dt=an,at=Pr}if(gt===fe.length)return v(ce,at),On&&Jl(ce,gt),et;if(at===null){for(;gt<fe.length;gt++)at=Ee(ce,fe[gt],Me),at!==null&&(te=I(at,te,gt),dt===null?et=at:dt.sibling=at,dt=at);return On&&Jl(ce,gt),et}for(at=w(ce,at);gt<fe.length;gt++)Pr=Be(at,ce,gt,fe[gt],Me),Pr!==null&&(c&&Pr.alternate!==null&&at.delete(Pr.key===null?gt:Pr.key),te=I(Pr,te,gt),dt===null?et=Pr:dt.sibling=Pr,dt=Pr);return c&&at.forEach(function(pl){return p(ce,pl)}),On&&Jl(ce,gt),et}function Je(ce,te,fe,Me){var et=le(fe);if(typeof et!="function")throw Error(n(150));if(fe=et.call(fe),fe==null)throw Error(n(151));for(var dt=et=null,at=te,gt=te=0,Pr=null,an=fe.next();at!==null&&!an.done;gt++,an=fe.next()){at.index>gt?(Pr=at,at=null):Pr=at.sibling;var pl=we(ce,at,an.value,Me);if(pl===null){at===null&&(at=Pr);break}c&&at&&pl.alternate===null&&p(ce,at),te=I(pl,te,gt),dt===null?et=pl:dt.sibling=pl,dt=pl,at=Pr}if(an.done)return v(ce,at),On&&Jl(ce,gt),et;if(at===null){for(;!an.done;gt++,an=fe.next())an=Ee(ce,an.value,Me),an!==null&&(te=I(an,te,gt),dt===null?et=an:dt.sibling=an,dt=an);return On&&Jl(ce,gt),et}for(at=w(ce,at);!an.done;gt++,an=fe.next())an=Be(at,ce,gt,an.value,Me),an!==null&&(c&&an.alternate!==null&&at.delete(an.key===null?gt:an.key),te=I(an,te,gt),dt===null?et=an:dt.sibling=an,dt=an);return c&&at.forEach(function(eC){return p(ce,eC)}),On&&Jl(ce,gt),et}function or(ce,te,fe,Me){if(typeof fe=="object"&&fe!==null&&fe.type===z&&fe.key===null&&(fe=fe.props.children),typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case M:e:{for(var et=fe.key,dt=te;dt!==null;){if(dt.key===et){if(et=fe.type,et===z){if(dt.tag===7){v(ce,dt.sibling),te=C(dt,fe.props.children),te.return=ce,ce=te;break e}}else if(dt.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===me&&Y0(et)===dt.type){v(ce,dt.sibling),te=C(dt,fe.props),te.ref=zd(ce,dt,fe),te.return=ce,ce=te;break e}v(ce,dt);break}else p(ce,dt);dt=dt.sibling}fe.type===z?(te=au(fe.props.children,ce.mode,Me,fe.key),te.return=ce,ce=te):(Me=Fh(fe.type,fe.key,fe.props,null,ce.mode,Me),Me.ref=zd(ce,te,fe),Me.return=ce,ce=Me)}return L(ce);case R:e:{for(dt=fe.key;te!==null;){if(te.key===dt)if(te.tag===4&&te.stateNode.containerInfo===fe.containerInfo&&te.stateNode.implementation===fe.implementation){v(ce,te.sibling),te=C(te,fe.children||[]),te.return=ce,ce=te;break e}else{v(ce,te);break}else p(ce,te);te=te.sibling}te=Qy(fe,ce.mode,Me),te.return=ce,ce=te}return L(ce);case me:return dt=fe._init,or(ce,te,dt(fe._payload),Me)}if(Gt(fe))return qe(ce,te,fe,Me);if(le(fe))return Je(ce,te,fe,Me);Gl(ce,fe)}return typeof fe=="string"&&fe!==""||typeof fe=="number"?(fe=""+fe,te!==null&&te.tag===6?(v(ce,te.sibling),te=C(te,fe),te.return=ce,ce=te):(v(ce,te),te=Xy(fe,ce.mode,Me),te.return=ce,ce=te),L(ce)):v(ce,te)}return or}var Xn=fy(!0),sh=fy(!1),Fd=Ti(null),qi=null,nl=null,fc=null;function la(){fc=nl=qi=null}function ah(c){var p=Fd.current;Mn(Fd),c._currentValue=p}function Dr(c,p,v){for(;c!==null;){var w=c.alternate;if((c.childLanes&p)!==p?(c.childLanes|=p,w!==null&&(w.childLanes|=p)):w!==null&&(w.childLanes&p)!==p&&(w.childLanes|=p),c===v)break;c=c.return}}function rl(c,p){qi=c,fc=nl=null,c=c.dependencies,c!==null&&c.firstContext!==null&&((c.lanes&p)!==0&&(di=!0),c.firstContext=null)}function vo(c){var p=c._currentValue;if(fc!==c)if(c={context:c,memoizedValue:p,next:null},nl===null){if(qi===null)throw Error(n(308));nl=c,qi.dependencies={lanes:0,firstContext:c}}else nl=nl.next=c;return p}var Yl=null;function py(c){Yl===null?Yl=[c]:Yl.push(c)}function lh(c,p,v,w){var C=p.interleaved;return C===null?(v.next=v,py(p)):(v.next=C.next,C.next=v),p.interleaved=v,ua(c,w)}function ua(c,p){c.lanes|=p;var v=c.alternate;for(v!==null&&(v.lanes|=p),v=c,c=c.return;c!==null;)c.childLanes|=p,v=c.alternate,v!==null&&(v.childLanes|=p),v=c,c=c.return;return v.tag===3?v.stateNode:null}var bo=!1;function uh(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X0(c,p){c=c.updateQueue,p.updateQueue===c&&(p.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function ca(c,p){return{eventTime:c,lane:p,tag:0,payload:null,callback:null,next:null}}function xo(c,p,v){var w=c.updateQueue;if(w===null)return null;if(w=w.shared,(nn&2)!==0){var C=w.pending;return C===null?p.next=p:(p.next=C.next,C.next=p),w.pending=p,ua(c,v)}return C=w.interleaved,C===null?(p.next=p,py(w)):(p.next=C.next,C.next=p),w.interleaved=p,ua(c,v)}function ch(c,p,v){if(p=p.updateQueue,p!==null&&(p=p.shared,(v&4194240)!==0)){var w=p.lanes;w&=c.pendingLanes,v|=w,p.lanes=v,Sd(c,v)}}function Q0(c,p){var v=c.updateQueue,w=c.alternate;if(w!==null&&(w=w.updateQueue,v===w)){var C=null,I=null;if(v=v.firstBaseUpdate,v!==null){do{var L={eventTime:v.eventTime,lane:v.lane,tag:v.tag,payload:v.payload,callback:v.callback,next:null};I===null?C=I=L:I=I.next=L,v=v.next}while(v!==null);I===null?C=I=p:I=I.next=p}else C=I=p;v={baseState:w.baseState,firstBaseUpdate:C,lastBaseUpdate:I,shared:w.shared,effects:w.effects},c.updateQueue=v;return}c=v.lastBaseUpdate,c===null?v.firstBaseUpdate=p:c.next=p,v.lastBaseUpdate=p}function pc(c,p,v,w){var C=c.updateQueue;bo=!1;var I=C.firstBaseUpdate,L=C.lastBaseUpdate,K=C.shared.pending;if(K!==null){C.shared.pending=null;var X=K,he=X.next;X.next=null,L===null?I=he:L.next=he,L=X;var ke=c.alternate;ke!==null&&(ke=ke.updateQueue,K=ke.lastBaseUpdate,K!==L&&(K===null?ke.firstBaseUpdate=he:K.next=he,ke.lastBaseUpdate=X))}if(I!==null){var Ee=C.baseState;L=0,ke=he=X=null,K=I;do{var we=K.lane,Be=K.eventTime;if((w&we)===we){ke!==null&&(ke=ke.next={eventTime:Be,lane:0,tag:K.tag,payload:K.payload,callback:K.callback,next:null});e:{var qe=c,Je=K;switch(we=p,Be=v,Je.tag){case 1:if(qe=Je.payload,typeof qe=="function"){Ee=qe.call(Be,Ee,we);break e}Ee=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=Je.payload,we=typeof qe=="function"?qe.call(Be,Ee,we):qe,we==null)break e;Ee=B({},Ee,we);break e;case 2:bo=!0}}K.callback!==null&&K.lane!==0&&(c.flags|=64,we=C.effects,we===null?C.effects=[K]:we.push(K))}else Be={eventTime:Be,lane:we,tag:K.tag,payload:K.payload,callback:K.callback,next:null},ke===null?(he=ke=Be,X=Ee):ke=ke.next=Be,L|=we;if(K=K.next,K===null){if(K=C.shared.pending,K===null)break;we=K,K=we.next,we.next=null,C.lastBaseUpdate=we,C.shared.pending=null}}while(!0);if(ke===null&&(X=Ee),C.baseState=X,C.firstBaseUpdate=he,C.lastBaseUpdate=ke,p=C.shared.interleaved,p!==null){C=p;do L|=C.lane,C=C.next;while(C!==p)}else I===null&&(C.shared.lanes=0);ll|=L,c.lanes=L,c.memoizedState=Ee}}function hy(c,p,v){if(c=p.effects,p.effects=null,c!==null)for(p=0;p<c.length;p++){var w=c[p],C=w.callback;if(C!==null){if(w.callback=null,w=v,typeof C!="function")throw Error(n(191,C));C.call(w)}}}var Vd={},Cs=Ti(Vd),Bd=Ti(Vd),hc=Ti(Vd);function da(c){if(c===Vd)throw Error(n(174));return c}function my(c,p){switch($n(hc,p),$n(Bd,c),$n(Cs,Vd),c=p.nodeType,c){case 9:case 11:p=(p=p.documentElement)?p.namespaceURI:_e(null,"");break;default:c=c===8?p.parentNode:p,p=c.namespaceURI||null,c=c.tagName,p=_e(p,c)}Mn(Cs),$n(Cs,p)}function il(){Mn(Cs),Mn(Bd),Mn(hc)}function gy(c){da(hc.current);var p=da(Cs.current),v=_e(p,c.type);p!==v&&($n(Bd,c),$n(Cs,v))}function dh(c){Bd.current===c&&(Mn(Cs),Mn(Bd))}var Vn=Ti(0);function Xl(c){for(var p=c;p!==null;){if(p.tag===13){var v=p.memoizedState;if(v!==null&&(v=v.dehydrated,v===null||v.data==="$?"||v.data==="$!"))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var yy=[];function fh(){for(var c=0;c<yy.length;c++)yy[c]._workInProgressVersionPrimary=null;yy.length=0}var Ud=P.ReactCurrentDispatcher,vy=P.ReactCurrentBatchConfig,ol=0,qn=null,ir=null,br=null,mc=!1,Zd=!1,Ql=0,Ot=0;function Xr(){throw Error(n(321))}function by(c,p){if(p===null)return!1;for(var v=0;v<p.length&&v<c.length;v++)if(!pe(c[v],p[v]))return!1;return!0}function eu(c,p,v,w,C,I){if(ol=I,qn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Ud.current=c===null||c.memoizedState===null?RT:bh,c=v(w,C),Zd){I=0;do{if(Zd=!1,Ql=0,25<=I)throw Error(n(301));I+=1,br=ir=null,p.updateQueue=null,Ud.current=bc,c=v(w,C)}while(Zd)}if(Ud.current=vh,p=ir!==null&&ir.next!==null,ol=0,br=ir=qn=null,mc=!1,p)throw Error(n(300));return c}function ph(){var c=Ql!==0;return Ql=0,c}function Es(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?qn.memoizedState=br=c:br=br.next=c,br}function wo(){if(ir===null){var c=qn.alternate;c=c!==null?c.memoizedState:null}else c=ir.next;var p=br===null?qn.memoizedState:br.next;if(p!==null)br=p,ir=c;else{if(c===null)throw Error(n(310));ir=c,c={memoizedState:ir.memoizedState,baseState:ir.baseState,baseQueue:ir.baseQueue,queue:ir.queue,next:null},br===null?qn.memoizedState=br=c:br=br.next=c}return br}function Qr(c,p){return typeof p=="function"?p(c):p}function xy(c){var p=wo(),v=p.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=c;var w=ir,C=w.baseQueue,I=v.pending;if(I!==null){if(C!==null){var L=C.next;C.next=I.next,I.next=L}w.baseQueue=C=I,v.pending=null}if(C!==null){I=C.next,w=w.baseState;var K=L=null,X=null,he=I;do{var ke=he.lane;if((ol&ke)===ke)X!==null&&(X=X.next={lane:0,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),w=he.hasEagerState?he.eagerState:c(w,he.action);else{var Ee={lane:ke,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null};X===null?(K=X=Ee,L=w):X=X.next=Ee,qn.lanes|=ke,ll|=ke}he=he.next}while(he!==null&&he!==I);X===null?L=w:X.next=K,pe(w,p.memoizedState)||(di=!0),p.memoizedState=w,p.baseState=L,p.baseQueue=X,v.lastRenderedState=w}if(c=v.interleaved,c!==null){C=c;do I=C.lane,qn.lanes|=I,ll|=I,C=C.next;while(C!==c)}else C===null&&(v.lanes=0);return[p.memoizedState,v.dispatch]}function gc(c){var p=wo(),v=p.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=c;var w=v.dispatch,C=v.pending,I=p.memoizedState;if(C!==null){v.pending=null;var L=C=C.next;do I=c(I,L.action),L=L.next;while(L!==C);pe(I,p.memoizedState)||(di=!0),p.memoizedState=I,p.baseQueue===null&&(p.baseState=I),v.lastRenderedState=I}return[I,w]}function hh(){}function wy(c,p){var v=qn,w=wo(),C=p(),I=!pe(w.memoizedState,C);if(I&&(w.memoizedState=C,di=!0),w=w.queue,Is(fa.bind(null,v,w,c),[c]),w.getSnapshot!==p||I||br!==null&&br.memoizedState.tag&1){if(v.flags|=2048,yc(9,Ai.bind(null,v,w,C,p),void 0,null),$r===null)throw Error(n(349));(ol&30)!==0||Sy(v,p,C)}return C}function Sy(c,p,v){c.flags|=16384,c={getSnapshot:p,value:v},p=qn.updateQueue,p===null?(p={lastEffect:null,stores:null},qn.updateQueue=p,p.stores=[c]):(v=p.stores,v===null?p.stores=[c]:v.push(c))}function Ai(c,p,v,w){p.value=v,p.getSnapshot=w,mh(p)&&ky(c)}function fa(c,p,v){return v(function(){mh(p)&&ky(c)})}function mh(c){var p=c.getSnapshot;c=c.value;try{var v=p();return!pe(c,v)}catch{return!0}}function ky(c){var p=ua(c,1);p!==null&&es(p,c,1,-1)}function Wd(c){var p=Es();return typeof c=="function"&&(c=c()),p.memoizedState=p.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qr,lastRenderedState:c},p.queue=c,c=c.dispatch=ow.bind(null,qn,c),[p.memoizedState,c]}function yc(c,p,v,w){return c={tag:c,create:p,destroy:v,deps:w,next:null},p=qn.updateQueue,p===null?(p={lastEffect:null,stores:null},qn.updateQueue=p,p.lastEffect=c.next=c):(v=p.lastEffect,v===null?p.lastEffect=c.next=c:(w=v.next,v.next=c,c.next=w,p.lastEffect=c)),c}function gh(){return wo().memoizedState}function Hd(c,p,v,w){var C=Es();qn.flags|=c,C.memoizedState=yc(1|p,v,void 0,w===void 0?null:w)}function vc(c,p,v,w){var C=wo();w=w===void 0?null:w;var I=void 0;if(ir!==null){var L=ir.memoizedState;if(I=L.destroy,w!==null&&by(w,L.deps)){C.memoizedState=yc(p,v,I,w);return}}qn.flags|=c,C.memoizedState=yc(1|p,v,I,w)}function yh(c,p){return Hd(8390656,8,c,p)}function Is(c,p){return vc(2048,8,c,p)}function ew(c,p){return vc(4,2,c,p)}function pa(c,p){return vc(4,4,c,p)}function _y(c,p){if(typeof p=="function")return c=c(),p(c),function(){p(null)};if(p!=null)return c=c(),p.current=c,function(){p.current=null}}function Ty(c,p,v){return v=v!=null?v.concat([c]):null,vc(4,4,_y.bind(null,p,c),v)}function qd(){}function tw(c,p){var v=wo();p=p===void 0?null:p;var w=v.memoizedState;return w!==null&&p!==null&&by(p,w[1])?w[0]:(v.memoizedState=[c,p],c)}function nw(c,p){var v=wo();p=p===void 0?null:p;var w=v.memoizedState;return w!==null&&p!==null&&by(p,w[1])?w[0]:(c=c(),v.memoizedState=[c,p],c)}function rw(c,p,v){return(ol&21)===0?(c.baseState&&(c.baseState=!1,di=!0),c.memoizedState=v):(pe(v,p)||(v=Fg(),qn.lanes|=v,ll|=v,c.baseState=!0),p)}function iw(c,p){var v=fn;fn=v!==0&&4>v?v:4,c(!0);var w=vy.transition;vy.transition={};try{c(!1),p()}finally{fn=v,vy.transition=w}}function Cy(){return wo().memoizedState}function NT(c,p,v){var w=dl(c);if(v={lane:w,action:v,hasEagerState:!1,eagerState:null,next:null},Ey(c))ci(p,v);else if(v=lh(c,p,v,w),v!==null){var C=hi();es(v,c,w,C),Ko(v,p,w)}}function ow(c,p,v){var w=dl(c),C={lane:w,action:v,hasEagerState:!1,eagerState:null,next:null};if(Ey(c))ci(p,C);else{var I=c.alternate;if(c.lanes===0&&(I===null||I.lanes===0)&&(I=p.lastRenderedReducer,I!==null))try{var L=p.lastRenderedState,K=I(L,v);if(C.hasEagerState=!0,C.eagerState=K,pe(K,L)){var X=p.interleaved;X===null?(C.next=C,py(p)):(C.next=X.next,X.next=C),p.interleaved=C;return}}catch{}finally{}v=lh(c,p,C,w),v!==null&&(C=hi(),es(v,c,w,C),Ko(v,p,w))}}function Ey(c){var p=c.alternate;return c===qn||p!==null&&p===qn}function ci(c,p){Zd=mc=!0;var v=c.pending;v===null?p.next=p:(p.next=v.next,v.next=p),c.pending=p}function Ko(c,p,v){if((v&4194240)!==0){var w=p.lanes;w&=c.pendingLanes,v|=w,p.lanes=v,Sd(c,v)}}var vh={readContext:vo,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useInsertionEffect:Xr,useLayoutEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useMutableSource:Xr,useSyncExternalStore:Xr,useId:Xr,unstable_isNewReconciler:!1},RT={readContext:vo,useCallback:function(c,p){return Es().memoizedState=[c,p===void 0?null:p],c},useContext:vo,useEffect:yh,useImperativeHandle:function(c,p,v){return v=v!=null?v.concat([c]):null,Hd(4194308,4,_y.bind(null,p,c),v)},useLayoutEffect:function(c,p){return Hd(4194308,4,c,p)},useInsertionEffect:function(c,p){return Hd(4,2,c,p)},useMemo:function(c,p){var v=Es();return p=p===void 0?null:p,c=c(),v.memoizedState=[c,p],c},useReducer:function(c,p,v){var w=Es();return p=v!==void 0?v(p):p,w.memoizedState=w.baseState=p,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:p},w.queue=c,c=c.dispatch=NT.bind(null,qn,c),[w.memoizedState,c]},useRef:function(c){var p=Es();return c={current:c},p.memoizedState=c},useState:Wd,useDebugValue:qd,useDeferredValue:function(c){return Es().memoizedState=c},useTransition:function(){var c=Wd(!1),p=c[0];return c=iw.bind(null,c[1]),Es().memoizedState=c,[p,c]},useMutableSource:function(){},useSyncExternalStore:function(c,p,v){var w=qn,C=Es();if(On){if(v===void 0)throw Error(n(407));v=v()}else{if(v=p(),$r===null)throw Error(n(349));(ol&30)!==0||Sy(w,p,v)}C.memoizedState=v;var I={value:v,getSnapshot:p};return C.queue=I,yh(fa.bind(null,w,I,c),[c]),w.flags|=2048,yc(9,Ai.bind(null,w,I,v,p),void 0,null),v},useId:function(){var c=Es(),p=$r.identifierPrefix;if(On){var v=Ss,w=ws;v=(w&~(1<<32-Ho(w)-1)).toString(32)+v,p=":"+p+"R"+v,v=Ql++,0<v&&(p+="H"+v.toString(32)),p+=":"}else v=Ot++,p=":"+p+"r"+v.toString(32)+":";return c.memoizedState=p},unstable_isNewReconciler:!1},bh={readContext:vo,useCallback:tw,useContext:vo,useEffect:Is,useImperativeHandle:Ty,useInsertionEffect:ew,useLayoutEffect:pa,useMemo:nw,useReducer:xy,useRef:gh,useState:function(){return xy(Qr)},useDebugValue:qd,useDeferredValue:function(c){var p=wo();return rw(p,ir.memoizedState,c)},useTransition:function(){var c=xy(Qr)[0],p=wo().memoizedState;return[c,p]},useMutableSource:hh,useSyncExternalStore:wy,useId:Cy,unstable_isNewReconciler:!1},bc={readContext:vo,useCallback:tw,useContext:vo,useEffect:Is,useImperativeHandle:Ty,useInsertionEffect:ew,useLayoutEffect:pa,useMemo:nw,useReducer:gc,useRef:gh,useState:function(){return gc(Qr)},useDebugValue:qd,useDeferredValue:function(c){var p=wo();return ir===null?p.memoizedState=c:rw(p,ir.memoizedState,c)},useTransition:function(){var c=gc(Qr)[0],p=wo().memoizedState;return[c,p]},useMutableSource:hh,useSyncExternalStore:wy,useId:Cy,unstable_isNewReconciler:!1};function So(c,p){if(c&&c.defaultProps){p=B({},p),c=c.defaultProps;for(var v in c)p[v]===void 0&&(p[v]=c[v]);return p}return p}function xh(c,p,v,w){p=c.memoizedState,v=v(w,p),v=v==null?p:B({},p,v),c.memoizedState=v,c.lanes===0&&(c.updateQueue.baseState=v)}var wh={isMounted:function(c){return(c=c._reactInternals)?jl(c)===c:!1},enqueueSetState:function(c,p,v){c=c._reactInternals;var w=hi(),C=dl(c),I=ca(w,C);I.payload=p,v!=null&&(I.callback=v),p=xo(c,I,C),p!==null&&(es(p,c,C,w),ch(p,c,C))},enqueueReplaceState:function(c,p,v){c=c._reactInternals;var w=hi(),C=dl(c),I=ca(w,C);I.tag=1,I.payload=p,v!=null&&(I.callback=v),p=xo(c,I,C),p!==null&&(es(p,c,C,w),ch(p,c,C))},enqueueForceUpdate:function(c,p){c=c._reactInternals;var v=hi(),w=dl(c),C=ca(v,w);C.tag=2,p!=null&&(C.callback=p),p=xo(c,C,w),p!==null&&(es(p,c,w,v),ch(p,c,w))}};function Iy(c,p,v,w,C,I,L){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(w,I,L):p.prototype&&p.prototype.isPureReactComponent?!Ve(v,w)||!Ve(C,I):!0}function tu(c,p,v){var w=!1,C=el,I=p.contextType;return typeof I=="object"&&I!==null?I=vo(I):(C=Ei(p)?ui:Kr.current,w=p.contextTypes,I=(w=w!=null)?cc(c,C):el),p=new p(v,I),c.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=wh,c.stateNode=p,p._reactInternals=c,w&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=C,c.__reactInternalMemoizedMaskedChildContext=I),p}function xc(c,p,v,w){c=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(v,w),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(v,w),p.state!==c&&wh.enqueueReplaceState(p,p.state,null)}function Ay(c,p,v,w){var C=c.stateNode;C.props=v,C.state=c.memoizedState,C.refs={},uh(c);var I=p.contextType;typeof I=="object"&&I!==null?C.context=vo(I):(I=Ei(p)?ui:Kr.current,C.context=cc(c,I)),C.state=c.memoizedState,I=p.getDerivedStateFromProps,typeof I=="function"&&(xh(c,p,I,v),C.state=c.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(p=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),p!==C.state&&wh.enqueueReplaceState(C,C.state,null),pc(c,v,C,w),C.state=c.memoizedState),typeof C.componentDidMount=="function"&&(c.flags|=4194308)}function nu(c,p){try{var v="",w=p;do v+=Ce(w),w=w.return;while(w);var C=v}catch(I){C=`
Error generating stack: `+I.message+`
`+I.stack}return{value:c,source:p,stack:C,digest:null}}function Sh(c,p,v){return{value:c,source:null,stack:v??null,digest:p??null}}function wc(c,p){try{console.error(p.value)}catch(v){setTimeout(function(){throw v})}}var sw=typeof WeakMap=="function"?WeakMap:Map;function Jd(c,p,v){v=ca(-1,v),v.tag=3,v.payload={element:null};var w=p.value;return v.callback=function(){Oh||(Oh=!0,Wy=w),wc(c,p)},v}function kh(c,p,v){v=ca(-1,v),v.tag=3;var w=c.type.getDerivedStateFromError;if(typeof w=="function"){var C=p.value;v.payload=function(){return w(C)},v.callback=function(){wc(c,p)}}var I=c.stateNode;return I!==null&&typeof I.componentDidCatch=="function"&&(v.callback=function(){wc(c,p),typeof w!="function"&&(ul===null?ul=new Set([this]):ul.add(this));var L=p.stack;this.componentDidCatch(p.value,{componentStack:L!==null?L:""})}),v}function Kd(c,p,v){var w=c.pingCache;if(w===null){w=c.pingCache=new sw;var C=new Set;w.set(p,C)}else C=w.get(p),C===void 0&&(C=new Set,w.set(p,C));C.has(v)||(C.add(v),c=UT.bind(null,c,p,v),p.then(c,c))}function aw(c){do{var p;if((p=c.tag===13)&&(p=c.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return c;c=c.return}while(c!==null);return null}function $y(c,p,v,w,C){return(c.mode&1)===0?(c===p?c.flags|=65536:(c.flags|=128,v.flags|=131072,v.flags&=-52805,v.tag===1&&(v.alternate===null?v.tag=17:(p=ca(-1,1),p.tag=2,xo(v,p,1))),v.lanes|=1),c):(c.flags|=65536,c.lanes=C,c)}var _h=P.ReactCurrentOwner,di=!1;function jr(c,p,v,w){p.child=c===null?sh(p,null,v,w):Xn(p,c.child,v,w)}function lw(c,p,v,w,C){v=v.render;var I=p.ref;return rl(p,C),w=eu(c,p,v,w,I,C),v=ph(),c!==null&&!di?(p.updateQueue=c.updateQueue,p.flags&=-2053,c.lanes&=~C,Go(c,p,C)):(On&&v&&jd(p),p.flags|=1,jr(c,p,w,C),p.child)}function Py(c,p,v,w,C){if(c===null){var I=v.type;return typeof I=="function"&&!zh(I)&&I.defaultProps===void 0&&v.compare===null&&v.defaultProps===void 0?(p.tag=15,p.type=I,As(c,p,I,w,C)):(c=Fh(v.type,null,w,p,p.mode,C),c.ref=p.ref,c.return=p,p.child=c)}if(I=c.child,(c.lanes&C)===0){var L=I.memoizedProps;if(v=v.compare,v=v!==null?v:Ve,v(L,w)&&c.ref===p.ref)return Go(c,p,C)}return p.flags|=1,c=ts(I,w),c.ref=p.ref,c.return=p,p.child=c}function As(c,p,v,w,C){if(c!==null){var I=c.memoizedProps;if(Ve(I,w)&&c.ref===p.ref)if(di=!1,p.pendingProps=w=I,(c.lanes&C)!==0)(c.flags&131072)!==0&&(di=!0);else return p.lanes=c.lanes,Go(c,p,C)}return Ny(c,p,v,w,C)}function My(c,p,v){var w=p.pendingProps,C=w.children,I=c!==null?c.memoizedState:null;if(w.mode==="hidden")if((p.mode&1)===0)p.memoizedState={baseLanes:0,cachePool:null,transitions:null},$n(Tc,Ki),Ki|=v;else{if((v&1073741824)===0)return c=I!==null?I.baseLanes|v:v,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:c,cachePool:null,transitions:null},p.updateQueue=null,$n(Tc,Ki),Ki|=c,null;p.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=I!==null?I.baseLanes:v,$n(Tc,Ki),Ki|=w}else I!==null?(w=I.baseLanes|v,p.memoizedState=null):w=v,$n(Tc,Ki),Ki|=w;return jr(c,p,C,v),p.child}function Oy(c,p){var v=p.ref;(c===null&&v!==null||c!==null&&c.ref!==v)&&(p.flags|=512,p.flags|=2097152)}function Ny(c,p,v,w,C){var I=Ei(v)?ui:Kr.current;return I=cc(p,I),rl(p,C),v=eu(c,p,v,w,I,C),w=ph(),c!==null&&!di?(p.updateQueue=c.updateQueue,p.flags&=-2053,c.lanes&=~C,Go(c,p,C)):(On&&w&&jd(p),p.flags|=1,jr(c,p,v,C),p.child)}function Ry(c,p,v,w,C){if(Ei(v)){var I=!0;mo(p)}else I=!1;if(rl(p,C),p.stateNode===null)Ch(c,p),tu(p,v,w),Ay(p,v,w,C),w=!0;else if(c===null){var L=p.stateNode,K=p.memoizedProps;L.props=K;var X=L.context,he=v.contextType;typeof he=="object"&&he!==null?he=vo(he):(he=Ei(v)?ui:Kr.current,he=cc(p,he));var ke=v.getDerivedStateFromProps,Ee=typeof ke=="function"||typeof L.getSnapshotBeforeUpdate=="function";Ee||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(K!==w||X!==he)&&xc(p,L,w,he),bo=!1;var we=p.memoizedState;L.state=we,pc(p,w,L,C),X=p.memoizedState,K!==w||we!==X||Ci.current||bo?(typeof ke=="function"&&(xh(p,v,ke,w),X=p.memoizedState),(K=bo||Iy(p,v,K,w,we,X,he))?(Ee||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(p.flags|=4194308)):(typeof L.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=w,p.memoizedState=X),L.props=w,L.state=X,L.context=he,w=K):(typeof L.componentDidMount=="function"&&(p.flags|=4194308),w=!1)}else{L=p.stateNode,X0(c,p),K=p.memoizedProps,he=p.type===p.elementType?K:So(p.type,K),L.props=he,Ee=p.pendingProps,we=L.context,X=v.contextType,typeof X=="object"&&X!==null?X=vo(X):(X=Ei(v)?ui:Kr.current,X=cc(p,X));var Be=v.getDerivedStateFromProps;(ke=typeof Be=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(K!==Ee||we!==X)&&xc(p,L,w,X),bo=!1,we=p.memoizedState,L.state=we,pc(p,w,L,C);var qe=p.memoizedState;K!==Ee||we!==qe||Ci.current||bo?(typeof Be=="function"&&(xh(p,v,Be,w),qe=p.memoizedState),(he=bo||Iy(p,v,he,w,we,qe,X)||!1)?(ke||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(w,qe,X),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(w,qe,X)),typeof L.componentDidUpdate=="function"&&(p.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof L.componentDidUpdate!="function"||K===c.memoizedProps&&we===c.memoizedState||(p.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&we===c.memoizedState||(p.flags|=1024),p.memoizedProps=w,p.memoizedState=qe),L.props=w,L.state=qe,L.context=X,w=he):(typeof L.componentDidUpdate!="function"||K===c.memoizedProps&&we===c.memoizedState||(p.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||K===c.memoizedProps&&we===c.memoizedState||(p.flags|=1024),w=!1)}return Dy(c,p,v,w,I,C)}function Dy(c,p,v,w,C,I){Oy(c,p);var L=(p.flags&128)!==0;if(!w&&!L)return C&&H0(p,v,!1),Go(c,p,I);w=p.stateNode,_h.current=p;var K=L&&typeof v.getDerivedStateFromError!="function"?null:w.render();return p.flags|=1,c!==null&&L?(p.child=Xn(p,c.child,null,I),p.child=Xn(p,null,K,I)):jr(c,p,K,I),p.memoizedState=w.state,C&&H0(p,v,!0),p.child}function uw(c){var p=c.stateNode;p.pendingContext?Z0(c,p.pendingContext,p.pendingContext!==p.context):p.context&&Z0(c,p.context,!1),my(c,p.containerInfo)}function $s(c,p,v,w,C){return _s(),Ts(C),p.flags|=256,jr(c,p,v,w),p.child}var Gd={dehydrated:null,treeContext:null,retryLane:0};function Yd(c){return{baseLanes:c,cachePool:null,transitions:null}}function Th(c,p,v){var w=p.pendingProps,C=Vn.current,I=!1,L=(p.flags&128)!==0,K;if((K=L)||(K=c!==null&&c.memoizedState===null?!1:(C&2)!==0),K?(I=!0,p.flags&=-129):(c===null||c.memoizedState!==null)&&(C|=1),$n(Vn,C&1),c===null)return Ii(p),c=p.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?((p.mode&1)===0?p.lanes=1:c.data==="$!"?p.lanes=8:p.lanes=1073741824,null):(L=w.children,c=w.fallback,I?(w=p.mode,I=p.child,L={mode:"hidden",children:L},(w&1)===0&&I!==null?(I.childLanes=0,I.pendingProps=L):I=Vh(L,w,0,null),c=au(c,w,v,null),I.return=p,c.return=p,I.sibling=c,p.child=I,p.child.memoizedState=Yd(v),p.memoizedState=Gd,c):Sc(p,L));if(C=c.memoizedState,C!==null&&(K=C.dehydrated,K!==null))return ft(c,p,L,w,K,C,v);if(I){I=w.fallback,L=p.mode,C=c.child,K=C.sibling;var X={mode:"hidden",children:w.children};return(L&1)===0&&p.child!==C?(w=p.child,w.childLanes=0,w.pendingProps=X,p.deletions=null):(w=ts(C,X),w.subtreeFlags=C.subtreeFlags&14680064),K!==null?I=ts(K,I):(I=au(I,L,v,null),I.flags|=2),I.return=p,w.return=p,w.sibling=I,p.child=w,w=I,I=p.child,L=c.child.memoizedState,L=L===null?Yd(v):{baseLanes:L.baseLanes|v,cachePool:null,transitions:L.transitions},I.memoizedState=L,I.childLanes=c.childLanes&~v,p.memoizedState=Gd,w}return I=c.child,c=I.sibling,w=ts(I,{mode:"visible",children:w.children}),(p.mode&1)===0&&(w.lanes=v),w.return=p,w.sibling=null,c!==null&&(v=p.deletions,v===null?(p.deletions=[c],p.flags|=16):v.push(c)),p.child=w,p.memoizedState=null,w}function Sc(c,p){return p=Vh({mode:"visible",children:p},c.mode,0,null),p.return=c,c.child=p}function ha(c,p,v,w){return w!==null&&Ts(w),Xn(p,c.child,null,v),c=Sc(p,p.pendingProps.children),c.flags|=2,p.memoizedState=null,c}function ft(c,p,v,w,C,I,L){if(v)return p.flags&256?(p.flags&=-257,w=Sh(Error(n(422))),ha(c,p,L,w)):p.memoizedState!==null?(p.child=c.child,p.flags|=128,null):(I=w.fallback,C=p.mode,w=Vh({mode:"visible",children:w.children},C,0,null),I=au(I,C,L,null),I.flags|=2,w.return=p,I.return=p,w.sibling=I,p.child=w,(p.mode&1)!==0&&Xn(p,c.child,null,L),p.child.memoizedState=Yd(L),p.memoizedState=Gd,I);if((p.mode&1)===0)return ha(c,p,L,null);if(C.data==="$!"){if(w=C.nextSibling&&C.nextSibling.dataset,w)var K=w.dgst;return w=K,I=Error(n(419)),w=Sh(I,w,void 0),ha(c,p,L,w)}if(K=(L&c.childLanes)!==0,di||K){if(w=$r,w!==null){switch(L&-L){case 4:C=2;break;case 16:C=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:C=32;break;case 536870912:C=268435456;break;default:C=0}C=(C&(w.suspendedLanes|L))!==0?0:C,C!==0&&C!==I.retryLane&&(I.retryLane=C,ua(c,C),es(w,c,C,-1))}return Yy(),w=Sh(Error(n(421))),ha(c,p,L,w)}return C.data==="$?"?(p.flags|=128,p.child=c.child,p=ZT.bind(null,c),C._reactRetry=p,null):(c=I.treeContext,Hi=Xa(C.nextSibling),Yr=p,On=!0,Jo=null,c!==null&&(go[yo++]=ws,go[yo++]=Ss,go[yo++]=ql,ws=c.id,Ss=c.overflow,ql=p),p=Sc(p,w.children),p.flags|=4096,p)}function Xd(c,p,v){c.lanes|=p;var w=c.alternate;w!==null&&(w.lanes|=p),Dr(c.return,p,v)}function Qd(c,p,v,w,C){var I=c.memoizedState;I===null?c.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:w,tail:v,tailMode:C}:(I.isBackwards=p,I.rendering=null,I.renderingStartTime=0,I.last=w,I.tail=v,I.tailMode=C)}function sl(c,p,v){var w=p.pendingProps,C=w.revealOrder,I=w.tail;if(jr(c,p,w.children,v),w=Vn.current,(w&2)!==0)w=w&1|2,p.flags|=128;else{if(c!==null&&(c.flags&128)!==0)e:for(c=p.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Xd(c,v,p);else if(c.tag===19)Xd(c,v,p);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===p)break e;for(;c.sibling===null;){if(c.return===null||c.return===p)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}w&=1}if($n(Vn,w),(p.mode&1)===0)p.memoizedState=null;else switch(C){case"forwards":for(v=p.child,C=null;v!==null;)c=v.alternate,c!==null&&Xl(c)===null&&(C=v),v=v.sibling;v=C,v===null?(C=p.child,p.child=null):(C=v.sibling,v.sibling=null),Qd(p,!1,C,v,I);break;case"backwards":for(v=null,C=p.child,p.child=null;C!==null;){if(c=C.alternate,c!==null&&Xl(c)===null){p.child=C;break}c=C.sibling,C.sibling=v,v=C,C=c}Qd(p,!0,v,null,I);break;case"together":Qd(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function Ch(c,p){(p.mode&1)===0&&c!==null&&(c.alternate=null,p.alternate=null,p.flags|=2)}function Go(c,p,v){if(c!==null&&(p.dependencies=c.dependencies),ll|=p.lanes,(v&p.childLanes)===0)return null;if(c!==null&&p.child!==c.child)throw Error(n(153));if(p.child!==null){for(c=p.child,v=ts(c,c.pendingProps),p.child=v,v.return=p;c.sibling!==null;)c=c.sibling,v=v.sibling=ts(c,c.pendingProps),v.return=p;v.sibling=null}return p.child}function cw(c,p,v){switch(p.tag){case 3:uw(p),_s();break;case 5:gy(p);break;case 1:Ei(p.type)&&mo(p);break;case 4:my(p,p.stateNode.containerInfo);break;case 10:var w=p.type._context,C=p.memoizedProps.value;$n(Fd,w._currentValue),w._currentValue=C;break;case 13:if(w=p.memoizedState,w!==null)return w.dehydrated!==null?($n(Vn,Vn.current&1),p.flags|=128,null):(v&p.child.childLanes)!==0?Th(c,p,v):($n(Vn,Vn.current&1),c=Go(c,p,v),c!==null?c.sibling:null);$n(Vn,Vn.current&1);break;case 19:if(w=(v&p.childLanes)!==0,(c.flags&128)!==0){if(w)return sl(c,p,v);p.flags|=128}if(C=p.memoizedState,C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),$n(Vn,Vn.current),w)break;return null;case 22:case 23:return p.lanes=0,My(c,p,v)}return Go(c,p,v)}var Lr,jy,dw,Ly;Lr=function(c,p){for(var v=p.child;v!==null;){if(v.tag===5||v.tag===6)c.appendChild(v.stateNode);else if(v.tag!==4&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===p)break;for(;v.sibling===null;){if(v.return===null||v.return===p)return;v=v.return}v.sibling.return=v.return,v=v.sibling}},jy=function(){},dw=function(c,p,v,w){var C=c.memoizedProps;if(C!==w){c=p.stateNode,da(Cs.current);var I=null;switch(v){case"input":C=kt(c,C),w=kt(c,w),I=[];break;case"select":C=B({},C,{value:void 0}),w=B({},w,{value:void 0}),I=[];break;case"textarea":C=Ht(c,C),w=Ht(c,w),I=[];break;default:typeof C.onClick!="function"&&typeof w.onClick=="function"&&(c.onclick=Yp)}Yn(v,w);var L;v=null;for(he in C)if(!w.hasOwnProperty(he)&&C.hasOwnProperty(he)&&C[he]!=null)if(he==="style"){var K=C[he];for(L in K)K.hasOwnProperty(L)&&(v||(v={}),v[L]="")}else he!=="dangerouslySetInnerHTML"&&he!=="children"&&he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&he!=="autoFocus"&&(i.hasOwnProperty(he)?I||(I=[]):(I=I||[]).push(he,null));for(he in w){var X=w[he];if(K=C?.[he],w.hasOwnProperty(he)&&X!==K&&(X!=null||K!=null))if(he==="style")if(K){for(L in K)!K.hasOwnProperty(L)||X&&X.hasOwnProperty(L)||(v||(v={}),v[L]="");for(L in X)X.hasOwnProperty(L)&&K[L]!==X[L]&&(v||(v={}),v[L]=X[L])}else v||(I||(I=[]),I.push(he,v)),v=X;else he==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,K=K?K.__html:void 0,X!=null&&K!==X&&(I=I||[]).push(he,X)):he==="children"?typeof X!="string"&&typeof X!="number"||(I=I||[]).push(he,""+X):he!=="suppressContentEditableWarning"&&he!=="suppressHydrationWarning"&&(i.hasOwnProperty(he)?(X!=null&&he==="onScroll"&&Pn("scroll",c),I||K===X||(I=[])):(I=I||[]).push(he,X))}v&&(I=I||[]).push("style",v);var he=I;(p.updateQueue=he)&&(p.flags|=4)}},Ly=function(c,p,v,w){v!==w&&(p.flags|=4)};function ef(c,p){if(!On)switch(c.tailMode){case"hidden":p=c.tail;for(var v=null;p!==null;)p.alternate!==null&&(v=p),p=p.sibling;v===null?c.tail=null:v.sibling=null;break;case"collapsed":v=c.tail;for(var w=null;v!==null;)v.alternate!==null&&(w=v),v=v.sibling;w===null?p||c.tail===null?c.tail=null:c.tail.sibling=null:w.sibling=null}}function zr(c){var p=c.alternate!==null&&c.alternate.child===c.child,v=0,w=0;if(p)for(var C=c.child;C!==null;)v|=C.lanes|C.childLanes,w|=C.subtreeFlags&14680064,w|=C.flags&14680064,C.return=c,C=C.sibling;else for(C=c.child;C!==null;)v|=C.lanes|C.childLanes,w|=C.subtreeFlags,w|=C.flags,C.return=c,C=C.sibling;return c.subtreeFlags|=w,c.childLanes=v,p}function DT(c,p,v){var w=p.pendingProps;switch(Kl(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zr(p),null;case 1:return Ei(p.type)&&th(),zr(p),null;case 3:return w=p.stateNode,il(),Mn(Ci),Mn(Kr),fh(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(c===null||c.child===null)&&(Ld(p)?p.flags|=4:c===null||c.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,Jo!==null&&(Jy(Jo),Jo=null))),jy(c,p),zr(p),null;case 5:dh(p);var C=da(hc.current);if(v=p.type,c!==null&&p.stateNode!=null)dw(c,p,v,w,C),c.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!w){if(p.stateNode===null)throw Error(n(166));return zr(p),null}if(c=da(Cs.current),Ld(p)){w=p.stateNode,v=p.type;var I=p.memoizedProps;switch(w[bs]=p,w[Qa]=I,c=(p.mode&1)!==0,v){case"dialog":Pn("cancel",w),Pn("close",w);break;case"iframe":case"object":case"embed":Pn("load",w);break;case"video":case"audio":for(C=0;C<oa.length;C++)Pn(oa[C],w);break;case"source":Pn("error",w);break;case"img":case"image":case"link":Pn("error",w),Pn("load",w);break;case"details":Pn("toggle",w);break;case"input":st(w,I),Pn("invalid",w);break;case"select":w._wrapperState={wasMultiple:!!I.multiple},Pn("invalid",w);break;case"textarea":Ir(w,I),Pn("invalid",w)}Yn(v,I),C=null;for(var L in I)if(I.hasOwnProperty(L)){var K=I[L];L==="children"?typeof K=="string"?w.textContent!==K&&(I.suppressHydrationWarning!==!0&&Od(w.textContent,K,c),C=["children",K]):typeof K=="number"&&w.textContent!==""+K&&(I.suppressHydrationWarning!==!0&&Od(w.textContent,K,c),C=["children",""+K]):i.hasOwnProperty(L)&&K!=null&&L==="onScroll"&&Pn("scroll",w)}switch(v){case"input":en(w),jn(w,I,!0);break;case"textarea":en(w),xi(w);break;case"select":case"option":break;default:typeof I.onClick=="function"&&(w.onclick=Yp)}w=C,p.updateQueue=w,w!==null&&(p.flags|=4)}else{L=C.nodeType===9?C:C.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=ye(v)),c==="http://www.w3.org/1999/xhtml"?v==="script"?(c=L.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof w.is=="string"?c=L.createElement(v,{is:w.is}):(c=L.createElement(v),v==="select"&&(L=c,w.multiple?L.multiple=!0:w.size&&(L.size=w.size))):c=L.createElementNS(c,v),c[bs]=p,c[Qa]=w,Lr(c,p,!1,!1),p.stateNode=c;e:{switch(L=wi(v,w),v){case"dialog":Pn("cancel",c),Pn("close",c),C=w;break;case"iframe":case"object":case"embed":Pn("load",c),C=w;break;case"video":case"audio":for(C=0;C<oa.length;C++)Pn(oa[C],c);C=w;break;case"source":Pn("error",c),C=w;break;case"img":case"image":case"link":Pn("error",c),Pn("load",c),C=w;break;case"details":Pn("toggle",c),C=w;break;case"input":st(c,w),C=kt(c,w),Pn("invalid",c);break;case"option":C=w;break;case"select":c._wrapperState={wasMultiple:!!w.multiple},C=B({},w,{value:void 0}),Pn("invalid",c);break;case"textarea":Ir(c,w),C=Ht(c,w),Pn("invalid",c);break;default:C=w}Yn(v,C),K=C;for(I in K)if(K.hasOwnProperty(I)){var X=K[I];I==="style"?Zr(c,X):I==="dangerouslySetInnerHTML"?(X=X?X.__html:void 0,X!=null&&ht(c,X)):I==="children"?typeof X=="string"?(v!=="textarea"||X!=="")&&_t(c,X):typeof X=="number"&&_t(c,""+X):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(i.hasOwnProperty(I)?X!=null&&I==="onScroll"&&Pn("scroll",c):X!=null&&$(c,I,X,L))}switch(v){case"input":en(c),jn(c,w,!1);break;case"textarea":en(c),xi(c);break;case"option":w.value!=null&&c.setAttribute("value",""+je(w.value));break;case"select":c.multiple=!!w.multiple,I=w.value,I!=null?Tn(c,!!w.multiple,I,!1):w.defaultValue!=null&&Tn(c,!!w.multiple,w.defaultValue,!0);break;default:typeof C.onClick=="function"&&(c.onclick=Yp)}switch(v){case"button":case"input":case"select":case"textarea":w=!!w.autoFocus;break e;case"img":w=!0;break e;default:w=!1}}w&&(p.flags|=4)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return zr(p),null;case 6:if(c&&p.stateNode!=null)Ly(c,p,c.memoizedProps,w);else{if(typeof w!="string"&&p.stateNode===null)throw Error(n(166));if(v=da(hc.current),da(Cs.current),Ld(p)){if(w=p.stateNode,v=p.memoizedProps,w[bs]=p,(I=w.nodeValue!==v)&&(c=Yr,c!==null))switch(c.tag){case 3:Od(w.nodeValue,v,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Od(w.nodeValue,v,(c.mode&1)!==0)}I&&(p.flags|=4)}else w=(v.nodeType===9?v:v.ownerDocument).createTextNode(w),w[bs]=p,p.stateNode=w}return zr(p),null;case 13:if(Mn(Vn),w=p.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(On&&Hi!==null&&(p.mode&1)!==0&&(p.flags&128)===0)dy(),_s(),p.flags|=98560,I=!1;else if(I=Ld(p),w!==null&&w.dehydrated!==null){if(c===null){if(!I)throw Error(n(318));if(I=p.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(n(317));I[bs]=p}else _s(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;zr(p),I=!1}else Jo!==null&&(Jy(Jo),Jo=null),I=!0;if(!I)return p.flags&65536?p:null}return(p.flags&128)!==0?(p.lanes=v,p):(w=w!==null,w!==(c!==null&&c.memoizedState!==null)&&w&&(p.child.flags|=8192,(p.mode&1)!==0&&(c===null||(Vn.current&1)!==0?xr===0&&(xr=3):Yy())),p.updateQueue!==null&&(p.flags|=4),zr(p),null);case 4:return il(),jy(c,p),c===null&&Ga(p.stateNode.containerInfo),zr(p),null;case 10:return ah(p.type._context),zr(p),null;case 17:return Ei(p.type)&&th(),zr(p),null;case 19:if(Mn(Vn),I=p.memoizedState,I===null)return zr(p),null;if(w=(p.flags&128)!==0,L=I.rendering,L===null)if(w)ef(I,!1);else{if(xr!==0||c!==null&&(c.flags&128)!==0)for(c=p.child;c!==null;){if(L=Xl(c),L!==null){for(p.flags|=128,ef(I,!1),w=L.updateQueue,w!==null&&(p.updateQueue=w,p.flags|=4),p.subtreeFlags=0,w=v,v=p.child;v!==null;)I=v,c=w,I.flags&=14680066,L=I.alternate,L===null?(I.childLanes=0,I.lanes=c,I.child=null,I.subtreeFlags=0,I.memoizedProps=null,I.memoizedState=null,I.updateQueue=null,I.dependencies=null,I.stateNode=null):(I.childLanes=L.childLanes,I.lanes=L.lanes,I.child=L.child,I.subtreeFlags=0,I.deletions=null,I.memoizedProps=L.memoizedProps,I.memoizedState=L.memoizedState,I.updateQueue=L.updateQueue,I.type=L.type,c=L.dependencies,I.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),v=v.sibling;return $n(Vn,Vn.current&1|2),p.child}c=c.sibling}I.tail!==null&&zn()>ru&&(p.flags|=128,w=!0,ef(I,!1),p.lanes=4194304)}else{if(!w)if(c=Xl(L),c!==null){if(p.flags|=128,w=!0,v=c.updateQueue,v!==null&&(p.updateQueue=v,p.flags|=4),ef(I,!0),I.tail===null&&I.tailMode==="hidden"&&!L.alternate&&!On)return zr(p),null}else 2*zn()-I.renderingStartTime>ru&&v!==1073741824&&(p.flags|=128,w=!0,ef(I,!1),p.lanes=4194304);I.isBackwards?(L.sibling=p.child,p.child=L):(v=I.last,v!==null?v.sibling=L:p.child=L,I.last=L)}return I.tail!==null?(p=I.tail,I.rendering=p,I.tail=p.sibling,I.renderingStartTime=zn(),p.sibling=null,v=Vn.current,$n(Vn,w?v&1|2:v&1),p):(zr(p),null);case 22:case 23:return Gy(),w=p.memoizedState!==null,c!==null&&c.memoizedState!==null!==w&&(p.flags|=8192),w&&(p.mode&1)!==0?(Ki&1073741824)!==0&&(zr(p),p.subtreeFlags&6&&(p.flags|=8192)):zr(p),null;case 24:return null;case 25:return null}throw Error(n(156,p.tag))}function jT(c,p){switch(Kl(p),p.tag){case 1:return Ei(p.type)&&th(),c=p.flags,c&65536?(p.flags=c&-65537|128,p):null;case 3:return il(),Mn(Ci),Mn(Kr),fh(),c=p.flags,(c&65536)!==0&&(c&128)===0?(p.flags=c&-65537|128,p):null;case 5:return dh(p),null;case 13:if(Mn(Vn),c=p.memoizedState,c!==null&&c.dehydrated!==null){if(p.alternate===null)throw Error(n(340));_s()}return c=p.flags,c&65536?(p.flags=c&-65537|128,p):null;case 19:return Mn(Vn),null;case 4:return il(),null;case 10:return ah(p.type._context),null;case 22:case 23:return Gy(),null;case 24:return null;default:return null}}var Eh=!1,Bn=!1,fi=typeof WeakSet=="function"?WeakSet:Set,Ze=null;function kc(c,p){var v=c.ref;if(v!==null)if(typeof v=="function")try{v(null)}catch(w){Jn(c,p,w)}else v.current=null}function tf(c,p,v){try{v()}catch(w){Jn(c,p,w)}}var fw=!1;function LT(c,p){if(Nd=Op,c=wn(),Ed(c)){if("selectionStart"in c)var v={start:c.selectionStart,end:c.selectionEnd};else e:{v=(v=c.ownerDocument)&&v.defaultView||window;var w=v.getSelection&&v.getSelection();if(w&&w.rangeCount!==0){v=w.anchorNode;var C=w.anchorOffset,I=w.focusNode;w=w.focusOffset;try{v.nodeType,I.nodeType}catch{v=null;break e}var L=0,K=-1,X=-1,he=0,ke=0,Ee=c,we=null;t:for(;;){for(var Be;Ee!==v||C!==0&&Ee.nodeType!==3||(K=L+C),Ee!==I||w!==0&&Ee.nodeType!==3||(X=L+w),Ee.nodeType===3&&(L+=Ee.nodeValue.length),(Be=Ee.firstChild)!==null;)we=Ee,Ee=Be;for(;;){if(Ee===c)break t;if(we===v&&++he===C&&(K=L),we===I&&++ke===w&&(X=L),(Be=Ee.nextSibling)!==null)break;Ee=we,we=Ee.parentNode}Ee=Be}v=K===-1||X===-1?null:{start:K,end:X}}else v=null}v=v||{start:0,end:0}}else v=null;for(Wl={focusedElem:c,selectionRange:v},Op=!1,Ze=p;Ze!==null;)if(p=Ze,c=p.child,(p.subtreeFlags&1028)!==0&&c!==null)c.return=p,Ze=c;else for(;Ze!==null;){p=Ze;try{var qe=p.alternate;if((p.flags&1024)!==0)switch(p.tag){case 0:case 11:case 15:break;case 1:if(qe!==null){var Je=qe.memoizedProps,or=qe.memoizedState,ce=p.stateNode,te=ce.getSnapshotBeforeUpdate(p.elementType===p.type?Je:So(p.type,Je),or);ce.__reactInternalSnapshotBeforeUpdate=te}break;case 3:var fe=p.stateNode.containerInfo;fe.nodeType===1?fe.textContent="":fe.nodeType===9&&fe.documentElement&&fe.removeChild(fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Me){Jn(p,p.return,Me)}if(c=p.sibling,c!==null){c.return=p.return,Ze=c;break}Ze=p.return}return qe=fw,fw=!1,qe}function ma(c,p,v){var w=p.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var C=w=w.next;do{if((C.tag&c)===c){var I=C.destroy;C.destroy=void 0,I!==void 0&&tf(p,v,I)}C=C.next}while(C!==w)}}function nf(c,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&c)===c){var w=v.create;v.destroy=w()}v=v.next}while(v!==p)}}function Ih(c){var p=c.ref;if(p!==null){var v=c.stateNode;switch(c.tag){case 5:c=v;break;default:c=v}typeof p=="function"?p(c):p.current=c}}function pw(c){var p=c.alternate;p!==null&&(c.alternate=null,pw(p)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(p=c.stateNode,p!==null&&(delete p[bs],delete p[Qa],delete p[Qp],delete p[V],delete p[lc])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function hw(c){return c.tag===5||c.tag===3||c.tag===4}function mw(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||hw(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function zy(c,p,v){var w=c.tag;if(w===5||w===6)c=c.stateNode,p?v.nodeType===8?v.parentNode.insertBefore(c,p):v.insertBefore(c,p):(v.nodeType===8?(p=v.parentNode,p.insertBefore(c,v)):(p=v,p.appendChild(c)),v=v._reactRootContainer,v!=null||p.onclick!==null||(p.onclick=Yp));else if(w!==4&&(c=c.child,c!==null))for(zy(c,p,v),c=c.sibling;c!==null;)zy(c,p,v),c=c.sibling}function Ah(c,p,v){var w=c.tag;if(w===5||w===6)c=c.stateNode,p?v.insertBefore(c,p):v.appendChild(c);else if(w!==4&&(c=c.child,c!==null))for(Ah(c,p,v),c=c.sibling;c!==null;)Ah(c,p,v),c=c.sibling}var Ar=null,Yo=!1;function Ps(c,p,v){for(v=v.child;v!==null;)Fy(c,p,v),v=v.sibling}function Fy(c,p,v){if(gs&&typeof gs.onCommitFiberUnmount=="function")try{gs.onCommitFiberUnmount(Ep,v)}catch{}switch(v.tag){case 5:Bn||kc(v,p);case 6:var w=Ar,C=Yo;Ar=null,Ps(c,p,v),Ar=w,Yo=C,Ar!==null&&(Yo?(c=Ar,v=v.stateNode,c.nodeType===8?c.parentNode.removeChild(v):c.removeChild(v)):Ar.removeChild(v.stateNode));break;case 18:Ar!==null&&(Yo?(c=Ar,v=v.stateNode,c.nodeType===8?ly(c.parentNode,v):c.nodeType===1&&ly(c,v),gn(c)):ly(Ar,v.stateNode));break;case 4:w=Ar,C=Yo,Ar=v.stateNode.containerInfo,Yo=!0,Ps(c,p,v),Ar=w,Yo=C;break;case 0:case 11:case 14:case 15:if(!Bn&&(w=v.updateQueue,w!==null&&(w=w.lastEffect,w!==null))){C=w=w.next;do{var I=C,L=I.destroy;I=I.tag,L!==void 0&&((I&2)!==0||(I&4)!==0)&&tf(v,p,L),C=C.next}while(C!==w)}Ps(c,p,v);break;case 1:if(!Bn&&(kc(v,p),w=v.stateNode,typeof w.componentWillUnmount=="function"))try{w.props=v.memoizedProps,w.state=v.memoizedState,w.componentWillUnmount()}catch(K){Jn(v,p,K)}Ps(c,p,v);break;case 21:Ps(c,p,v);break;case 22:v.mode&1?(Bn=(w=Bn)||v.memoizedState!==null,Ps(c,p,v),Bn=w):Ps(c,p,v);break;default:Ps(c,p,v)}}function _c(c){var p=c.updateQueue;if(p!==null){c.updateQueue=null;var v=c.stateNode;v===null&&(v=c.stateNode=new fi),p.forEach(function(w){var C=WT.bind(null,c,w);v.has(w)||(v.add(w),w.then(C,C))})}}function Ji(c,p){var v=p.deletions;if(v!==null)for(var w=0;w<v.length;w++){var C=v[w];try{var I=c,L=p,K=L;e:for(;K!==null;){switch(K.tag){case 5:Ar=K.stateNode,Yo=!1;break e;case 3:Ar=K.stateNode.containerInfo,Yo=!0;break e;case 4:Ar=K.stateNode.containerInfo,Yo=!0;break e}K=K.return}if(Ar===null)throw Error(n(160));Fy(I,L,C),Ar=null,Yo=!1;var X=C.alternate;X!==null&&(X.return=null),C.return=null}catch(he){Jn(C,p,he)}}if(p.subtreeFlags&12854)for(p=p.child;p!==null;)Vy(p,c),p=p.sibling}function Vy(c,p){var v=c.alternate,w=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(Ji(p,c),Xo(c),w&4){try{ma(3,c,c.return),nf(3,c)}catch(Je){Jn(c,c.return,Je)}try{ma(5,c,c.return)}catch(Je){Jn(c,c.return,Je)}}break;case 1:Ji(p,c),Xo(c),w&512&&v!==null&&kc(v,v.return);break;case 5:if(Ji(p,c),Xo(c),w&512&&v!==null&&kc(v,v.return),c.flags&32){var C=c.stateNode;try{_t(C,"")}catch(Je){Jn(c,c.return,Je)}}if(w&4&&(C=c.stateNode,C!=null)){var I=c.memoizedProps,L=v!==null?v.memoizedProps:I,K=c.type,X=c.updateQueue;if(c.updateQueue=null,X!==null)try{K==="input"&&I.type==="radio"&&I.name!=null&&Kt(C,I),wi(K,L);var he=wi(K,I);for(L=0;L<X.length;L+=2){var ke=X[L],Ee=X[L+1];ke==="style"?Zr(C,Ee):ke==="dangerouslySetInnerHTML"?ht(C,Ee):ke==="children"?_t(C,Ee):$(C,ke,Ee,he)}switch(K){case"input":lt(C,I);break;case"textarea":ms(C,I);break;case"select":var we=C._wrapperState.wasMultiple;C._wrapperState.wasMultiple=!!I.multiple;var Be=I.value;Be!=null?Tn(C,!!I.multiple,Be,!1):we!==!!I.multiple&&(I.defaultValue!=null?Tn(C,!!I.multiple,I.defaultValue,!0):Tn(C,!!I.multiple,I.multiple?[]:"",!1))}C[Qa]=I}catch(Je){Jn(c,c.return,Je)}}break;case 6:if(Ji(p,c),Xo(c),w&4){if(c.stateNode===null)throw Error(n(162));C=c.stateNode,I=c.memoizedProps;try{C.nodeValue=I}catch(Je){Jn(c,c.return,Je)}}break;case 3:if(Ji(p,c),Xo(c),w&4&&v!==null&&v.memoizedState.isDehydrated)try{gn(p.containerInfo)}catch(Je){Jn(c,c.return,Je)}break;case 4:Ji(p,c),Xo(c);break;case 13:Ji(p,c),Xo(c),C=c.child,C.flags&8192&&(I=C.memoizedState!==null,C.stateNode.isHidden=I,!I||C.alternate!==null&&C.alternate.memoizedState!==null||(Zy=zn())),w&4&&_c(c);break;case 22:if(ke=v!==null&&v.memoizedState!==null,c.mode&1?(Bn=(he=Bn)||ke,Ji(p,c),Bn=he):Ji(p,c),Xo(c),w&8192){if(he=c.memoizedState!==null,(c.stateNode.isHidden=he)&&!ke&&(c.mode&1)!==0)for(Ze=c,ke=c.child;ke!==null;){for(Ee=Ze=ke;Ze!==null;){switch(we=Ze,Be=we.child,we.tag){case 0:case 11:case 14:case 15:ma(4,we,we.return);break;case 1:kc(we,we.return);var qe=we.stateNode;if(typeof qe.componentWillUnmount=="function"){w=we,v=we.return;try{p=w,qe.props=p.memoizedProps,qe.state=p.memoizedState,qe.componentWillUnmount()}catch(Je){Jn(w,v,Je)}}break;case 5:kc(we,we.return);break;case 22:if(we.memoizedState!==null){al(Ee);continue}}Be!==null?(Be.return=we,Ze=Be):al(Ee)}ke=ke.sibling}e:for(ke=null,Ee=c;;){if(Ee.tag===5){if(ke===null){ke=Ee;try{C=Ee.stateNode,he?(I=C.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none"):(K=Ee.stateNode,X=Ee.memoizedProps.style,L=X!=null&&X.hasOwnProperty("display")?X.display:null,K.style.display=Ln("display",L))}catch(Je){Jn(c,c.return,Je)}}}else if(Ee.tag===6){if(ke===null)try{Ee.stateNode.nodeValue=he?"":Ee.memoizedProps}catch(Je){Jn(c,c.return,Je)}}else if((Ee.tag!==22&&Ee.tag!==23||Ee.memoizedState===null||Ee===c)&&Ee.child!==null){Ee.child.return=Ee,Ee=Ee.child;continue}if(Ee===c)break e;for(;Ee.sibling===null;){if(Ee.return===null||Ee.return===c)break e;ke===Ee&&(ke=null),Ee=Ee.return}ke===Ee&&(ke=null),Ee.sibling.return=Ee.return,Ee=Ee.sibling}}break;case 19:Ji(p,c),Xo(c),w&4&&_c(c);break;case 21:break;default:Ji(p,c),Xo(c)}}function Xo(c){var p=c.flags;if(p&2){try{e:{for(var v=c.return;v!==null;){if(hw(v)){var w=v;break e}v=v.return}throw Error(n(160))}switch(w.tag){case 5:var C=w.stateNode;w.flags&32&&(_t(C,""),w.flags&=-33);var I=mw(c);Ah(c,I,C);break;case 3:case 4:var L=w.stateNode.containerInfo,K=mw(c);zy(c,K,L);break;default:throw Error(n(161))}}catch(X){Jn(c,c.return,X)}c.flags&=-3}p&4096&&(c.flags&=-4097)}function $h(c,p,v){Ze=c,By(c)}function By(c,p,v){for(var w=(c.mode&1)!==0;Ze!==null;){var C=Ze,I=C.child;if(C.tag===22&&w){var L=C.memoizedState!==null||Eh;if(!L){var K=C.alternate,X=K!==null&&K.memoizedState!==null||Bn;K=Eh;var he=Bn;if(Eh=L,(Bn=X)&&!he)for(Ze=C;Ze!==null;)L=Ze,X=L.child,L.tag===22&&L.memoizedState!==null?gw(C):X!==null?(X.return=L,Ze=X):gw(C);for(;I!==null;)Ze=I,By(I),I=I.sibling;Ze=C,Eh=K,Bn=he}Qo(c)}else(C.subtreeFlags&8772)!==0&&I!==null?(I.return=C,Ze=I):Qo(c)}}function Qo(c){for(;Ze!==null;){var p=Ze;if((p.flags&8772)!==0){var v=p.alternate;try{if((p.flags&8772)!==0)switch(p.tag){case 0:case 11:case 15:Bn||nf(5,p);break;case 1:var w=p.stateNode;if(p.flags&4&&!Bn)if(v===null)w.componentDidMount();else{var C=p.elementType===p.type?v.memoizedProps:So(p.type,v.memoizedProps);w.componentDidUpdate(C,v.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var I=p.updateQueue;I!==null&&hy(p,I,w);break;case 3:var L=p.updateQueue;if(L!==null){if(v=null,p.child!==null)switch(p.child.tag){case 5:v=p.child.stateNode;break;case 1:v=p.child.stateNode}hy(p,L,v)}break;case 5:var K=p.stateNode;if(v===null&&p.flags&4){v=K;var X=p.memoizedProps;switch(p.type){case"button":case"input":case"select":case"textarea":X.autoFocus&&v.focus();break;case"img":X.src&&(v.src=X.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(p.memoizedState===null){var he=p.alternate;if(he!==null){var ke=he.memoizedState;if(ke!==null){var Ee=ke.dehydrated;Ee!==null&&gn(Ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Bn||p.flags&512&&Ih(p)}catch(we){Jn(p,p.return,we)}}if(p===c){Ze=null;break}if(v=p.sibling,v!==null){v.return=p.return,Ze=v;break}Ze=p.return}}function al(c){for(;Ze!==null;){var p=Ze;if(p===c){Ze=null;break}var v=p.sibling;if(v!==null){v.return=p.return,Ze=v;break}Ze=p.return}}function gw(c){for(;Ze!==null;){var p=Ze;try{switch(p.tag){case 0:case 11:case 15:var v=p.return;try{nf(4,p)}catch(X){Jn(p,v,X)}break;case 1:var w=p.stateNode;if(typeof w.componentDidMount=="function"){var C=p.return;try{w.componentDidMount()}catch(X){Jn(p,C,X)}}var I=p.return;try{Ih(p)}catch(X){Jn(p,I,X)}break;case 5:var L=p.return;try{Ih(p)}catch(X){Jn(p,L,X)}}}catch(X){Jn(p,p.return,X)}if(p===c){Ze=null;break}var K=p.sibling;if(K!==null){K.return=p.return,Ze=K;break}Ze=p.return}}var yw=Math.ceil,Ph=P.ReactCurrentDispatcher,Uy=P.ReactCurrentOwner,ko=P.ReactCurrentBatchConfig,nn=0,$r=null,pr=null,Fr=0,Ki=0,Tc=Ti(0),xr=0,rf=null,ll=0,of=0,Mh=0,sf=null,$i=null,Zy=0,ru=1/0,ga=null,Oh=!1,Wy=null,ul=null,Nh=!1,cl=null,pi=0,af=0,Hy=null,Rh=-1,lf=0;function hi(){return(nn&6)!==0?zn():Rh!==-1?Rh:Rh=zn()}function dl(c){return(c.mode&1)===0?1:(nn&2)!==0&&Fr!==0?Fr&-Fr:G0.transition!==null?(lf===0&&(lf=Fg()),lf):(c=fn,c!==0||(c=window.event,c=c===void 0?16:S0(c.type)),c)}function es(c,p,v,w){if(50<af)throw af=0,Hy=null,Error(n(185));wd(c,v,w),((nn&2)===0||c!==$r)&&(c===$r&&((nn&2)===0&&(of|=v),xr===4&&fl(c,Fr)),Pi(c,w),v===1&&nn===0&&(p.mode&1)===0&&(ru=zn()+500,nh&&tl()))}function Pi(c,p){var v=c.callbackNode;mT(c,p);var w=Ll(c,c===$r?Fr:0);if(w===0)v!==null&&c0(v),c.callbackNode=null,c.callbackPriority=0;else if(p=w&-w,c.callbackPriority!==p){if(v!=null&&c0(v),p===1)c.tag===0?Hl(vw.bind(null,c)):q0(vw.bind(null,c)),Xp(function(){(nn&6)===0&&tl()}),v=null;else{switch(zl(w)){case 1:v=Lg;break;case 4:v=d0;break;case 16:v=bd;break;case 536870912:v=zg;break;default:v=bd}v=Tw(v,Dh.bind(null,c))}c.callbackPriority=p,c.callbackNode=v}}function Dh(c,p){if(Rh=-1,lf=0,(nn&6)!==0)throw Error(n(327));var v=c.callbackNode;if(Cc()&&c.callbackNode!==v)return null;var w=Ll(c,c===$r?Fr:0);if(w===0)return null;if((w&30)!==0||(w&c.expiredLanes)!==0||p)p=jh(c,w);else{p=w;var C=nn;nn|=2;var I=xw();($r!==c||Fr!==p)&&(ga=null,ru=zn()+500,ou(c,p));do try{VT();break}catch(K){bw(c,K)}while(!0);la(),Ph.current=I,nn=C,pr!==null?p=0:($r=null,Fr=0,p=xr)}if(p!==0){if(p===2&&(C=Ap(c),C!==0&&(w=C,p=qy(c,C))),p===1)throw v=rf,ou(c,0),fl(c,w),Pi(c,zn()),v;if(p===6)fl(c,w);else{if(C=c.current.alternate,(w&30)===0&&!zT(C)&&(p=jh(c,w),p===2&&(I=Ap(c),I!==0&&(w=I,p=qy(c,I))),p===1))throw v=rf,ou(c,0),fl(c,w),Pi(c,zn()),v;switch(c.finishedWork=C,c.finishedLanes=w,p){case 0:case 1:throw Error(n(345));case 2:su(c,$i,ga);break;case 3:if(fl(c,w),(w&130023424)===w&&(p=Zy+500-zn(),10<p)){if(Ll(c,0)!==0)break;if(C=c.suspendedLanes,(C&w)!==w){hi(),c.pingedLanes|=c.suspendedLanes&C;break}c.timeoutHandle=Ya(su.bind(null,c,$i,ga),p);break}su(c,$i,ga);break;case 4:if(fl(c,w),(w&4194240)===w)break;for(p=c.eventTimes,C=-1;0<w;){var L=31-Ho(w);I=1<<L,L=p[L],L>C&&(C=L),w&=~I}if(w=C,w=zn()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*yw(w/1960))-w,10<w){c.timeoutHandle=Ya(su.bind(null,c,$i,ga),w);break}su(c,$i,ga);break;case 5:su(c,$i,ga);break;default:throw Error(n(329))}}}return Pi(c,zn()),c.callbackNode===v?Dh.bind(null,c):null}function qy(c,p){var v=sf;return c.current.memoizedState.isDehydrated&&(ou(c,p).flags|=256),c=jh(c,p),c!==2&&(p=$i,$i=v,p!==null&&Jy(p)),c}function Jy(c){$i===null?$i=c:$i.push.apply($i,c)}function zT(c){for(var p=c;;){if(p.flags&16384){var v=p.updateQueue;if(v!==null&&(v=v.stores,v!==null))for(var w=0;w<v.length;w++){var C=v[w],I=C.getSnapshot;C=C.value;try{if(!pe(I(),C))return!1}catch{return!1}}}if(v=p.child,p.subtreeFlags&16384&&v!==null)v.return=p,p=v;else{if(p===c)break;for(;p.sibling===null;){if(p.return===null||p.return===c)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function fl(c,p){for(p&=~Mh,p&=~of,c.suspendedLanes|=p,c.pingedLanes&=~p,c=c.expirationTimes;0<p;){var v=31-Ho(p),w=1<<v;c[v]=-1,p&=~w}}function vw(c){if((nn&6)!==0)throw Error(n(327));Cc();var p=Ll(c,0);if((p&1)===0)return Pi(c,zn()),null;var v=jh(c,p);if(c.tag!==0&&v===2){var w=Ap(c);w!==0&&(p=w,v=qy(c,w))}if(v===1)throw v=rf,ou(c,0),fl(c,p),Pi(c,zn()),v;if(v===6)throw Error(n(345));return c.finishedWork=c.current.alternate,c.finishedLanes=p,su(c,$i,ga),Pi(c,zn()),null}function Ky(c,p){var v=nn;nn|=1;try{return c(p)}finally{nn=v,nn===0&&(ru=zn()+500,nh&&tl())}}function iu(c){cl!==null&&cl.tag===0&&(nn&6)===0&&Cc();var p=nn;nn|=1;var v=ko.transition,w=fn;try{if(ko.transition=null,fn=1,c)return c()}finally{fn=w,ko.transition=v,nn=p,(nn&6)===0&&tl()}}function Gy(){Ki=Tc.current,Mn(Tc)}function ou(c,p){c.finishedWork=null,c.finishedLanes=0;var v=c.timeoutHandle;if(v!==-1&&(c.timeoutHandle=-1,Dd(v)),pr!==null)for(v=pr.return;v!==null;){var w=v;switch(Kl(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&th();break;case 3:il(),Mn(Ci),Mn(Kr),fh();break;case 5:dh(w);break;case 4:il();break;case 13:Mn(Vn);break;case 19:Mn(Vn);break;case 10:ah(w.type._context);break;case 22:case 23:Gy()}v=v.return}if($r=c,pr=c=ts(c.current,null),Fr=Ki=p,xr=0,rf=null,Mh=of=ll=0,$i=sf=null,Yl!==null){for(p=0;p<Yl.length;p++)if(v=Yl[p],w=v.interleaved,w!==null){v.interleaved=null;var C=w.next,I=v.pending;if(I!==null){var L=I.next;I.next=C,w.next=L}v.pending=w}Yl=null}return c}function bw(c,p){do{var v=pr;try{if(la(),Ud.current=vh,mc){for(var w=qn.memoizedState;w!==null;){var C=w.queue;C!==null&&(C.pending=null),w=w.next}mc=!1}if(ol=0,br=ir=qn=null,Zd=!1,Ql=0,Uy.current=null,v===null||v.return===null){xr=1,rf=p,pr=null;break}e:{var I=c,L=v.return,K=v,X=p;if(p=Fr,K.flags|=32768,X!==null&&typeof X=="object"&&typeof X.then=="function"){var he=X,ke=K,Ee=ke.tag;if((ke.mode&1)===0&&(Ee===0||Ee===11||Ee===15)){var we=ke.alternate;we?(ke.updateQueue=we.updateQueue,ke.memoizedState=we.memoizedState,ke.lanes=we.lanes):(ke.updateQueue=null,ke.memoizedState=null)}var Be=aw(L);if(Be!==null){Be.flags&=-257,$y(Be,L,K,I,p),Be.mode&1&&Kd(I,he,p),p=Be,X=he;var qe=p.updateQueue;if(qe===null){var Je=new Set;Je.add(X),p.updateQueue=Je}else qe.add(X);break e}else{if((p&1)===0){Kd(I,he,p),Yy();break e}X=Error(n(426))}}else if(On&&K.mode&1){var or=aw(L);if(or!==null){(or.flags&65536)===0&&(or.flags|=256),$y(or,L,K,I,p),Ts(nu(X,K));break e}}I=X=nu(X,K),xr!==4&&(xr=2),sf===null?sf=[I]:sf.push(I),I=L;do{switch(I.tag){case 3:I.flags|=65536,p&=-p,I.lanes|=p;var ce=Jd(I,X,p);Q0(I,ce);break e;case 1:K=X;var te=I.type,fe=I.stateNode;if((I.flags&128)===0&&(typeof te.getDerivedStateFromError=="function"||fe!==null&&typeof fe.componentDidCatch=="function"&&(ul===null||!ul.has(fe)))){I.flags|=65536,p&=-p,I.lanes|=p;var Me=kh(I,K,p);Q0(I,Me);break e}}I=I.return}while(I!==null)}Sw(v)}catch(et){p=et,pr===v&&v!==null&&(pr=v=v.return);continue}break}while(!0)}function xw(){var c=Ph.current;return Ph.current=vh,c===null?vh:c}function Yy(){(xr===0||xr===3||xr===2)&&(xr=4),$r===null||(ll&268435455)===0&&(of&268435455)===0||fl($r,Fr)}function jh(c,p){var v=nn;nn|=2;var w=xw();($r!==c||Fr!==p)&&(ga=null,ou(c,p));do try{FT();break}catch(C){bw(c,C)}while(!0);if(la(),nn=v,Ph.current=w,pr!==null)throw Error(n(261));return $r=null,Fr=0,xr}function FT(){for(;pr!==null;)ww(pr)}function VT(){for(;pr!==null&&!Cp();)ww(pr)}function ww(c){var p=_w(c.alternate,c,Ki);c.memoizedProps=c.pendingProps,p===null?Sw(c):pr=p,Uy.current=null}function Sw(c){var p=c;do{var v=p.alternate;if(c=p.return,(p.flags&32768)===0){if(v=DT(v,p,Ki),v!==null){pr=v;return}}else{if(v=jT(v,p),v!==null){v.flags&=32767,pr=v;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{xr=6,pr=null;return}}if(p=p.sibling,p!==null){pr=p;return}pr=p=c}while(p!==null);xr===0&&(xr=5)}function su(c,p,v){var w=fn,C=ko.transition;try{ko.transition=null,fn=1,BT(c,p,v,w)}finally{ko.transition=C,fn=w}return null}function BT(c,p,v,w){do Cc();while(cl!==null);if((nn&6)!==0)throw Error(n(327));v=c.finishedWork;var C=c.finishedLanes;if(v===null)return null;if(c.finishedWork=null,c.finishedLanes=0,v===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0;var I=v.lanes|v.childLanes;if(y0(c,I),c===$r&&(pr=$r=null,Fr=0),(v.subtreeFlags&2064)===0&&(v.flags&2064)===0||Nh||(Nh=!0,Tw(bd,function(){return Cc(),null})),I=(v.flags&15990)!==0,(v.subtreeFlags&15990)!==0||I){I=ko.transition,ko.transition=null;var L=fn;fn=1;var K=nn;nn|=4,Uy.current=null,LT(c,v),Vy(v,c),MT(Wl),Op=!!Nd,Wl=Nd=null,c.current=v,$h(v),fT(),nn=K,fn=L,ko.transition=I}else c.current=v;if(Nh&&(Nh=!1,cl=c,pi=C),I=c.pendingLanes,I===0&&(ul=null),hT(v.stateNode),Pi(c,zn()),p!==null)for(w=c.onRecoverableError,v=0;v<p.length;v++)C=p[v],w(C.value,{componentStack:C.stack,digest:C.digest});if(Oh)throw Oh=!1,c=Wy,Wy=null,c;return(pi&1)!==0&&c.tag!==0&&Cc(),I=c.pendingLanes,(I&1)!==0?c===Hy?af++:(af=0,Hy=c):af=0,tl(),null}function Cc(){if(cl!==null){var c=zl(pi),p=ko.transition,v=fn;try{if(ko.transition=null,fn=16>c?16:c,cl===null)var w=!1;else{if(c=cl,cl=null,pi=0,(nn&6)!==0)throw Error(n(331));var C=nn;for(nn|=4,Ze=c.current;Ze!==null;){var I=Ze,L=I.child;if((Ze.flags&16)!==0){var K=I.deletions;if(K!==null){for(var X=0;X<K.length;X++){var he=K[X];for(Ze=he;Ze!==null;){var ke=Ze;switch(ke.tag){case 0:case 11:case 15:ma(8,ke,I)}var Ee=ke.child;if(Ee!==null)Ee.return=ke,Ze=Ee;else for(;Ze!==null;){ke=Ze;var we=ke.sibling,Be=ke.return;if(pw(ke),ke===he){Ze=null;break}if(we!==null){we.return=Be,Ze=we;break}Ze=Be}}}var qe=I.alternate;if(qe!==null){var Je=qe.child;if(Je!==null){qe.child=null;do{var or=Je.sibling;Je.sibling=null,Je=or}while(Je!==null)}}Ze=I}}if((I.subtreeFlags&2064)!==0&&L!==null)L.return=I,Ze=L;else e:for(;Ze!==null;){if(I=Ze,(I.flags&2048)!==0)switch(I.tag){case 0:case 11:case 15:ma(9,I,I.return)}var ce=I.sibling;if(ce!==null){ce.return=I.return,Ze=ce;break e}Ze=I.return}}var te=c.current;for(Ze=te;Ze!==null;){L=Ze;var fe=L.child;if((L.subtreeFlags&2064)!==0&&fe!==null)fe.return=L,Ze=fe;else e:for(L=te;Ze!==null;){if(K=Ze,(K.flags&2048)!==0)try{switch(K.tag){case 0:case 11:case 15:nf(9,K)}}catch(et){Jn(K,K.return,et)}if(K===L){Ze=null;break e}var Me=K.sibling;if(Me!==null){Me.return=K.return,Ze=Me;break e}Ze=K.return}}if(nn=C,tl(),gs&&typeof gs.onPostCommitFiberRoot=="function")try{gs.onPostCommitFiberRoot(Ep,c)}catch{}w=!0}return w}finally{fn=v,ko.transition=p}}return!1}function Lh(c,p,v){p=nu(v,p),p=Jd(c,p,1),c=xo(c,p,1),p=hi(),c!==null&&(wd(c,1,p),Pi(c,p))}function Jn(c,p,v){if(c.tag===3)Lh(c,c,v);else for(;p!==null;){if(p.tag===3){Lh(p,c,v);break}else if(p.tag===1){var w=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(ul===null||!ul.has(w))){c=nu(v,c),c=kh(p,c,1),p=xo(p,c,1),c=hi(),p!==null&&(wd(p,1,c),Pi(p,c));break}}p=p.return}}function UT(c,p,v){var w=c.pingCache;w!==null&&w.delete(p),p=hi(),c.pingedLanes|=c.suspendedLanes&v,$r===c&&(Fr&v)===v&&(xr===4||xr===3&&(Fr&130023424)===Fr&&500>zn()-Zy?ou(c,0):Mh|=v),Pi(c,p)}function kw(c,p){p===0&&((c.mode&1)===0?p=1:(p=Ip,Ip<<=1,(Ip&130023424)===0&&(Ip=4194304)));var v=hi();c=ua(c,p),c!==null&&(wd(c,p,v),Pi(c,v))}function ZT(c){var p=c.memoizedState,v=0;p!==null&&(v=p.retryLane),kw(c,v)}function WT(c,p){var v=0;switch(c.tag){case 13:var w=c.stateNode,C=c.memoizedState;C!==null&&(v=C.retryLane);break;case 19:w=c.stateNode;break;default:throw Error(n(314))}w!==null&&w.delete(p),kw(c,v)}var _w;_w=function(c,p,v){if(c!==null)if(c.memoizedProps!==p.pendingProps||Ci.current)di=!0;else{if((c.lanes&v)===0&&(p.flags&128)===0)return di=!1,cw(c,p,v);di=(c.flags&131072)!==0}else di=!1,On&&(p.flags&1048576)!==0&&J0(p,ih,p.index);switch(p.lanes=0,p.tag){case 2:var w=p.type;Ch(c,p),c=p.pendingProps;var C=cc(p,Kr.current);rl(p,v),C=eu(null,p,w,c,C,v);var I=ph();return p.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Ei(w)?(I=!0,mo(p)):I=!1,p.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,uh(p),C.updater=wh,p.stateNode=C,C._reactInternals=p,Ay(p,w,c,v),p=Dy(null,p,w,!0,I,v)):(p.tag=0,On&&I&&jd(p),jr(null,p,C,v),p=p.child),p;case 16:w=p.elementType;e:{switch(Ch(c,p),c=p.pendingProps,C=w._init,w=C(w._payload),p.type=w,C=p.tag=qT(w),c=So(w,c),C){case 0:p=Ny(null,p,w,c,v);break e;case 1:p=Ry(null,p,w,c,v);break e;case 11:p=lw(null,p,w,c,v);break e;case 14:p=Py(null,p,w,So(w.type,c),v);break e}throw Error(n(306,w,""))}return p;case 0:return w=p.type,C=p.pendingProps,C=p.elementType===w?C:So(w,C),Ny(c,p,w,C,v);case 1:return w=p.type,C=p.pendingProps,C=p.elementType===w?C:So(w,C),Ry(c,p,w,C,v);case 3:e:{if(uw(p),c===null)throw Error(n(387));w=p.pendingProps,I=p.memoizedState,C=I.element,X0(c,p),pc(p,w,null,v);var L=p.memoizedState;if(w=L.element,I.isDehydrated)if(I={element:w,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},p.updateQueue.baseState=I,p.memoizedState=I,p.flags&256){C=nu(Error(n(423)),p),p=$s(c,p,w,v,C);break e}else if(w!==C){C=nu(Error(n(424)),p),p=$s(c,p,w,v,C);break e}else for(Hi=Xa(p.stateNode.containerInfo.firstChild),Yr=p,On=!0,Jo=null,v=sh(p,null,w,v),p.child=v;v;)v.flags=v.flags&-3|4096,v=v.sibling;else{if(_s(),w===C){p=Go(c,p,v);break e}jr(c,p,w,v)}p=p.child}return p;case 5:return gy(p),c===null&&Ii(p),w=p.type,C=p.pendingProps,I=c!==null?c.memoizedProps:null,L=C.children,Rd(w,C)?L=null:I!==null&&Rd(w,I)&&(p.flags|=32),Oy(c,p),jr(c,p,L,v),p.child;case 6:return c===null&&Ii(p),null;case 13:return Th(c,p,v);case 4:return my(p,p.stateNode.containerInfo),w=p.pendingProps,c===null?p.child=Xn(p,null,w,v):jr(c,p,w,v),p.child;case 11:return w=p.type,C=p.pendingProps,C=p.elementType===w?C:So(w,C),lw(c,p,w,C,v);case 7:return jr(c,p,p.pendingProps,v),p.child;case 8:return jr(c,p,p.pendingProps.children,v),p.child;case 12:return jr(c,p,p.pendingProps.children,v),p.child;case 10:e:{if(w=p.type._context,C=p.pendingProps,I=p.memoizedProps,L=C.value,$n(Fd,w._currentValue),w._currentValue=L,I!==null)if(pe(I.value,L)){if(I.children===C.children&&!Ci.current){p=Go(c,p,v);break e}}else for(I=p.child,I!==null&&(I.return=p);I!==null;){var K=I.dependencies;if(K!==null){L=I.child;for(var X=K.firstContext;X!==null;){if(X.context===w){if(I.tag===1){X=ca(-1,v&-v),X.tag=2;var he=I.updateQueue;if(he!==null){he=he.shared;var ke=he.pending;ke===null?X.next=X:(X.next=ke.next,ke.next=X),he.pending=X}}I.lanes|=v,X=I.alternate,X!==null&&(X.lanes|=v),Dr(I.return,v,p),K.lanes|=v;break}X=X.next}}else if(I.tag===10)L=I.type===p.type?null:I.child;else if(I.tag===18){if(L=I.return,L===null)throw Error(n(341));L.lanes|=v,K=L.alternate,K!==null&&(K.lanes|=v),Dr(L,v,p),L=I.sibling}else L=I.child;if(L!==null)L.return=I;else for(L=I;L!==null;){if(L===p){L=null;break}if(I=L.sibling,I!==null){I.return=L.return,L=I;break}L=L.return}I=L}jr(c,p,C.children,v),p=p.child}return p;case 9:return C=p.type,w=p.pendingProps.children,rl(p,v),C=vo(C),w=w(C),p.flags|=1,jr(c,p,w,v),p.child;case 14:return w=p.type,C=So(w,p.pendingProps),C=So(w.type,C),Py(c,p,w,C,v);case 15:return As(c,p,p.type,p.pendingProps,v);case 17:return w=p.type,C=p.pendingProps,C=p.elementType===w?C:So(w,C),Ch(c,p),p.tag=1,Ei(w)?(c=!0,mo(p)):c=!1,rl(p,v),tu(p,w,C),Ay(p,w,C,v),Dy(null,p,w,!0,c,v);case 19:return sl(c,p,v);case 22:return My(c,p,v)}throw Error(n(156,p.tag))};function Tw(c,p){return u0(c,p)}function HT(c,p,v,w){this.tag=c,this.key=v,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _o(c,p,v,w){return new HT(c,p,v,w)}function zh(c){return c=c.prototype,!(!c||!c.isReactComponent)}function qT(c){if(typeof c=="function")return zh(c)?1:0;if(c!=null){if(c=c.$$typeof,c===ee)return 11;if(c===ue)return 14}return 2}function ts(c,p){var v=c.alternate;return v===null?(v=_o(c.tag,p,c.key,c.mode),v.elementType=c.elementType,v.type=c.type,v.stateNode=c.stateNode,v.alternate=c,c.alternate=v):(v.pendingProps=p,v.type=c.type,v.flags=0,v.subtreeFlags=0,v.deletions=null),v.flags=c.flags&14680064,v.childLanes=c.childLanes,v.lanes=c.lanes,v.child=c.child,v.memoizedProps=c.memoizedProps,v.memoizedState=c.memoizedState,v.updateQueue=c.updateQueue,p=c.dependencies,v.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},v.sibling=c.sibling,v.index=c.index,v.ref=c.ref,v}function Fh(c,p,v,w,C,I){var L=2;if(w=c,typeof c=="function")zh(c)&&(L=1);else if(typeof c=="string")L=5;else e:switch(c){case z:return au(v.children,C,I,p);case F:L=8,C|=8;break;case q:return c=_o(12,v,p,C|2),c.elementType=q,c.lanes=I,c;case ne:return c=_o(13,v,p,C),c.elementType=ne,c.lanes=I,c;case se:return c=_o(19,v,p,C),c.elementType=se,c.lanes=I,c;case ie:return Vh(v,C,I,p);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case Z:L=10;break e;case re:L=9;break e;case ee:L=11;break e;case ue:L=14;break e;case me:L=16,w=null;break e}throw Error(n(130,c==null?c:typeof c,""))}return p=_o(L,v,p,C),p.elementType=c,p.type=w,p.lanes=I,p}function au(c,p,v,w){return c=_o(7,c,w,p),c.lanes=v,c}function Vh(c,p,v,w){return c=_o(22,c,w,p),c.elementType=ie,c.lanes=v,c.stateNode={isHidden:!1},c}function Xy(c,p,v){return c=_o(6,c,null,p),c.lanes=v,c}function Qy(c,p,v){return p=_o(4,c.children!==null?c.children:[],c.key,p),p.lanes=v,p.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},p}function JT(c,p,v,w,C){this.tag=p,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xd(0),this.expirationTimes=xd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xd(0),this.identifierPrefix=w,this.onRecoverableError=C,this.mutableSourceEagerHydrationData=null}function ev(c,p,v,w,C,I,L,K,X){return c=new JT(c,p,v,K,X),p===1?(p=1,I===!0&&(p|=8)):p=0,I=_o(3,null,null,p),c.current=I,I.stateNode=c,I.memoizedState={element:w,isDehydrated:v,cache:null,transitions:null,pendingSuspenseBoundaries:null},uh(I),c}function KT(c,p,v){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:w==null?null:""+w,children:c,containerInfo:p,implementation:v}}function Cw(c){if(!c)return el;c=c._reactInternals;e:{if(jl(c)!==c||c.tag!==1)throw Error(n(170));var p=c;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Ei(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(n(171))}if(c.tag===1){var v=c.type;if(Ei(v))return W0(c,v,p)}return p}function Ew(c,p,v,w,C,I,L,K,X){return c=ev(v,w,!0,c,C,I,L,K,X),c.context=Cw(null),v=c.current,w=hi(),C=dl(v),I=ca(w,C),I.callback=p??null,xo(v,I,C),c.current.lanes=C,wd(c,C,w),Pi(c,w),c}function Bh(c,p,v,w){var C=p.current,I=hi(),L=dl(C);return v=Cw(v),p.context===null?p.context=v:p.pendingContext=v,p=ca(I,L),p.payload={element:c},w=w===void 0?null:w,w!==null&&(p.callback=w),c=xo(C,p,L),c!==null&&(es(c,C,L,I),ch(c,C,L)),L}function Uh(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function Iw(c,p){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var v=c.retryLane;c.retryLane=v!==0&&v<p?v:p}}function tv(c,p){Iw(c,p),(c=c.alternate)&&Iw(c,p)}function GT(){return null}var Aw=typeof reportError=="function"?reportError:function(c){console.error(c)};function Zh(c){this._internalRoot=c}uf.prototype.render=Zh.prototype.render=function(c){var p=this._internalRoot;if(p===null)throw Error(n(409));Bh(c,p,null,null)},uf.prototype.unmount=Zh.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var p=c.containerInfo;iu(function(){Bh(null,c,null,null)}),p[Wi]=null}};function uf(c){this._internalRoot=c}uf.prototype.unstable_scheduleHydration=function(c){if(c){var p=Bg();c={blockedOn:null,target:c,priority:p};for(var v=0;v<Ha.length&&p!==0&&p<Ha[v].priority;v++);Ha.splice(v,0,c),v===0&&x0(c)}};function nv(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function Wh(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function $w(){}function YT(c,p,v,w,C){if(C){if(typeof w=="function"){var I=w;w=function(){var he=Uh(L);I.call(he)}}var L=Ew(p,w,c,0,null,!1,!1,"",$w);return c._reactRootContainer=L,c[Wi]=L.current,Ga(c.nodeType===8?c.parentNode:c),iu(),L}for(;C=c.lastChild;)c.removeChild(C);if(typeof w=="function"){var K=w;w=function(){var he=Uh(X);K.call(he)}}var X=ev(c,0,!1,null,null,!1,!1,"",$w);return c._reactRootContainer=X,c[Wi]=X.current,Ga(c.nodeType===8?c.parentNode:c),iu(function(){Bh(p,X,v,w)}),X}function lu(c,p,v,w,C){var I=v._reactRootContainer;if(I){var L=I;if(typeof C=="function"){var K=C;C=function(){var X=Uh(L);K.call(X)}}Bh(p,L,c,C)}else L=YT(v,p,c,C,w);return Uh(L)}Vg=function(c){switch(c.tag){case 3:var p=c.stateNode;if(p.current.memoizedState.isDehydrated){var v=Hu(p.pendingLanes);v!==0&&(Sd(p,v|1),Pi(p,zn()),(nn&6)===0&&(ru=zn()+500,tl()))}break;case 13:iu(function(){var w=ua(c,1);if(w!==null){var C=hi();es(w,c,1,C)}}),tv(c,1)}},$p=function(c){if(c.tag===13){var p=ua(c,134217728);if(p!==null){var v=hi();es(p,c,134217728,v)}tv(c,134217728)}},v0=function(c){if(c.tag===13){var p=dl(c),v=ua(c,p);if(v!==null){var w=hi();es(v,c,p,w)}tv(c,p)}},Bg=function(){return fn},Ug=function(c,p){var v=fn;try{return fn=c,p()}finally{fn=v}},Nl=function(c,p,v){switch(p){case"input":if(lt(c,v),p=v.name,v.type==="radio"&&p!=null){for(v=c;v.parentNode;)v=v.parentNode;for(v=v.querySelectorAll("input[name="+JSON.stringify(""+p)+'][type="radio"]'),p=0;p<v.length;p++){var w=v[p];if(w!==c&&w.form===c.form){var C=eh(w);if(!C)throw Error(n(90));_n(w),lt(w,C)}}}break;case"textarea":ms(c,v);break;case"select":p=v.value,p!=null&&Tn(c,!!v.multiple,p,!1)}},vd=Ky,ki=iu;var XT={usingClientEntryPoint:!1,Events:[Jr,It,eh,Si,Uu,Ky]},cf={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QT={bundleType:cf.bundleType,version:cf.version,rendererPackageName:cf.rendererPackageName,rendererConfig:cf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=a0(c),c===null?null:c.stateNode},findFiberByHostInstance:cf.findFiberByHostInstance||GT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hh.isDisabled&&Hh.supportsFiber)try{Ep=Hh.inject(QT),gs=Hh}catch{}}return Io.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XT,Io.createPortal=function(c,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nv(p))throw Error(n(200));return KT(c,p,null,v)},Io.createRoot=function(c,p){if(!nv(c))throw Error(n(299));var v=!1,w="",C=Aw;return p!=null&&(p.unstable_strictMode===!0&&(v=!0),p.identifierPrefix!==void 0&&(w=p.identifierPrefix),p.onRecoverableError!==void 0&&(C=p.onRecoverableError)),p=ev(c,1,!1,null,null,v,!1,w,C),c[Wi]=p.current,Ga(c.nodeType===8?c.parentNode:c),new Zh(p)},Io.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var p=c._reactInternals;if(p===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=a0(p),c=c===null?null:c.stateNode,c},Io.flushSync=function(c){return iu(c)},Io.hydrate=function(c,p,v){if(!Wh(p))throw Error(n(200));return lu(null,c,p,!0,v)},Io.hydrateRoot=function(c,p,v){if(!nv(c))throw Error(n(405));var w=v!=null&&v.hydratedSources||null,C=!1,I="",L=Aw;if(v!=null&&(v.unstable_strictMode===!0&&(C=!0),v.identifierPrefix!==void 0&&(I=v.identifierPrefix),v.onRecoverableError!==void 0&&(L=v.onRecoverableError)),p=Ew(p,null,c,1,v??null,C,!1,I,L),c[Wi]=p.current,Ga(c),w)for(c=0;c<w.length;c++)v=w[c],C=v._getVersion,C=C(v._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[v,C]:p.mutableSourceEagerHydrationData.push(v,C);return new uf(p)},Io.render=function(c,p,v){if(!Wh(p))throw Error(n(200));return lu(null,c,p,!1,v)},Io.unmountComponentAtNode=function(c){if(!Wh(c))throw Error(n(40));return c._reactRootContainer?(iu(function(){lu(null,null,c,!1,function(){c._reactRootContainer=null,c[Wi]=null})}),!0):!1},Io.unstable_batchedUpdates=Ky,Io.unstable_renderSubtreeIntoContainer=function(c,p,v,w){if(!Wh(v))throw Error(n(200));if(c==null||c._reactInternals===void 0)throw Error(n(38));return lu(c,p,v,!1,w)},Io.version="18.3.1-next-f1338f8080-20240426",Io}var SD;function JB(){if(SD)return hC.exports;SD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),hC.exports=Mne(),hC.exports}var kD;function One(){if(kD)return Rw;kD=1;var e=JB();return Rw.createRoot=e.createRoot,Rw.hydrateRoot=e.hydrateRoot,Rw}var Nne=One();const Rne=hg(Nne);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _D="popstate";function Dne(e={}){function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return nI("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:db(i)}return Lne(t,n,null,e)}function ur(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ma(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function jne(){return Math.random().toString(36).substring(2,10)}function TD(e,t){return{usr:e.state,key:e.key,idx:t}}function nI(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?mg(t):t,state:n,key:t&&t.key||r||jne()}}function db({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function mg(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Lne(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,u=d();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function d(){return(s.state||{idx:null}).idx}function f(){a="POP";let k=d(),T=k==null?null:k-u;u=k,l&&l({action:a,location:x.location,delta:T})}function g(k,T){a="PUSH";let E=nI(x.location,k,T);u=d()+1;let $=TD(E,u),P=x.createHref(E);try{s.pushState($,"",P)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(P)}o&&l&&l({action:a,location:x.location,delta:1})}function m(k,T){a="REPLACE";let E=nI(x.location,k,T);u=d();let $=TD(E,u),P=x.createHref(E);s.replaceState($,"",P),o&&l&&l({action:a,location:x.location,delta:0})}function b(k){return zne(k)}let x={get action(){return a},get location(){return e(i,s)},listen(k){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(_D,f),l=k,()=>{i.removeEventListener(_D,f),l=null}},createHref(k){return t(i,k)},createURL:b,encodeLocation(k){let T=b(k);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:m,go(k){return s.go(k)}};return x}function zne(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ur(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:db(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function KB(e,t,n="/"){return Fne(e,t,n,!1)}function Fne(e,t,n,r){let i=typeof t=="string"?mg(t):t,o=Ou(i.pathname||"/",n);if(o==null)return null;let s=GB(e);Vne(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=Xne(o);a=Gne(s[l],u,r)}return a}function GB(e,t=[],n=[],r="",i=!1){let o=(s,a,l=i,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};if(d.relativePath.startsWith("/")){if(!d.relativePath.startsWith(r)&&l)return;ur(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length)}let f=Eu([r,d.relativePath]),g=n.concat(d);s.children&&s.children.length>0&&(ur(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),GB(s.children,t,g,f,l)),!(s.path==null&&!s.index)&&t.push({path:f,score:Jne(f,s.index),routesMeta:g})};return e.forEach((s,a)=>{if(s.path===""||!s.path?.includes("?"))o(s,a);else for(let l of YB(s.path))o(s,a,!0,l)}),t}function YB(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=YB(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Vne(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Kne(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Bne=/^:[\w-]+$/,Une=3,Zne=2,Wne=1,Hne=10,qne=-2,CD=e=>e==="*";function Jne(e,t){let n=e.split("/"),r=n.length;return n.some(CD)&&(r+=qne),t&&(r+=Zne),n.filter(i=>!CD(i)).reduce((i,o)=>i+(Bne.test(o)?Une:o===""?Wne:Hne),r)}function Kne(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Gne(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=YS({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=YS({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Eu([o,f.pathname]),pathnameBase:nre(Eu([o,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(o=Eu([o,f.pathnameBase]))}return s}function YS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Yne(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,{paramName:d,isOptional:f},g)=>{if(d==="*"){let b=a[g]||"";s=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const m=a[g];return f&&!m?u[d]=void 0:u[d]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function Yne(e,t=!1,n=!0){Ma(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Xne(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ma(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ou(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Qne(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?mg(e):e;return{pathname:n?n.startsWith("/")?n:ere(n,t):t,search:rre(r),hash:ire(i)}}function ere(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yC(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function tre(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function XB(e){let t=tre(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function QB(e,t,n,r=!1){let i;typeof e=="string"?i=mg(e):(i={...e},ur(!i.pathname||!i.pathname.includes("?"),yC("?","pathname","search",i)),ur(!i.pathname||!i.pathname.includes("#"),yC("#","pathname","hash",i)),ur(!i.search||!i.search.includes("#"),yC("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}a=f>=0?t[f]:"/"}let l=Qne(i,a),u=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}var Eu=e=>e.join("/").replace(/\/\/+/g,"/"),nre=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),rre=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,ire=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ore(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var eU=["POST","PUT","PATCH","DELETE"];new Set(eU);var sre=["GET",...eU];new Set(sre);var gg=D.createContext(null);gg.displayName="DataRouter";var __=D.createContext(null);__.displayName="DataRouterState";D.createContext(!1);var tU=D.createContext({isTransitioning:!1});tU.displayName="ViewTransition";var are=D.createContext(new Map);are.displayName="Fetchers";var lre=D.createContext(null);lre.displayName="Await";var Al=D.createContext(null);Al.displayName="Navigation";var Tx=D.createContext(null);Tx.displayName="Location";var Lu=D.createContext({outlet:null,matches:[],isDataRoute:!1});Lu.displayName="Route";var K$=D.createContext(null);K$.displayName="RouteError";function ure(e,{relative:t}={}){ur(Cx(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=D.useContext(Al),{hash:i,pathname:o,search:s}=Ex(e,{relative:t}),a=o;return n!=="/"&&(a=o==="/"?n:Eu([n,o])),r.createHref({pathname:a,search:s,hash:i})}function Cx(){return D.useContext(Tx)!=null}function zu(){return ur(Cx(),"useLocation() may be used only in the context of a <Router> component."),D.useContext(Tx).location}var nU="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rU(e){D.useContext(Al).static||D.useLayoutEffect(e)}function iU(){let{isDataRoute:e}=D.useContext(Lu);return e?Sre():cre()}function cre(){ur(Cx(),"useNavigate() may be used only in the context of a <Router> component.");let e=D.useContext(gg),{basename:t,navigator:n}=D.useContext(Al),{matches:r}=D.useContext(Lu),{pathname:i}=zu(),o=JSON.stringify(XB(r)),s=D.useRef(!1);return rU(()=>{s.current=!0}),D.useCallback((l,u={})=>{if(Ma(s.current,nU),!s.current)return;if(typeof l=="number"){n.go(l);return}let d=QB(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Eu([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,o,i,e])}D.createContext(null);function Ex(e,{relative:t}={}){let{matches:n}=D.useContext(Lu),{pathname:r}=zu(),i=JSON.stringify(XB(n));return D.useMemo(()=>QB(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function dre(e,t){return oU(e,t)}function oU(e,t,n,r,i){ur(Cx(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=D.useContext(Al),{matches:s}=D.useContext(Lu),a=s[s.length-1],l=a?a.params:{},u=a?a.pathname:"/",d=a?a.pathnameBase:"/",f=a&&a.route;{let E=f&&f.path||"";sU(u,!f||E.endsWith("*")||E.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${E}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${E}"> to <Route path="${E==="/"?"*":`${E}/*`}">.`)}let g=zu(),m;if(t){let E=typeof t=="string"?mg(t):t;ur(d==="/"||E.pathname?.startsWith(d),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${d}" but pathname "${E.pathname}" was given in the \`location\` prop.`),m=E}else m=g;let b=m.pathname||"/",x=b;if(d!=="/"){let E=d.replace(/^\//,"").split("/");x="/"+b.replace(/^\//,"").split("/").slice(E.length).join("/")}let k=KB(e,{pathname:x});Ma(f||k!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Ma(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=gre(k&&k.map(E=>Object.assign({},E,{params:Object.assign({},l,E.params),pathname:Eu([d,o.encodeLocation?o.encodeLocation(E.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?d:Eu([d,o.encodeLocation?o.encodeLocation(E.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:E.pathnameBase])})),s,n,r,i);return t&&T?D.createElement(Tx.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},T):T}function fre(){let e=wre(),t=ore(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=D.createElement(D.Fragment,null,D.createElement("p",null,"💿 Hey developer 👋"),D.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",D.createElement("code",{style:o},"ErrorBoundary")," or"," ",D.createElement("code",{style:o},"errorElement")," prop on your route.")),D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},t),n?D.createElement("pre",{style:i},n):null,s)}var pre=D.createElement(fre,null),hre=class extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?D.createElement(Lu.Provider,{value:this.props.routeContext},D.createElement(K$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function mre({routeContext:e,match:t,children:n}){let r=D.useContext(gg);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),D.createElement(Lu.Provider,{value:e},n)}function gre(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,s=n?.errors;if(s!=null){let u=o.findIndex(d=>d.route.id&&s?.[d.route.id]!==void 0);ur(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),o=o.slice(0,Math.min(o.length,u+1))}let a=!1,l=-1;if(n)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:f,errors:g}=n,m=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!g||g[d.route.id]===void 0);if(d.route.lazy||m){a=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((u,d,f)=>{let g,m=!1,b=null,x=null;n&&(g=s&&d.route.id?s[d.route.id]:void 0,b=d.route.errorElement||pre,a&&(l<0&&f===0?(sU("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,x=null):l===f&&(m=!0,x=d.route.hydrateFallbackElement||null)));let k=t.concat(o.slice(0,f+1)),T=()=>{let E;return g?E=b:m?E=x:d.route.Component?E=D.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=u,D.createElement(mre,{match:d,routeContext:{outlet:u,matches:k,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?D.createElement(hre,{location:n.location,revalidation:n.revalidation,component:b,error:g,children:T(),routeContext:{outlet:null,matches:k,isDataRoute:!0},unstable_onError:r}):T()},null)}function G$(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yre(e){let t=D.useContext(gg);return ur(t,G$(e)),t}function vre(e){let t=D.useContext(__);return ur(t,G$(e)),t}function bre(e){let t=D.useContext(Lu);return ur(t,G$(e)),t}function Y$(e){let t=bre(e),n=t.matches[t.matches.length-1];return ur(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function xre(){return Y$("useRouteId")}function wre(){let e=D.useContext(K$),t=vre("useRouteError"),n=Y$("useRouteError");return e!==void 0?e:t.errors?.[n]}function Sre(){let{router:e}=yre("useNavigate"),t=Y$("useNavigate"),n=D.useRef(!1);return rU(()=>{n.current=!0}),D.useCallback(async(i,o={})=>{Ma(n.current,nU),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var ED={};function sU(e,t,n){!t&&!ED[e]&&(ED[e]=!0,Ma(!1,n))}D.memo(kre);function kre({routes:e,future:t,state:n,unstable_onError:r}){return oU(e,void 0,n,r,t)}function rI(e){ur(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _re({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){ur(!Cx(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),a=D.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=mg(n));let{pathname:l="/",search:u="",hash:d="",state:f=null,key:g="default"}=n,m=D.useMemo(()=>{let b=Ou(l,s);return b==null?null:{location:{pathname:b,search:u,hash:d,state:f,key:g},navigationType:r}},[s,l,u,d,f,g,r]);return Ma(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:D.createElement(Al.Provider,{value:a},D.createElement(Tx.Provider,{children:t,value:m}))}function Tre({children:e,location:t}){return dre(iI(e),t)}function iI(e,t=[]){let n=[];return D.Children.forEach(e,(r,i)=>{if(!D.isValidElement(r))return;let o=[...t,i];if(r.type===D.Fragment){n.push.apply(n,iI(r.props.children,o));return}ur(r.type===rI,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ur(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=iI(r.props.children,o)),n.push(s)}),n}var bS="get",xS="application/x-www-form-urlencoded";function T_(e){return e!=null&&typeof e.tagName=="string"}function Cre(e){return T_(e)&&e.tagName.toLowerCase()==="button"}function Ere(e){return T_(e)&&e.tagName.toLowerCase()==="form"}function Ire(e){return T_(e)&&e.tagName.toLowerCase()==="input"}function Are(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $re(e,t){return e.button===0&&(!t||t==="_self")&&!Are(e)}function oI(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function Pre(e,t){let n=oI(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(o=>{n.append(i,o)})}),n}var Dw=null;function Mre(){if(Dw===null)try{new FormData(document.createElement("form"),0),Dw=!1}catch{Dw=!0}return Dw}var Ore=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vC(e){return e!=null&&!Ore.has(e)?(Ma(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xS}"`),null):e}function Nre(e,t){let n,r,i,o,s;if(Ere(e)){let a=e.getAttribute("action");r=a?Ou(a,t):null,n=e.getAttribute("method")||bS,i=vC(e.getAttribute("enctype"))||xS,o=new FormData(e)}else if(Cre(e)||Ire(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Ou(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||bS,i=vC(e.getAttribute("formenctype"))||vC(a.getAttribute("enctype"))||xS,o=new FormData(a,e),!Mre()){let{name:u,type:d,value:f}=e;if(d==="image"){let g=u?`${u}.`:"";o.append(`${g}x`,"0"),o.append(`${g}y`,"0")}else u&&o.append(u,f)}}else{if(T_(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bS,r=null,i=xS,s=e}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function X$(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Rre(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ou(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function Dre(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jre(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Lre(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let s=await Dre(o,n);return s.links?s.links():[]}return[]}));return Bre(r.flat(1).filter(jre).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function ID(e,t,n,r,i,o){let s=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>n[u].pathname!==l.pathname||n[u].route.path?.endsWith("*")&&n[u].params["*"]!==l.params["*"];return o==="assets"?t.filter((l,u)=>s(l,u)||a(l,u)):o==="data"?t.filter((l,u)=>{let d=r.routes[l.route.id];if(!d||!d.hasLoader)return!1;if(s(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function zre(e,t,{includeHydrateFallback:n}={}){return Fre(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function Fre(e){return[...new Set(e)]}function Vre(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Bre(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(Vre(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function aU(){let e=D.useContext(gg);return X$(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Ure(){let e=D.useContext(__);return X$(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Q$=D.createContext(void 0);Q$.displayName="FrameworkContext";function lU(){let e=D.useContext(Q$);return X$(e,"You must render this element inside a <HydratedRouter> element"),e}function Zre(e,t){let n=D.useContext(Q$),[r,i]=D.useState(!1),[o,s]=D.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:d,onTouchStart:f}=t,g=D.useRef(null);D.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let x=T=>{T.forEach(E=>{s(E.isIntersecting)})},k=new IntersectionObserver(x,{threshold:.5});return g.current&&k.observe(g.current),()=>{k.disconnect()}}},[e]),D.useEffect(()=>{if(r){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[r]);let m=()=>{i(!0)},b=()=>{i(!1),s(!1)};return n?e!=="intent"?[o,g,{}]:[o,g,{onFocus:ov(a,m),onBlur:ov(l,b),onMouseEnter:ov(u,m),onMouseLeave:ov(d,b),onTouchStart:ov(f,m)}]:[!1,g,{}]}function ov(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Wre({page:e,...t}){let{router:n}=aU(),r=D.useMemo(()=>KB(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?D.createElement(qre,{page:e,matches:r,...t}):null}function Hre(e){let{manifest:t,routeModules:n}=lU(),[r,i]=D.useState([]);return D.useEffect(()=>{let o=!1;return Lre(e,t,n).then(s=>{o||i(s)}),()=>{o=!0}},[e,t,n]),r}function qre({page:e,matches:t,...n}){let r=zu(),{manifest:i,routeModules:o}=lU(),{basename:s}=aU(),{loaderData:a,matches:l}=Ure(),u=D.useMemo(()=>ID(e,t,l,i,r,"data"),[e,t,l,i,r]),d=D.useMemo(()=>ID(e,t,l,i,r,"assets"),[e,t,l,i,r]),f=D.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let b=new Set,x=!1;if(t.forEach(T=>{let E=i.routes[T.route.id];!E||!E.hasLoader||(!u.some($=>$.route.id===T.route.id)&&T.route.id in a&&o[T.route.id]?.shouldRevalidate||E.hasClientLoader?x=!0:b.add(T.route.id))}),b.size===0)return[];let k=Rre(e,s,"data");return x&&b.size>0&&k.searchParams.set("_routes",t.filter(T=>b.has(T.route.id)).map(T=>T.route.id).join(",")),[k.pathname+k.search]},[s,a,r,i,u,t,e,o]),g=D.useMemo(()=>zre(d,i),[d,i]),m=Hre(d);return D.createElement(D.Fragment,null,f.map(b=>D.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),g.map(b=>D.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),m.map(({key:b,link:x})=>D.createElement("link",{key:b,nonce:n.nonce,...x})))}function Jre(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var uU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uU&&(window.__reactRouterVersion="7.9.3")}catch{}function Kre({basename:e,children:t,window:n}){let r=D.useRef();r.current==null&&(r.current=Dne({window:n,v5Compat:!0}));let i=r.current,[o,s]=D.useState({action:i.action,location:i.location}),a=D.useCallback(l=>{D.startTransition(()=>s(l))},[s]);return D.useLayoutEffect(()=>i.listen(a),[i,a]),D.createElement(_re,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var cU=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fs=D.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:d,viewTransition:f,...g},m){let{basename:b}=D.useContext(Al),x=typeof u=="string"&&cU.test(u),k,T=!1;if(typeof u=="string"&&x&&(k=u,uU))try{let q=new URL(window.location.href),Z=u.startsWith("//")?new URL(q.protocol+u):new URL(u),re=Ou(Z.pathname,b);Z.origin===q.origin&&re!=null?u=re+Z.search+Z.hash:T=!0}catch{Ma(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let E=ure(u,{relative:i}),[$,P,M]=Zre(r,g),R=Qre(u,{replace:s,state:a,target:l,preventScrollReset:d,relative:i,viewTransition:f});function z(q){t&&t(q),q.defaultPrevented||R(q)}let F=D.createElement("a",{...g,...M,href:k||E,onClick:T||o?t:z,ref:Jre(m,P),target:l,"data-discover":!x&&n==="render"?"true":void 0});return $&&!x?D.createElement(D.Fragment,null,F,D.createElement(Wre,{page:E})):F});Fs.displayName="Link";var Gre=D.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...u},d){let f=Ex(s,{relative:u.relative}),g=zu(),m=D.useContext(__),{navigator:b,basename:x}=D.useContext(Al),k=m!=null&&oie(f)&&a===!0,T=b.encodeLocation?b.encodeLocation(f).pathname:f.pathname,E=g.pathname,$=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;n||(E=E.toLowerCase(),$=$?$.toLowerCase():null,T=T.toLowerCase()),$&&x&&($=Ou($,x)||$);const P=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let M=E===T||!i&&E.startsWith(T)&&E.charAt(P)==="/",R=$!=null&&($===T||!i&&$.startsWith(T)&&$.charAt(T.length)==="/"),z={isActive:M,isPending:R,isTransitioning:k},F=M?t:void 0,q;typeof r=="function"?q=r(z):q=[r,M?"active":null,R?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let Z=typeof o=="function"?o(z):o;return D.createElement(Fs,{...u,"aria-current":F,className:q,ref:d,style:Z,to:s,viewTransition:a},typeof l=="function"?l(z):l)});Gre.displayName="NavLink";var Yre=D.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:s=bS,action:a,onSubmit:l,relative:u,preventScrollReset:d,viewTransition:f,...g},m)=>{let b=rie(),x=iie(a,{relative:u}),k=s.toLowerCase()==="get"?"get":"post",T=typeof a=="string"&&cU.test(a),E=$=>{if(l&&l($),$.defaultPrevented)return;$.preventDefault();let P=$.nativeEvent.submitter,M=P?.getAttribute("formmethod")||s;b(P||$.currentTarget,{fetcherKey:t,method:M,navigate:n,replace:i,state:o,relative:u,preventScrollReset:d,viewTransition:f})};return D.createElement("form",{ref:m,method:k,action:x,onSubmit:r?l:E,...g,"data-discover":!T&&e==="render"?"true":void 0})});Yre.displayName="Form";function Xre(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dU(e){let t=D.useContext(gg);return ur(t,Xre(e)),t}function Qre(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=iU(),l=zu(),u=Ex(e,{relative:o});return D.useCallback(d=>{if($re(d,t)){d.preventDefault();let f=n!==void 0?n:db(l)===db(u);a(e,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,u,n,r,t,e,i,o,s])}function eie(e){Ma(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=D.useRef(oI(e)),n=D.useRef(!1),r=zu(),i=D.useMemo(()=>Pre(r.search,n.current?null:t.current),[r.search]),o=iU(),s=D.useCallback((a,l)=>{const u=oI(typeof a=="function"?a(new URLSearchParams(i)):a);n.current=!0,o("?"+u,l)},[o,i]);return[i,s]}var tie=0,nie=()=>`__${String(++tie)}__`;function rie(){let{router:e}=dU("useSubmit"),{basename:t}=D.useContext(Al),n=xre();return D.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:u}=Nre(r,t);if(i.navigate===!1){let d=i.fetcherKey||nie();await e.fetch(d,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function iie(e,{relative:t}={}){let{basename:n}=D.useContext(Al),r=D.useContext(Lu);ur(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...Ex(e||".",{relative:t})},s=zu();if(e==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(d=>d==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let d=a.toString();o.search=d?`?${d}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Eu([n,o.pathname])),db(o)}function oie(e,{relative:t}={}){let n=D.useContext(tU);ur(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=dU("useViewTransitionState"),i=Ex(e,{relative:t});if(!n.isTransitioning)return!1;let o=Ou(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Ou(n.nextLocation.pathname,r)||n.nextLocation.pathname;return YS(i.pathname,s)!=null||YS(i.pathname,o)!=null}var fU=JB();const sie=hg(fU);function AD(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function aie(...e){return t=>{let n=!1;const r=e.map(i=>{const o=AD(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():AD(e[i],null)}}}}function pU(e){const t=uie(e),n=D.forwardRef((r,i)=>{const{children:o,...s}=r,a=D.Children.toArray(o),l=a.find(die);if(l){const u=l.props.children,d=a.map(f=>f===l?D.Children.count(u)>1?D.Children.only(null):D.isValidElement(u)?u.props.children:null:f);return O.jsx(t,{...s,ref:i,children:D.isValidElement(u)?D.cloneElement(u,void 0,d):null})}return O.jsx(t,{...s,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}var lie=pU("Slot");function uie(e){const t=D.forwardRef((n,r)=>{const{children:i,...o}=n;if(D.isValidElement(i)){const s=pie(i),a=fie(o,i.props);return i.type!==D.Fragment&&(a.ref=r?aie(r,s):s),D.cloneElement(i,a)}return D.Children.count(i)>1?D.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cie=Symbol("radix.slottable");function die(e){return D.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cie}function fie(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{const l=o(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function pie(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function hU(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=hU(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function mU(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=hU(e))&&(r&&(r+=" "),r+=t);return r}const $D=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,PD=mU,eP=(e,t)=>n=>{var r;if(t?.variants==null)return PD(e,n?.class,n?.className);const{variants:i,defaultVariants:o}=t,s=Object.keys(i).map(u=>{const d=n?.[u],f=o?.[u];if(d===null)return null;const g=$D(d)||$D(f);return i[u][g]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,g]=d;return g===void 0||(u[f]=g),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:g,...m}=d;return Object.entries(m).every(b=>{let[x,k]=b;return Array.isArray(k)?k.includes({...o,...a}[x]):{...o,...a}[x]===k})?[...u,f,g]:u},[]);return PD(e,s,l,n?.class,n?.className)},tP="-",hie=e=>{const t=gie(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const a=s.split(tP);return a[0]===""&&a.length!==1&&a.shift(),gU(a,t)||mie(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},gU=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?gU(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(tP);return t.validators.find(({validator:s})=>s(o))?.classGroupId},MD=/^\[(.+)\]$/,mie=e=>{if(MD.test(e)){const t=MD.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},gie=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return vie(Object.entries(e.classGroups),n).forEach(([o,s])=>{sI(s,r,o,t)}),r},sI=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:OD(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(yie(i)){sI(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{sI(s,OD(t,o),n,r)})})},OD=(e,t)=>{let n=e;return t.split(tP).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},yie=e=>e.isThemeGetter,vie=(e,t)=>t?e.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[t+s,a])):o);return[n,i]}):e,bie=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},yU="!",xie=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],o=t.length,s=a=>{const l=[];let u=0,d=0,f;for(let k=0;k<a.length;k++){let T=a[k];if(u===0){if(T===i&&(r||a.slice(k,k+o)===t)){l.push(a.slice(d,k)),d=k+o;continue}if(T==="/"){f=k;continue}}T==="["?u++:T==="]"&&u--}const g=l.length===0?a:a.substring(d),m=g.startsWith(yU),b=m?g.substring(1):g,x=f&&f>d?f-d:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:s}):s},wie=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Sie=e=>({cache:bie(e.cacheSize),parseClassName:xie(e),...hie(e)}),kie=/\s+/,_ie=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=[],s=e.trim().split(kie);let a="";for(let l=s.length-1;l>=0;l-=1){const u=s[l],{modifiers:d,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:m}=n(u);let b=!!m,x=r(b?g.substring(0,m):g);if(!x){if(!b){a=u+(a.length>0?" "+a:a);continue}if(x=r(g),!x){a=u+(a.length>0?" "+a:a);continue}b=!1}const k=wie(d).join(":"),T=f?k+yU:k,E=T+x;if(o.includes(E))continue;o.push(E);const $=i(x,b);for(let P=0;P<$.length;++P){const M=$[P];o.push(T+M)}a=u+(a.length>0?" "+a:a)}return a};function Tie(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=vU(t))&&(r&&(r+=" "),r+=n);return r}const vU=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=vU(e[r]))&&(n&&(n+=" "),n+=t);return n};function Cie(e,...t){let n,r,i,o=s;function s(l){const u=t.reduce((d,f)=>f(d),e());return n=Sie(u),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=_ie(l,n);return i(l,d),d}return function(){return o(Tie.apply(null,arguments))}}const Kn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},bU=/^\[(?:([a-z-]+):)?(.+)\]$/i,Eie=/^\d+\/\d+$/,Iie=new Set(["px","full","screen"]),Aie=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$ie=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Pie=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Mie=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Oie=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fu=e=>Em(e)||Iie.has(e)||Eie.test(e),Ic=e=>yg(e,"length",Vie),Em=e=>!!e&&!Number.isNaN(Number(e)),bC=e=>yg(e,"number",Em),sv=e=>!!e&&Number.isInteger(Number(e)),Nie=e=>e.endsWith("%")&&Em(e.slice(0,-1)),Rt=e=>bU.test(e),Ac=e=>Aie.test(e),Rie=new Set(["length","size","percentage"]),Die=e=>yg(e,Rie,xU),jie=e=>yg(e,"position",xU),Lie=new Set(["image","url"]),zie=e=>yg(e,Lie,Uie),Fie=e=>yg(e,"",Bie),av=()=>!0,yg=(e,t,n)=>{const r=bU.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},Vie=e=>$ie.test(e)&&!Pie.test(e),xU=()=>!1,Bie=e=>Mie.test(e),Uie=e=>Oie.test(e),Zie=()=>{const e=Kn("colors"),t=Kn("spacing"),n=Kn("blur"),r=Kn("brightness"),i=Kn("borderColor"),o=Kn("borderRadius"),s=Kn("borderSpacing"),a=Kn("borderWidth"),l=Kn("contrast"),u=Kn("grayscale"),d=Kn("hueRotate"),f=Kn("invert"),g=Kn("gap"),m=Kn("gradientColorStops"),b=Kn("gradientColorStopPositions"),x=Kn("inset"),k=Kn("margin"),T=Kn("opacity"),E=Kn("padding"),$=Kn("saturate"),P=Kn("scale"),M=Kn("sepia"),R=Kn("skew"),z=Kn("space"),F=Kn("translate"),q=()=>["auto","contain","none"],Z=()=>["auto","hidden","clip","visible","scroll"],re=()=>["auto",Rt,t],ee=()=>[Rt,t],ne=()=>["",fu,Ic],se=()=>["auto",Em,Rt],ue=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],me=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],J=()=>["start","end","center","between","around","evenly","stretch"],le=()=>["","0",Rt],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Em,Rt];return{cacheSize:500,separator:":",theme:{colors:[av],spacing:[fu,Ic],blur:["none","",Ac,Rt],brightness:G(),borderColor:[e],borderRadius:["none","","full",Ac,Rt],borderSpacing:ee(),borderWidth:ne(),contrast:G(),grayscale:le(),hueRotate:G(),invert:le(),gap:ee(),gradientColorStops:[e],gradientColorStopPositions:[Nie,Ic],inset:re(),margin:re(),opacity:G(),padding:ee(),saturate:G(),scale:G(),sepia:le(),skew:G(),space:ee(),translate:ee()},classGroups:{aspect:[{aspect:["auto","square","video",Rt]}],container:["container"],columns:[{columns:[Ac]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ue(),Rt]}],overflow:[{overflow:Z()}],"overflow-x":[{"overflow-x":Z()}],"overflow-y":[{"overflow-y":Z()}],overscroll:[{overscroll:q()}],"overscroll-x":[{"overscroll-x":q()}],"overscroll-y":[{"overscroll-y":q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sv,Rt]}],basis:[{basis:re()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Rt]}],grow:[{grow:le()}],shrink:[{shrink:le()}],order:[{order:["first","last","none",sv,Rt]}],"grid-cols":[{"grid-cols":[av]}],"col-start-end":[{col:["auto",{span:["full",sv,Rt]},Rt]}],"col-start":[{"col-start":se()}],"col-end":[{"col-end":se()}],"grid-rows":[{"grid-rows":[av]}],"row-start-end":[{row:["auto",{span:[sv,Rt]},Rt]}],"row-start":[{"row-start":se()}],"row-end":[{"row-end":se()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Rt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Rt]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...J()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...J(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...J(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[k]}],mx:[{mx:[k]}],my:[{my:[k]}],ms:[{ms:[k]}],me:[{me:[k]}],mt:[{mt:[k]}],mr:[{mr:[k]}],mb:[{mb:[k]}],ml:[{ml:[k]}],"space-x":[{"space-x":[z]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[z]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Rt,t]}],"min-w":[{"min-w":[Rt,t,"min","max","fit"]}],"max-w":[{"max-w":[Rt,t,"none","full","min","max","fit","prose",{screen:[Ac]},Ac]}],h:[{h:[Rt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Rt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Rt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Rt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ac,Ic]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",bC]}],"font-family":[{font:[av]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Rt]}],"line-clamp":[{"line-clamp":["none",Em,bC]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fu,Rt]}],"list-image":[{"list-image":["none",Rt]}],"list-style-type":[{list:["none","disc","decimal",Rt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[T]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[T]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...me(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fu,Ic]}],"underline-offset":[{"underline-offset":["auto",fu,Rt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:ee()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Rt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Rt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[T]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ue(),jie]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Die]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},zie]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[T]}],"border-style":[{border:[...me(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[T]}],"divide-style":[{divide:me()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...me()]}],"outline-offset":[{"outline-offset":[fu,Rt]}],"outline-w":[{outline:[fu,Ic]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[T]}],"ring-offset-w":[{"ring-offset":[fu,Ic]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ac,Fie]}],"shadow-color":[{shadow:[av]}],opacity:[{opacity:[T]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ac,Rt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[$]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[T]}],"backdrop-saturate":[{"backdrop-saturate":[$]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Rt]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Rt]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Rt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[sv,Rt]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Rt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Rt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ee()}],"scroll-mx":[{"scroll-mx":ee()}],"scroll-my":[{"scroll-my":ee()}],"scroll-ms":[{"scroll-ms":ee()}],"scroll-me":[{"scroll-me":ee()}],"scroll-mt":[{"scroll-mt":ee()}],"scroll-mr":[{"scroll-mr":ee()}],"scroll-mb":[{"scroll-mb":ee()}],"scroll-ml":[{"scroll-ml":ee()}],"scroll-p":[{"scroll-p":ee()}],"scroll-px":[{"scroll-px":ee()}],"scroll-py":[{"scroll-py":ee()}],"scroll-ps":[{"scroll-ps":ee()}],"scroll-pe":[{"scroll-pe":ee()}],"scroll-pt":[{"scroll-pt":ee()}],"scroll-pr":[{"scroll-pr":ee()}],"scroll-pb":[{"scroll-pb":ee()}],"scroll-pl":[{"scroll-pl":ee()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Rt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[fu,Ic,bC]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Wie=Cie(Zie);function Fa(...e){return Wie(mU(e))}const Hie=eP("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),zc=D.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},o)=>{const s=r?lie:"button";return O.jsx(s,{className:Fa(Hie({variant:t,size:n,className:e})),ref:o,...i})});zc.displayName="Button";function wU(){const t=zu().pathname==="/";return O.jsx("header",{className:"border-b border-border/50 bg-background/80 backdrop-blur-sm sticky top-0 z-50",children:O.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[O.jsx("div",{className:"flex items-center space-x-2",children:O.jsxs(Fs,{to:"/",className:"flex items-center space-x-2",children:[O.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:O.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:"AI"})}),O.jsx("span",{className:"text-xl font-semibold text-foreground",children:"DailyDigest"})]})}),O.jsx("nav",{className:"hidden md:flex items-center space-x-8",children:t?O.jsxs(O.Fragment,{children:[O.jsx("a",{href:"#features",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Features"}),O.jsx(Fs,{to:"/briefing",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Demo Briefing"}),O.jsx("a",{href:"#signup",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Get Started"})]}):O.jsxs(O.Fragment,{children:[O.jsx(Fs,{to:"/",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Home"}),O.jsx(Fs,{to:"/#features",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Features"}),O.jsx(Fs,{to:"/briefing",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Demo Briefing"}),O.jsx(Fs,{to:"/#signup",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Get Started"})]})}),O.jsx(zc,{variant:"outline",size:"sm",children:"Sign In"})]})})}/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qie=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SU=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Jie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kie=D.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>D.createElement("svg",{ref:l,...Jie,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:SU("lucide",i),...a},[...s.map(([u,d])=>D.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=(e,t)=>{const n=D.forwardRef(({className:r,...i},o)=>D.createElement(Kie,{ref:o,iconNode:t,className:SU(`lucide-${qie(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=Rr("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gie=Rr("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=Rr("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=Rr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yie=Rr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xie=Rr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qie=Rr("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eoe=Rr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toe=Rr("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const noe=Rr("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const roe=Rr("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ioe=Rr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ooe=Rr("SendHorizontal",[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const soe=Rr("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=Rr("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aoe=Rr("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const loe=Rr("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=Rr("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=Rr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uoe=Rr("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function coe(){return O.jsxs("section",{className:"relative py-20 lg:py-32 overflow-hidden",children:[O.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-background to-background"}),O.jsx("div",{className:"container mx-auto px-4 relative",children:O.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[O.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20 mb-8",children:[O.jsx(TU,{className:"h-4 w-4 text-primary"}),O.jsx("span",{className:"text-sm font-medium text-primary",children:"Executive-level intelligence for everyone"})]}),O.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-bold text-foreground mb-6 text-balance",children:["Get Your Daily News",O.jsx("span",{className:"text-primary block",children:"Like a CEO"})]}),O.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground mb-8 text-pretty max-w-3xl mx-auto leading-relaxed",children:"Stop scrolling through social media for news. Get AI-curated briefings tailored to your interests, just like executives get from their staff."}),O.jsxs("div",{className:"flex flex-wrap justify-center gap-8 mb-12 text-sm",children:[O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(CU,{className:"h-4 w-4 text-primary"}),O.jsx("span",{className:"text-muted-foreground",children:"10,000+ professionals trust us"})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx(loe,{className:"h-4 w-4 text-primary"}),O.jsx("span",{className:"text-muted-foreground",children:"95% more informed readers"})]})]}),O.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[O.jsxs(zc,{size:"lg",className:"text-lg px-8 py-6 h-auto",onClick:()=>{const e=document.getElementById("signup");e&&e.scrollIntoView({behavior:"smooth"})},children:["Start Your Free Briefing",O.jsx(kU,{className:"ml-2 h-5 w-5"})]}),O.jsx(Fs,{to:"/briefing",children:O.jsx(zc,{variant:"outline",size:"lg",className:"text-lg px-8 py-6 h-auto bg-transparent",children:"View Demo Briefing"})})]}),O.jsx("p",{className:"text-sm text-muted-foreground mt-8",children:"No spam, no clickbait. Just the news that matters to you."})]})})]})}const Im=D.forwardRef(({className:e,...t},n)=>O.jsx("div",{ref:n,className:Fa("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Im.displayName="Card";const pb=D.forwardRef(({className:e,...t},n)=>O.jsx("div",{ref:n,className:Fa("flex flex-col space-y-1.5 p-6",e),...t}));pb.displayName="CardHeader";const hb=D.forwardRef(({className:e,...t},n)=>O.jsx("h3",{ref:n,className:Fa("text-2xl font-semibold leading-none tracking-tight",e),...t}));hb.displayName="CardTitle";const doe=D.forwardRef(({className:e,...t},n)=>O.jsx("p",{ref:n,className:Fa("text-sm text-muted-foreground",e),...t}));doe.displayName="CardDescription";const Am=D.forwardRef(({className:e,...t},n)=>O.jsx("div",{ref:n,className:Fa("p-6 pt-0",e),...t}));Am.displayName="CardContent";const foe=D.forwardRef(({className:e,...t},n)=>O.jsx("div",{ref:n,className:Fa("flex items-center p-6 pt-0",e),...t}));foe.displayName="CardFooter";const poe=eP("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function XS({className:e,variant:t,...n}){return O.jsx("div",{className:Fa(poe({variant:t}),e),...n})}function hoe(){const e=[{icon:_U,title:"AI-Powered Curation",description:"Advanced algorithms analyze thousands of sources to find articles that match your specific interests and expertise level.",badge:"Smart"},{icon:aoe,title:"Personalized Topics",description:"Define your interests with detailed descriptions. Get news about 'renewable energy policy' not just 'energy'.",badge:"Precise"},{icon:Qie,title:"Daily Briefings",description:"Receive your personalized news digest every morning, formatted like executive briefings with key insights.",badge:"Consistent"},{icon:soe,title:"Quality Sources",description:"We prioritize credible journalism from established publications, filtering out clickbait and misinformation.",badge:"Trusted"},{icon:uoe,title:"Quick Insights",description:"Each article comes with AI-generated summaries and context, so you understand why it matters.",badge:"Efficient"},{icon:CU,title:"Professional Focus",description:"Built for knowledge workers who need to stay informed without getting lost in social media rabbit holes.",badge:"Professional"}];return O.jsx("section",{id:"features",className:"py-20 lg:py-32 bg-muted/30",children:O.jsxs("div",{className:"container mx-auto px-4",children:[O.jsxs("div",{className:"max-w-3xl mx-auto text-center mb-16",children:[O.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-6 text-balance",children:["News Intelligence,",O.jsx("span",{className:"text-primary",children:" Reimagined"})]}),O.jsx("p",{className:"text-xl text-muted-foreground text-pretty",children:"Move beyond social media algorithms. Get the executive-level news experience you deserve."})]}),O.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-7xl mx-auto",children:e.map((t,n)=>O.jsxs(Im,{className:"border-border/50 bg-background/50 backdrop-blur-sm hover:bg-background/80 transition-all duration-300",children:[O.jsxs(pb,{children:[O.jsxs("div",{className:"flex items-center justify-between mb-4",children:[O.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:O.jsx(t.icon,{className:"h-6 w-6 text-primary"})}),O.jsx(XS,{variant:"secondary",className:"text-xs",children:t.badge})]}),O.jsx(hb,{className:"text-xl text-foreground",children:t.title})]}),O.jsx(Am,{children:O.jsx("p",{className:"text-muted-foreground leading-relaxed",children:t.description})})]},n))})]})})}const aI=D.forwardRef(({className:e,type:t,...n},r)=>O.jsx("input",{type:t,className:Fa("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));aI.displayName="Input";var moe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],goe=moe.reduce((e,t)=>{const n=pU(`Primitive.${t}`),r=D.forwardRef((i,o)=>{const{asChild:s,...a}=i,l=s?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),O.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),yoe="Label",EU=D.forwardRef((e,t)=>O.jsx(goe.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));EU.displayName=yoe;var IU=EU;const voe=eP("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),wS=D.forwardRef(({className:e,...t},n)=>O.jsx(IU,{ref:n,className:Fa(voe(),e),...t}));wS.displayName=IU.displayName;const AU=D.forwardRef(({className:e,...t},n)=>O.jsx("textarea",{className:Fa("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));AU.displayName="Textarea";function boe(){const[e,t]=D.useState(""),[n,r]=D.useState([{id:"1",topic:"",description:""}]),[i,o]=D.useState(!1),[s,a]=D.useState(null),[l,u]=D.useState(!1),d=()=>{const b={id:Date.now().toString(),topic:"",description:""};r([...n,b])},f=b=>{n.length>1&&r(n.filter(x=>x.id!==b))},g=(b,x,k)=>{r(n.map(T=>T.id===b?{...T,[x]:k}:T))},m=async b=>{b.preventDefault(),a(null),u(!1),o(!0);try{const x={email:e.trim(),interests:n.filter(E=>E.topic.trim().length>0).map(E=>({topic:E.topic.trim(),explanation:E.description.trim()}))},T=await fetch("https://daily-digest-demo.zackaryia.workers.dev/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(console.log(T),!T.ok){const E=await T.text().catch(()=>"");throw new Error(E||`Request failed with status ${T.status}`)}u(!0),t(""),r([{id:Date.now().toString(),topic:"",description:""}])}catch(x){a(String(x?.message||x||"Failed to register"))}finally{o(!1)}};return O.jsx("section",{id:"signup",className:"py-20 lg:py-32",children:O.jsx("div",{className:"container mx-auto px-4",children:O.jsxs("div",{className:"max-w-4xl mx-auto",children:[O.jsxs("div",{className:"text-center mb-12",children:[O.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 border border-primary/20 mb-6",children:[O.jsx(TU,{className:"h-4 w-4 text-primary"}),O.jsx("span",{className:"text-sm font-medium text-primary",children:"Start your intelligent news journey"})]}),O.jsxs("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-foreground mb-6 text-balance",children:["Get Started in",O.jsx("span",{className:"text-primary",children:" 2 Minutes"})]}),O.jsx("p",{className:"text-xl text-muted-foreground text-pretty max-w-2xl mx-auto",children:"Tell us what you care about, and we'll deliver personalized briefings to your inbox every morning."})]}),O.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-start",children:[O.jsxs(Im,{className:"border-border",children:[O.jsx(pb,{children:O.jsxs(hb,{className:"flex items-center gap-2 text-foreground",children:[O.jsx(noe,{className:"h-5 w-5 text-primary"}),"Create Your Briefing Profile"]})}),O.jsx(Am,{children:O.jsxs("form",{onSubmit:m,className:"space-y-6",children:[O.jsxs("div",{className:"space-y-2",children:[O.jsx(wS,{htmlFor:"email",className:"text-foreground",children:"Email Address"}),O.jsx(aI,{id:"email",type:"email",placeholder:"your@email.com",value:e,onChange:b=>t(b.target.value),required:!0,className:"bg-background border-border"})]}),O.jsxs("div",{className:"space-y-4",children:[O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsx(wS,{className:"text-foreground",children:"Your Interests"}),O.jsxs(XS,{variant:"secondary",className:"text-xs",children:[n.length," topic",n.length!==1?"s":""]})]}),n.map((b,x)=>O.jsx(Im,{className:"border-border/50 bg-muted/30",children:O.jsx(Am,{className:"pt-4",children:O.jsxs("div",{className:"space-y-3",children:[O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsxs(wS,{className:"text-sm font-medium text-foreground",children:["Interest #",x+1]}),n.length>1&&O.jsx(zc,{type:"button",variant:"ghost",size:"sm",onClick:()=>f(b.id),className:"h-8 w-8 p-0 text-muted-foreground hover:text-destructive",children:O.jsx(fb,{className:"h-4 w-4"})})]}),O.jsx(aI,{placeholder:"e.g., Artificial Intelligence, Climate Policy, Fintech",value:b.topic,onChange:k=>g(b.id,"topic",k.target.value),className:"bg-background border-border"}),O.jsx(AU,{placeholder:"Describe what aspects interest you most (e.g., 'Focus on AI safety research and regulation, especially in healthcare applications')",value:b.description,onChange:k=>g(b.id,"description",k.target.value),className:"bg-background border-border min-h-[80px] resize-none"})]})})},b.id)),O.jsxs(zc,{type:"button",variant:"outline",onClick:d,className:"w-full border-dashed border-border hover:border-primary hover:text-primary bg-transparent",children:[O.jsx(ioe,{className:"h-4 w-4 mr-2"}),"Add Another Interest"]})]}),s&&O.jsx("p",{className:"text-sm text-destructive",children:s}),l&&O.jsx("p",{className:"text-sm text-green-600",children:"Registration successful!"}),O.jsxs(zc,{type:"submit",className:"w-full",size:"lg",disabled:i,children:[i?"Submitting...":"Start My Daily Briefings",O.jsx(kU,{className:"ml-2 h-4 w-4"})]})]})})]}),O.jsxs("div",{className:"space-y-6",children:[O.jsxs(Im,{className:"border-border bg-primary/5",children:[O.jsx(pb,{children:O.jsx(hb,{className:"text-foreground",children:"What You'll Get"})}),O.jsxs(Am,{className:"space-y-4",children:[O.jsxs("div",{className:"flex items-start gap-3",children:[O.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),O.jsxs("div",{children:[O.jsx("p",{className:"font-medium text-foreground",children:"Daily Morning Briefing"}),O.jsx("p",{className:"text-sm text-muted-foreground",children:"Delivered to your inbox by 7 AM"})]})]}),O.jsxs("div",{className:"flex items-start gap-3",children:[O.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),O.jsxs("div",{children:[O.jsx("p",{className:"font-medium text-foreground",children:"Personalized Content"}),O.jsx("p",{className:"text-sm text-muted-foreground",children:"Tailored to your specific interests"})]})]}),O.jsxs("div",{className:"flex items-start gap-3",children:[O.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),O.jsxs("div",{children:[O.jsx("p",{className:"font-medium text-foreground",children:"AI Insights"}),O.jsx("p",{className:"text-sm text-muted-foreground",children:"Context and analysis for each story"})]})]}),O.jsxs("div",{className:"flex items-start gap-3",children:[O.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),O.jsxs("div",{children:[O.jsx("p",{className:"font-medium text-foreground",children:"Quality Sources"}),O.jsx("p",{className:"text-sm text-muted-foreground",children:"Credible journalism, no clickbait"})]})]})]})]}),O.jsxs("div",{className:"text-center",children:[O.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Want to see what a briefing looks like first?"}),O.jsx(Fs,{to:"/briefing",children:O.jsx(zc,{variant:"outline",className:"w-full bg-transparent",children:"View Sample Briefing"})})]})]})]})]})})})}function $U(){return O.jsx("footer",{className:"border-t border-border bg-muted/30",children:O.jsxs("div",{className:"container mx-auto px-4 py-12",children:[O.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[O.jsxs("div",{className:"space-y-4",children:[O.jsxs(Fs,{to:"/",className:"flex items-center space-x-2",children:[O.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:O.jsx("span",{className:"text-primary-foreground font-bold text-sm",children:"AI"})}),O.jsx("span",{className:"text-xl font-semibold text-foreground",children:"DailyDigest"})]}),O.jsx("p",{className:"text-sm text-muted-foreground",children:"Executive-level news intelligence for everyone. Stay informed without the noise."})]}),O.jsxs("div",{className:"space-y-4",children:[O.jsx("h3",{className:"font-semibold text-foreground",children:"Product"}),O.jsxs("ul",{className:"space-y-2 text-sm",children:[O.jsx("li",{children:O.jsx("a",{href:"#features",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Features"})}),O.jsx("li",{children:O.jsx(Fs,{to:"/briefing",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Demo Briefing"})}),O.jsx("li",{children:O.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Pricing"})})]})]}),O.jsxs("div",{className:"space-y-4",children:[O.jsx("h3",{className:"font-semibold text-foreground",children:"Company"}),O.jsxs("ul",{className:"space-y-2 text-sm",children:[O.jsx("li",{children:O.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground transition-colors",children:"About"})}),O.jsx("li",{children:O.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Blog"})}),O.jsx("li",{children:O.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Careers"})})]})]}),O.jsxs("div",{className:"space-y-4",children:[O.jsx("h3",{className:"font-semibold text-foreground",children:"Support"}),O.jsxs("ul",{className:"space-y-2 text-sm",children:[O.jsx("li",{children:O.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Help Center"})}),O.jsx("li",{children:O.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Contact"})}),O.jsx("li",{children:O.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground transition-colors",children:"Privacy"})})]})]})]}),O.jsx("div",{className:"border-t border-border mt-12 pt-8 text-center",children:O.jsx("p",{className:"text-sm text-muted-foreground",children:"© 2025 DailyDigest. All rights reserved."})})]})})}function xoe(){return O.jsxs("div",{className:"min-h-screen bg-background",children:[O.jsx(wU,{}),O.jsxs("main",{children:[O.jsx(coe,{}),O.jsx(hoe,{}),O.jsx(boe,{})]}),O.jsx($U,{})]})}const ND=e=>{let t;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(t):u;if(!Object.is(f,t)){const g=t;t=d??(typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(m=>m(t,g))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>l,subscribe:u=>(n.add(u),()=>n.delete(u))},l=t=e(r,i,a);return a},woe=(e=>e?ND(e):ND),Soe=e=>e;function koe(e,t=Soe){const n=Xt.useSyncExternalStore(e.subscribe,Xt.useCallback(()=>t(e.getState()),[e,t]),Xt.useCallback(()=>t(e.getInitialState()),[e,t]));return Xt.useDebugValue(n),n}const RD=e=>{const t=woe(e),n=r=>koe(t,r);return Object.assign(n,t),n},_oe=(e=>e?RD(e):RD);var Tv={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Toe=Tv.exports,DD;function Coe(){return DD||(DD=1,(function(e,t){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",f=1,g=2,m=4,b=1,x=2,k=1,T=2,E=4,$=8,P=16,M=32,R=64,z=128,F=256,q=512,Z=30,re="...",ee=800,ne=16,se=1,ue=2,me=3,ie=1/0,J=9007199254740991,le=17976931348623157e292,B=NaN,G=4294967295,H=G-1,W=G>>>1,Ie=[["ary",z],["bind",k],["bindKey",T],["curry",$],["curryRight",P],["flip",q],["partial",M],["partialRight",R],["rearg",F]],Ce="[object Arguments]",Ae="[object Array]",$e="[object AsyncFunction]",je="[object Boolean]",Xe="[object Date]",Pt="[object DOMException]",en="[object Error]",_n="[object Function]",tn="[object GeneratorFunction]",kt="[object Map]",st="[object Number]",Kt="[object Null]",lt="[object Object]",jn="[object Promise]",Ue="[object Proxy]",Gt="[object RegExp]",Tn="[object Set]",Ht="[object String]",Ir="[object Symbol]",ms="[object Undefined]",xi="[object WeakMap]",ye="[object WeakSet]",_e="[object ArrayBuffer]",nt="[object DataView]",ht="[object Float32Array]",_t="[object Float64Array]",In="[object Int8Array]",vn="[object Int16Array]",Ln="[object Int32Array]",Zr="[object Uint8Array]",Wr="[object Uint8ClampedArray]",Yn="[object Uint16Array]",wi="[object Uint32Array]",oi=/\b__p \+= '';/g,Va=/\b(__p \+=) '' \+/g,Nl=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Bo=/&(?:amp|lt|gt|quot|#39);/g,Uo=/[&<>"']/g,ta=RegExp(Bo.source),Si=RegExp(Uo.source),Uu=/<%-([\s\S]+?)%>/g,vd=/<%([\s\S]+?)%>/g,ki=/<%=([\s\S]+?)%>/g,Zu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ct=/^\w*$/,Hn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zo=/[\\^$.*+?()[\]{}|]/g,Wo=RegExp(Zo.source),Ba=/^\s+/,si=/\s/,Rl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,cr=/\{\n\/\* \[wrapped with (.+)\] \*/,Dl=/,? & /,lT=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,uT=/[()=,{}\[\]\/\s]/,cT=/\\(\\)?/g,jl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,jg=/\w*$/,s0=/^[-+]0x[0-9a-f]+$/i,dT=/^0b[01]+$/i,a0=/^\[object .+?Constructor\]$/,l0=/^0o[0-7]+$/i,u0=/^(?:0|[1-9]\d*)$/,c0=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Cp=/($^)/,fT=/['\n\r\u2028\u2029\\]/g,zn="\\ud800-\\udfff",pT="\\u0300-\\u036f",Lg="\\ufe20-\\ufe2f",d0="\\u20d0-\\u20ff",bd=pT+Lg+d0,f0="\\u2700-\\u27bf",zg="a-z\\xdf-\\xf6\\xf8-\\xff",Ep="\\xac\\xb1\\xd7\\xf7",gs="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",hT="\\u2000-\\u206f",Ho=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p0="A-Z\\xc0-\\xd6\\xd8-\\xde",h0="\\ufe0e\\ufe0f",m0=Ep+gs+hT+Ho,Wu="['’]",Ip="["+zn+"]",Hu="["+m0+"]",Ll="["+bd+"]",g0="\\d+",mT="["+f0+"]",Ap="["+zg+"]",Fg="[^"+zn+m0+g0+f0+zg+p0+"]",xd="\\ud83c[\\udffb-\\udfff]",wd="(?:"+Ll+"|"+xd+")",y0="[^"+zn+"]",Sd="(?:\\ud83c[\\udde6-\\uddff]){2}",fn="[\\ud800-\\udbff][\\udc00-\\udfff]",zl="["+p0+"]",Vg="\\u200d",$p="(?:"+Ap+"|"+Fg+")",v0="(?:"+zl+"|"+Fg+")",Bg="(?:"+Wu+"(?:d|ll|m|re|s|t|ve))?",Ug="(?:"+Wu+"(?:D|LL|M|RE|S|T|VE))?",Pp=wd+"?",kd="["+h0+"]?",Ua="(?:"+Vg+"(?:"+[y0,Sd,fn].join("|")+")"+kd+Pp+")*",Za="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Wa="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",qu=kd+Pp+Ua,_d="(?:"+[mT,Sd,fn].join("|")+")"+qu,Ha="(?:"+[y0+Ll+"?",Ll,Sd,fn,Ip].join("|")+")",gT=RegExp(Wu,"g"),b0=RegExp(Ll,"g"),Fl=RegExp(xd+"(?="+xd+")|"+Ha+qu,"g"),yT=RegExp([zl+"?"+Ap+"+"+Bg+"(?="+[Hu,zl,"$"].join("|")+")",v0+"+"+Ug+"(?="+[Hu,zl+$p,"$"].join("|")+")",zl+"?"+$p+"+"+Bg,zl+"+"+Ug,Wa,Za,g0,_d].join("|"),"g"),x0=RegExp("["+Vg+zn+bd+h0+"]"),Mp=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,w0=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],vT=-1,bn={};bn[ht]=bn[_t]=bn[In]=bn[vn]=bn[Ln]=bn[Zr]=bn[Wr]=bn[Yn]=bn[wi]=!0,bn[Ce]=bn[Ae]=bn[_e]=bn[je]=bn[nt]=bn[Xe]=bn[en]=bn[_n]=bn[kt]=bn[st]=bn[lt]=bn[Gt]=bn[Tn]=bn[Ht]=bn[xi]=!1;var gn={};gn[Ce]=gn[Ae]=gn[_e]=gn[nt]=gn[je]=gn[Xe]=gn[ht]=gn[_t]=gn[In]=gn[vn]=gn[Ln]=gn[kt]=gn[st]=gn[lt]=gn[Gt]=gn[Tn]=gn[Ht]=gn[Ir]=gn[Zr]=gn[Wr]=gn[Yn]=gn[wi]=!0,gn[en]=gn[_n]=gn[xi]=!1;var Ju={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Op={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bT={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},xT={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Zg=parseFloat,Np=parseInt,Rp=typeof Nw=="object"&&Nw&&Nw.Object===Object&&Nw,S0=typeof self=="object"&&self&&self.Object===Object&&self,Fn=Rp||S0||Function("return this")(),Td=t&&!t.nodeType&&t,ys=Td&&!0&&e&&!e.nodeType&&e,Wg=ys&&ys.exports===Td,Ku=Wg&&Rp.process,ai=(function(){try{var oe=ys&&ys.require&&ys.require("util").types;return oe||Ku&&Ku.binding&&Ku.binding("util")}catch{}})(),Hg=ai&&ai.isArrayBuffer,_i=ai&&ai.isDate,Vl=ai&&ai.isMap,Dp=ai&&ai.isRegExp,Gu=ai&&ai.isSet,k0=ai&&ai.isTypedArray;function li(oe,ve,pe){switch(pe.length){case 0:return oe.call(ve);case 1:return oe.call(ve,pe[0]);case 2:return oe.call(ve,pe[0],pe[1]);case 3:return oe.call(ve,pe[0],pe[1],pe[2])}return oe.apply(ve,pe)}function qg(oe,ve,pe,Ve){for(var xt=-1,on=oe==null?0:oe.length;++xt<on;){var dr=oe[xt];ve(Ve,dr,pe(dr),oe)}return Ve}function Hr(oe,ve){for(var pe=-1,Ve=oe==null?0:oe.length;++pe<Ve&&ve(oe[pe],pe,oe)!==!1;);return oe}function jp(oe,ve){for(var pe=oe==null?0:oe.length;pe--&&ve(oe[pe],pe,oe)!==!1;);return oe}function Jg(oe,ve){for(var pe=-1,Ve=oe==null?0:oe.length;++pe<Ve;)if(!ve(oe[pe],pe,oe))return!1;return!0}function qa(oe,ve){for(var pe=-1,Ve=oe==null?0:oe.length,xt=0,on=[];++pe<Ve;){var dr=oe[pe];ve(dr,pe,oe)&&(on[xt++]=dr)}return on}function Lp(oe,ve){var pe=oe==null?0:oe.length;return!!pe&&Yu(oe,ve,0)>-1}function Kg(oe,ve,pe){for(var Ve=-1,xt=oe==null?0:oe.length;++Ve<xt;)if(pe(ve,oe[Ve]))return!0;return!1}function An(oe,ve){for(var pe=-1,Ve=oe==null?0:oe.length,xt=Array(Ve);++pe<Ve;)xt[pe]=ve(oe[pe],pe,oe);return xt}function Ja(oe,ve){for(var pe=-1,Ve=ve.length,xt=oe.length;++pe<Ve;)oe[xt+pe]=ve[pe];return oe}function Gg(oe,ve,pe,Ve){var xt=-1,on=oe==null?0:oe.length;for(Ve&&on&&(pe=oe[++xt]);++xt<on;)pe=ve(pe,oe[xt],xt,oe);return pe}function wT(oe,ve,pe,Ve){var xt=oe==null?0:oe.length;for(Ve&&xt&&(pe=oe[--xt]);xt--;)pe=ve(pe,oe[xt],xt,oe);return pe}function Yg(oe,ve){for(var pe=-1,Ve=oe==null?0:oe.length;++pe<Ve;)if(ve(oe[pe],pe,oe))return!0;return!1}var ST=Qg("length");function _0(oe){return oe.split("")}function kT(oe){return oe.match(lT)||[]}function T0(oe,ve,pe){var Ve;return pe(oe,function(xt,on,dr){if(ve(xt,on,dr))return Ve=on,!1}),Ve}function zp(oe,ve,pe,Ve){for(var xt=oe.length,on=pe+(Ve?1:-1);Ve?on--:++on<xt;)if(ve(oe[on],on,oe))return on;return-1}function Yu(oe,ve,pe){return ve===ve?Bp(oe,ve,pe):zp(oe,C0,pe)}function Xg(oe,ve,pe,Ve){for(var xt=pe-1,on=oe.length;++xt<on;)if(Ve(oe[xt],ve))return xt;return-1}function C0(oe){return oe!==oe}function E0(oe,ve){var pe=oe==null?0:oe.length;return pe?ey(oe,ve)/pe:B}function Qg(oe){return function(ve){return ve==null?n:ve[oe]}}function Fp(oe){return function(ve){return oe==null?n:oe[ve]}}function I0(oe,ve,pe,Ve,xt){return xt(oe,function(on,dr,wn){pe=Ve?(Ve=!1,on):ve(pe,on,dr,wn)}),pe}function _T(oe,ve){var pe=oe.length;for(oe.sort(ve);pe--;)oe[pe]=oe[pe].value;return oe}function ey(oe,ve){for(var pe,Ve=-1,xt=oe.length;++Ve<xt;){var on=ve(oe[Ve]);on!==n&&(pe=pe===n?on:pe+on)}return pe}function ty(oe,ve){for(var pe=-1,Ve=Array(oe);++pe<oe;)Ve[pe]=ve(pe);return Ve}function TT(oe,ve){return An(ve,function(pe){return[pe,oe[pe]]})}function A0(oe){return oe&&oe.slice(0,Up(oe)+1).replace(Ba,"")}function Ui(oe){return function(ve){return oe(ve)}}function Cd(oe,ve){return An(ve,function(pe){return oe[pe]})}function na(oe,ve){return oe.has(ve)}function $0(oe,ve){for(var pe=-1,Ve=oe.length;++pe<Ve&&Yu(ve,oe[pe],0)>-1;);return pe}function ny(oe,ve){for(var pe=oe.length;pe--&&Yu(ve,oe[pe],0)>-1;);return pe}function P0(oe,ve){for(var pe=oe.length,Ve=0;pe--;)oe[pe]===ve&&++Ve;return Ve}var M0=Fp(Ju),O0=Fp(Op);function N0(oe){return"\\"+xT[oe]}function Xu(oe,ve){return oe==null?n:oe[ve]}function Qu(oe){return x0.test(oe)}function CT(oe){return Mp.test(oe)}function ET(oe){for(var ve,pe=[];!(ve=oe.next()).done;)pe.push(ve.value);return pe}function Vp(oe){var ve=-1,pe=Array(oe.size);return oe.forEach(function(Ve,xt){pe[++ve]=[xt,Ve]}),pe}function ry(oe,ve){return function(pe){return oe(ve(pe))}}function po(oe,ve){for(var pe=-1,Ve=oe.length,xt=0,on=[];++pe<Ve;){var dr=oe[pe];(dr===ve||dr===d)&&(oe[pe]=d,on[xt++]=pe)}return on}function Ka(oe){var ve=-1,pe=Array(oe.size);return oe.forEach(function(Ve){pe[++ve]=Ve}),pe}function IT(oe){var ve=-1,pe=Array(oe.size);return oe.forEach(function(Ve){pe[++ve]=[Ve,Ve]}),pe}function Bp(oe,ve,pe){for(var Ve=pe-1,xt=oe.length;++Ve<xt;)if(oe[Ve]===ve)return Ve;return-1}function AT(oe,ve,pe){for(var Ve=pe+1;Ve--;)if(oe[Ve]===ve)return Ve;return Ve}function Bl(oe){return Qu(oe)?D0(oe):ST(oe)}function Zi(oe){return Qu(oe)?j0(oe):_0(oe)}function Up(oe){for(var ve=oe.length;ve--&&si.test(oe.charAt(ve)););return ve}var R0=Fp(bT);function D0(oe){for(var ve=Fl.lastIndex=0;Fl.test(oe);)++ve;return ve}function j0(oe){return oe.match(Fl)||[]}function $T(oe){return oe.match(yT)||[]}var PT=(function oe(ve){ve=ve==null?Fn:ec.defaults(Fn.Object(),ve,ec.pick(Fn,w0));var pe=ve.Array,Ve=ve.Date,xt=ve.Error,on=ve.Function,dr=ve.Math,wn=ve.Object,Ed=ve.RegExp,MT=ve.String,ho=ve.TypeError,ra=pe.prototype,iy=on.prototype,vs=wn.prototype,tc=ve["__core-js_shared__"],Id=iy.toString,sn=vs.hasOwnProperty,nc=0,Zp=(function(){var h=/[^.]+$/.exec(tc&&tc.keys&&tc.keys.IE_PROTO||"");return h?"Symbol(src)_1."+h:""})(),Ad=vs.toString,Wp=Id.call(wn),L0=Fn._,z0=Ed("^"+Id.call(sn).replace(Zo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$d=Wg?ve.Buffer:n,ia=ve.Symbol,Pd=ve.Uint8Array,oy=$d?$d.allocUnsafe:n,qo=ry(wn.getPrototypeOf,wn),Hp=wn.create,qp=vs.propertyIsEnumerable,Jp=ra.splice,F0=ia?ia.isConcatSpreadable:n,oa=ia?ia.iterator:n,Ul=ia?ia.toStringTag:n,Md=(function(){try{var h=sl(wn,"defineProperty");return h({},"",{}),h}catch{}})(),V0=ve.clearTimeout!==Fn.clearTimeout&&ve.clearTimeout,Pn=Ve&&Ve.now!==Fn.Date.now&&Ve.now,sy=ve.setTimeout!==Fn.setTimeout&&ve.setTimeout,Zl=dr.ceil,Ga=dr.floor,Kp=wn.getOwnPropertySymbols,ay=$d?$d.isBuffer:n,rc=ve.isFinite,Gp=ra.join,ic=ry(wn.keys,wn),fr=dr.max,qr=dr.min,OT=Ve.now,B0=ve.parseInt,Od=dr.random,Yp=ra.reverse,Nd=sl(ve,"DataView"),Wl=sl(ve,"Map"),Rd=sl(ve,"Promise"),Ya=sl(ve,"Set"),Dd=sl(ve,"WeakMap"),oc=sl(wn,"create"),Xp=Dd&&new Dd,sc={},ly=al(Nd),Xa=al(Wl),U0=al(Rd),ac=al(Ya),bs=al(Dd),Qa=ia?ia.prototype:n,Wi=Qa?Qa.valueOf:n,Qp=Qa?Qa.toString:n;function V(h){if(hr(h)&&!At(h)&&!(h instanceof It)){if(h instanceof Jr)return h;if(sn.call(h,"__wrapped__"))return yw(h)}return new Jr(h)}var lc=(function(){function h(){}return function(y){if(!sr(y))return{};if(Hp)return Hp(y);h.prototype=y;var _=new h;return h.prototype=n,_}})();function xs(){}function Jr(h,y){this.__wrapped__=h,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=n}V.templateSettings={escape:Uu,evaluate:vd,interpolate:ki,variable:"",imports:{_:V}},V.prototype=xs.prototype,V.prototype.constructor=V,Jr.prototype=lc(xs.prototype),Jr.prototype.constructor=Jr;function It(h){this.__wrapped__=h,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=G,this.__views__=[]}function eh(){var h=new It(this.__wrapped__);return h.__actions__=ci(this.__actions__),h.__dir__=this.__dir__,h.__filtered__=this.__filtered__,h.__iteratees__=ci(this.__iteratees__),h.__takeCount__=this.__takeCount__,h.__views__=ci(this.__views__),h}function uy(){if(this.__filtered__){var h=new It(this);h.__dir__=-1,h.__filtered__=!0}else h=this.clone(),h.__dir__*=-1;return h}function uc(){var h=this.__wrapped__.value(),y=this.__dir__,_=At(h),A=y<0,j=_?h.length:0,U=jy(0,j,this.__views__),Y=U.start,Q=U.end,ae=Q-Y,be=A?Q:Y-1,xe=this.__iteratees__,Te=xe.length,ze=0,rt=qr(ae,this.__takeCount__);if(!_||!A&&j==ae&&rt==ae)return yc(h,this.__actions__);var yt=[];e:for(;ae--&&ze<rt;){be+=y;for(var zt=-1,vt=h[be];++zt<Te;){var Yt=xe[zt],rn=Yt.iteratee,rs=Yt.type,Gi=rn(vt);if(rs==ue)vt=Gi;else if(!Gi){if(rs==se)continue e;break e}}yt[ze++]=vt}return yt}It.prototype=lc(xs.prototype),It.prototype.constructor=It;function Ti(h){var y=-1,_=h==null?0:h.length;for(this.clear();++y<_;){var A=h[y];this.set(A[0],A[1])}}function Mn(){this.__data__=oc?oc(null):{},this.size=0}function $n(h){var y=this.has(h)&&delete this.__data__[h];return this.size-=y?1:0,y}function el(h){var y=this.__data__;if(oc){var _=y[h];return _===l?n:_}return sn.call(y,h)?y[h]:n}function Kr(h){var y=this.__data__;return oc?y[h]!==n:sn.call(y,h)}function Ci(h,y){var _=this.__data__;return this.size+=this.has(h)?0:1,_[h]=oc&&y===n?l:y,this}Ti.prototype.clear=Mn,Ti.prototype.delete=$n,Ti.prototype.get=el,Ti.prototype.has=Kr,Ti.prototype.set=Ci;function ui(h){var y=-1,_=h==null?0:h.length;for(this.clear();++y<_;){var A=h[y];this.set(A[0],A[1])}}function cc(){this.__data__=[],this.size=0}function Ei(h){var y=this.__data__,_=Yr(y,h);if(_<0)return!1;var A=y.length-1;return _==A?y.pop():Jp.call(y,_,1),--this.size,!0}function th(h){var y=this.__data__,_=Yr(y,h);return _<0?n:y[_][1]}function Z0(h){return Yr(this.__data__,h)>-1}function W0(h,y){var _=this.__data__,A=Yr(_,h);return A<0?(++this.size,_.push([h,y])):_[A][1]=y,this}ui.prototype.clear=cc,ui.prototype.delete=Ei,ui.prototype.get=th,ui.prototype.has=Z0,ui.prototype.set=W0;function mo(h){var y=-1,_=h==null?0:h.length;for(this.clear();++y<_;){var A=h[y];this.set(A[0],A[1])}}function H0(){this.size=0,this.__data__={hash:new Ti,map:new(Wl||ui),string:new Ti}}function sa(h){var y=Xd(this,h).delete(h);return this.size-=y?1:0,y}function nh(h){return Xd(this,h).get(h)}function cy(h){return Xd(this,h).has(h)}function q0(h,y){var _=Xd(this,h),A=_.size;return _.set(h,y),this.size+=_.size==A?0:1,this}mo.prototype.clear=H0,mo.prototype.delete=sa,mo.prototype.get=nh,mo.prototype.has=cy,mo.prototype.set=q0;function Hl(h){var y=-1,_=h==null?0:h.length;for(this.__data__=new mo;++y<_;)this.add(h[y])}function tl(h){return this.__data__.set(h,l),this}function dc(h){return this.__data__.has(h)}Hl.prototype.add=Hl.prototype.push=tl,Hl.prototype.has=dc;function Gr(h){var y=this.__data__=new ui(h);this.size=y.size}function rh(){this.__data__=new ui,this.size=0}function ih(h){var y=this.__data__,_=y.delete(h);return this.size=y.size,_}function go(h){return this.__data__.get(h)}function yo(h){return this.__data__.has(h)}function ql(h,y){var _=this.__data__;if(_ instanceof ui){var A=_.__data__;if(!Wl||A.length<i-1)return A.push([h,y]),this.size=++_.size,this;_=this.__data__=new mo(A)}return _.set(h,y),this.size=_.size,this}Gr.prototype.clear=rh,Gr.prototype.delete=ih,Gr.prototype.get=go,Gr.prototype.has=yo,Gr.prototype.set=ql;function ws(h,y){var _=At(h),A=!_&&df(h),j=!_&&!A&&Ec(h),U=!_&&!A&&!j&&qh(h),Y=_||A||j||U,Q=Y?ty(h.length,MT):[],ae=Q.length;for(var be in h)(y||sn.call(h,be))&&!(Y&&(be=="length"||j&&(be=="offset"||be=="parent")||U&&(be=="buffer"||be=="byteLength"||be=="byteOffset")||Bn(be,ae)))&&Q.push(be);return Q}function Ss(h){var y=h.length;return y?h[mc(0,y-1)]:n}function Jl(h,y){return $h(ci(h),aa(y,0,h.length))}function J0(h){return $h(ci(h))}function jd(h,y,_){(_!==n&&!ya(h[y],_)||_===n&&!(y in h))&&ks(h,y,_)}function Kl(h,y,_){var A=h[y];(!(sn.call(h,y)&&ya(A,_))||_===n&&!(y in h))&&ks(h,y,_)}function Yr(h,y){for(var _=h.length;_--;)if(ya(h[_][0],y))return _;return-1}function Hi(h,y,_,A){return Ts(h,function(j,U,Y){y(A,j,_(j),Y)}),A}function On(h,y){return h&&Ko(y,ei(y),h)}function Jo(h,y){return h&&Ko(y,Co(y),h)}function ks(h,y,_){y=="__proto__"&&Md?Md(h,y,{configurable:!0,enumerable:!0,value:_,writable:!0}):h[y]=_}function oh(h,y){for(var _=-1,A=y.length,j=pe(A),U=h==null;++_<A;)j[_]=U?n:rC(h,y[_]);return j}function aa(h,y,_){return h===h&&(_!==n&&(h=h<=_?h:_),y!==n&&(h=h>=y?h:y)),h}function Ii(h,y,_,A,j,U){var Y,Q=y&f,ae=y&g,be=y&m;if(_&&(Y=j?_(h,A,j,U):_(h)),Y!==n)return Y;if(!sr(h))return h;var xe=At(h);if(xe){if(Y=ef(h),!Q)return ci(h,Y)}else{var Te=Lr(h),ze=Te==_n||Te==tn;if(Ec(h))return Ty(h,Q);if(Te==lt||Te==Ce||ze&&!j){if(Y=ae||ze?{}:zr(h),!Q)return ae?RT(h,Jo(Y,h)):vh(h,On(Y,h))}else{if(!gn[Te])return j?h:{};Y=DT(h,Te,Q)}}U||(U=new Gr);var rt=U.get(h);if(rt)return rt;U.set(h,Y),eD(h)?h.forEach(function(vt){Y.add(Ii(vt,y,_,vt,h,U))}):XR(h)&&h.forEach(function(vt,Yt){Y.set(Yt,Ii(vt,y,_,Yt,h,U))});var yt=be?ae?Yd:Gd:ae?Co:ei,zt=xe?n:yt(h);return Hr(zt||h,function(vt,Yt){zt&&(Yt=vt,vt=h[Yt]),Kl(Y,Yt,Ii(vt,y,_,Yt,h,U))}),Y}function K0(h){var y=ei(h);return function(_){return Ld(_,h,y)}}function Ld(h,y,_){var A=_.length;if(h==null)return!A;for(h=wn(h);A--;){var j=_[A],U=y[j],Y=h[j];if(Y===n&&!(j in h)||!U(Y))return!1}return!0}function dy(h,y,_){if(typeof h!="function")throw new ho(s);return _c(function(){h.apply(n,_)},y)}function _s(h,y,_,A){var j=-1,U=Lp,Y=!0,Q=h.length,ae=[],be=y.length;if(!Q)return ae;_&&(y=An(y,Ui(_))),A?(U=Kg,Y=!1):y.length>=i&&(U=na,Y=!1,y=new Hl(y));e:for(;++j<Q;){var xe=h[j],Te=_==null?xe:_(xe);if(xe=A||xe!==0?xe:0,Y&&Te===Te){for(var ze=be;ze--;)if(y[ze]===Te)continue e;ae.push(xe)}else U(y,Te,A)||ae.push(xe)}return ae}var Ts=So(qi),G0=So(nl,!0);function zd(h,y){var _=!0;return Ts(h,function(A,j,U){return _=!!y(A,j,U),_}),_}function Gl(h,y,_){for(var A=-1,j=h.length;++A<j;){var U=h[A],Y=y(U);if(Y!=null&&(Q===n?Y===Y&&!ns(Y):_(Y,Q)))var Q=Y,ae=U}return ae}function Y0(h,y,_,A){var j=h.length;for(_=Nt(_),_<0&&(_=-_>j?0:j+_),A=A===n||A>j?j:Nt(A),A<0&&(A+=j),A=_>A?0:nD(A);_<A;)h[_++]=y;return h}function fy(h,y){var _=[];return Ts(h,function(A,j,U){y(A,j,U)&&_.push(A)}),_}function Xn(h,y,_,A,j){var U=-1,Y=h.length;for(_||(_=Eh),j||(j=[]);++U<Y;){var Q=h[U];y>0&&_(Q)?y>1?Xn(Q,y-1,_,A,j):Ja(j,Q):A||(j[j.length]=Q)}return j}var sh=xh(),Fd=xh(!0);function qi(h,y){return h&&sh(h,y,ei)}function nl(h,y){return h&&Fd(h,y,ei)}function fc(h,y){return qa(y,function(_){return uu(h[_])})}function la(h,y){y=Is(y,h);for(var _=0,A=y.length;h!=null&&_<A;)h=h[Qo(y[_++])];return _&&_==A?h:n}function ah(h,y,_){var A=y(h);return At(h)?A:Ja(A,_(h))}function Dr(h){return h==null?h===n?ms:Kt:Ul&&Ul in wn(h)?Ch(h):zy(h)}function rl(h,y){return h>y}function vo(h,y){return h!=null&&sn.call(h,y)}function Yl(h,y){return h!=null&&y in wn(h)}function py(h,y,_){return h>=qr(y,_)&&h<fr(y,_)}function lh(h,y,_){for(var A=_?Kg:Lp,j=h[0].length,U=h.length,Y=U,Q=pe(U),ae=1/0,be=[];Y--;){var xe=h[Y];Y&&y&&(xe=An(xe,Ui(y))),ae=qr(xe.length,ae),Q[Y]=!_&&(y||j>=120&&xe.length>=120)?new Hl(Y&&xe):n}xe=h[0];var Te=-1,ze=Q[0];e:for(;++Te<j&&be.length<ae;){var rt=xe[Te],yt=y?y(rt):rt;if(rt=_||rt!==0?rt:0,!(ze?na(ze,yt):A(be,yt,_))){for(Y=U;--Y;){var zt=Q[Y];if(!(zt?na(zt,yt):A(h[Y],yt,_)))continue e}ze&&ze.push(yt),be.push(rt)}}return be}function ua(h,y,_,A){return qi(h,function(j,U,Y){y(A,_(j),U,Y)}),A}function bo(h,y,_){y=Is(y,h),h=Ar(h,y);var A=h==null?h:h[Qo(pi(y))];return A==null?n:li(A,h,_)}function uh(h){return hr(h)&&Dr(h)==Ce}function X0(h){return hr(h)&&Dr(h)==_e}function ca(h){return hr(h)&&Dr(h)==Xe}function xo(h,y,_,A,j){return h===y?!0:h==null||y==null||!hr(h)&&!hr(y)?h!==h&&y!==y:ch(h,y,_,A,xo,j)}function ch(h,y,_,A,j,U){var Y=At(h),Q=At(y),ae=Y?Ae:Lr(h),be=Q?Ae:Lr(y);ae=ae==Ce?lt:ae,be=be==Ce?lt:be;var xe=ae==lt,Te=be==lt,ze=ae==be;if(ze&&Ec(h)){if(!Ec(y))return!1;Y=!0,xe=!1}if(ze&&!xe)return U||(U=new Gr),Y||qh(h)?Ry(h,y,_,A,j,U):Dy(h,y,ae,_,A,j,U);if(!(_&b)){var rt=xe&&sn.call(h,"__wrapped__"),yt=Te&&sn.call(y,"__wrapped__");if(rt||yt){var zt=rt?h.value():h,vt=yt?y.value():y;return U||(U=new Gr),j(zt,vt,_,A,U)}}return ze?(U||(U=new Gr),uw(h,y,_,A,j,U)):!1}function Q0(h){return hr(h)&&Lr(h)==kt}function pc(h,y,_,A){var j=_.length,U=j,Y=!A;if(h==null)return!U;for(h=wn(h);j--;){var Q=_[j];if(Y&&Q[2]?Q[1]!==h[Q[0]]:!(Q[0]in h))return!1}for(;++j<U;){Q=_[j];var ae=Q[0],be=h[ae],xe=Q[1];if(Y&&Q[2]){if(be===n&&!(ae in h))return!1}else{var Te=new Gr;if(A)var ze=A(be,xe,ae,h,y,Te);if(!(ze===n?xo(xe,be,b|x,A,Te):ze))return!1}}return!0}function hy(h){if(!sr(h)||fw(h))return!1;var y=uu(h)?z0:a0;return y.test(al(h))}function Vd(h){return hr(h)&&Dr(h)==Gt}function Cs(h){return hr(h)&&Lr(h)==Tn}function Bd(h){return hr(h)&&Pw(h.length)&&!!bn[Dr(h)]}function hc(h){return typeof h=="function"?h:h==null?Eo:typeof h=="object"?At(h)?Vn(h[0],h[1]):dh(h):pD(h)}function da(h){if(!ma(h))return ic(h);var y=[];for(var _ in wn(h))sn.call(h,_)&&_!="constructor"&&y.push(_);return y}function my(h){if(!sr(h))return mw(h);var y=ma(h),_=[];for(var A in h)A=="constructor"&&(y||!sn.call(h,A))||_.push(A);return _}function il(h,y){return h<y}function gy(h,y){var _=-1,A=To(h)?pe(h.length):[];return Ts(h,function(j,U,Y){A[++_]=y(j,U,Y)}),A}function dh(h){var y=Qd(h);return y.length==1&&y[0][2]?Ih(y[0][0],y[0][1]):function(_){return _===h||pc(_,h,y)}}function Vn(h,y){return Ze(h)&&nf(y)?Ih(Qo(h),y):function(_){var A=rC(_,h);return A===n&&A===y?iC(_,h):xo(y,A,b|x)}}function Xl(h,y,_,A,j){h!==y&&sh(y,function(U,Y){if(j||(j=new Gr),sr(U))yy(h,y,Y,_,Xl,A,j);else{var Q=A?A(Ps(h,Y),U,Y+"",h,y,j):n;Q===n&&(Q=U),jd(h,Y,Q)}},Co)}function yy(h,y,_,A,j,U,Y){var Q=Ps(h,_),ae=Ps(y,_),be=Y.get(ae);if(be){jd(h,_,be);return}var xe=U?U(Q,ae,_+"",h,y,Y):n,Te=xe===n;if(Te){var ze=At(ae),rt=!ze&&Ec(ae),yt=!ze&&!rt&&qh(ae);xe=ae,ze||rt||yt?At(Q)?xe=Q:wr(Q)?xe=ci(Q):rt?(Te=!1,xe=Ty(ae,!0)):yt?(Te=!1,xe=iw(ae,!0)):xe=[]:rv(ae)||df(ae)?(xe=Q,df(Q)?xe=rD(Q):(!sr(Q)||uu(Q))&&(xe=zr(ae))):Te=!1}Te&&(Y.set(ae,xe),j(xe,ae,A,U,Y),Y.delete(ae)),jd(h,_,xe)}function fh(h,y){var _=h.length;if(_)return y+=y<0?_:0,Bn(y,_)?h[y]:n}function Ud(h,y,_){y.length?y=An(y,function(U){return At(U)?function(Y){return la(Y,U.length===1?U[0]:U)}:U}):y=[Eo];var A=-1;y=An(y,Ui(ft()));var j=gy(h,function(U,Y,Q){var ae=An(y,function(be){return be(U)});return{criteria:ae,index:++A,value:U}});return _T(j,function(U,Y){return NT(U,Y,_)})}function vy(h,y){return ol(h,y,function(_,A){return iC(h,A)})}function ol(h,y,_){for(var A=-1,j=y.length,U={};++A<j;){var Y=y[A],Q=la(h,Y);_(Q,Y)&&eu(U,Is(Y,h),Q)}return U}function qn(h){return function(y){return la(y,h)}}function ir(h,y,_,A){var j=A?Xg:Yu,U=-1,Y=y.length,Q=h;for(h===y&&(y=ci(y)),_&&(Q=An(h,Ui(_)));++U<Y;)for(var ae=0,be=y[U],xe=_?_(be):be;(ae=j(Q,xe,ae,A))>-1;)Q!==h&&Jp.call(Q,ae,1),Jp.call(h,ae,1);return h}function br(h,y){for(var _=h?y.length:0,A=_-1;_--;){var j=y[_];if(_==A||j!==U){var U=j;Bn(j)?Jp.call(h,j,1):mh(h,j)}}return h}function mc(h,y){return h+Ga(Od()*(y-h+1))}function Zd(h,y,_,A){for(var j=-1,U=fr(Zl((y-h)/(_||1)),0),Y=pe(U);U--;)Y[A?U:++j]=h,h+=_;return Y}function Ql(h,y){var _="";if(!h||y<1||y>J)return _;do y%2&&(_+=h),y=Ga(y/2),y&&(h+=h);while(y);return _}function Ot(h,y){return Ji(Ah(h,y,Eo),h+"")}function Xr(h){return Ss(Jh(h))}function by(h,y){var _=Jh(h);return $h(_,aa(y,0,_.length))}function eu(h,y,_,A){if(!sr(h))return h;y=Is(y,h);for(var j=-1,U=y.length,Y=U-1,Q=h;Q!=null&&++j<U;){var ae=Qo(y[j]),be=_;if(ae==="__proto__"||ae==="constructor"||ae==="prototype")return h;if(j!=Y){var xe=Q[ae];be=A?A(xe,ae,Q):n,be===n&&(be=sr(xe)?xe:Bn(y[j+1])?[]:{})}Kl(Q,ae,be),Q=Q[ae]}return h}var ph=Xp?function(h,y){return Xp.set(h,y),h}:Eo,Es=Md?function(h,y){return Md(h,"toString",{configurable:!0,enumerable:!1,value:sC(y),writable:!0})}:Eo;function wo(h){return $h(Jh(h))}function Qr(h,y,_){var A=-1,j=h.length;y<0&&(y=-y>j?0:j+y),_=_>j?j:_,_<0&&(_+=j),j=y>_?0:_-y>>>0,y>>>=0;for(var U=pe(j);++A<j;)U[A]=h[A+y];return U}function xy(h,y){var _;return Ts(h,function(A,j,U){return _=y(A,j,U),!_}),!!_}function gc(h,y,_){var A=0,j=h==null?A:h.length;if(typeof y=="number"&&y===y&&j<=W){for(;A<j;){var U=A+j>>>1,Y=h[U];Y!==null&&!ns(Y)&&(_?Y<=y:Y<y)?A=U+1:j=U}return j}return hh(h,y,Eo,_)}function hh(h,y,_,A){var j=0,U=h==null?0:h.length;if(U===0)return 0;y=_(y);for(var Y=y!==y,Q=y===null,ae=ns(y),be=y===n;j<U;){var xe=Ga((j+U)/2),Te=_(h[xe]),ze=Te!==n,rt=Te===null,yt=Te===Te,zt=ns(Te);if(Y)var vt=A||yt;else be?vt=yt&&(A||ze):Q?vt=yt&&ze&&(A||!rt):ae?vt=yt&&ze&&!rt&&(A||!zt):rt||zt?vt=!1:vt=A?Te<=y:Te<y;vt?j=xe+1:U=xe}return qr(U,H)}function wy(h,y){for(var _=-1,A=h.length,j=0,U=[];++_<A;){var Y=h[_],Q=y?y(Y):Y;if(!_||!ya(Q,ae)){var ae=Q;U[j++]=Y===0?0:Y}}return U}function Sy(h){return typeof h=="number"?h:ns(h)?B:+h}function Ai(h){if(typeof h=="string")return h;if(At(h))return An(h,Ai)+"";if(ns(h))return Qp?Qp.call(h):"";var y=h+"";return y=="0"&&1/h==-ie?"-0":y}function fa(h,y,_){var A=-1,j=Lp,U=h.length,Y=!0,Q=[],ae=Q;if(_)Y=!1,j=Kg;else if(U>=i){var be=y?null:lw(h);if(be)return Ka(be);Y=!1,j=na,ae=new Hl}else ae=y?[]:Q;e:for(;++A<U;){var xe=h[A],Te=y?y(xe):xe;if(xe=_||xe!==0?xe:0,Y&&Te===Te){for(var ze=ae.length;ze--;)if(ae[ze]===Te)continue e;y&&ae.push(Te),Q.push(xe)}else j(ae,Te,_)||(ae!==Q&&ae.push(Te),Q.push(xe))}return Q}function mh(h,y){return y=Is(y,h),h=Ar(h,y),h==null||delete h[Qo(pi(y))]}function ky(h,y,_,A){return eu(h,y,_(la(h,y)),A)}function Wd(h,y,_,A){for(var j=h.length,U=A?j:-1;(A?U--:++U<j)&&y(h[U],U,h););return _?Qr(h,A?0:U,A?U+1:j):Qr(h,A?U+1:0,A?j:U)}function yc(h,y){var _=h;return _ instanceof It&&(_=_.value()),Gg(y,function(A,j){return j.func.apply(j.thisArg,Ja([A],j.args))},_)}function gh(h,y,_){var A=h.length;if(A<2)return A?fa(h[0]):[];for(var j=-1,U=pe(A);++j<A;)for(var Y=h[j],Q=-1;++Q<A;)Q!=j&&(U[j]=_s(U[j]||Y,h[Q],y,_));return fa(Xn(U,1),y,_)}function Hd(h,y,_){for(var A=-1,j=h.length,U=y.length,Y={};++A<j;){var Q=A<U?y[A]:n;_(Y,h[A],Q)}return Y}function vc(h){return wr(h)?h:[]}function yh(h){return typeof h=="function"?h:Eo}function Is(h,y){return At(h)?h:Ze(h,y)?[h]:By(Sn(h))}var ew=Ot;function pa(h,y,_){var A=h.length;return _=_===n?A:_,!y&&_>=A?h:Qr(h,y,_)}var _y=V0||function(h){return Fn.clearTimeout(h)};function Ty(h,y){if(y)return h.slice();var _=h.length,A=oy?oy(_):new h.constructor(_);return h.copy(A),A}function qd(h){var y=new h.constructor(h.byteLength);return new Pd(y).set(new Pd(h)),y}function tw(h,y){var _=y?qd(h.buffer):h.buffer;return new h.constructor(_,h.byteOffset,h.byteLength)}function nw(h){var y=new h.constructor(h.source,jg.exec(h));return y.lastIndex=h.lastIndex,y}function rw(h){return Wi?wn(Wi.call(h)):{}}function iw(h,y){var _=y?qd(h.buffer):h.buffer;return new h.constructor(_,h.byteOffset,h.length)}function Cy(h,y){if(h!==y){var _=h!==n,A=h===null,j=h===h,U=ns(h),Y=y!==n,Q=y===null,ae=y===y,be=ns(y);if(!Q&&!be&&!U&&h>y||U&&Y&&ae&&!Q&&!be||A&&Y&&ae||!_&&ae||!j)return 1;if(!A&&!U&&!be&&h<y||be&&_&&j&&!A&&!U||Q&&_&&j||!Y&&j||!ae)return-1}return 0}function NT(h,y,_){for(var A=-1,j=h.criteria,U=y.criteria,Y=j.length,Q=_.length;++A<Y;){var ae=Cy(j[A],U[A]);if(ae){if(A>=Q)return ae;var be=_[A];return ae*(be=="desc"?-1:1)}}return h.index-y.index}function ow(h,y,_,A){for(var j=-1,U=h.length,Y=_.length,Q=-1,ae=y.length,be=fr(U-Y,0),xe=pe(ae+be),Te=!A;++Q<ae;)xe[Q]=y[Q];for(;++j<Y;)(Te||j<U)&&(xe[_[j]]=h[j]);for(;be--;)xe[Q++]=h[j++];return xe}function Ey(h,y,_,A){for(var j=-1,U=h.length,Y=-1,Q=_.length,ae=-1,be=y.length,xe=fr(U-Q,0),Te=pe(xe+be),ze=!A;++j<xe;)Te[j]=h[j];for(var rt=j;++ae<be;)Te[rt+ae]=y[ae];for(;++Y<Q;)(ze||j<U)&&(Te[rt+_[Y]]=h[j++]);return Te}function ci(h,y){var _=-1,A=h.length;for(y||(y=pe(A));++_<A;)y[_]=h[_];return y}function Ko(h,y,_,A){var j=!_;_||(_={});for(var U=-1,Y=y.length;++U<Y;){var Q=y[U],ae=A?A(_[Q],h[Q],Q,_,h):n;ae===n&&(ae=h[Q]),j?ks(_,Q,ae):Kl(_,Q,ae)}return _}function vh(h,y){return Ko(h,Go(h),y)}function RT(h,y){return Ko(h,cw(h),y)}function bh(h,y){return function(_,A){var j=At(_)?qg:Hi,U=y?y():{};return j(_,h,ft(A,2),U)}}function bc(h){return Ot(function(y,_){var A=-1,j=_.length,U=j>1?_[j-1]:n,Y=j>2?_[2]:n;for(U=h.length>3&&typeof U=="function"?(j--,U):n,Y&&fi(_[0],_[1],Y)&&(U=j<3?n:U,j=1),y=wn(y);++A<j;){var Q=_[A];Q&&h(y,Q,A,U)}return y})}function So(h,y){return function(_,A){if(_==null)return _;if(!To(_))return h(_,A);for(var j=_.length,U=y?j:-1,Y=wn(_);(y?U--:++U<j)&&A(Y[U],U,Y)!==!1;);return _}}function xh(h){return function(y,_,A){for(var j=-1,U=wn(y),Y=A(y),Q=Y.length;Q--;){var ae=Y[h?Q:++j];if(_(U[ae],ae,U)===!1)break}return y}}function wh(h,y,_){var A=y&k,j=xc(h);function U(){var Y=this&&this!==Fn&&this instanceof U?j:h;return Y.apply(A?_:this,arguments)}return U}function Iy(h){return function(y){y=Sn(y);var _=Qu(y)?Zi(y):n,A=_?_[0]:y.charAt(0),j=_?pa(_,1).join(""):y.slice(1);return A[h]()+j}}function tu(h){return function(y){return Gg(dD(cD(y).replace(gT,"")),h,"")}}function xc(h){return function(){var y=arguments;switch(y.length){case 0:return new h;case 1:return new h(y[0]);case 2:return new h(y[0],y[1]);case 3:return new h(y[0],y[1],y[2]);case 4:return new h(y[0],y[1],y[2],y[3]);case 5:return new h(y[0],y[1],y[2],y[3],y[4]);case 6:return new h(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new h(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var _=lc(h.prototype),A=h.apply(_,y);return sr(A)?A:_}}function Ay(h,y,_){var A=xc(h);function j(){for(var U=arguments.length,Y=pe(U),Q=U,ae=ha(j);Q--;)Y[Q]=arguments[Q];var be=U<3&&Y[0]!==ae&&Y[U-1]!==ae?[]:po(Y,ae);if(U-=be.length,U<_)return di(h,y,wc,j.placeholder,n,Y,be,n,n,_-U);var xe=this&&this!==Fn&&this instanceof j?A:h;return li(xe,this,Y)}return j}function nu(h){return function(y,_,A){var j=wn(y);if(!To(y)){var U=ft(_,3);y=ei(y),_=function(Q){return U(j[Q],Q,j)}}var Y=h(y,_,A);return Y>-1?j[U?y[Y]:Y]:n}}function Sh(h){return $s(function(y){var _=y.length,A=_,j=Jr.prototype.thru;for(h&&y.reverse();A--;){var U=y[A];if(typeof U!="function")throw new ho(s);if(j&&!Y&&Sc(U)=="wrapper")var Y=new Jr([],!0)}for(A=Y?A:_;++A<_;){U=y[A];var Q=Sc(U),ae=Q=="wrapper"?Th(U):n;ae&&tf(ae[0])&&ae[1]==(z|$|M|F)&&!ae[4].length&&ae[9]==1?Y=Y[Sc(ae[0])].apply(Y,ae[3]):Y=U.length==1&&tf(U)?Y[Q]():Y.thru(U)}return function(){var be=arguments,xe=be[0];if(Y&&be.length==1&&At(xe))return Y.plant(xe).value();for(var Te=0,ze=_?y[Te].apply(this,be):xe;++Te<_;)ze=y[Te].call(this,ze);return ze}})}function wc(h,y,_,A,j,U,Y,Q,ae,be){var xe=y&z,Te=y&k,ze=y&T,rt=y&($|P),yt=y&q,zt=ze?n:xc(h);function vt(){for(var Yt=arguments.length,rn=pe(Yt),rs=Yt;rs--;)rn[rs]=arguments[rs];if(rt)var Gi=ha(vt),is=P0(rn,Gi);if(A&&(rn=ow(rn,A,j,rt)),U&&(rn=Ey(rn,U,Y,rt)),Yt-=is,rt&&Yt<be){var Sr=po(rn,Gi);return di(h,y,wc,vt.placeholder,_,rn,Sr,Q,ae,be-Yt)}var va=Te?_:this,du=ze?va[h]:h;return Yt=rn.length,Q?rn=Yo(rn,Q):yt&&Yt>1&&rn.reverse(),xe&&ae<Yt&&(rn.length=ae),this&&this!==Fn&&this instanceof vt&&(du=zt||xc(du)),du.apply(va,rn)}return vt}function sw(h,y){return function(_,A){return ua(_,h,y(A),{})}}function Jd(h,y){return function(_,A){var j;if(_===n&&A===n)return y;if(_!==n&&(j=_),A!==n){if(j===n)return A;typeof _=="string"||typeof A=="string"?(_=Ai(_),A=Ai(A)):(_=Sy(_),A=Sy(A)),j=h(_,A)}return j}}function kh(h){return $s(function(y){return y=An(y,Ui(ft())),Ot(function(_){var A=this;return h(y,function(j){return li(j,A,_)})})})}function Kd(h,y){y=y===n?" ":Ai(y);var _=y.length;if(_<2)return _?Ql(y,h):y;var A=Ql(y,Zl(h/Bl(y)));return Qu(y)?pa(Zi(A),0,h).join(""):A.slice(0,h)}function aw(h,y,_,A){var j=y&k,U=xc(h);function Y(){for(var Q=-1,ae=arguments.length,be=-1,xe=A.length,Te=pe(xe+ae),ze=this&&this!==Fn&&this instanceof Y?U:h;++be<xe;)Te[be]=A[be];for(;ae--;)Te[be++]=arguments[++Q];return li(ze,j?_:this,Te)}return Y}function $y(h){return function(y,_,A){return A&&typeof A!="number"&&fi(y,_,A)&&(_=A=n),y=cu(y),_===n?(_=y,y=0):_=cu(_),A=A===n?y<_?1:-1:cu(A),Zd(y,_,A,h)}}function _h(h){return function(y,_){return typeof y=="string"&&typeof _=="string"||(y=Ms(y),_=Ms(_)),h(y,_)}}function di(h,y,_,A,j,U,Y,Q,ae,be){var xe=y&$,Te=xe?Y:n,ze=xe?n:Y,rt=xe?U:n,yt=xe?n:U;y|=xe?M:R,y&=~(xe?R:M),y&E||(y&=-4);var zt=[h,y,j,rt,Te,yt,ze,Q,ae,be],vt=_.apply(n,zt);return tf(h)&&Fy(vt,zt),vt.placeholder=A,Vy(vt,h,y)}function jr(h){var y=dr[h];return function(_,A){if(_=Ms(_),A=A==null?0:qr(Nt(A),292),A&&rc(_)){var j=(Sn(_)+"e").split("e"),U=y(j[0]+"e"+(+j[1]+A));return j=(Sn(U)+"e").split("e"),+(j[0]+"e"+(+j[1]-A))}return y(_)}}var lw=Ya&&1/Ka(new Ya([,-0]))[1]==ie?function(h){return new Ya(h)}:uC;function Py(h){return function(y){var _=Lr(y);return _==kt?Vp(y):_==Tn?IT(y):TT(y,h(y))}}function As(h,y,_,A,j,U,Y,Q){var ae=y&T;if(!ae&&typeof h!="function")throw new ho(s);var be=A?A.length:0;if(be||(y&=-97,A=j=n),Y=Y===n?Y:fr(Nt(Y),0),Q=Q===n?Q:Nt(Q),be-=j?j.length:0,y&R){var xe=A,Te=j;A=j=n}var ze=ae?n:Th(h),rt=[h,y,_,A,j,xe,Te,U,Y,Q];if(ze&&hw(rt,ze),h=rt[0],y=rt[1],_=rt[2],A=rt[3],j=rt[4],Q=rt[9]=rt[9]===n?ae?0:h.length:fr(rt[9]-be,0),!Q&&y&($|P)&&(y&=-25),!y||y==k)var yt=wh(h,y,_);else y==$||y==P?yt=Ay(h,y,Q):(y==M||y==(k|M))&&!j.length?yt=aw(h,y,_,A):yt=wc.apply(n,rt);var zt=ze?ph:Fy;return Vy(zt(yt,rt),h,y)}function My(h,y,_,A){return h===n||ya(h,vs[_])&&!sn.call(A,_)?y:h}function Oy(h,y,_,A,j,U){return sr(h)&&sr(y)&&(U.set(y,h),Xl(h,y,n,Oy,U),U.delete(y)),h}function Ny(h){return rv(h)?n:h}function Ry(h,y,_,A,j,U){var Y=_&b,Q=h.length,ae=y.length;if(Q!=ae&&!(Y&&ae>Q))return!1;var be=U.get(h),xe=U.get(y);if(be&&xe)return be==y&&xe==h;var Te=-1,ze=!0,rt=_&x?new Hl:n;for(U.set(h,y),U.set(y,h);++Te<Q;){var yt=h[Te],zt=y[Te];if(A)var vt=Y?A(zt,yt,Te,y,h,U):A(yt,zt,Te,h,y,U);if(vt!==n){if(vt)continue;ze=!1;break}if(rt){if(!Yg(y,function(Yt,rn){if(!na(rt,rn)&&(yt===Yt||j(yt,Yt,_,A,U)))return rt.push(rn)})){ze=!1;break}}else if(!(yt===zt||j(yt,zt,_,A,U))){ze=!1;break}}return U.delete(h),U.delete(y),ze}function Dy(h,y,_,A,j,U,Y){switch(_){case nt:if(h.byteLength!=y.byteLength||h.byteOffset!=y.byteOffset)return!1;h=h.buffer,y=y.buffer;case _e:return!(h.byteLength!=y.byteLength||!U(new Pd(h),new Pd(y)));case je:case Xe:case st:return ya(+h,+y);case en:return h.name==y.name&&h.message==y.message;case Gt:case Ht:return h==y+"";case kt:var Q=Vp;case Tn:var ae=A&b;if(Q||(Q=Ka),h.size!=y.size&&!ae)return!1;var be=Y.get(h);if(be)return be==y;A|=x,Y.set(h,y);var xe=Ry(Q(h),Q(y),A,j,U,Y);return Y.delete(h),xe;case Ir:if(Wi)return Wi.call(h)==Wi.call(y)}return!1}function uw(h,y,_,A,j,U){var Y=_&b,Q=Gd(h),ae=Q.length,be=Gd(y),xe=be.length;if(ae!=xe&&!Y)return!1;for(var Te=ae;Te--;){var ze=Q[Te];if(!(Y?ze in y:sn.call(y,ze)))return!1}var rt=U.get(h),yt=U.get(y);if(rt&&yt)return rt==y&&yt==h;var zt=!0;U.set(h,y),U.set(y,h);for(var vt=Y;++Te<ae;){ze=Q[Te];var Yt=h[ze],rn=y[ze];if(A)var rs=Y?A(rn,Yt,ze,y,h,U):A(Yt,rn,ze,h,y,U);if(!(rs===n?Yt===rn||j(Yt,rn,_,A,U):rs)){zt=!1;break}vt||(vt=ze=="constructor")}if(zt&&!vt){var Gi=h.constructor,is=y.constructor;Gi!=is&&"constructor"in h&&"constructor"in y&&!(typeof Gi=="function"&&Gi instanceof Gi&&typeof is=="function"&&is instanceof is)&&(zt=!1)}return U.delete(h),U.delete(y),zt}function $s(h){return Ji(Ah(h,n,Mh),h+"")}function Gd(h){return ah(h,ei,Go)}function Yd(h){return ah(h,Co,cw)}var Th=Xp?function(h){return Xp.get(h)}:uC;function Sc(h){for(var y=h.name+"",_=sc[y],A=sn.call(sc,y)?_.length:0;A--;){var j=_[A],U=j.func;if(U==null||U==h)return j.name}return y}function ha(h){var y=sn.call(V,"placeholder")?V:h;return y.placeholder}function ft(){var h=V.iteratee||aC;return h=h===aC?hc:h,arguments.length?h(arguments[0],arguments[1]):h}function Xd(h,y){var _=h.__data__;return kc(y)?_[typeof y=="string"?"string":"hash"]:_.map}function Qd(h){for(var y=ei(h),_=y.length;_--;){var A=y[_],j=h[A];y[_]=[A,j,nf(j)]}return y}function sl(h,y){var _=Xu(h,y);return hy(_)?_:n}function Ch(h){var y=sn.call(h,Ul),_=h[Ul];try{h[Ul]=n;var A=!0}catch{}var j=Ad.call(h);return A&&(y?h[Ul]=_:delete h[Ul]),j}var Go=Kp?function(h){return h==null?[]:(h=wn(h),qa(Kp(h),function(y){return qp.call(h,y)}))}:cC,cw=Kp?function(h){for(var y=[];h;)Ja(y,Go(h)),h=qo(h);return y}:cC,Lr=Dr;(Nd&&Lr(new Nd(new ArrayBuffer(1)))!=nt||Wl&&Lr(new Wl)!=kt||Rd&&Lr(Rd.resolve())!=jn||Ya&&Lr(new Ya)!=Tn||Dd&&Lr(new Dd)!=xi)&&(Lr=function(h){var y=Dr(h),_=y==lt?h.constructor:n,A=_?al(_):"";if(A)switch(A){case ly:return nt;case Xa:return kt;case U0:return jn;case ac:return Tn;case bs:return xi}return y});function jy(h,y,_){for(var A=-1,j=_.length;++A<j;){var U=_[A],Y=U.size;switch(U.type){case"drop":h+=Y;break;case"dropRight":y-=Y;break;case"take":y=qr(y,h+Y);break;case"takeRight":h=fr(h,y-Y);break}}return{start:h,end:y}}function dw(h){var y=h.match(cr);return y?y[1].split(Dl):[]}function Ly(h,y,_){y=Is(y,h);for(var A=-1,j=y.length,U=!1;++A<j;){var Y=Qo(y[A]);if(!(U=h!=null&&_(h,Y)))break;h=h[Y]}return U||++A!=j?U:(j=h==null?0:h.length,!!j&&Pw(j)&&Bn(Y,j)&&(At(h)||df(h)))}function ef(h){var y=h.length,_=new h.constructor(y);return y&&typeof h[0]=="string"&&sn.call(h,"index")&&(_.index=h.index,_.input=h.input),_}function zr(h){return typeof h.constructor=="function"&&!ma(h)?lc(qo(h)):{}}function DT(h,y,_){var A=h.constructor;switch(y){case _e:return qd(h);case je:case Xe:return new A(+h);case nt:return tw(h,_);case ht:case _t:case In:case vn:case Ln:case Zr:case Wr:case Yn:case wi:return iw(h,_);case kt:return new A;case st:case Ht:return new A(h);case Gt:return nw(h);case Tn:return new A;case Ir:return rw(h)}}function jT(h,y){var _=y.length;if(!_)return h;var A=_-1;return y[A]=(_>1?"& ":"")+y[A],y=y.join(_>2?", ":" "),h.replace(Rl,`{
/* [wrapped with `+y+`] */
`)}function Eh(h){return At(h)||df(h)||!!(F0&&h&&h[F0])}function Bn(h,y){var _=typeof h;return y=y??J,!!y&&(_=="number"||_!="symbol"&&u0.test(h))&&h>-1&&h%1==0&&h<y}function fi(h,y,_){if(!sr(_))return!1;var A=typeof y;return(A=="number"?To(_)&&Bn(y,_.length):A=="string"&&y in _)?ya(_[y],h):!1}function Ze(h,y){if(At(h))return!1;var _=typeof h;return _=="number"||_=="symbol"||_=="boolean"||h==null||ns(h)?!0:ct.test(h)||!Zu.test(h)||y!=null&&h in wn(y)}function kc(h){var y=typeof h;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?h!=="__proto__":h===null}function tf(h){var y=Sc(h),_=V[y];if(typeof _!="function"||!(y in It.prototype))return!1;if(h===_)return!0;var A=Th(_);return!!A&&h===A[0]}function fw(h){return!!Zp&&Zp in h}var LT=tc?uu:dC;function ma(h){var y=h&&h.constructor,_=typeof y=="function"&&y.prototype||vs;return h===_}function nf(h){return h===h&&!sr(h)}function Ih(h,y){return function(_){return _==null?!1:_[h]===y&&(y!==n||h in wn(_))}}function pw(h){var y=fe(h,function(A){return _.size===u&&_.clear(),A}),_=y.cache;return y}function hw(h,y){var _=h[1],A=y[1],j=_|A,U=j<(k|T|z),Y=A==z&&_==$||A==z&&_==F&&h[7].length<=y[8]||A==(z|F)&&y[7].length<=y[8]&&_==$;if(!(U||Y))return h;A&k&&(h[2]=y[2],j|=_&k?0:E);var Q=y[3];if(Q){var ae=h[3];h[3]=ae?ow(ae,Q,y[4]):Q,h[4]=ae?po(h[3],d):y[4]}return Q=y[5],Q&&(ae=h[5],h[5]=ae?Ey(ae,Q,y[6]):Q,h[6]=ae?po(h[5],d):y[6]),Q=y[7],Q&&(h[7]=Q),A&z&&(h[8]=h[8]==null?y[8]:qr(h[8],y[8])),h[9]==null&&(h[9]=y[9]),h[0]=y[0],h[1]=j,h}function mw(h){var y=[];if(h!=null)for(var _ in wn(h))y.push(_);return y}function zy(h){return Ad.call(h)}function Ah(h,y,_){return y=fr(y===n?h.length-1:y,0),function(){for(var A=arguments,j=-1,U=fr(A.length-y,0),Y=pe(U);++j<U;)Y[j]=A[y+j];j=-1;for(var Q=pe(y+1);++j<y;)Q[j]=A[j];return Q[y]=_(Y),li(h,this,Q)}}function Ar(h,y){return y.length<2?h:la(h,Qr(y,0,-1))}function Yo(h,y){for(var _=h.length,A=qr(y.length,_),j=ci(h);A--;){var U=y[A];h[A]=Bn(U,_)?j[U]:n}return h}function Ps(h,y){if(!(y==="constructor"&&typeof h[y]=="function")&&y!="__proto__")return h[y]}var Fy=Xo(ph),_c=sy||function(h,y){return Fn.setTimeout(h,y)},Ji=Xo(Es);function Vy(h,y,_){var A=y+"";return Ji(h,jT(A,gw(dw(A),_)))}function Xo(h){var y=0,_=0;return function(){var A=OT(),j=ne-(A-_);if(_=A,j>0){if(++y>=ee)return arguments[0]}else y=0;return h.apply(n,arguments)}}function $h(h,y){var _=-1,A=h.length,j=A-1;for(y=y===n?A:y;++_<y;){var U=mc(_,j),Y=h[U];h[U]=h[_],h[_]=Y}return h.length=y,h}var By=pw(function(h){var y=[];return h.charCodeAt(0)===46&&y.push(""),h.replace(Hn,function(_,A,j,U){y.push(j?U.replace(cT,"$1"):A||_)}),y});function Qo(h){if(typeof h=="string"||ns(h))return h;var y=h+"";return y=="0"&&1/h==-ie?"-0":y}function al(h){if(h!=null){try{return Id.call(h)}catch{}try{return h+""}catch{}}return""}function gw(h,y){return Hr(Ie,function(_){var A="_."+_[0];y&_[1]&&!Lp(h,A)&&h.push(A)}),h.sort()}function yw(h){if(h instanceof It)return h.clone();var y=new Jr(h.__wrapped__,h.__chain__);return y.__actions__=ci(h.__actions__),y.__index__=h.__index__,y.__values__=h.__values__,y}function Ph(h,y,_){(_?fi(h,y,_):y===n)?y=1:y=fr(Nt(y),0);var A=h==null?0:h.length;if(!A||y<1)return[];for(var j=0,U=0,Y=pe(Zl(A/y));j<A;)Y[U++]=Qr(h,j,j+=y);return Y}function Uy(h){for(var y=-1,_=h==null?0:h.length,A=0,j=[];++y<_;){var U=h[y];U&&(j[A++]=U)}return j}function ko(){var h=arguments.length;if(!h)return[];for(var y=pe(h-1),_=arguments[0],A=h;A--;)y[A-1]=arguments[A];return Ja(At(_)?ci(_):[_],Xn(y,1))}var nn=Ot(function(h,y){return wr(h)?_s(h,Xn(y,1,wr,!0)):[]}),$r=Ot(function(h,y){var _=pi(y);return wr(_)&&(_=n),wr(h)?_s(h,Xn(y,1,wr,!0),ft(_,2)):[]}),pr=Ot(function(h,y){var _=pi(y);return wr(_)&&(_=n),wr(h)?_s(h,Xn(y,1,wr,!0),n,_):[]});function Fr(h,y,_){var A=h==null?0:h.length;return A?(y=_||y===n?1:Nt(y),Qr(h,y<0?0:y,A)):[]}function Ki(h,y,_){var A=h==null?0:h.length;return A?(y=_||y===n?1:Nt(y),y=A-y,Qr(h,0,y<0?0:y)):[]}function Tc(h,y){return h&&h.length?Wd(h,ft(y,3),!0,!0):[]}function xr(h,y){return h&&h.length?Wd(h,ft(y,3),!0):[]}function rf(h,y,_,A){var j=h==null?0:h.length;return j?(_&&typeof _!="number"&&fi(h,y,_)&&(_=0,A=j),Y0(h,y,_,A)):[]}function ll(h,y,_){var A=h==null?0:h.length;if(!A)return-1;var j=_==null?0:Nt(_);return j<0&&(j=fr(A+j,0)),zp(h,ft(y,3),j)}function of(h,y,_){var A=h==null?0:h.length;if(!A)return-1;var j=A-1;return _!==n&&(j=Nt(_),j=_<0?fr(A+j,0):qr(j,A-1)),zp(h,ft(y,3),j,!0)}function Mh(h){var y=h==null?0:h.length;return y?Xn(h,1):[]}function sf(h){var y=h==null?0:h.length;return y?Xn(h,ie):[]}function $i(h,y){var _=h==null?0:h.length;return _?(y=y===n?1:Nt(y),Xn(h,y)):[]}function Zy(h){for(var y=-1,_=h==null?0:h.length,A={};++y<_;){var j=h[y];A[j[0]]=j[1]}return A}function ru(h){return h&&h.length?h[0]:n}function ga(h,y,_){var A=h==null?0:h.length;if(!A)return-1;var j=_==null?0:Nt(_);return j<0&&(j=fr(A+j,0)),Yu(h,y,j)}function Oh(h){var y=h==null?0:h.length;return y?Qr(h,0,-1):[]}var Wy=Ot(function(h){var y=An(h,vc);return y.length&&y[0]===h[0]?lh(y):[]}),ul=Ot(function(h){var y=pi(h),_=An(h,vc);return y===pi(_)?y=n:_.pop(),_.length&&_[0]===h[0]?lh(_,ft(y,2)):[]}),Nh=Ot(function(h){var y=pi(h),_=An(h,vc);return y=typeof y=="function"?y:n,y&&_.pop(),_.length&&_[0]===h[0]?lh(_,n,y):[]});function cl(h,y){return h==null?"":Gp.call(h,y)}function pi(h){var y=h==null?0:h.length;return y?h[y-1]:n}function af(h,y,_){var A=h==null?0:h.length;if(!A)return-1;var j=A;return _!==n&&(j=Nt(_),j=j<0?fr(A+j,0):qr(j,A-1)),y===y?AT(h,y,j):zp(h,C0,j,!0)}function Hy(h,y){return h&&h.length?fh(h,Nt(y)):n}var Rh=Ot(lf);function lf(h,y){return h&&h.length&&y&&y.length?ir(h,y):h}function hi(h,y,_){return h&&h.length&&y&&y.length?ir(h,y,ft(_,2)):h}function dl(h,y,_){return h&&h.length&&y&&y.length?ir(h,y,n,_):h}var es=$s(function(h,y){var _=h==null?0:h.length,A=oh(h,y);return br(h,An(y,function(j){return Bn(j,_)?+j:j}).sort(Cy)),A});function Pi(h,y){var _=[];if(!(h&&h.length))return _;var A=-1,j=[],U=h.length;for(y=ft(y,3);++A<U;){var Y=h[A];y(Y,A,h)&&(_.push(Y),j.push(A))}return br(h,j),_}function Dh(h){return h==null?h:Yp.call(h)}function qy(h,y,_){var A=h==null?0:h.length;return A?(_&&typeof _!="number"&&fi(h,y,_)?(y=0,_=A):(y=y==null?0:Nt(y),_=_===n?A:Nt(_)),Qr(h,y,_)):[]}function Jy(h,y){return gc(h,y)}function zT(h,y,_){return hh(h,y,ft(_,2))}function fl(h,y){var _=h==null?0:h.length;if(_){var A=gc(h,y);if(A<_&&ya(h[A],y))return A}return-1}function vw(h,y){return gc(h,y,!0)}function Ky(h,y,_){return hh(h,y,ft(_,2),!0)}function iu(h,y){var _=h==null?0:h.length;if(_){var A=gc(h,y,!0)-1;if(ya(h[A],y))return A}return-1}function Gy(h){return h&&h.length?wy(h):[]}function ou(h,y){return h&&h.length?wy(h,ft(y,2)):[]}function bw(h){var y=h==null?0:h.length;return y?Qr(h,1,y):[]}function xw(h,y,_){return h&&h.length?(y=_||y===n?1:Nt(y),Qr(h,0,y<0?0:y)):[]}function Yy(h,y,_){var A=h==null?0:h.length;return A?(y=_||y===n?1:Nt(y),y=A-y,Qr(h,y<0?0:y,A)):[]}function jh(h,y){return h&&h.length?Wd(h,ft(y,3),!1,!0):[]}function FT(h,y){return h&&h.length?Wd(h,ft(y,3)):[]}var VT=Ot(function(h){return fa(Xn(h,1,wr,!0))}),ww=Ot(function(h){var y=pi(h);return wr(y)&&(y=n),fa(Xn(h,1,wr,!0),ft(y,2))}),Sw=Ot(function(h){var y=pi(h);return y=typeof y=="function"?y:n,fa(Xn(h,1,wr,!0),n,y)});function su(h){return h&&h.length?fa(h):[]}function BT(h,y){return h&&h.length?fa(h,ft(y,2)):[]}function Cc(h,y){return y=typeof y=="function"?y:n,h&&h.length?fa(h,n,y):[]}function Lh(h){if(!(h&&h.length))return[];var y=0;return h=qa(h,function(_){if(wr(_))return y=fr(_.length,y),!0}),ty(y,function(_){return An(h,Qg(_))})}function Jn(h,y){if(!(h&&h.length))return[];var _=Lh(h);return y==null?_:An(_,function(A){return li(y,n,A)})}var UT=Ot(function(h,y){return wr(h)?_s(h,y):[]}),kw=Ot(function(h){return gh(qa(h,wr))}),ZT=Ot(function(h){var y=pi(h);return wr(y)&&(y=n),gh(qa(h,wr),ft(y,2))}),WT=Ot(function(h){var y=pi(h);return y=typeof y=="function"?y:n,gh(qa(h,wr),n,y)}),_w=Ot(Lh);function Tw(h,y){return Hd(h||[],y||[],Kl)}function HT(h,y){return Hd(h||[],y||[],eu)}var _o=Ot(function(h){var y=h.length,_=y>1?h[y-1]:n;return _=typeof _=="function"?(h.pop(),_):n,Jn(h,_)});function zh(h){var y=V(h);return y.__chain__=!0,y}function qT(h,y){return y(h),h}function ts(h,y){return y(h)}var Fh=$s(function(h){var y=h.length,_=y?h[0]:0,A=this.__wrapped__,j=function(U){return oh(U,h)};return y>1||this.__actions__.length||!(A instanceof It)||!Bn(_)?this.thru(j):(A=A.slice(_,+_+(y?1:0)),A.__actions__.push({func:ts,args:[j],thisArg:n}),new Jr(A,this.__chain__).thru(function(U){return y&&!U.length&&U.push(n),U}))});function au(){return zh(this)}function Vh(){return new Jr(this.value(),this.__chain__)}function Xy(){this.__values__===n&&(this.__values__=tD(this.value()));var h=this.__index__>=this.__values__.length,y=h?n:this.__values__[this.__index__++];return{done:h,value:y}}function Qy(){return this}function JT(h){for(var y,_=this;_ instanceof xs;){var A=yw(_);A.__index__=0,A.__values__=n,y?j.__wrapped__=A:y=A;var j=A;_=_.__wrapped__}return j.__wrapped__=h,y}function ev(){var h=this.__wrapped__;if(h instanceof It){var y=h;return this.__actions__.length&&(y=new It(this)),y=y.reverse(),y.__actions__.push({func:ts,args:[Dh],thisArg:n}),new Jr(y,this.__chain__)}return this.thru(Dh)}function KT(){return yc(this.__wrapped__,this.__actions__)}var Cw=bh(function(h,y,_){sn.call(h,_)?++h[_]:ks(h,_,1)});function Ew(h,y,_){var A=At(h)?Jg:zd;return _&&fi(h,y,_)&&(y=n),A(h,ft(y,3))}function Bh(h,y){var _=At(h)?qa:fy;return _(h,ft(y,3))}var Uh=nu(ll),Iw=nu(of);function tv(h,y){return Xn(lu(h,y),1)}function GT(h,y){return Xn(lu(h,y),ie)}function Aw(h,y,_){return _=_===n?1:Nt(_),Xn(lu(h,y),_)}function Zh(h,y){var _=At(h)?Hr:Ts;return _(h,ft(y,3))}function uf(h,y){var _=At(h)?jp:G0;return _(h,ft(y,3))}var nv=bh(function(h,y,_){sn.call(h,_)?h[_].push(y):ks(h,_,[y])});function Wh(h,y,_,A){h=To(h)?h:Jh(h),_=_&&!A?Nt(_):0;var j=h.length;return _<0&&(_=fr(j+_,0)),Mw(h)?_<=j&&h.indexOf(y,_)>-1:!!j&&Yu(h,y,_)>-1}var $w=Ot(function(h,y,_){var A=-1,j=typeof y=="function",U=To(h)?pe(h.length):[];return Ts(h,function(Y){U[++A]=j?li(y,Y,_):bo(Y,y,_)}),U}),YT=bh(function(h,y,_){ks(h,_,y)});function lu(h,y){var _=At(h)?An:gy;return _(h,ft(y,3))}function XT(h,y,_,A){return h==null?[]:(At(y)||(y=y==null?[]:[y]),_=A?n:_,At(_)||(_=_==null?[]:[_]),Ud(h,y,_))}var cf=bh(function(h,y,_){h[_?0:1].push(y)},function(){return[[],[]]});function QT(h,y,_){var A=At(h)?Gg:I0,j=arguments.length<3;return A(h,ft(y,4),_,j,Ts)}function Hh(h,y,_){var A=At(h)?wT:I0,j=arguments.length<3;return A(h,ft(y,4),_,j,G0)}function c(h,y){var _=At(h)?qa:fy;return _(h,Me(ft(y,3)))}function p(h){var y=At(h)?Ss:Xr;return y(h)}function v(h,y,_){(_?fi(h,y,_):y===n)?y=1:y=Nt(y);var A=At(h)?Jl:by;return A(h,y)}function w(h){var y=At(h)?J0:wo;return y(h)}function C(h){if(h==null)return 0;if(To(h))return Mw(h)?Bl(h):h.length;var y=Lr(h);return y==kt||y==Tn?h.size:da(h).length}function I(h,y,_){var A=At(h)?Yg:xy;return _&&fi(h,y,_)&&(y=n),A(h,ft(y,3))}var L=Ot(function(h,y){if(h==null)return[];var _=y.length;return _>1&&fi(h,y[0],y[1])?y=[]:_>2&&fi(y[0],y[1],y[2])&&(y=[y[0]]),Ud(h,Xn(y,1),[])}),K=Pn||function(){return Fn.Date.now()};function X(h,y){if(typeof y!="function")throw new ho(s);return h=Nt(h),function(){if(--h<1)return y.apply(this,arguments)}}function he(h,y,_){return y=_?n:y,y=h&&y==null?h.length:y,As(h,z,n,n,n,n,y)}function ke(h,y){var _;if(typeof y!="function")throw new ho(s);return h=Nt(h),function(){return--h>0&&(_=y.apply(this,arguments)),h<=1&&(y=n),_}}var Ee=Ot(function(h,y,_){var A=k;if(_.length){var j=po(_,ha(Ee));A|=M}return As(h,A,y,_,j)}),we=Ot(function(h,y,_){var A=k|T;if(_.length){var j=po(_,ha(we));A|=M}return As(y,A,h,_,j)});function Be(h,y,_){y=_?n:y;var A=As(h,$,n,n,n,n,n,y);return A.placeholder=Be.placeholder,A}function qe(h,y,_){y=_?n:y;var A=As(h,P,n,n,n,n,n,y);return A.placeholder=qe.placeholder,A}function Je(h,y,_){var A,j,U,Y,Q,ae,be=0,xe=!1,Te=!1,ze=!0;if(typeof h!="function")throw new ho(s);y=Ms(y)||0,sr(_)&&(xe=!!_.leading,Te="maxWait"in _,U=Te?fr(Ms(_.maxWait)||0,y):U,ze="trailing"in _?!!_.trailing:ze);function rt(Sr){var va=A,du=j;return A=j=n,be=Sr,Y=h.apply(du,va),Y}function yt(Sr){return be=Sr,Q=_c(Yt,y),xe?rt(Sr):Y}function zt(Sr){var va=Sr-ae,du=Sr-be,hD=y-va;return Te?qr(hD,U-du):hD}function vt(Sr){var va=Sr-ae,du=Sr-be;return ae===n||va>=y||va<0||Te&&du>=U}function Yt(){var Sr=K();if(vt(Sr))return rn(Sr);Q=_c(Yt,zt(Sr))}function rn(Sr){return Q=n,ze&&A?rt(Sr):(A=j=n,Y)}function rs(){Q!==n&&_y(Q),be=0,A=ae=j=Q=n}function Gi(){return Q===n?Y:rn(K())}function is(){var Sr=K(),va=vt(Sr);if(A=arguments,j=this,ae=Sr,va){if(Q===n)return yt(ae);if(Te)return _y(Q),Q=_c(Yt,y),rt(ae)}return Q===n&&(Q=_c(Yt,y)),Y}return is.cancel=rs,is.flush=Gi,is}var or=Ot(function(h,y){return dy(h,1,y)}),ce=Ot(function(h,y,_){return dy(h,Ms(y)||0,_)});function te(h){return As(h,q)}function fe(h,y){if(typeof h!="function"||y!=null&&typeof y!="function")throw new ho(s);var _=function(){var A=arguments,j=y?y.apply(this,A):A[0],U=_.cache;if(U.has(j))return U.get(j);var Y=h.apply(this,A);return _.cache=U.set(j,Y)||U,Y};return _.cache=new(fe.Cache||mo),_}fe.Cache=mo;function Me(h){if(typeof h!="function")throw new ho(s);return function(){var y=arguments;switch(y.length){case 0:return!h.call(this);case 1:return!h.call(this,y[0]);case 2:return!h.call(this,y[0],y[1]);case 3:return!h.call(this,y[0],y[1],y[2])}return!h.apply(this,y)}}function et(h){return ke(2,h)}var dt=ew(function(h,y){y=y.length==1&&At(y[0])?An(y[0],Ui(ft())):An(Xn(y,1),Ui(ft()));var _=y.length;return Ot(function(A){for(var j=-1,U=qr(A.length,_);++j<U;)A[j]=y[j].call(this,A[j]);return li(h,this,A)})}),at=Ot(function(h,y){var _=po(y,ha(at));return As(h,M,n,y,_)}),gt=Ot(function(h,y){var _=po(y,ha(gt));return As(h,R,n,y,_)}),Pr=$s(function(h,y){return As(h,F,n,n,n,y)});function an(h,y){if(typeof h!="function")throw new ho(s);return y=y===n?y:Nt(y),Ot(h,y)}function pl(h,y){if(typeof h!="function")throw new ho(s);return y=y==null?0:fr(Nt(y),0),Ot(function(_){var A=_[y],j=pa(_,0,y);return A&&Ja(j,A),li(h,this,j)})}function eC(h,y,_){var A=!0,j=!0;if(typeof h!="function")throw new ho(s);return sr(_)&&(A="leading"in _?!!_.leading:A,j="trailing"in _?!!_.trailing:j),Je(h,y,{leading:A,maxWait:y,trailing:j})}function iee(h){return he(h,1)}function oee(h,y){return at(yh(y),h)}function see(){if(!arguments.length)return[];var h=arguments[0];return At(h)?h:[h]}function aee(h){return Ii(h,m)}function lee(h,y){return y=typeof y=="function"?y:n,Ii(h,m,y)}function uee(h){return Ii(h,f|m)}function cee(h,y){return y=typeof y=="function"?y:n,Ii(h,f|m,y)}function dee(h,y){return y==null||Ld(h,y,ei(y))}function ya(h,y){return h===y||h!==h&&y!==y}var fee=_h(rl),pee=_h(function(h,y){return h>=y}),df=uh((function(){return arguments})())?uh:function(h){return hr(h)&&sn.call(h,"callee")&&!qp.call(h,"callee")},At=pe.isArray,hee=Hg?Ui(Hg):X0;function To(h){return h!=null&&Pw(h.length)&&!uu(h)}function wr(h){return hr(h)&&To(h)}function mee(h){return h===!0||h===!1||hr(h)&&Dr(h)==je}var Ec=ay||dC,gee=_i?Ui(_i):ca;function yee(h){return hr(h)&&h.nodeType===1&&!rv(h)}function vee(h){if(h==null)return!0;if(To(h)&&(At(h)||typeof h=="string"||typeof h.splice=="function"||Ec(h)||qh(h)||df(h)))return!h.length;var y=Lr(h);if(y==kt||y==Tn)return!h.size;if(ma(h))return!da(h).length;for(var _ in h)if(sn.call(h,_))return!1;return!0}function bee(h,y){return xo(h,y)}function xee(h,y,_){_=typeof _=="function"?_:n;var A=_?_(h,y):n;return A===n?xo(h,y,n,_):!!A}function tC(h){if(!hr(h))return!1;var y=Dr(h);return y==en||y==Pt||typeof h.message=="string"&&typeof h.name=="string"&&!rv(h)}function wee(h){return typeof h=="number"&&rc(h)}function uu(h){if(!sr(h))return!1;var y=Dr(h);return y==_n||y==tn||y==$e||y==Ue}function YR(h){return typeof h=="number"&&h==Nt(h)}function Pw(h){return typeof h=="number"&&h>-1&&h%1==0&&h<=J}function sr(h){var y=typeof h;return h!=null&&(y=="object"||y=="function")}function hr(h){return h!=null&&typeof h=="object"}var XR=Vl?Ui(Vl):Q0;function See(h,y){return h===y||pc(h,y,Qd(y))}function kee(h,y,_){return _=typeof _=="function"?_:n,pc(h,y,Qd(y),_)}function _ee(h){return QR(h)&&h!=+h}function Tee(h){if(LT(h))throw new xt(o);return hy(h)}function Cee(h){return h===null}function Eee(h){return h==null}function QR(h){return typeof h=="number"||hr(h)&&Dr(h)==st}function rv(h){if(!hr(h)||Dr(h)!=lt)return!1;var y=qo(h);if(y===null)return!0;var _=sn.call(y,"constructor")&&y.constructor;return typeof _=="function"&&_ instanceof _&&Id.call(_)==Wp}var nC=Dp?Ui(Dp):Vd;function Iee(h){return YR(h)&&h>=-J&&h<=J}var eD=Gu?Ui(Gu):Cs;function Mw(h){return typeof h=="string"||!At(h)&&hr(h)&&Dr(h)==Ht}function ns(h){return typeof h=="symbol"||hr(h)&&Dr(h)==Ir}var qh=k0?Ui(k0):Bd;function Aee(h){return h===n}function $ee(h){return hr(h)&&Lr(h)==xi}function Pee(h){return hr(h)&&Dr(h)==ye}var Mee=_h(il),Oee=_h(function(h,y){return h<=y});function tD(h){if(!h)return[];if(To(h))return Mw(h)?Zi(h):ci(h);if(oa&&h[oa])return ET(h[oa]());var y=Lr(h),_=y==kt?Vp:y==Tn?Ka:Jh;return _(h)}function cu(h){if(!h)return h===0?h:0;if(h=Ms(h),h===ie||h===-ie){var y=h<0?-1:1;return y*le}return h===h?h:0}function Nt(h){var y=cu(h),_=y%1;return y===y?_?y-_:y:0}function nD(h){return h?aa(Nt(h),0,G):0}function Ms(h){if(typeof h=="number")return h;if(ns(h))return B;if(sr(h)){var y=typeof h.valueOf=="function"?h.valueOf():h;h=sr(y)?y+"":y}if(typeof h!="string")return h===0?h:+h;h=A0(h);var _=dT.test(h);return _||l0.test(h)?Np(h.slice(2),_?2:8):s0.test(h)?B:+h}function rD(h){return Ko(h,Co(h))}function Nee(h){return h?aa(Nt(h),-J,J):h===0?h:0}function Sn(h){return h==null?"":Ai(h)}var Ree=bc(function(h,y){if(ma(y)||To(y)){Ko(y,ei(y),h);return}for(var _ in y)sn.call(y,_)&&Kl(h,_,y[_])}),iD=bc(function(h,y){Ko(y,Co(y),h)}),Ow=bc(function(h,y,_,A){Ko(y,Co(y),h,A)}),Dee=bc(function(h,y,_,A){Ko(y,ei(y),h,A)}),jee=$s(oh);function Lee(h,y){var _=lc(h);return y==null?_:On(_,y)}var zee=Ot(function(h,y){h=wn(h);var _=-1,A=y.length,j=A>2?y[2]:n;for(j&&fi(y[0],y[1],j)&&(A=1);++_<A;)for(var U=y[_],Y=Co(U),Q=-1,ae=Y.length;++Q<ae;){var be=Y[Q],xe=h[be];(xe===n||ya(xe,vs[be])&&!sn.call(h,be))&&(h[be]=U[be])}return h}),Fee=Ot(function(h){return h.push(n,Oy),li(oD,n,h)});function Vee(h,y){return T0(h,ft(y,3),qi)}function Bee(h,y){return T0(h,ft(y,3),nl)}function Uee(h,y){return h==null?h:sh(h,ft(y,3),Co)}function Zee(h,y){return h==null?h:Fd(h,ft(y,3),Co)}function Wee(h,y){return h&&qi(h,ft(y,3))}function Hee(h,y){return h&&nl(h,ft(y,3))}function qee(h){return h==null?[]:fc(h,ei(h))}function Jee(h){return h==null?[]:fc(h,Co(h))}function rC(h,y,_){var A=h==null?n:la(h,y);return A===n?_:A}function Kee(h,y){return h!=null&&Ly(h,y,vo)}function iC(h,y){return h!=null&&Ly(h,y,Yl)}var Gee=sw(function(h,y,_){y!=null&&typeof y.toString!="function"&&(y=Ad.call(y)),h[y]=_},sC(Eo)),Yee=sw(function(h,y,_){y!=null&&typeof y.toString!="function"&&(y=Ad.call(y)),sn.call(h,y)?h[y].push(_):h[y]=[_]},ft),Xee=Ot(bo);function ei(h){return To(h)?ws(h):da(h)}function Co(h){return To(h)?ws(h,!0):my(h)}function Qee(h,y){var _={};return y=ft(y,3),qi(h,function(A,j,U){ks(_,y(A,j,U),A)}),_}function ete(h,y){var _={};return y=ft(y,3),qi(h,function(A,j,U){ks(_,j,y(A,j,U))}),_}var tte=bc(function(h,y,_){Xl(h,y,_)}),oD=bc(function(h,y,_,A){Xl(h,y,_,A)}),nte=$s(function(h,y){var _={};if(h==null)return _;var A=!1;y=An(y,function(U){return U=Is(U,h),A||(A=U.length>1),U}),Ko(h,Yd(h),_),A&&(_=Ii(_,f|g|m,Ny));for(var j=y.length;j--;)mh(_,y[j]);return _});function rte(h,y){return sD(h,Me(ft(y)))}var ite=$s(function(h,y){return h==null?{}:vy(h,y)});function sD(h,y){if(h==null)return{};var _=An(Yd(h),function(A){return[A]});return y=ft(y),ol(h,_,function(A,j){return y(A,j[0])})}function ote(h,y,_){y=Is(y,h);var A=-1,j=y.length;for(j||(j=1,h=n);++A<j;){var U=h==null?n:h[Qo(y[A])];U===n&&(A=j,U=_),h=uu(U)?U.call(h):U}return h}function ste(h,y,_){return h==null?h:eu(h,y,_)}function ate(h,y,_,A){return A=typeof A=="function"?A:n,h==null?h:eu(h,y,_,A)}var aD=Py(ei),lD=Py(Co);function lte(h,y,_){var A=At(h),j=A||Ec(h)||qh(h);if(y=ft(y,4),_==null){var U=h&&h.constructor;j?_=A?new U:[]:sr(h)?_=uu(U)?lc(qo(h)):{}:_={}}return(j?Hr:qi)(h,function(Y,Q,ae){return y(_,Y,Q,ae)}),_}function ute(h,y){return h==null?!0:mh(h,y)}function cte(h,y,_){return h==null?h:ky(h,y,yh(_))}function dte(h,y,_,A){return A=typeof A=="function"?A:n,h==null?h:ky(h,y,yh(_),A)}function Jh(h){return h==null?[]:Cd(h,ei(h))}function fte(h){return h==null?[]:Cd(h,Co(h))}function pte(h,y,_){return _===n&&(_=y,y=n),_!==n&&(_=Ms(_),_=_===_?_:0),y!==n&&(y=Ms(y),y=y===y?y:0),aa(Ms(h),y,_)}function hte(h,y,_){return y=cu(y),_===n?(_=y,y=0):_=cu(_),h=Ms(h),py(h,y,_)}function mte(h,y,_){if(_&&typeof _!="boolean"&&fi(h,y,_)&&(y=_=n),_===n&&(typeof y=="boolean"?(_=y,y=n):typeof h=="boolean"&&(_=h,h=n)),h===n&&y===n?(h=0,y=1):(h=cu(h),y===n?(y=h,h=0):y=cu(y)),h>y){var A=h;h=y,y=A}if(_||h%1||y%1){var j=Od();return qr(h+j*(y-h+Zg("1e-"+((j+"").length-1))),y)}return mc(h,y)}var gte=tu(function(h,y,_){return y=y.toLowerCase(),h+(_?uD(y):y)});function uD(h){return oC(Sn(h).toLowerCase())}function cD(h){return h=Sn(h),h&&h.replace(c0,M0).replace(b0,"")}function yte(h,y,_){h=Sn(h),y=Ai(y);var A=h.length;_=_===n?A:aa(Nt(_),0,A);var j=_;return _-=y.length,_>=0&&h.slice(_,j)==y}function vte(h){return h=Sn(h),h&&Si.test(h)?h.replace(Uo,O0):h}function bte(h){return h=Sn(h),h&&Wo.test(h)?h.replace(Zo,"\\$&"):h}var xte=tu(function(h,y,_){return h+(_?"-":"")+y.toLowerCase()}),wte=tu(function(h,y,_){return h+(_?" ":"")+y.toLowerCase()}),Ste=Iy("toLowerCase");function kte(h,y,_){h=Sn(h),y=Nt(y);var A=y?Bl(h):0;if(!y||A>=y)return h;var j=(y-A)/2;return Kd(Ga(j),_)+h+Kd(Zl(j),_)}function _te(h,y,_){h=Sn(h),y=Nt(y);var A=y?Bl(h):0;return y&&A<y?h+Kd(y-A,_):h}function Tte(h,y,_){h=Sn(h),y=Nt(y);var A=y?Bl(h):0;return y&&A<y?Kd(y-A,_)+h:h}function Cte(h,y,_){return _||y==null?y=0:y&&(y=+y),B0(Sn(h).replace(Ba,""),y||0)}function Ete(h,y,_){return(_?fi(h,y,_):y===n)?y=1:y=Nt(y),Ql(Sn(h),y)}function Ite(){var h=arguments,y=Sn(h[0]);return h.length<3?y:y.replace(h[1],h[2])}var Ate=tu(function(h,y,_){return h+(_?"_":"")+y.toLowerCase()});function $te(h,y,_){return _&&typeof _!="number"&&fi(h,y,_)&&(y=_=n),_=_===n?G:_>>>0,_?(h=Sn(h),h&&(typeof y=="string"||y!=null&&!nC(y))&&(y=Ai(y),!y&&Qu(h))?pa(Zi(h),0,_):h.split(y,_)):[]}var Pte=tu(function(h,y,_){return h+(_?" ":"")+oC(y)});function Mte(h,y,_){return h=Sn(h),_=_==null?0:aa(Nt(_),0,h.length),y=Ai(y),h.slice(_,_+y.length)==y}function Ote(h,y,_){var A=V.templateSettings;_&&fi(h,y,_)&&(y=n),h=Sn(h),y=Ow({},y,A,My);var j=Ow({},y.imports,A.imports,My),U=ei(j),Y=Cd(j,U),Q,ae,be=0,xe=y.interpolate||Cp,Te="__p += '",ze=Ed((y.escape||Cp).source+"|"+xe.source+"|"+(xe===ki?jl:Cp).source+"|"+(y.evaluate||Cp).source+"|$","g"),rt="//# sourceURL="+(sn.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++vT+"]")+`
`;h.replace(ze,function(vt,Yt,rn,rs,Gi,is){return rn||(rn=rs),Te+=h.slice(be,is).replace(fT,N0),Yt&&(Q=!0,Te+=`' +
__e(`+Yt+`) +
'`),Gi&&(ae=!0,Te+=`';
`+Gi+`;
__p += '`),rn&&(Te+=`' +
((__t = (`+rn+`)) == null ? '' : __t) +
'`),be=is+vt.length,vt}),Te+=`';
`;var yt=sn.call(y,"variable")&&y.variable;if(!yt)Te=`with (obj) {
`+Te+`
}
`;else if(uT.test(yt))throw new xt(a);Te=(ae?Te.replace(oi,""):Te).replace(Va,"$1").replace(Nl,"$1;"),Te="function("+(yt||"obj")+`) {
`+(yt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Q?", __e = _.escape":"")+(ae?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Te+`return __p
}`;var zt=fD(function(){return on(U,rt+"return "+Te).apply(n,Y)});if(zt.source=Te,tC(zt))throw zt;return zt}function Nte(h){return Sn(h).toLowerCase()}function Rte(h){return Sn(h).toUpperCase()}function Dte(h,y,_){if(h=Sn(h),h&&(_||y===n))return A0(h);if(!h||!(y=Ai(y)))return h;var A=Zi(h),j=Zi(y),U=$0(A,j),Y=ny(A,j)+1;return pa(A,U,Y).join("")}function jte(h,y,_){if(h=Sn(h),h&&(_||y===n))return h.slice(0,Up(h)+1);if(!h||!(y=Ai(y)))return h;var A=Zi(h),j=ny(A,Zi(y))+1;return pa(A,0,j).join("")}function Lte(h,y,_){if(h=Sn(h),h&&(_||y===n))return h.replace(Ba,"");if(!h||!(y=Ai(y)))return h;var A=Zi(h),j=$0(A,Zi(y));return pa(A,j).join("")}function zte(h,y){var _=Z,A=re;if(sr(y)){var j="separator"in y?y.separator:j;_="length"in y?Nt(y.length):_,A="omission"in y?Ai(y.omission):A}h=Sn(h);var U=h.length;if(Qu(h)){var Y=Zi(h);U=Y.length}if(_>=U)return h;var Q=_-Bl(A);if(Q<1)return A;var ae=Y?pa(Y,0,Q).join(""):h.slice(0,Q);if(j===n)return ae+A;if(Y&&(Q+=ae.length-Q),nC(j)){if(h.slice(Q).search(j)){var be,xe=ae;for(j.global||(j=Ed(j.source,Sn(jg.exec(j))+"g")),j.lastIndex=0;be=j.exec(xe);)var Te=be.index;ae=ae.slice(0,Te===n?Q:Te)}}else if(h.indexOf(Ai(j),Q)!=Q){var ze=ae.lastIndexOf(j);ze>-1&&(ae=ae.slice(0,ze))}return ae+A}function Fte(h){return h=Sn(h),h&&ta.test(h)?h.replace(Bo,R0):h}var Vte=tu(function(h,y,_){return h+(_?" ":"")+y.toUpperCase()}),oC=Iy("toUpperCase");function dD(h,y,_){return h=Sn(h),y=_?n:y,y===n?CT(h)?$T(h):kT(h):h.match(y)||[]}var fD=Ot(function(h,y){try{return li(h,n,y)}catch(_){return tC(_)?_:new xt(_)}}),Bte=$s(function(h,y){return Hr(y,function(_){_=Qo(_),ks(h,_,Ee(h[_],h))}),h});function Ute(h){var y=h==null?0:h.length,_=ft();return h=y?An(h,function(A){if(typeof A[1]!="function")throw new ho(s);return[_(A[0]),A[1]]}):[],Ot(function(A){for(var j=-1;++j<y;){var U=h[j];if(li(U[0],this,A))return li(U[1],this,A)}})}function Zte(h){return K0(Ii(h,f))}function sC(h){return function(){return h}}function Wte(h,y){return h==null||h!==h?y:h}var Hte=Sh(),qte=Sh(!0);function Eo(h){return h}function aC(h){return hc(typeof h=="function"?h:Ii(h,f))}function Jte(h){return dh(Ii(h,f))}function Kte(h,y){return Vn(h,Ii(y,f))}var Gte=Ot(function(h,y){return function(_){return bo(_,h,y)}}),Yte=Ot(function(h,y){return function(_){return bo(h,_,y)}});function lC(h,y,_){var A=ei(y),j=fc(y,A);_==null&&!(sr(y)&&(j.length||!A.length))&&(_=y,y=h,h=this,j=fc(y,ei(y)));var U=!(sr(_)&&"chain"in _)||!!_.chain,Y=uu(h);return Hr(j,function(Q){var ae=y[Q];h[Q]=ae,Y&&(h.prototype[Q]=function(){var be=this.__chain__;if(U||be){var xe=h(this.__wrapped__),Te=xe.__actions__=ci(this.__actions__);return Te.push({func:ae,args:arguments,thisArg:h}),xe.__chain__=be,xe}return ae.apply(h,Ja([this.value()],arguments))})}),h}function Xte(){return Fn._===this&&(Fn._=L0),this}function uC(){}function Qte(h){return h=Nt(h),Ot(function(y){return fh(y,h)})}var ene=kh(An),tne=kh(Jg),nne=kh(Yg);function pD(h){return Ze(h)?Qg(Qo(h)):qn(h)}function rne(h){return function(y){return h==null?n:la(h,y)}}var ine=$y(),one=$y(!0);function cC(){return[]}function dC(){return!1}function sne(){return{}}function ane(){return""}function lne(){return!0}function une(h,y){if(h=Nt(h),h<1||h>J)return[];var _=G,A=qr(h,G);y=ft(y),h-=G;for(var j=ty(A,y);++_<h;)y(_);return j}function cne(h){return At(h)?An(h,Qo):ns(h)?[h]:ci(By(Sn(h)))}function dne(h){var y=++nc;return Sn(h)+y}var fne=Jd(function(h,y){return h+y},0),pne=jr("ceil"),hne=Jd(function(h,y){return h/y},1),mne=jr("floor");function gne(h){return h&&h.length?Gl(h,Eo,rl):n}function yne(h,y){return h&&h.length?Gl(h,ft(y,2),rl):n}function vne(h){return E0(h,Eo)}function bne(h,y){return E0(h,ft(y,2))}function xne(h){return h&&h.length?Gl(h,Eo,il):n}function wne(h,y){return h&&h.length?Gl(h,ft(y,2),il):n}var Sne=Jd(function(h,y){return h*y},1),kne=jr("round"),_ne=Jd(function(h,y){return h-y},0);function Tne(h){return h&&h.length?ey(h,Eo):0}function Cne(h,y){return h&&h.length?ey(h,ft(y,2)):0}return V.after=X,V.ary=he,V.assign=Ree,V.assignIn=iD,V.assignInWith=Ow,V.assignWith=Dee,V.at=jee,V.before=ke,V.bind=Ee,V.bindAll=Bte,V.bindKey=we,V.castArray=see,V.chain=zh,V.chunk=Ph,V.compact=Uy,V.concat=ko,V.cond=Ute,V.conforms=Zte,V.constant=sC,V.countBy=Cw,V.create=Lee,V.curry=Be,V.curryRight=qe,V.debounce=Je,V.defaults=zee,V.defaultsDeep=Fee,V.defer=or,V.delay=ce,V.difference=nn,V.differenceBy=$r,V.differenceWith=pr,V.drop=Fr,V.dropRight=Ki,V.dropRightWhile=Tc,V.dropWhile=xr,V.fill=rf,V.filter=Bh,V.flatMap=tv,V.flatMapDeep=GT,V.flatMapDepth=Aw,V.flatten=Mh,V.flattenDeep=sf,V.flattenDepth=$i,V.flip=te,V.flow=Hte,V.flowRight=qte,V.fromPairs=Zy,V.functions=qee,V.functionsIn=Jee,V.groupBy=nv,V.initial=Oh,V.intersection=Wy,V.intersectionBy=ul,V.intersectionWith=Nh,V.invert=Gee,V.invertBy=Yee,V.invokeMap=$w,V.iteratee=aC,V.keyBy=YT,V.keys=ei,V.keysIn=Co,V.map=lu,V.mapKeys=Qee,V.mapValues=ete,V.matches=Jte,V.matchesProperty=Kte,V.memoize=fe,V.merge=tte,V.mergeWith=oD,V.method=Gte,V.methodOf=Yte,V.mixin=lC,V.negate=Me,V.nthArg=Qte,V.omit=nte,V.omitBy=rte,V.once=et,V.orderBy=XT,V.over=ene,V.overArgs=dt,V.overEvery=tne,V.overSome=nne,V.partial=at,V.partialRight=gt,V.partition=cf,V.pick=ite,V.pickBy=sD,V.property=pD,V.propertyOf=rne,V.pull=Rh,V.pullAll=lf,V.pullAllBy=hi,V.pullAllWith=dl,V.pullAt=es,V.range=ine,V.rangeRight=one,V.rearg=Pr,V.reject=c,V.remove=Pi,V.rest=an,V.reverse=Dh,V.sampleSize=v,V.set=ste,V.setWith=ate,V.shuffle=w,V.slice=qy,V.sortBy=L,V.sortedUniq=Gy,V.sortedUniqBy=ou,V.split=$te,V.spread=pl,V.tail=bw,V.take=xw,V.takeRight=Yy,V.takeRightWhile=jh,V.takeWhile=FT,V.tap=qT,V.throttle=eC,V.thru=ts,V.toArray=tD,V.toPairs=aD,V.toPairsIn=lD,V.toPath=cne,V.toPlainObject=rD,V.transform=lte,V.unary=iee,V.union=VT,V.unionBy=ww,V.unionWith=Sw,V.uniq=su,V.uniqBy=BT,V.uniqWith=Cc,V.unset=ute,V.unzip=Lh,V.unzipWith=Jn,V.update=cte,V.updateWith=dte,V.values=Jh,V.valuesIn=fte,V.without=UT,V.words=dD,V.wrap=oee,V.xor=kw,V.xorBy=ZT,V.xorWith=WT,V.zip=_w,V.zipObject=Tw,V.zipObjectDeep=HT,V.zipWith=_o,V.entries=aD,V.entriesIn=lD,V.extend=iD,V.extendWith=Ow,lC(V,V),V.add=fne,V.attempt=fD,V.camelCase=gte,V.capitalize=uD,V.ceil=pne,V.clamp=pte,V.clone=aee,V.cloneDeep=uee,V.cloneDeepWith=cee,V.cloneWith=lee,V.conformsTo=dee,V.deburr=cD,V.defaultTo=Wte,V.divide=hne,V.endsWith=yte,V.eq=ya,V.escape=vte,V.escapeRegExp=bte,V.every=Ew,V.find=Uh,V.findIndex=ll,V.findKey=Vee,V.findLast=Iw,V.findLastIndex=of,V.findLastKey=Bee,V.floor=mne,V.forEach=Zh,V.forEachRight=uf,V.forIn=Uee,V.forInRight=Zee,V.forOwn=Wee,V.forOwnRight=Hee,V.get=rC,V.gt=fee,V.gte=pee,V.has=Kee,V.hasIn=iC,V.head=ru,V.identity=Eo,V.includes=Wh,V.indexOf=ga,V.inRange=hte,V.invoke=Xee,V.isArguments=df,V.isArray=At,V.isArrayBuffer=hee,V.isArrayLike=To,V.isArrayLikeObject=wr,V.isBoolean=mee,V.isBuffer=Ec,V.isDate=gee,V.isElement=yee,V.isEmpty=vee,V.isEqual=bee,V.isEqualWith=xee,V.isError=tC,V.isFinite=wee,V.isFunction=uu,V.isInteger=YR,V.isLength=Pw,V.isMap=XR,V.isMatch=See,V.isMatchWith=kee,V.isNaN=_ee,V.isNative=Tee,V.isNil=Eee,V.isNull=Cee,V.isNumber=QR,V.isObject=sr,V.isObjectLike=hr,V.isPlainObject=rv,V.isRegExp=nC,V.isSafeInteger=Iee,V.isSet=eD,V.isString=Mw,V.isSymbol=ns,V.isTypedArray=qh,V.isUndefined=Aee,V.isWeakMap=$ee,V.isWeakSet=Pee,V.join=cl,V.kebabCase=xte,V.last=pi,V.lastIndexOf=af,V.lowerCase=wte,V.lowerFirst=Ste,V.lt=Mee,V.lte=Oee,V.max=gne,V.maxBy=yne,V.mean=vne,V.meanBy=bne,V.min=xne,V.minBy=wne,V.stubArray=cC,V.stubFalse=dC,V.stubObject=sne,V.stubString=ane,V.stubTrue=lne,V.multiply=Sne,V.nth=Hy,V.noConflict=Xte,V.noop=uC,V.now=K,V.pad=kte,V.padEnd=_te,V.padStart=Tte,V.parseInt=Cte,V.random=mte,V.reduce=QT,V.reduceRight=Hh,V.repeat=Ete,V.replace=Ite,V.result=ote,V.round=kne,V.runInContext=oe,V.sample=p,V.size=C,V.snakeCase=Ate,V.some=I,V.sortedIndex=Jy,V.sortedIndexBy=zT,V.sortedIndexOf=fl,V.sortedLastIndex=vw,V.sortedLastIndexBy=Ky,V.sortedLastIndexOf=iu,V.startCase=Pte,V.startsWith=Mte,V.subtract=_ne,V.sum=Tne,V.sumBy=Cne,V.template=Ote,V.times=une,V.toFinite=cu,V.toInteger=Nt,V.toLength=nD,V.toLower=Nte,V.toNumber=Ms,V.toSafeInteger=Nee,V.toString=Sn,V.toUpper=Rte,V.trim=Dte,V.trimEnd=jte,V.trimStart=Lte,V.truncate=zte,V.unescape=Fte,V.uniqueId=dne,V.upperCase=Vte,V.upperFirst=oC,V.each=Zh,V.eachRight=uf,V.first=ru,lC(V,(function(){var h={};return qi(V,function(y,_){sn.call(V.prototype,_)||(h[_]=y)}),h})(),{chain:!1}),V.VERSION=r,Hr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(h){V[h].placeholder=V}),Hr(["drop","take"],function(h,y){It.prototype[h]=function(_){_=_===n?1:fr(Nt(_),0);var A=this.__filtered__&&!y?new It(this):this.clone();return A.__filtered__?A.__takeCount__=qr(_,A.__takeCount__):A.__views__.push({size:qr(_,G),type:h+(A.__dir__<0?"Right":"")}),A},It.prototype[h+"Right"]=function(_){return this.reverse()[h](_).reverse()}}),Hr(["filter","map","takeWhile"],function(h,y){var _=y+1,A=_==se||_==me;It.prototype[h]=function(j){var U=this.clone();return U.__iteratees__.push({iteratee:ft(j,3),type:_}),U.__filtered__=U.__filtered__||A,U}}),Hr(["head","last"],function(h,y){var _="take"+(y?"Right":"");It.prototype[h]=function(){return this[_](1).value()[0]}}),Hr(["initial","tail"],function(h,y){var _="drop"+(y?"":"Right");It.prototype[h]=function(){return this.__filtered__?new It(this):this[_](1)}}),It.prototype.compact=function(){return this.filter(Eo)},It.prototype.find=function(h){return this.filter(h).head()},It.prototype.findLast=function(h){return this.reverse().find(h)},It.prototype.invokeMap=Ot(function(h,y){return typeof h=="function"?new It(this):this.map(function(_){return bo(_,h,y)})}),It.prototype.reject=function(h){return this.filter(Me(ft(h)))},It.prototype.slice=function(h,y){h=Nt(h);var _=this;return _.__filtered__&&(h>0||y<0)?new It(_):(h<0?_=_.takeRight(-h):h&&(_=_.drop(h)),y!==n&&(y=Nt(y),_=y<0?_.dropRight(-y):_.take(y-h)),_)},It.prototype.takeRightWhile=function(h){return this.reverse().takeWhile(h).reverse()},It.prototype.toArray=function(){return this.take(G)},qi(It.prototype,function(h,y){var _=/^(?:filter|find|map|reject)|While$/.test(y),A=/^(?:head|last)$/.test(y),j=V[A?"take"+(y=="last"?"Right":""):y],U=A||/^find/.test(y);j&&(V.prototype[y]=function(){var Y=this.__wrapped__,Q=A?[1]:arguments,ae=Y instanceof It,be=Q[0],xe=ae||At(Y),Te=function(Yt){var rn=j.apply(V,Ja([Yt],Q));return A&&ze?rn[0]:rn};xe&&_&&typeof be=="function"&&be.length!=1&&(ae=xe=!1);var ze=this.__chain__,rt=!!this.__actions__.length,yt=U&&!ze,zt=ae&&!rt;if(!U&&xe){Y=zt?Y:new It(this);var vt=h.apply(Y,Q);return vt.__actions__.push({func:ts,args:[Te],thisArg:n}),new Jr(vt,ze)}return yt&&zt?h.apply(this,Q):(vt=this.thru(Te),yt?A?vt.value()[0]:vt.value():vt)})}),Hr(["pop","push","shift","sort","splice","unshift"],function(h){var y=ra[h],_=/^(?:push|sort|unshift)$/.test(h)?"tap":"thru",A=/^(?:pop|shift)$/.test(h);V.prototype[h]=function(){var j=arguments;if(A&&!this.__chain__){var U=this.value();return y.apply(At(U)?U:[],j)}return this[_](function(Y){return y.apply(At(Y)?Y:[],j)})}}),qi(It.prototype,function(h,y){var _=V[y];if(_){var A=_.name+"";sn.call(sc,A)||(sc[A]=[]),sc[A].push({name:y,func:_})}}),sc[wc(n,T).name]=[{name:"wrapper",func:n}],It.prototype.clone=eh,It.prototype.reverse=uy,It.prototype.value=uc,V.prototype.at=Fh,V.prototype.chain=au,V.prototype.commit=Vh,V.prototype.next=Xy,V.prototype.plant=JT,V.prototype.reverse=ev,V.prototype.toJSON=V.prototype.valueOf=V.prototype.value=KT,V.prototype.first=V.prototype.head,oa&&(V.prototype[oa]=Qy),V}),ec=PT();ys?((ys.exports=ec)._=ec,Td._=ec):Fn._=ec}).call(Toe)})(Tv,Tv.exports)),Tv.exports}var jc=Coe();const mi=[];for(let e=0;e<256;++e)mi.push((e+256).toString(16).slice(1));function Eoe(e,t=0){return(mi[e[t+0]]+mi[e[t+1]]+mi[e[t+2]]+mi[e[t+3]]+"-"+mi[e[t+4]]+mi[e[t+5]]+"-"+mi[e[t+6]]+mi[e[t+7]]+"-"+mi[e[t+8]]+mi[e[t+9]]+"-"+mi[e[t+10]]+mi[e[t+11]]+mi[e[t+12]]+mi[e[t+13]]+mi[e[t+14]]+mi[e[t+15]]).toLowerCase()}let xC;const Ioe=new Uint8Array(16);function Aoe(){if(!xC){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");xC=crypto.getRandomValues.bind(crypto)}return xC(Ioe)}const $oe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),jD={randomUUID:$oe};function Poe(e,t,n){if(jD.randomUUID&&!e)return jD.randomUUID();e=e||{};const r=e.random??e.rng?.()??Aoe();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Eoe(r)}const Lm=D.createContext({});function Ur(e){const t=D.useRef(null);return t.current===null&&(t.current=e()),t.current}const C_=typeof window<"u",pp=C_?D.useLayoutEffect:D.useEffect,hp=D.createContext(null);function vg(e,t){e.indexOf(t)===-1&&e.push(t)}function Fu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function PU([...e],t,n){const r=t<0?e.length+t:t;if(r>=0&&r<e.length){const i=n<0?e.length+n:n,[o]=e.splice(t,1);e.splice(i,0,o)}return e}const Do=(e,t,n)=>n>t?t:n<e?e:n;function Moe(e,t){return t?`${e}. For more information and steps for solving, visit https://motion.dev/troubleshooting/${t}`:e}let MU=()=>{},E_=()=>{};const bi={},I_=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function rP(e){return typeof e=="object"&&e!==null}const A_=e=>/^0[^.\s]+$/u.test(e);function Ix(e){let t;return()=>(t===void 0&&(t=e()),t)}const rr=e=>e,Ooe=(e,t)=>n=>t(e(n)),ud=(...e)=>e.reduce(Ooe),Js=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class bg{constructor(){this.subscriptions=[]}add(t){return vg(this.subscriptions,t),()=>Fu(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const lr=e=>e*1e3,$o=e=>e/1e3;function $_(e,t){return t?e*(1e3/t):0}const lI=new Set;function Noe(e){return lI.has(e)}function Roe(e,t,n){e||lI.has(t)||(console.warn(Moe(t,n)),lI.add(t))}const Ax=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e},OU=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Doe=1e-7,joe=12;function Loe(e,t,n,r,i){let o,s,a=0;do s=t+(n-t)/2,o=OU(s,r,i)-e,o>0?n=s:t=s;while(Math.abs(o)>Doe&&++a<joe);return s}function xg(e,t,n,r){if(e===t&&n===r)return rr;const i=o=>Loe(o,0,1,e,n);return o=>o===0||o===1?o:OU(i(o),t,r)}const iP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,oP=e=>t=>1-e(1-t),sP=xg(.33,1.53,.69,.99),P_=oP(sP),aP=iP(P_),lP=e=>(e*=2)<1?.5*P_(e):.5*(2-Math.pow(2,-10*(e-1))),M_=e=>1-Math.sin(Math.acos(e)),O_=oP(M_),uP=iP(M_),NU=xg(.42,0,1,1),cP=xg(0,0,.58,1),dP=xg(.42,0,.58,1);function zoe(e,t="end"){return n=>{n=t==="end"?Math.min(n,.999):Math.max(n,.001);const r=n*e,i=t==="end"?Math.floor(r):Math.ceil(r);return Do(0,1,i/e)}}const fP=e=>Array.isArray(e)&&typeof e[0]!="number";function $x(e,t){return fP(e)?e[Ax(0,e.length,t)]:e}const N_=e=>Array.isArray(e)&&typeof e[0]=="number",Foe={linear:rr,easeIn:NU,easeInOut:dP,easeOut:cP,circIn:M_,circInOut:uP,circOut:O_,backIn:P_,backInOut:aP,backOut:sP,anticipate:lP},Voe=e=>typeof e=="string",QS=e=>{if(N_(e)){E_(e.length===4);const[t,n,r,i]=e;return xg(t,n,r,i)}else if(Voe(e))return Foe[e];return e},Cv=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],ar={value:null,addProjectionMetrics:null};function Boe(e,t){let n=new Set,r=new Set,i=!1,o=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function u(f){s.has(f)&&(d.schedule(f),e()),l++,f(a)}const d={schedule:(f,g=!1,m=!1)=>{const x=m&&i?n:r;return g&&s.add(f),x.has(f)||x.add(f),f},cancel:f=>{r.delete(f),s.delete(f)},process:f=>{if(a=f,i){o=!0;return}i=!0,[n,r]=[r,n],n.forEach(u),t&&ar.value&&ar.value.frameloop[t].push(l),l=0,n.clear(),i=!1,o&&(o=!1,d.process(f))}};return d}const Uoe=40;function pP(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=()=>n=!0,s=Cv.reduce(($,P)=>($[P]=Boe(o,t?P:void 0),$),{}),{setup:a,read:l,resolveKeyframes:u,preUpdate:d,update:f,preRender:g,render:m,postRender:b}=s,x=()=>{const $=bi.useManualTiming?i.timestamp:performance.now();n=!1,bi.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min($-i.timestamp,Uoe),1)),i.timestamp=$,i.isProcessing=!0,a.process(i),l.process(i),u.process(i),d.process(i),f.process(i),g.process(i),m.process(i),b.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(x))},k=()=>{n=!0,r=!0,i.isProcessing||e(x)};return{schedule:Cv.reduce(($,P)=>{const M=s[P];return $[P]=(R,z=!1,F=!1)=>(n||k(),M.schedule(R,z,F)),$},{}),cancel:$=>{for(let P=0;P<Cv.length;P++)s[Cv[P]].cancel($)},state:i,steps:s}}const{schedule:Ke,cancel:Dn,state:hn,steps:Lf}=pP(typeof requestAnimationFrame<"u"?requestAnimationFrame:rr,!0);let SS;function Zoe(){SS=void 0}const ni={now:()=>(SS===void 0&&ni.set(hn.isProcessing||bi.useManualTiming?hn.timestamp:performance.now()),SS),set:e=>{SS=e,queueMicrotask(Zoe)}},Oo={layout:0,mainThread:0,waapi:0},RU=e=>t=>typeof t=="string"&&t.startsWith(e),mp=RU("--"),Woe=RU("var(--"),R_=e=>Woe(e)?Hoe.test(e.split("/*")[0].trim()):!1,Hoe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,gp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},zm={...gp,transform:e=>Do(0,1,e)},Ev={...gp,default:1},Kv=e=>Math.round(e*1e5)/1e5,hP=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function qoe(e){return e==null}const Joe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,mP=(e,t)=>n=>!!(typeof n=="string"&&Joe.test(n)&&n.startsWith(e)||t&&!qoe(n)&&Object.prototype.hasOwnProperty.call(n,t)),DU=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,o,s,a]=r.match(hP);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},Koe=e=>Do(0,255,e),kS={...gp,transform:e=>Math.round(Koe(e))},Fc={test:mP("rgb","red"),parse:DU("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+kS.transform(e)+", "+kS.transform(t)+", "+kS.transform(n)+", "+Kv(zm.transform(r))+")"};function Goe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const ek={test:mP("#"),parse:Goe,transform:Fc.transform},Px=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),yu=Px("deg"),oo=Px("%"),ut=Px("px"),jU=Px("vh"),LU=Px("vw"),uI={...oo,parse:e=>oo.parse(e)/100,transform:e=>oo.transform(e*100)},Af={test:mP("hsl","hue"),parse:DU("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+oo.transform(Kv(t))+", "+oo.transform(Kv(n))+", "+Kv(zm.transform(r))+")"},kr={test:e=>Fc.test(e)||ek.test(e)||Af.test(e),parse:e=>Fc.test(e)?Fc.parse(e):Af.test(e)?Af.parse(e):ek.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Fc.transform(e):Af.transform(e),getAnimatableNone:e=>{const t=kr.parse(e);return t.alpha=0,kr.transform(t)}},Yoe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Xoe(e){return isNaN(e)&&typeof e=="string"&&(e.match(hP)?.length||0)+(e.match(Yoe)?.length||0)>0}const zU="number",FU="color",Qoe="var",ese="var(",LD="${}",tse=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fm(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let o=0;const a=t.replace(tse,l=>(kr.test(l)?(r.color.push(o),i.push(FU),n.push(kr.parse(l))):l.startsWith(ese)?(r.var.push(o),i.push(Qoe),n.push(l)):(r.number.push(o),i.push(zU),n.push(parseFloat(l))),++o,LD)).split(LD);return{values:n,split:a,indexes:r,types:i}}function VU(e){return Fm(e).values}function BU(e){const{split:t,types:n}=Fm(e),r=t.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=t[s],i[s]!==void 0){const a=n[s];a===zU?o+=Kv(i[s]):a===FU?o+=kr.transform(i[s]):o+=i[s]}return o}}const nse=e=>typeof e=="number"?0:kr.test(e)?kr.getAnimatableNone(e):e;function rse(e){const t=VU(e);return BU(e)(t.map(nse))}const Ks={test:Xoe,parse:VU,createTransformer:BU,getAnimatableNone:rse};function wC(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function UU({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,o=0,s=0;if(!t)i=o=s=n;else{const a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;i=wC(l,a,e+1/3),o=wC(l,a,e),s=wC(l,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}function mb(e,t){return n=>n>0?t:e}const St=(e,t,n)=>e+(t-e)*n,_S=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},ise=[ek,Fc,Af],ose=e=>ise.find(t=>t.test(e));function zD(e){const t=ose(e);if(!t)return!1;let n=t.parse(e);return t===Af&&(n=UU(n)),n}const cI=(e,t)=>{const n=zD(e),r=zD(t);if(!n||!r)return mb(e,t);const i={...n};return o=>(i.red=_S(n.red,r.red,o),i.green=_S(n.green,r.green,o),i.blue=_S(n.blue,r.blue,o),i.alpha=St(n.alpha,r.alpha,o),Fc.transform(i))},tk=new Set(["none","hidden"]);function ZU(e,t){return tk.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function sse(e,t){return n=>St(e,t,n)}function D_(e){return typeof e=="number"?sse:typeof e=="string"?R_(e)?mb:kr.test(e)?cI:HU:Array.isArray(e)?gP:typeof e=="object"?kr.test(e)?cI:WU:mb}function gP(e,t){const n=[...e],r=n.length,i=e.map((o,s)=>D_(o)(o,t[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function WU(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=D_(e[i])(e[i],t[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function ase(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const o=t.types[i],s=e.indexes[o][r[o]],a=e.values[s]??0;n[i]=a,r[o]++}return n}const HU=(e,t)=>{const n=Ks.createTransformer(t),r=Fm(e),i=Fm(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?tk.has(e)&&!i.values.length||tk.has(t)&&!r.values.length?ZU(e,t):ud(gP(ase(r,i),i.values),n):mb(e,t)};function yP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?St(e,t,n):D_(e)(e,t)}const lse=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Ke.update(t,n),stop:()=>Dn(t),now:()=>hn.isProcessing?hn.timestamp:ni.now()}},vP=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let o=0;o<i;o++)r+=Math.round(e(o/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},gb=2e4;function j_(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<gb;)t+=n,r=e.next(t);return t>=gb?1/0:t}function L_(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(j_(r),gb);return{type:"keyframes",ease:o=>r.next(i*o).value/t,duration:$o(i)}}const use=5;function qU(e,t,n){const r=Math.max(t-use,0);return $_(n-e(r),t-r)}const gr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},SC=.001;function cse({duration:e=gr.duration,bounce:t=gr.bounce,velocity:n=gr.velocity,mass:r=gr.mass}){let i,o,s=1-t;s=Do(gr.minDamping,gr.maxDamping,s),e=Do(gr.minDuration,gr.maxDuration,$o(e)),s<1?(i=u=>{const d=u*s,f=d*e,g=d-n,m=dI(u,s),b=Math.exp(-f);return SC-g/m*b},o=u=>{const f=u*s*e,g=f*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,b=Math.exp(-f),x=dI(Math.pow(u,2),s);return(-i(u)+SC>0?-1:1)*((g-m)*b)/x}):(i=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-SC+d*f},o=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const a=5/e,l=fse(i,o,a);if(e=lr(e),isNaN(l))return{stiffness:gr.stiffness,damping:gr.damping,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const dse=12;function fse(e,t,n){let r=n;for(let i=1;i<dse;i++)r=r-e(r)/t(r);return r}function dI(e,t){return e*Math.sqrt(1-t*t)}const pse=["duration","bounce"],hse=["stiffness","damping","mass"];function FD(e,t){return t.some(n=>e[n]!==void 0)}function mse(e){let t={velocity:gr.velocity,stiffness:gr.stiffness,damping:gr.damping,mass:gr.mass,isResolvedFromDuration:!1,...e};if(!FD(e,hse)&&FD(e,pse))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,o=2*Do(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:gr.mass,stiffness:i,damping:o}}else{const n=cse(e);t={...t,...n,mass:gr.mass},t.isResolvedFromDuration=!0}return t}function Xf(e=gr.visualDuration,t=gr.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const o=n.keyframes[0],s=n.keyframes[n.keyframes.length-1],a={done:!1,value:o},{stiffness:l,damping:u,mass:d,duration:f,velocity:g,isResolvedFromDuration:m}=mse({...n,velocity:-$o(n.velocity||0)}),b=g||0,x=u/(2*Math.sqrt(l*d)),k=s-o,T=$o(Math.sqrt(l/d)),E=Math.abs(k)<5;r||(r=E?gr.restSpeed.granular:gr.restSpeed.default),i||(i=E?gr.restDelta.granular:gr.restDelta.default);let $;if(x<1){const M=dI(T,x);$=R=>{const z=Math.exp(-x*T*R);return s-z*((b+x*T*k)/M*Math.sin(M*R)+k*Math.cos(M*R))}}else if(x===1)$=M=>s-Math.exp(-T*M)*(k+(b+T*k)*M);else{const M=T*Math.sqrt(x*x-1);$=R=>{const z=Math.exp(-x*T*R),F=Math.min(M*R,300);return s-z*((b+x*T*k)*Math.sinh(F)+M*k*Math.cosh(F))/M}}const P={calculatedDuration:m&&f||null,next:M=>{const R=$(M);if(m)a.done=M>=f;else{let z=M===0?b:0;x<1&&(z=M===0?lr(b):qU($,M,R));const F=Math.abs(z)<=r,q=Math.abs(s-R)<=i;a.done=F&&q}return a.value=a.done?s:R,a},toString:()=>{const M=Math.min(j_(P),gb),R=vP(z=>P.next(M*z).value,M,30);return M+"ms "+R},toTransition:()=>{}};return P}Xf.applyToOptions=e=>{const t=L_(e,100,Xf);return e.ease=t.ease,e.duration=lr(t.duration),e.type="keyframes",e};function nk({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:a,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],g={done:!1,value:f},m=F=>a!==void 0&&F<a||l!==void 0&&F>l,b=F=>a===void 0?l:l===void 0||Math.abs(a-F)<Math.abs(l-F)?a:l;let x=n*t;const k=f+x,T=s===void 0?k:s(k);T!==k&&(x=T-f);const E=F=>-x*Math.exp(-F/r),$=F=>T+E(F),P=F=>{const q=E(F),Z=$(F);g.done=Math.abs(q)<=u,g.value=g.done?T:Z};let M,R;const z=F=>{m(g.value)&&(M=F,R=Xf({keyframes:[g.value,b(g.value)],velocity:qU($,F,g.value),damping:i,stiffness:o,restDelta:u,restSpeed:d}))};return z(0),{calculatedDuration:null,next:F=>{let q=!1;return!R&&M===void 0&&(q=!0,P(F),z(F)),M!==void 0&&F>=M?R.next(F-M):(!q&&P(F),g)}}}function gse(e,t,n){const r=[],i=n||bi.mix||yP,o=e.length-1;for(let s=0;s<o;s++){let a=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||rr:t;a=ud(l,a)}r.push(a)}return r}function z_(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;if(E_(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=gse(t,r,i),l=a.length,u=d=>{if(s&&d<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const g=Js(e[f],e[f+1],d);return a[f](g)};return n?d=>u(Do(e[0],e[o-1],d)):u}function F_(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Js(0,t,r);e.push(St(n,1,i))}}function Mx(e){const t=[0];return F_(t,e.length-1),t}function JU(e,t){return e.map(n=>n*t)}function KU(e,t){return e.map(()=>t||dP).splice(0,e.length-1)}function $m({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=fP(r)?r.map(QS):QS(r),o={done:!1,value:t[0]},s=JU(n&&n.length===t.length?n:Mx(t),e),a=z_(s,t,{ease:Array.isArray(i)?i:KU(t,i)});return{calculatedDuration:e,next:l=>(o.value=a(l),o.done=l>=e,o)}}const yse=e=>e!==null;function bP(e,{repeat:t,repeatType:n="loop"},r,i=1){const o=e.filter(yse),a=i<0||t&&n!=="loop"&&t%2===1?0:o.length-1;return!a||r===void 0?o[a]:r}const vse={decay:nk,inertia:nk,tween:$m,keyframes:$m,spring:Xf};function GU(e){typeof e.type=="string"&&(e.type=vse[e.type])}class xP{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const bse=e=>e/100;class yp extends xP{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:n}=this.options;n&&n.updatedAt!==ni.now()&&this.tick(ni.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},Oo.mainThread++,this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;GU(t);const{type:n=$m,repeat:r=0,repeatDelay:i=0,repeatType:o,velocity:s=0}=t;let{keyframes:a}=t;const l=n||$m;l!==$m&&typeof a[0]!="number"&&(this.mixKeyframes=ud(bse,yP(a[0],a[1])),a=[0,100]);const u=l({...t,keyframes:a});o==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...a].reverse(),velocity:-s})),u.calculatedDuration===null&&(u.calculatedDuration=j_(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=u}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:o,mirroredGenerator:s,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:g,repeatDelay:m,type:b,onUpdate:x,finalKeyframe:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const T=this.currentTime-u*(this.playbackSpeed>=0?1:-1),E=this.playbackSpeed>=0?T<0:T>i;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let $=this.currentTime,P=r;if(f){const F=Math.min(this.currentTime,i)/a;let q=Math.floor(F),Z=F%1;!Z&&F>=1&&(Z=1),Z===1&&q--,q=Math.min(q,f+1),!!(q%2)&&(g==="reverse"?(Z=1-Z,m&&(Z-=m/a)):g==="mirror"&&(P=s)),$=Do(0,1,Z)*a}const M=E?{done:!1,value:d[0]}:P.next($);o&&(M.value=o(M.value));let{done:R}=M;!E&&l!==null&&(R=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return z&&b!==nk&&(M.value=bP(d,this.options,k,this.speed)),x&&x(M.value),z&&this.finish(),M}then(t,n){return this.finished.then(t,n)}get duration(){return $o(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+$o(t)}get time(){return $o(this.currentTime)}set time(t){t=lr(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ni.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=$o(this.currentTime))}play(){if(this.isStopped)return;const{driver:t=lse,startTime:n}=this.options;this.driver||(this.driver=t(i=>this.tick(i))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ni.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,Oo.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),t.observe(this)}}function xse(e){return new yp(e)}function wP(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const $f=e=>e*180/Math.PI,fI=e=>{const t=$f(Math.atan2(e[1],e[0]));return pI(t)},wse={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:fI,rotateZ:fI,skewX:e=>$f(Math.atan(e[1])),skewY:e=>$f(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},pI=e=>(e=e%360,e<0&&(e+=360),e),VD=fI,BD=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),UD=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Sse={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:BD,scaleY:UD,scale:e=>(BD(e)+UD(e))/2,rotateX:e=>pI($f(Math.atan2(e[6],e[5]))),rotateY:e=>pI($f(Math.atan2(-e[2],e[0]))),rotateZ:VD,rotate:VD,skewX:e=>$f(Math.atan(e[4])),skewY:e=>$f(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function yb(e){return e.includes("scale")?1:0}function rk(e,t){if(!e||e==="none")return yb(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=Sse,i=n;else{const a=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=wse,i=a}if(!i)return yb(t);const o=r[t],s=i[1].split(",").map(kse);return typeof o=="function"?o(s):s[o]}const SP=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return rk(n,t)};function kse(e){return parseFloat(e.trim())}const Gs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Li=new Set(Gs),ZD=e=>e===gp||e===ut,_se=new Set(["x","y","z"]),Tse=Gs.filter(e=>!_se.has(e));function Cse(e){const t=[];return Tse.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const zf={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>rk(t,"x"),y:(e,{transform:t})=>rk(t,"y")};zf.translateX=zf.x;zf.translateY=zf.y;const Ff=new Set;let hI=!1,mI=!1,gI=!1;function YU(){if(mI){const e=Array.from(Ff).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=Cse(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([o,s])=>{r.getValue(o)?.set(s)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}mI=!1,hI=!1,Ff.forEach(e=>e.complete(gI)),Ff.clear()}function XU(){Ff.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(mI=!0)})}function QU(){gI=!0,XU(),YU(),gI=!1}class Ox{constructor(t,n,r,i,o,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=o,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Ff.add(this),hI||(hI=!0,Ke.read(XU),Ke.resolveKeyframes(YU))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const o=i?.get(),s=t[t.length-1];if(o!==void 0)t[0]=o;else if(r&&n){const a=r.readValue(n,s);a!=null&&(t[0]=a)}t[0]===void 0&&(t[0]=s),i&&o===void 0&&i.set(t[0])}wP(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ff.delete(this)}cancel(){this.state==="scheduled"&&(Ff.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kP=e=>e.startsWith("--");function e6(e,t,n){kP(t)?e.style.setProperty(t,n):e.style[t]=n}const _P=Ix(()=>window.ScrollTimeline!==void 0),t6={};function Ese(e,t){const n=Ix(e);return()=>t6[t]??n()}const vb=Ese(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),fm=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,ik={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:fm([0,.65,.55,1]),circOut:fm([.55,0,1,.45]),backIn:fm([.31,.01,.66,-.59]),backOut:fm([.33,1.53,.69,.99])};function V_(e,t){if(e)return typeof e=="function"?vb()?vP(e,t):"ease-out":N_(e)?fm(e):Array.isArray(e)?e.map(n=>V_(n,t)||ik.easeOut):ik[e]}function ok(e,t,n,{delay:r=0,duration:i=300,repeat:o=0,repeatType:s="loop",ease:a="easeOut",times:l}={},u=void 0){const d={[t]:n};l&&(d.offset=l);const f=V_(a,i);Array.isArray(f)&&(d.easing=f),ar.value&&Oo.waapi++;const g={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"};u&&(g.pseudoElement=u);const m=e.animate(d,g);return ar.value&&m.finished.finally(()=>{Oo.waapi--}),m}function Nx(e){return typeof e=="function"&&"applyToOptions"in e}function TP({type:e,...t}){return Nx(e)&&vb()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Rx extends xP{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:o,allowFlatten:s=!1,finalKeyframe:a,onComplete:l}=t;this.isPseudoElement=!!o,this.allowFlatten=s,this.options=t,E_(typeof t.type!="string");const u=TP(t);this.animation=ok(n,r,i,u,o),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!o){const d=bP(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):e6(n,r,d),this.animation.cancel()}l?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const t=this.animation.effect?.getComputedTiming?.().duration||0;return $o(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+$o(t)}get time(){return $o(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=lr(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,t&&_P()?(this.animation.timeline=t,rr):n(this)}}const n6={anticipate:lP,backInOut:aP,circInOut:uP};function Ise(e){return e in n6}function Ase(e){typeof e.ease=="string"&&Ise(e.ease)&&(e.ease=n6[e.ease])}const WD=10;class r6 extends Rx{constructor(t){Ase(t),GU(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:o,...s}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const a=new yp({...s,autoplay:!1}),l=lr(this.finishedTime??this.time);n.setWithVelocity(a.sample(l-WD).value,a.sample(l).value,WD),a.stop()}}const HD=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ks.test(e)||e==="0")&&!e.startsWith("url("));function $se(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function Pse(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const o=e[e.length-1],s=HD(i,t),a=HD(o,t);return!s||!a?!1:$se(e)||(n==="spring"||Nx(n))&&r}function sk(e){e.duration=0,e.type="keyframes"}const Mse=new Set(["opacity","clipPath","filter","transform"]),Ose=Ix(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function i6(e){const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:o,type:s}=e;if(!(t?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=t.owner.getProps();return Ose()&&n&&Mse.has(n)&&(n!=="transform"||!u)&&!l&&!r&&i!=="mirror"&&o!==0&&s!=="inertia"}const Nse=40;class CP extends xP{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",keyframes:a,name:l,motionValue:u,element:d,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=ni.now();const g={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:o,repeatType:s,name:l,motionValue:u,element:d,...f},m=d?.KeyframeResolver||Ox;this.keyframeResolver=new m(a,(b,x,k)=>this.onKeyframesResolved(b,x,g,!k),l,u,d),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:o,type:s,velocity:a,delay:l,isHandoff:u,onUpdate:d}=r;this.resolvedAt=ni.now(),Pse(t,o,s,a)||((bi.instantAnimations||!l)&&d?.(bP(t,r,n)),t[0]=t[t.length-1],sk(r),r.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Nse?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},m=!u&&i6(g)?new r6({...g,element:g.motionValue.owner.current}):new yp(g);m.finished.then(()=>this.notifyFinished()).catch(rr),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),QU()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}class ak{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t){const n=this.animations.map(r=>r.attachTimeline(t));return()=>{n.forEach((r,i)=>{r&&r(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){return qD(this.animations,"duration")}get iterationDuration(){return qD(this.animations,"iterationDuration")}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function qD(e,t){let n=0;for(let r=0;r<e.length;r++){const i=e[r][t];i!==null&&i>n&&(n=i)}return n}class B_ extends ak{then(t,n){return this.finished.finally(t).then(()=>{})}}class yI extends Rx{constructor(t){super(),this.animation=t,t.onfinish=()=>{this.finishedTime=this.time,this.notifyFinished()}}}const JD=new WeakMap,o6=(e,t="")=>`${e}:${t}`;function s6(e){const t=JD.get(e)||new Map;return JD.set(e,t),t}const Rse=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function a6(e){const t=Rse.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function EP(e,t,n=1){const[r,i]=a6(e);if(!r)return;const o=window.getComputedStyle(t).getPropertyValue(r);if(o){const s=o.trim();return I_(s)?parseFloat(s):s}return R_(i)?EP(i,t,n+1):i}function Ea(e,t){return e?.[t]??e?.default??e}const U_=new Set(["width","height","top","left","right","bottom",...Gs]),Dse={test:e=>e==="auto",parse:e=>e},IP=e=>t=>t.test(e),AP=[gp,ut,oo,yu,LU,jU,Dse],vI=e=>AP.find(IP(e));function jse(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||A_(e):!0}const Lse=new Set(["brightness","contrast","saturate","opacity"]);function zse(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(hP)||[];if(!r)return e;const i=n.replace(r,"");let o=Lse.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const Fse=/\b([a-z-]*)\(.*?\)/gu,bI={...Ks,getAnimatableNone:e=>{const t=e.match(Fse);return t?t.map(zse).join(" "):e}},KD={...gp,transform:Math.round},l6={rotate:yu,rotateX:yu,rotateY:yu,rotateZ:yu,scale:Ev,scaleX:Ev,scaleY:Ev,scaleZ:Ev,skew:yu,skewX:yu,skewY:yu,distance:ut,translateX:ut,translateY:ut,translateZ:ut,x:ut,y:ut,z:ut,perspective:ut,transformPerspective:ut,opacity:zm,originX:uI,originY:uI,originZ:ut},vp={borderWidth:ut,borderTopWidth:ut,borderRightWidth:ut,borderBottomWidth:ut,borderLeftWidth:ut,borderRadius:ut,radius:ut,borderTopLeftRadius:ut,borderTopRightRadius:ut,borderBottomRightRadius:ut,borderBottomLeftRadius:ut,width:ut,maxWidth:ut,height:ut,maxHeight:ut,top:ut,right:ut,bottom:ut,left:ut,padding:ut,paddingTop:ut,paddingRight:ut,paddingBottom:ut,paddingLeft:ut,margin:ut,marginTop:ut,marginRight:ut,marginBottom:ut,marginLeft:ut,backgroundPositionX:ut,backgroundPositionY:ut,...l6,zIndex:KD,fillOpacity:zm,strokeOpacity:zm,numOctaves:KD},u6={...vp,color:kr,backgroundColor:kr,outlineColor:kr,fill:kr,stroke:kr,borderColor:kr,borderTopColor:kr,borderRightColor:kr,borderBottomColor:kr,borderLeftColor:kr,filter:bI,WebkitFilter:bI},Z_=e=>u6[e];function W_(e,t){let n=Z_(e);return n!==bI&&(n=Ks),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const Vse=new Set(["auto","none","0"]);function Bse(e,t,n){let r=0,i;for(;r<e.length&&!i;){const o=e[r];typeof o=="string"&&!Vse.has(o)&&Fm(o).values.length&&(i=e[r]),r++}if(i&&n)for(const o of t)e[o]=W_(n,i)}class $P extends Ox{constructor(t,n,r,i,o){super(t,n,r,i,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let u=t[l];if(typeof u=="string"&&(u=u.trim(),R_(u))){const d=EP(u,n.current);d!==void 0&&(t[l]=d),l===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!U_.has(r)||t.length!==2)return;const[i,o]=t,s=vI(i),a=vI(o);if(s!==a)if(ZD(s)&&ZD(a))for(let l=0;l<t.length;l++){const u=t[l];typeof u=="string"&&(t[l]=parseFloat(u))}else zf[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||jse(t[i]))&&r.push(i);r.length&&Bse(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zf[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const o=r.length-1,s=r[o];r[o]=zf[n](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),this.removedTransforms?.length&&this.removedTransforms.forEach(([a,l])=>{t.getValue(a).set(l)}),this.resolveNoneKeyframes()}}const Use=new Set(["borderWidth","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderRadius","radius","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","width","maxWidth","height","maxHeight","top","right","bottom","left","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","margin","marginTop","marginRight","marginBottom","marginLeft","backgroundPositionX","backgroundPositionY"]);function c6(e,t){for(let n=0;n<e.length;n++)typeof e[n]=="number"&&Use.has(t)&&(e[n]=e[n]+"px")}function d6(e){return!!(typeof e=="function"&&vb()||!e||typeof e=="string"&&(e in ik||vb())||N_(e)||Array.isArray(e)&&e.every(d6))}const Zse=Ix(()=>{try{document.createElement("div").animate({opacity:[1]})}catch{return!1}return!0}),f6=new Set(["opacity","clipPath","filter","transform"]);function Wse(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}function Vu(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;t&&(r=t.current);const i=n?.[e]??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}function PP(e){return(t,n)=>{const r=Vu(t),i=[];for(const o of r){const s=e(o,n);i.push(s)}return()=>{for(const o of i)o()}}}const wg=(e,t)=>t&&typeof e=="number"?t.transform(e):e;class Hse{constructor(){this.latest={},this.values=new Map}set(t,n,r,i,o=!0){const s=this.values.get(t);s&&s.onRemove();const a=()=>{const d=n.get();o?this.latest[t]=wg(d,vp[t]):this.latest[t]=d,r&&Ke.render(r)};a();const l=n.on("change",a);i&&n.addDependent(i);const u=()=>{l(),r&&Dn(r),this.values.delete(t),i&&n.removeDependent(i)};return this.values.set(t,{value:n,onRemove:u}),u}get(t){return this.values.get(t)?.value}destroy(){for(const t of this.values.values())t.onRemove()}}function H_(e){const t=new WeakMap,n=[];return(r,i)=>{const o=t.get(r)??new Hse;t.set(r,o);for(const s in i){const a=i[s],l=e(r,o,s,a);n.push(l)}return()=>{for(const s of n)s()}}}function qse(e,t){if(!(t in e))return!1;const n=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),t)||Object.getOwnPropertyDescriptor(e,t);return n&&typeof n.set=="function"}const lk=(e,t,n,r)=>{const i=qse(e,n),o=i?n:n.startsWith("data")||n.startsWith("aria")?Wse(n):n,s=i?()=>{e[o]=t.latest[n]}:()=>{const a=t.latest[n];a==null?e.removeAttribute(o):e.setAttribute(o,String(a))};return t.set(n,r,s)},Jse=PP(H_(lk)),Kse=H_((e,t,n,r)=>t.set(n,r,()=>{e[n]=t.latest[n]},void 0,!1));function Iu(e){return rP(e)&&"offsetHeight"in e}const GD=30,Gse=e=>!isNaN(parseFloat(e)),Ia={current:void 0};class Vf{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const i=ni.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=ni.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Gse(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new bg);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ke.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Ia.current&&Ia.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=ni.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>GD)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,GD);return $_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tr(e,t){return new Vf(e,t)}const Yse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Xse(e){let t="",n=!0;for(let r=0;r<Gs.length;r++){const i=Gs[r],o=e.latest[i];if(o===void 0)continue;let s=!0;if(typeof o=="number"?s=o===(i.startsWith("scale")?1:0):s=parseFloat(o)===0,!s){n=!1;const a=Yse[i]||i,l=e.latest[i];t+=`${a}(${l}) `}}return n?"none":t.trim()}const Qse=new Set(["originX","originY","originZ"]),q_=(e,t,n,r)=>{let i,o;return Li.has(n)?(t.get("transform")||(!Iu(e)&&!t.get("transformBox")&&q_(e,t,"transformBox",new Vf("fill-box")),t.set("transform",new Vf("none"),()=>{e.style.transform=Xse(t)})),o=t.get("transform")):Qse.has(n)?(t.get("transformOrigin")||t.set("transformOrigin",new Vf(""),()=>{const s=t.latest.originX??"50%",a=t.latest.originY??"50%",l=t.latest.originZ??0;e.style.transformOrigin=`${s} ${a} ${l}`}),o=t.get("transformOrigin")):kP(n)?i=()=>{e.style.setProperty(n,t.latest[n])}:i=()=>{e.style[n]=t.latest[n]},t.set(n,r,i,o)},eae=PP(H_(q_)),kC=ut.transform;function tae(e,t,n,r){return Ke.render(()=>e.setAttribute("pathLength","1")),n==="pathOffset"?t.set(n,r,()=>e.setAttribute("stroke-dashoffset",kC(-t.latest[n]))):(t.get("stroke-dasharray")||t.set("stroke-dasharray",new Vf("1 1"),()=>{const{pathLength:i=1,pathSpacing:o}=t.latest;e.setAttribute("stroke-dasharray",`${kC(i)} ${kC(o??1-Number(i))}`)}),t.set(n,r,void 0,t.get("stroke-dasharray")))}const nae=(e,t,n,r)=>n.startsWith("path")?tae(e,t,n,r):n.startsWith("attr")?lk(e,t,iae(n),r):(n in e.style?q_:lk)(e,t,n,r),rae=PP(H_(nae));function iae(e){return e.replace(/^attr([A-Z])/,(t,n)=>n.toLowerCase())}const{schedule:cd,cancel:oae}=pP(queueMicrotask,!1),js={x:!1,y:!1};function MP(){return js.x||js.y}function OP(e){return e==="x"||e==="y"?js[e]?null:(js[e]=!0,()=>{js[e]=!1}):js.x||js.y?null:(js.x=js.y=!0,()=>{js.x=js.y=!1})}function p6(e,t){const n=Vu(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function YD(e){return!(e.pointerType==="touch"||MP())}function NP(e,t,n={}){const[r,i,o]=p6(e,n),s=a=>{if(!YD(a))return;const{target:l}=a,u=t(l,a);if(typeof u!="function"||!l)return;const d=f=>{YD(f)&&(u(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return r.forEach(a=>{a.addEventListener("pointerenter",s,i)}),o}const RP=(e,t)=>t?e===t?!0:RP(e,t.parentElement):!1,Sg=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,sae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aae(e){return sae.has(e.tagName)||e.tabIndex!==-1}const TS=new WeakSet;function XD(e){return t=>{t.key==="Enter"&&e(t)}}function _C(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const lae=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=XD(()=>{if(TS.has(n))return;_C(n,"down");const i=XD(()=>{_C(n,"up")}),o=()=>_C(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",o,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function QD(e){return Sg(e)&&!MP()}function DP(e,t,n={}){const[r,i,o]=p6(e,n),s=a=>{const l=a.currentTarget;if(!QD(a))return;TS.add(l);const u=t(l,a),d=(m,b)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",g),TS.has(l)&&TS.delete(l),QD(m)&&typeof u=="function"&&u(m,{success:b})},f=m=>{d(m,l===window||l===document||n.useGlobalTarget||RP(l,m.target))},g=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",g,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",s,i),Iu(a)&&(a.addEventListener("focus",u=>lae(u,i)),!aae(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),o}function xI(e,t){const n=window.getComputedStyle(e);return kP(t)?n.getPropertyValue(t):n[t]}function bp(e){return rP(e)&&"ownerSVGElement"in e}const CS=new WeakMap;let ES;const h6=(e,t,n)=>(r,i)=>i&&i[0]?i[0][e+"Size"]:bp(r)&&"getBBox"in r?r.getBBox()[t]:r[n],uae=h6("inline","width","offsetWidth"),cae=h6("block","height","offsetHeight");function dae({target:e,borderBoxSize:t}){CS.get(e)?.forEach(n=>{n(e,{get width(){return uae(e,t)},get height(){return cae(e,t)}})})}function fae(e){e.forEach(dae)}function pae(){typeof ResizeObserver>"u"||(ES=new ResizeObserver(fae))}function hae(e,t){ES||pae();const n=Vu(e);return n.forEach(r=>{let i=CS.get(r);i||(i=new Set,CS.set(r,i)),i.add(t),ES?.observe(r)}),()=>{n.forEach(r=>{const i=CS.get(r);i?.delete(t),i?.size||ES?.unobserve(r)})}}const IS=new Set;let pm;function mae(){pm=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};IS.forEach(t=>t(e))},window.addEventListener("resize",pm)}function gae(e){return IS.add(e),pm||mae(),()=>{IS.delete(e),!IS.size&&typeof pm=="function"&&(window.removeEventListener("resize",pm),pm=void 0)}}function jP(e,t){return typeof e=="function"?gae(e):hae(e,t)}function LP(e,t){let n;const r=()=>{const{currentTime:i}=t,s=(i===null?0:i.value)/100;n!==s&&e(s),n=s};return Ke.preUpdate(r,!0),()=>Dn(r)}function zP(){const{value:e}=ar;if(e===null){Dn(zP);return}e.frameloop.rate.push(hn.delta),e.animations.mainThread.push(Oo.mainThread),e.animations.waapi.push(Oo.waapi),e.animations.layout.push(Oo.layout)}function yae(e){return e.reduce((t,n)=>t+n,0)/e.length}function Yi(e,t=yae){return e.length===0?{min:0,max:0,avg:0}:{min:Math.min(...e),max:Math.max(...e),avg:t(e)}}const TC=e=>Math.round(1e3/e);function m6(){ar.value=null,ar.addProjectionMetrics=null}function vae(){const{value:e}=ar;if(!e)throw new Error("Stats are not being measured");m6(),Dn(zP);const t={frameloop:{setup:Yi(e.frameloop.setup),rate:Yi(e.frameloop.rate),read:Yi(e.frameloop.read),resolveKeyframes:Yi(e.frameloop.resolveKeyframes),preUpdate:Yi(e.frameloop.preUpdate),update:Yi(e.frameloop.update),preRender:Yi(e.frameloop.preRender),render:Yi(e.frameloop.render),postRender:Yi(e.frameloop.postRender)},animations:{mainThread:Yi(e.animations.mainThread),waapi:Yi(e.animations.waapi),layout:Yi(e.animations.layout)},layoutProjection:{nodes:Yi(e.layoutProjection.nodes),calculatedTargetDeltas:Yi(e.layoutProjection.calculatedTargetDeltas),calculatedProjections:Yi(e.layoutProjection.calculatedProjections)}},{rate:n}=t.frameloop;return n.min=TC(n.min),n.max=TC(n.max),n.avg=TC(n.avg),[n.min,n.max]=[n.max,n.min],t}function bae(){if(ar.value)throw m6(),new Error("Stats are already being measured");const e=ar;return e.value={frameloop:{setup:[],rate:[],read:[],resolveKeyframes:[],preUpdate:[],update:[],preRender:[],render:[],postRender:[]},animations:{mainThread:[],waapi:[],layout:[]},layoutProjection:{nodes:[],calculatedTargetDeltas:[],calculatedProjections:[]}},e.addProjectionMetrics=t=>{const{layoutProjection:n}=e.value;n.nodes.push(t.nodes),n.calculatedTargetDeltas.push(t.calculatedTargetDeltas),n.calculatedProjections.push(t.calculatedProjections)},Ke.postRender(zP,!0),vae}function Dx(e){return bp(e)&&e.tagName==="svg"}function xae(e,t){if(e==="first")return 0;{const n=t-1;return e==="last"?n:n/2}}function J_(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],i=e[1+n],o=e[2+n],s=e[3+n],a=z_(i,o,s);return t?a(r):a}function wae(e,t,n){const r=()=>t.set(n()),i=()=>Ke.preRender(r,!1,!0),o=e.map(s=>s.on("change",i));t.on("destroy",()=>{o.forEach(s=>s()),Dn(r)})}function g6(e){const t=[];Ia.current=t;const n=e();Ia.current=void 0;const r=Tr(n);return wae(t,r,e),r}function Sae(e,t,n,r){const i=J_(t,n,r);return g6(()=>i(e.get()))}const $t=e=>!!(e&&e.getVelocity);function kae(e,t){const n=$t(e)?e.get():e,r=Tr(n);return FP(r,e,t),r}function FP(e,t,n){const r=e.get();let i=null,o=r,s;const a=typeof r=="string"?r.replace(/[\d.-]/g,""):void 0,l=()=>{i&&(i.stop(),i=null)},u=()=>{l(),i=new yp({keyframes:[tj(e.get()),tj(o)],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:s})};if(e.attach((d,f)=>(o=d,s=g=>f(ej(g,a)),Ke.postRender(u),e.get()),l),$t(t)){const d=t.on("change",g=>e.set(ej(g,a))),f=e.on("destroy",d);return()=>{d(),f()}}return l}function ej(e,t){return t?e+t:e}function tj(e){return typeof e=="number"?e:parseFloat(e)}const _ae=[...AP,kr,Ks],VP=e=>_ae.find(IP(e));function Tae(e){return e==="layout"?"group":e==="enter"||e==="new"?"new":e==="exit"||e==="old"?"old":"group"}let jw={},pu=null;const Lw={set:(e,t)=>{jw[e]=t},commit:()=>{pu||(pu=document.createElement("style"),pu.id="motion-view");let e="";for(const t in jw){const n=jw[t];e+=`${t} {
`;for(const[r,i]of Object.entries(n))e+=`  ${r}: ${i};
`;e+=`}
`}pu.textContent=e,document.head.appendChild(pu),jw={}},remove:()=>{pu&&pu.parentElement&&pu.parentElement.removeChild(pu)}};function y6(e){const t=e.match(/::view-transition-(old|new|group|image-pair)\((.*?)\)/);return t?{layer:t[2],type:t[1]}:null}function Cae(e){const{effect:t}=e;return t?t.target===document.documentElement&&t.pseudoElement?.startsWith("::view-transition"):!1}function v6(){return document.getAnimations().filter(Cae)}function Eae(e,t){return t.has(e)&&Object.keys(t.get(e)).length>0}const Iae=["layout","enter","exit","new","old"];function Aae(e){const{update:t,targets:n,options:r}=e;if(!document.startViewTransition)return new Promise(async o=>{await t(),o(new ak([]))});Eae("root",n)||Lw.set(":root",{"view-transition-name":"none"}),Lw.set("::view-transition-group(*), ::view-transition-old(*), ::view-transition-new(*)",{"animation-timing-function":"linear !important"}),Lw.commit();const i=document.startViewTransition(async()=>{await t()});return i.finished.finally(()=>{Lw.remove()}),new Promise(o=>{i.ready.then(()=>{const s=v6(),a=[];n.forEach((l,u)=>{for(const d of Iae){if(!l[d])continue;const{keyframes:f,options:g}=l[d];for(let[m,b]of Object.entries(f)){if(!b)continue;const x={...Ea(r,m),...Ea(g,m)},k=Tae(d);m==="opacity"&&!Array.isArray(b)&&(b=[k==="new"?0:1,b]),typeof x.delay=="function"&&(x.delay=x.delay(0,1)),x.duration&&(x.duration=lr(x.duration)),x.delay&&(x.delay=lr(x.delay));const T=new Rx({...x,element:document.documentElement,name:m,pseudoElement:`::view-transition-${k}(${u})`,keyframes:b});a.push(T)}}});for(const l of s){if(l.playState==="finished")continue;const{effect:u}=l;if(!u||!(u instanceof KeyframeEffect))continue;const{pseudoElement:d}=u;if(!d)continue;const f=y6(d);if(!f)continue;const g=n.get(f.layer);if(g)nj(g,"enter")&&nj(g,"exit")&&u.getKeyframes().some(m=>m.mixBlendMode)?a.push(new yI(l)):l.cancel();else{const m=f.type==="group"?"layout":"";let b={...Ea(r,m)};b.duration&&(b.duration=lr(b.duration)),b=TP(b);const x=V_(b.ease,b.duration);u.updateTiming({delay:lr(b.delay??0),duration:b.duration,easing:x}),a.push(new yI(l))}}o(new ak(a))})})}function nj(e,t){return e?.[t]?.keyframes.opacity}let bu=[],BP=null;function b6(){BP=null;const[e]=bu;e&&$ae(e)}function $ae(e){Fu(bu,e),BP=e,Aae(e).then(t=>{e.notifyReady(t),t.finished.finally(b6)})}function Pae(){for(let e=bu.length-1;e>=0;e--){const t=bu[e],{interrupt:n}=t.options;if(n==="immediate"){const r=bu.slice(0,e+1).map(o=>o.update),i=bu.slice(e+1);t.update=()=>{r.forEach(o=>o())},bu=[t,...i];break}}(!BP||bu[0]?.options.interrupt==="immediate")&&b6()}function Mae(e){bu.push(e),cd.render(Pae)}class x6{constructor(t,n={}){this.currentSubject="root",this.targets=new Map,this.notifyReady=rr,this.readyPromise=new Promise(r=>{this.notifyReady=r}),this.update=t,this.options={interrupt:"wait",...n},Mae(this)}get(t){return this.currentSubject=t,this}layout(t,n){return this.updateTarget("layout",t,n),this}new(t,n){return this.updateTarget("new",t,n),this}old(t,n){return this.updateTarget("old",t,n),this}enter(t,n){return this.updateTarget("enter",t,n),this}exit(t,n){return this.updateTarget("exit",t,n),this}crossfade(t){return this.updateTarget("enter",{opacity:1},t),this.updateTarget("exit",{opacity:0},t),this}updateTarget(t,n,r={}){const{currentSubject:i,targets:o}=this;o.has(i)||o.set(i,{});const s=o.get(i);s[t]={keyframes:n,options:r}}then(t,n){return this.readyPromise.then(t,n)}}function Oae(e,t={}){return new x6(e,t)}const Nae=Ke,Rae=Cv.reduce((e,t)=>(e[t]=n=>Dn(n),e),{}),xl=D.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});let Dae=class extends D.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=Iu(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}};function jae({children:e,isPresent:t,anchorX:n}){const r=D.useId(),i=D.useRef(null),o=D.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=D.useContext(xl);return D.useInsertionEffect(()=>{const{width:a,height:l,top:u,left:d,right:f}=o.current;if(t||!i.current||!a||!l)return;const g=n==="left"?`left: ${d}`:`right: ${f}`;i.current.dataset.motionPopId=r;const m=document.createElement("style");return s&&(m.nonce=s),document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${l}px !important;
            ${g}px !important;
            top: ${u}px !important;
          }
        `),()=>{document.head.contains(m)&&document.head.removeChild(m)}},[t]),O.jsx(Dae,{isPresent:t,childRef:i,sizeRef:o,children:D.cloneElement(e,{ref:i})})}const Lae=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s,anchorX:a})=>{const l=Ur(zae),u=D.useId();let d=!0,f=D.useMemo(()=>(d=!1,{id:u,initial:t,isPresent:n,custom:i,onExitComplete:g=>{l.set(g,!0);for(const m of l.values())if(!m)return;r&&r()},register:g=>(l.set(g,!1),()=>l.delete(g))}),[n,l,r]);return o&&d&&(f={...f}),D.useMemo(()=>{l.forEach((g,m)=>l.set(m,!1))},[n]),D.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),s==="popLayout"&&(e=O.jsx(jae,{isPresent:n,anchorX:a,children:e})),O.jsx(hp.Provider,{value:f,children:e})};function zae(){return new Map}function UP(e=!0){const t=D.useContext(hp);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,o=D.useId();D.useEffect(()=>{if(e)return i(o)},[e]);const s=D.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,s]:[!0]}function Fae(){return Vae(D.useContext(hp))}function Vae(e){return e===null?!0:e.isPresent}const zw=e=>e.key||"";function rj(e){const t=[];return D.Children.forEach(e,n=>{D.isValidElement(n)&&t.push(n)}),t}const Bae=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:s=!1,anchorX:a="left"})=>{const[l,u]=UP(s),d=D.useMemo(()=>rj(e),[e]),f=s&&!l?[]:d.map(zw),g=D.useRef(!0),m=D.useRef(d),b=Ur(()=>new Map),[x,k]=D.useState(d),[T,E]=D.useState(d);pp(()=>{g.current=!1,m.current=d;for(let M=0;M<T.length;M++){const R=zw(T[M]);f.includes(R)?b.delete(R):b.get(R)!==!0&&b.set(R,!1)}},[T,f.length,f.join("-")]);const $=[];if(d!==x){let M=[...d];for(let R=0;R<T.length;R++){const z=T[R],F=zw(z);f.includes(F)||(M.splice(R,0,z),$.push(z))}return o==="wait"&&$.length&&(M=$),E(rj(M)),k(d),null}const{forceRender:P}=D.useContext(Lm);return O.jsx(O.Fragment,{children:T.map(M=>{const R=zw(M),z=s&&!l?!1:d===T||f.includes(R),F=()=>{if(b.has(R))b.set(R,!0);else return;let q=!0;b.forEach(Z=>{Z||(q=!1)}),q&&(P?.(),E(m.current),s&&u?.(),r&&r())};return O.jsx(Lae,{isPresent:z,initial:!g.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:o,onExitComplete:z?void 0:F,anchorX:a,children:M},R)})})},w6=D.createContext(null);function Uae(){const e=D.useRef(!1);return pp(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function ZP(){const e=Uae(),[t,n]=D.useState(0),r=D.useCallback(()=>{e.current&&n(t+1)},[t]);return[D.useCallback(()=>Ke.postRender(r),[r]),t]}const Zae=e=>!e.isLayoutDirty&&e.willUpdate(!1);function ij(){const e=new Set,t=new WeakMap,n=()=>e.forEach(Zae);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",n))},remove:r=>{e.delete(r);const i=t.get(r);i&&(i(),t.delete(r)),n()},dirty:n}}const S6=e=>e===!0,Wae=e=>S6(e===!0)||e==="id",k6=({children:e,id:t,inherit:n=!0})=>{const r=D.useContext(Lm),i=D.useContext(w6),[o,s]=ZP(),a=D.useRef(null),l=r.id||i;a.current===null&&(Wae(n)&&l&&(t=t?l+"-"+t:l),a.current={id:t,group:S6(n)&&r.group||ij()});const u=D.useMemo(()=>({...a.current,forceRender:o}),[s]);return O.jsx(Lm.Provider,{value:u,children:e})},WP=D.createContext({strict:!1}),oj={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Vm={};for(const e in oj)Vm[e]={isEnabled:t=>oj[e].some(n=>!!t[n])};function wI(e){for(const t in e)Vm[t]={...Vm[t],...e[t]}}function Hae({children:e,features:t,strict:n=!1}){const[,r]=D.useState(!CC(t)),i=D.useRef(void 0);if(!CC(t)){const{renderer:o,...s}=t;i.current=o,wI(s)}return D.useEffect(()=>{CC(t)&&t().then(({renderer:o,...s})=>{wI(s),i.current=o,r(!0)})},[]),O.jsx(WP.Provider,{value:{renderer:i.current,strict:n},children:e})}function CC(e){return typeof e=="function"}const qae=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||qae.has(e)}let _6=e=>!bb(e);function T6(e){e&&(_6=t=>t.startsWith("on")?!bb(t):e(t))}try{T6(require("@emotion/is-prop-valid").default)}catch{}function C6(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(_6(i)||n===!0&&bb(i)||!t&&!bb(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Jae({children:e,isValidProp:t,...n}){t&&T6(t),n={...D.useContext(xl),...n},n.isStatic=Ur(()=>n.isStatic);const r=D.useMemo(()=>n,[JSON.stringify(n.transition),n.transformPagePoint,n.reducedMotion]);return O.jsx(xl.Provider,{value:r,children:e})}function E6(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const kg=D.createContext({});function K_(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function xb(e){return typeof e=="string"||Array.isArray(e)}const HP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qP=["initial",...HP];function G_(e){return K_(e.animate)||qP.some(t=>xb(e[t]))}function I6(e){return!!(G_(e)||e.variants)}function Kae(e,t){if(G_(e)){const{initial:n,animate:r}=e;return{initial:n===!1||xb(n)?n:void 0,animate:xb(r)?r:void 0}}return e.inherit!==!1?t:{}}function Gae(e){const{initial:t,animate:n}=Kae(e,D.useContext(kg));return D.useMemo(()=>({initial:t,animate:n}),[sj(t),sj(n)])}function sj(e){return Array.isArray(e)?e.join(" "):e}const JP=Symbol.for("motionComponentSymbol");function hm(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Yae(e,t,n){return D.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):hm(n)&&(n.current=r))},[t])}const KP=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),A6="framerAppearId",GP="data-"+KP(A6),YP=D.createContext({});function Xae(e,t,n,r,i){const{visualElement:o}=D.useContext(kg),s=D.useContext(WP),a=D.useContext(hp),l=D.useContext(xl).reducedMotion,u=D.useRef(null);r=r||s.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:o,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,f=D.useContext(YP);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&Qae(u.current,n,i,f);const g=D.useRef(!1);D.useInsertionEffect(()=>{d&&g.current&&d.update(n,a)});const m=n[GP],b=D.useRef(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return pp(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),cd.render(d.render),b.current&&d.animationState&&d.animationState.animateChanges())}),D.useEffect(()=>{d&&(!b.current&&d.animationState&&d.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),b.current=!1))}),d}function Qae(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:$6(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&hm(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:u})}function $6(e){if(e)return e.options.allowProjection!==!1?e.projection:$6(e.parent)}function P6({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&wI(e);function o(a,l){let u;const d={...D.useContext(xl),...a,layoutId:ele(a)},{isStatic:f}=d,g=Gae(a),m=r(a,f);if(!f&&C_){tle();const b=nle(d);u=b.MeasureLayout,g.visualElement=Xae(i,m,d,t,b.ProjectionNode)}return O.jsxs(kg.Provider,{value:g,children:[u&&g.visualElement?O.jsx(u,{visualElement:g.visualElement,...d}):null,n(i,a,Yae(m,g.visualElement,l),m,f,g.visualElement)]})}o.displayName=`motion.${typeof i=="string"?i:`create(${i.displayName??i.name??""})`}`;const s=D.forwardRef(o);return s[JP]=i,s}function ele({layoutId:e}){const t=D.useContext(Lm).id;return t&&e!==void 0?t+"-"+e:e}function tle(e,t){D.useContext(WP).strict}function nle(e){const{drag:t,layout:n}=Vm;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const wb={};function M6(e){for(const t in e)wb[t]=e[t],mp(t)&&(wb[t].isCSSVariable=!0)}function O6(e,{layout:t,layoutId:n}){return Li.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!wb[e]||e==="opacity")}const rle={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},ile=Gs.length;function N6(e,t,n){let r="",i=!0;for(let o=0;o<ile;o++){const s=Gs[o],a=e[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=wg(a,vp[s]);if(!l){i=!1;const d=rle[s]||s;r+=`${d}(${u}) `}n&&(t[s]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function XP(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,a=!1;for(const l in t){const u=t[l];if(Li.has(l)){s=!0;continue}else if(mp(l)){i[l]=u;continue}else{const d=wg(u,vp[l]);l.startsWith("origin")?(a=!0,o[l]=d):r[l]=d}}if(t.transform||(s||n?r.transform=N6(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=o;r.transformOrigin=`${l} ${u} ${d}`}}const QP=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function R6(e,t,n){for(const r in t)!$t(t[r])&&!O6(r,n)&&(e[r]=t[r])}function ole({transformTemplate:e},t){return D.useMemo(()=>{const n=QP();return XP(n,t,e),Object.assign({},n.vars,n.style)},[t])}function sle(e,t){const n=e.style||{},r={};return R6(r,n,e),Object.assign(r,ole(e,t)),r}function ale(e,t){const n={},r=sle(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const lle={offset:"stroke-dashoffset",array:"stroke-dasharray"},ule={offset:"strokeDashoffset",array:"strokeDasharray"};function cle(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?lle:ule;e[o.offset]=ut.transform(-r);const s=ut.transform(t),a=ut.transform(n);e[o.array]=`${s} ${a}`}function D6(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:s=0,...a},l,u,d){if(XP(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:g}=e;f.transform&&(g.transform=f.transform,delete f.transform),(g.transform||f.transformOrigin)&&(g.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),g.transform&&(g.transformBox=d?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&cle(f,i,o,s,!1)}const j6=()=>({...QP(),attrs:{}}),L6=e=>typeof e=="string"&&e.toLowerCase()==="svg";function dle(e,t,n,r){const i=D.useMemo(()=>{const o=j6();return D6(o,t,L6(r),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};R6(o,e.style,e),i.style={...o,...i.style}}return i}const fle=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function eM(e){return typeof e!="string"||e.includes("-")?!1:!!(fle.indexOf(e)>-1||/[A-Z]/u.test(e))}function ple(e=!1){return(n,r,i,{latestValues:o},s)=>{const l=(eM(n)?dle:ale)(r,o,s,n),u=C6(r,typeof n=="string",e),d=n!==D.Fragment?{...u,...l,ref:i}:{},{children:f}=r,g=D.useMemo(()=>$t(f)?f.get():f,[f]);return D.createElement(n,{...d,children:g})}}function aj(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function tM(e,t,n,r){if(typeof t=="function"){const[i,o]=aj(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=aj(r);t=t(n!==void 0?n:e.custom,i,o)}return t}function Gv(e){return $t(e)?e.get():e}function hle({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:mle(n,r,i,e),renderState:t()}}const Y_=e=>(t,n)=>{const r=D.useContext(kg),i=D.useContext(hp),o=()=>hle(e,t,r,i);return n?o():Ur(o)};function mle(e,t,n,r){const i={},o=r(e,{});for(const g in o)i[g]=Gv(o[g]);let{initial:s,animate:a}=e;const l=G_(e),u=I6(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?a:s;if(f&&typeof f!="boolean"&&!K_(f)){const g=Array.isArray(f)?f:[f];for(let m=0;m<g.length;m++){const b=tM(e,g[m]);if(b){const{transitionEnd:x,transition:k,...T}=b;for(const E in T){let $=T[E];if(Array.isArray($)){const P=d?$.length-1:0;$=$[P]}$!==null&&(i[E]=$)}for(const E in x)i[E]=x[E]}}}return i}function nM(e,t,n){const{style:r}=e,i={};for(const o in r)($t(r[o])||t.style&&$t(t.style[o])||O6(o,e)||n?.getValue(o)?.liveStyle!==void 0)&&(i[o]=r[o]);return i}const gle={useVisualState:Y_({scrapeMotionValuesFromProps:nM,createRenderState:QP})};function z6(e,t,n){const r=nM(e,t,n);for(const i in e)if($t(e[i])||$t(t[i])){const o=Gs.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}const yle={useVisualState:Y_({scrapeMotionValuesFromProps:z6,createRenderState:j6})};function F6(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const s={...eM(r)?yle:gle,preloadedFeatures:e,useRender:ple(i),createVisualElement:t,Component:r};return P6(s)}}const vle=F6(),ble=E6(vle);function Sb(e,t,n){const r=e.getProps();return tM(r,t,n!==void 0?n:r.custom,e)}const SI=e=>Array.isArray(e);function xle(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Tr(n))}function wle(e){return SI(e)?e[e.length-1]||0:e}function rM(e,t){const n=Sb(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=wle(o[s]);xle(e,s,a)}}function Sle(e){return!!($t(e)&&e.add)}function kI(e,t){const n=e.getValue("willChange");if(Sle(n))return n.add(t);if(!n&&bi.WillChange){const r=new bi.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function iM(e){return e.props[GP]}const kle=e=>e!==null;function _le(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(kle),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[o]}const Tle={type:"spring",stiffness:500,damping:25,restSpeed:10},Cle=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ele={type:"keyframes",duration:.8},Ile={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ale=(e,{keyframes:t})=>t.length>2?Ele:Li.has(e)?e.startsWith("scale")?Cle(t[1]):Tle:Ile;function $le({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const oM=(e,t,n,r={},i,o)=>s=>{const a=Ea(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-lr(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:g=>{t.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};$le(a)||Object.assign(d,Ale(e,d)),d.duration&&(d.duration=lr(d.duration)),d.repeatDelay&&(d.repeatDelay=lr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),(bi.instantAnimations||bi.skipAnimations)&&(f=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,f&&!o&&t.get()!==void 0){const g=_le(d.keyframes,a);if(g!==void 0){Ke.update(()=>{d.onUpdate(g),d.onComplete()});return}}return a.isSync?new yp(d):new CP(d)};function Ple({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function sM(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:s,...a}=t;r&&(o=r);const l=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in a){const f=e.getValue(d,e.latestValues[d]??null),g=a[d];if(g===void 0||u&&Ple(u,d))continue;const m={delay:n,...Ea(o||{},d)},b=f.get();if(b!==void 0&&!f.isAnimating&&!Array.isArray(g)&&g===b&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const T=iM(e);if(T){const E=window.MotionHandoffAnimation(T,d,Ke);E!==null&&(m.startTime=E,x=!0)}}kI(e,d),f.start(oM(d,f,g,e.shouldReduceMotion&&U_.has(d)?{type:!1}:m,e,x));const k=f.animation;k&&l.push(k)}return s&&Promise.all(l).then(()=>{Ke.update(()=>{s&&rM(e,s)})}),l}function _I(e,t,n={}){const r=Sb(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(sM(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return Mle(e,t,u+l,d,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>u())}else return Promise.all([o(),s(n.delay)])}function Mle(e,t,n=0,r=0,i=1,o){const s=[],a=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(Ole).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(_I(u,t,{...o,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function Ole(e,t){return e.sortNodePosition(t)}function X_(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>_I(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=_I(e,t,n);else{const i=typeof t=="function"?Sb(e,t,n.custom):t;r=Promise.all(sM(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function V6(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Nle=qP.length;function B6(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?B6(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<Nle;n++){const r=qP[n],i=e.props[r];(xb(i)||i===!1)&&(t[r]=i)}return t}const Rle=[...HP].reverse(),Dle=HP.length;function jle(e){return t=>Promise.all(t.map(({animation:n,options:r})=>X_(e,n,r)))}function Lle(e){let t=jle(e),n=lj(),r=!0;const i=l=>(u,d)=>{const f=Sb(e,d,l==="exit"?e.presenceContext?.custom:void 0);if(f){const{transition:g,transitionEnd:m,...b}=f;u={...u,...b,...m}}return u};function o(l){t=l(e)}function s(l){const{props:u}=e,d=B6(e.parent)||{},f=[],g=new Set;let m={},b=1/0;for(let k=0;k<Dle;k++){const T=Rle[k],E=n[T],$=u[T]!==void 0?u[T]:d[T],P=xb($),M=T===l?E.isActive:null;M===!1&&(b=k);let R=$===d[T]&&$!==u[T]&&P;if(R&&r&&e.manuallyAnimateOnMount&&(R=!1),E.protectedKeys={...m},!E.isActive&&M===null||!$&&!E.prevProp||K_($)||typeof $=="boolean")continue;const z=zle(E.prevProp,$);let F=z||T===l&&E.isActive&&!R&&P||k>b&&P,q=!1;const Z=Array.isArray($)?$:[$];let re=Z.reduce(i(T),{});M===!1&&(re={});const{prevResolvedValues:ee={}}=E,ne={...ee,...re},se=ie=>{F=!0,g.has(ie)&&(q=!0,g.delete(ie)),E.needsAnimating[ie]=!0;const J=e.getValue(ie);J&&(J.liveStyle=!1)};for(const ie in ne){const J=re[ie],le=ee[ie];if(m.hasOwnProperty(ie))continue;let B=!1;SI(J)&&SI(le)?B=!V6(J,le):B=J!==le,B?J!=null?se(ie):g.add(ie):J!==void 0&&g.has(ie)?se(ie):E.protectedKeys[ie]=!0}E.prevProp=$,E.prevResolvedValues=re,E.isActive&&(m={...m,...re}),r&&e.blockInitialAnimation&&(F=!1),F&&(!(R&&z)||q)&&f.push(...Z.map(ie=>({animation:ie,options:{type:T}})))}if(g.size){const k={};if(typeof u.initial!="boolean"){const T=Sb(e,Array.isArray(u.initial)?u.initial[0]:u.initial);T&&T.transition&&(k.transition=T.transition)}g.forEach(T=>{const E=e.getBaseTarget(T),$=e.getValue(T);$&&($.liveStyle=!0),k[T]=E??null}),f.push({animation:k})}let x=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(f):Promise.resolve()}function a(l,u){if(n[l].isActive===u)return Promise.resolve();e.variantChildren?.forEach(f=>f.animationState?.setActive(l,u)),n[l].isActive=u;const d=s(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=lj(),r=!0}}}function zle(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!V6(t,e):!1}function ff(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lj(){return{animate:ff(!0),whileInView:ff(),whileHover:ff(),whileTap:ff(),whileDrag:ff(),whileFocus:ff(),exit:ff()}}let dd=class{constructor(t){this.isMounted=!1,this.node=t}update(){}},Fle=class extends dd{constructor(t){super(t),t.animationState||(t.animationState=Lle(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();K_(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}},Vle=0,Ble=class extends dd{constructor(){super(...arguments),this.id=Vle++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}};const Q_={animation:{Feature:Fle},exit:{Feature:Ble}};function Bm(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function jx(e){return{point:{x:e.pageX,y:e.pageY}}}const U6=e=>t=>Sg(t)&&e(t,jx(t));function Pm(e,t,n,r){return Bm(e,t,U6(n),r)}function Z6({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function Ule({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Zle(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const W6=1e-4,Wle=1-W6,Hle=1+W6,H6=.01,qle=0-H6,Jle=0+H6;function Oi(e){return e.max-e.min}function Kle(e,t,n){return Math.abs(e-t)<=n}function uj(e,t,n,r=.5){e.origin=r,e.originPoint=St(t.min,t.max,e.origin),e.scale=Oi(n)/Oi(t),e.translate=St(n.min,n.max,e.origin)-e.originPoint,(e.scale>=Wle&&e.scale<=Hle||isNaN(e.scale))&&(e.scale=1),(e.translate>=qle&&e.translate<=Jle||isNaN(e.translate))&&(e.translate=0)}function Yv(e,t,n,r){uj(e.x,t.x,n.x,r?r.originX:void 0),uj(e.y,t.y,n.y,r?r.originY:void 0)}function cj(e,t,n){e.min=n.min+t.min,e.max=e.min+Oi(t)}function Gle(e,t,n){cj(e.x,t.x,n.x),cj(e.y,t.y,n.y)}function dj(e,t,n){e.min=t.min-n.min,e.max=e.min+Oi(t)}function Xv(e,t,n){dj(e.x,t.x,n.x),dj(e.y,t.y,n.y)}const fj=()=>({translate:0,scale:1,origin:0,originPoint:0}),mm=()=>({x:fj(),y:fj()}),pj=()=>({min:0,max:0}),Qn=()=>({x:pj(),y:pj()});function Rs(e){return[e("x"),e("y")]}function EC(e){return e===void 0||e===1}function TI({scale:e,scaleX:t,scaleY:n}){return!EC(e)||!EC(t)||!EC(n)}function vf(e){return TI(e)||q6(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function q6(e){return hj(e.x)||hj(e.y)}function hj(e){return e&&e!=="0%"}function uk(e,t,n){const r=e-n,i=t*r;return n+i}function mj(e,t,n,r,i){return i!==void 0&&(e=uk(e,i,r)),uk(e,n,r)+t}function CI(e,t=0,n=1,r,i){e.min=mj(e.min,t,n,r,i),e.max=mj(e.max,t,n,r,i)}function J6(e,{x:t,y:n}){CI(e.x,t.translate,t.scale,t.originPoint),CI(e.y,n.translate,n.scale,n.originPoint)}const gj=.999999999999,yj=1.0000000000001;function Yle(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&ym(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,J6(e,s)),r&&vf(o.latestValues)&&ym(e,o.latestValues))}t.x<yj&&t.x>gj&&(t.x=1),t.y<yj&&t.y>gj&&(t.y=1)}function gm(e,t){e.min=e.min+t,e.max=e.max+t}function vj(e,t,n,r,i=.5){const o=St(e.min,e.max,i);CI(e,t,n,o,r)}function ym(e,t){vj(e.x,t.x,t.scaleX,t.scale,t.originX),vj(e.y,t.y,t.scaleY,t.scale,t.originY)}function K6(e,t){return Z6(Zle(e.getBoundingClientRect(),t))}function Xle(e,t,n){const r=K6(e,n),{scroll:i}=t;return i&&(gm(r.x,i.offset.x),gm(r.y,i.offset.y)),r}const G6=({current:e})=>e?e.ownerDocument.defaultView:null,EI=(e,t)=>Math.abs(e-t);function Y6(e,t){const n=EI(e.x,t.x),r=EI(e.y,t.y);return Math.sqrt(n**2+r**2)}let X6=class{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=AC(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,m=Y6(f.offset,{x:0,y:0})>=3;if(!g&&!m)return;const{point:b}=f,{timestamp:x}=hn;this.history.push({...b,timestamp:x});const{onStart:k,onMove:T}=this.handlers;g||(k&&k(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,f)},this.handlePointerMove=(f,g)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=IC(g,this.transformPagePoint),Ke.update(this.updatePoint,!0)},this.handlePointerUp=(f,g)=>{this.end();const{onEnd:m,onSessionEnd:b,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=AC(f.type==="pointercancel"?this.lastMoveEventInfo:IC(g,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,k),b&&b(f,k)},!Sg(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=jx(t),a=IC(s,this.transformPagePoint),{point:l}=a,{timestamp:u}=hn;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,AC(a,this.history)),this.removeListeners=ud(Pm(this.contextWindow,"pointermove",this.handlePointerMove),Pm(this.contextWindow,"pointerup",this.handlePointerUp),Pm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Dn(this.updatePoint)}};function IC(e,t){return t?{point:t(e.point)}:e}function bj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function AC({point:e},t){return{point:e,delta:bj(e,Q6(t)),offset:bj(e,Qle(t)),velocity:eue(t,.1)}}function Qle(e){return e[0]}function Q6(e){return e[e.length-1]}function eue(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=Q6(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>lr(t)));)n--;if(!r)return{x:0,y:0};const o=$o(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function tue(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?St(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?St(n,e,r.max):Math.min(e,n)),e}function xj(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function nue(e,{top:t,left:n,bottom:r,right:i}){return{x:xj(e.x,n,i),y:xj(e.y,t,r)}}function wj(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function rue(e,t){return{x:wj(e.x,t.x),y:wj(e.y,t.y)}}function iue(e,t){let n=.5;const r=Oi(e),i=Oi(t);return i>r?n=Js(t.min,t.max-r,e.min):r>i&&(n=Js(e.min,e.max-i,t.min)),Do(0,1,n)}function oue(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const II=.35;function sue(e=II){return e===!1?e=0:e===!0&&(e=II),{x:Sj(e,"left","right"),y:Sj(e,"top","bottom")}}function Sj(e,t,n){return{min:kj(e,t),max:kj(e,n)}}function kj(e,t){return typeof e=="number"?e:e[t]||0}const aue=new WeakMap;let lue=class{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Qn(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(jx(d).point)},o=(d,f)=>{const{drag:g,dragPropagation:m,onDragStart:b}=this.getProps();if(g&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OP(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rs(k=>{let T=this.getAxisMotionValue(k).get()||0;if(oo.test(T)){const{projection:E}=this.visualElement;if(E&&E.layout){const $=E.layout.layoutBox[k];$&&(T=Oi($)*(parseFloat(T)/100))}}this.originPoint[k]=T}),b&&Ke.postRender(()=>b(d,f)),kI(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:g,dragDirectionLock:m,onDirectionLock:b,onDrag:x}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:k}=f;if(m&&this.currentDirection===null){this.currentDirection=uue(k),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,k),this.updateAxis("y",f.point,k),this.visualElement.render(),x&&x(d,f)},a=(d,f)=>this.stop(d,f),l=()=>Rs(d=>this.getAnimationState(d)==="paused"&&this.getAxisMotionValue(d).animation?.play()),{dragSnapToOrigin:u}=this.getProps();this.panSession=new X6(t,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:G6(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Ke.postRender(()=>o(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Fw(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=tue(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&hm(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=nue(r.layoutBox,t):this.constraints=!1,this.elastic=sue(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Rs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=oue(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!hm(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Xle(r,i.root,this.visualElement.getTransformPagePoint());let s=rue(i.layout.layoutBox,o);if(n){const a=n(Ule(s));this.hasMutatedConstraints=!!a,a&&(s=Z6(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Rs(d=>{if(!Fw(d,n,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const g=i?200:1e6,m=i?40:1e7,b={type:"inertia",velocity:r?t[d]:0,bounceStiffness:g,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,b)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return kI(this.visualElement,t),r.start(oM(t,r,0,n,this.visualElement,!1))}stopAnimation(){Rs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Rs(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Rs(n=>{const{drag:r}=this.getProps();if(!Fw(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(t[n]-St(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!hm(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Rs(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const l=a.get();i[s]=iue({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Rs(s=>{if(!Fw(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(St(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;aue.set(this.visualElement,this);const t=this.visualElement.current,n=Pm(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();hm(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ke.read(r);const s=Bm(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Rs(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())}));return()=>{s(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=II,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}};function Fw(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function uue(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}let cue=class extends dd{constructor(t){super(t),this.removeGroupControls=rr,this.removeListeners=rr,this.controls=new lue(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rr}unmount(){this.removeGroupControls(),this.removeListeners()}};const _j=e=>(t,n)=>{e&&Ke.postRender(()=>e(t,n))};let due=class extends dd{constructor(){super(...arguments),this.removePointerDownListener=rr}onPointerDown(t){this.session=new X6(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:G6(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:_j(t),onStart:_j(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&Ke.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=Pm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}};const AS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const lv={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ut.test(e))e=parseFloat(e);else return e;const n=Tj(e,t.target.x),r=Tj(e,t.target.y);return`${n}% ${r}%`}},fue={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Ks.parse(e);if(i.length>5)return r;const o=Ks.createTransformer(e),s=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=a,i[1+s]/=l;const u=St(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),o(i)}};let pue=class extends D.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;M6(hue),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),AS.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:s}=r;return s&&(s.isPresent=o,i||t.layoutDependency!==n||n===void 0||t.isPresent!==o?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||Ke.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),cd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}};function e2(e){const[t,n]=UP(),r=D.useContext(Lm);return O.jsx(pue,{...e,layoutGroup:r,switchLayoutGroup:D.useContext(YP),isPresent:t,safeToRemove:n})}const hue={borderRadius:{...lv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:lv,borderTopRightRadius:lv,borderBottomLeftRadius:lv,borderBottomRightRadius:lv,boxShadow:fue};function t2(e,t,n){const r=$t(e)?e:Tr(e);return r.start(oM("",r,t,n)),r.animation}const mue=(e,t)=>e.depth-t.depth;let n2=class{constructor(){this.children=[],this.isDirty=!1}add(t){vg(this.children,t),this.isDirty=!0}remove(t){Fu(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(mue),this.isDirty=!1,this.children.forEach(t)}};function r2(e,t){const n=ni.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(Dn(r),e(o-t))};return Ke.setup(r,!0),()=>Dn(r)}const i2=["TopLeft","TopRight","BottomLeft","BottomRight"],gue=i2.length,Cj=e=>typeof e=="string"?parseFloat(e):e,Ej=e=>typeof e=="number"||ut.test(e);function yue(e,t,n,r,i,o){i?(e.opacity=St(0,n.opacity??1,vue(r)),e.opacityExit=St(t.opacity??1,0,bue(r))):o&&(e.opacity=St(t.opacity??1,n.opacity??1,r));for(let s=0;s<gue;s++){const a=`border${i2[s]}Radius`;let l=Ij(t,a),u=Ij(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||Ej(l)===Ej(u)?(e[a]=Math.max(St(Cj(l),Cj(u),r),0),(oo.test(u)||oo.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=St(t.rotate||0,n.rotate||0,r))}function Ij(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const vue=o2(0,.5,O_),bue=o2(.5,.95,rr);function o2(e,t,n){return r=>r<e?0:r>t?1:n(Js(e,t,r))}function Aj(e,t){e.min=t.min,e.max=t.max}function Os(e,t){Aj(e.x,t.x),Aj(e.y,t.y)}function $j(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Pj(e,t,n,r,i){return e-=t,e=uk(e,1/n,r),i!==void 0&&(e=uk(e,1/i,r)),e}function xue(e,t=0,n=1,r=.5,i,o=e,s=e){if(oo.test(t)&&(t=parseFloat(t),t=St(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=St(o.min,o.max,r);e===o&&(a-=t),e.min=Pj(e.min,t,n,a,i),e.max=Pj(e.max,t,n,a,i)}function Mj(e,t,[n,r,i],o,s){xue(e,t[n],t[r],t[i],t.scale,o,s)}const wue=["x","scaleX","originX"],Sue=["y","scaleY","originY"];function Oj(e,t,n,r){Mj(e.x,t,wue,n?n.x:void 0,r?r.x:void 0),Mj(e.y,t,Sue,n?n.y:void 0,r?r.y:void 0)}function Nj(e){return e.translate===0&&e.scale===1}function s2(e){return Nj(e.x)&&Nj(e.y)}function Rj(e,t){return e.min===t.min&&e.max===t.max}function kue(e,t){return Rj(e.x,t.x)&&Rj(e.y,t.y)}function Dj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function a2(e,t){return Dj(e.x,t.x)&&Dj(e.y,t.y)}function jj(e){return Oi(e.x)/Oi(e.y)}function Lj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}let _ue=class{constructor(){this.members=[]}add(t){vg(this.members,t),t.scheduleRender()}remove(t){if(Fu(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}};function Tue(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=n?.z||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:g,skewX:m,skewY:b}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),g&&(r+=`rotateY(${g}deg) `),m&&(r+=`skewX(${m}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const bf={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},$C=["","X","Y","Z"],Cue={visibility:"hidden"},Eue=1e3;let Iue=0;function PC(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function l2(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=iM(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ke,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&l2(r)}function u2({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=t?.()){this.id=Iue++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ar.value&&(bf.nodes=bf.calculatedTargetDeltas=bf.calculatedProjections=0),this.nodes.forEach(Pue),this.nodes.forEach(Due),this.nodes.forEach(jue),this.nodes.forEach(Mue),ar.addProjectionMetrics&&ar.addProjectionMetrics(bf)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new n2)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new bg),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=bp(s)&&!Dx(s),this.instance=s;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=r2(f,250),AS.hasAnimatedSinceResize&&(AS.hasAnimatedSinceResize=!1,this.nodes.forEach(Fj))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:g,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||Bue,{onLayoutAnimationStart:x,onLayoutAnimationComplete:k}=u.getProps(),T=!this.targetLayout||!a2(this.targetLayout,m),E=!f&&g;if(this.options.layoutRoot||this.resumeFrom||E||f&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...Ea(b,"layout"),onPlay:x,onComplete:k};(u.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(d,E)}else f||Fj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Dn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Lue),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&l2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(zj);return}this.isUpdating||this.nodes.forEach(Nue),this.isUpdating=!1,this.nodes.forEach(Rue),this.nodes.forEach(Aue),this.nodes.forEach($ue),this.clearAllSnapshots();const a=ni.now();hn.delta=Do(0,1e3/60,a-hn.timestamp),hn.timestamp=a,hn.isProcessing=!0,Lf.update.process(hn),Lf.preRender.process(hn),Lf.render.process(hn),hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Oue),this.sharedNodes.forEach(zue)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Oi(this.snapshot.measuredBox.x)&&!Oi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Qn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!s2(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&this.instance&&(a||vf(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),Uue(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Qn();const a=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Zue))){const{scroll:u}=this.root;u&&(gm(a.x,u.offset.x),gm(a.y,u.offset.y))}return a}removeElementScroll(s){const a=Qn();if(Os(a,s),this.scroll?.wasRoot)return a;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Os(a,s),gm(a.x,d.offset.x),gm(a.y,d.offset.y))}return a}applyTransform(s,a=!1){const l=Qn();Os(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ym(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),vf(d.latestValues)&&ym(l,d.latestValues)}return vf(this.latestValues)&&ym(l,this.latestValues),l}removeTransform(s){const a=Qn();Os(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!vf(u.latestValues))continue;TI(u.latestValues)&&u.updateSnapshot();const d=Qn(),f=u.measurePageBox();Os(d,f),Oj(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return vf(this.latestValues)&&Oj(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=hn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qn(),this.relativeTargetOrigin=Qn(),Xv(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Qn(),this.targetWithTransforms=Qn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Gle(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Os(this.target,this.layout.layoutBox),J6(this.target,this.targetDelta)):Os(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Qn(),this.relativeTargetOrigin=Qn(),Xv(this.relativeTargetOrigin,this.target,g.target),Os(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ar.value&&bf.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||TI(this.parent.latestValues)||q6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const s=this.getLead(),a=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===hn.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Os(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;Yle(this.layoutCorrected,this.treeScale,this.path,a),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Qn());const{target:m}=s;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($j(this.prevProjectionDelta.x,this.projectionDelta.x),$j(this.prevProjectionDelta.y,this.projectionDelta.y)),Yv(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!Lj(this.projectionDelta.x,this.prevProjectionDelta.x)||!Lj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),ar.value&&bf.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=mm(),this.projectionDelta=mm(),this.projectionDeltaWithTransform=mm()}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=mm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=Qn(),m=l?l.source:void 0,b=this.layout?this.layout.source:void 0,x=m!==b,k=this.getStack(),T=!k||k.members.length<=1,E=!!(x&&!T&&this.options.crossfade===!0&&!this.path.some(Vue));this.animationProgress=0;let $;this.mixTargetDelta=P=>{const M=P/1e3;Vj(f.x,s.x,M),Vj(f.y,s.y,M),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xv(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Fue(this.relativeTarget,this.relativeTargetOrigin,g,M),$&&kue(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=Qn()),Os($,this.relativeTarget)),x&&(this.animationValues=d,yue(d,u,this.latestValues,M,E,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Dn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ke.update(()=>{AS.hasAnimatedSinceResize=!0,Oo.layout++,this.motionValue||(this.motionValue=Tr(0)),this.currentAnimation=t2(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onStop:()=>{Oo.layout--},onComplete:()=>{Oo.layout--,s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Eue),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&c2(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Qn();const f=Oi(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const g=Oi(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+g}Os(a,l),ym(a,d),Yv(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new _ue),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&PC("z",s,u,this.animationValues);for(let d=0;d<$C.length;d++)PC(`rotate${$C[d]}`,s,u,this.animationValues),PC(`skew${$C[d]}`,s,u,this.animationValues);s.render();for(const d in u)s.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return Cue;const a={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=Gv(s?.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none",a;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const m={};return this.options.layoutId&&(m.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,m.pointerEvents=Gv(s?.pointerEvents)||""),this.hasProjected&&!vf(this.latestValues)&&(m.transform=l?l({},""):"none",this.hasProjected=!1),m}const d=u.animationValues||u.latestValues;this.applyTransformsToTarget(),a.transform=Tue(this.projectionDeltaWithTransform,this.treeScale,d),l&&(a.transform=l(d,a.transform));const{x:f,y:g}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const m in wb){if(d[m]===void 0)continue;const{correct:b,applyTo:x,isCSSVariable:k}=wb[m],T=a.transform==="none"?d[m]:b(d[m],u);if(x){const E=x.length;for(let $=0;$<E;$++)a[x[$]]=T}else k?this.options.visualElement.renderState.vars[m]=T:a[m]=T}return this.options.layoutId&&(a.pointerEvents=u===this?Gv(s?.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(zj),this.root.sharedNodes.clear()}}}function Aue(e){e.updateLayout()}function $ue(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Rs(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],g=Oi(f);f.min=n[d].min,f.max=f.min+g}):c2(i,t.layoutBox,n)&&Rs(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],g=Oi(n[d]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+g)});const s=mm();Yv(s,n,t.layoutBox);const a=mm();o?Yv(a,e.applyTransform(r,!0),t.measuredBox):Yv(a,n,t.layoutBox);const l=!s2(s);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:g}=d;if(f&&g){const m=Qn();Xv(m,t.layoutBox,f.layoutBox);const b=Qn();Xv(b,n,g.layoutBox),a2(m,b)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Pue(e){ar.value&&bf.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Mue(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Oue(e){e.clearSnapshot()}function zj(e){e.clearMeasurements()}function Nue(e){e.isLayoutDirty=!1}function Rue(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Fj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Due(e){e.resolveTargetDelta()}function jue(e){e.calcProjection()}function Lue(e){e.resetSkewAndRotation()}function zue(e){e.removeLeadSnapshot()}function Vj(e,t,n){e.translate=St(t.translate,0,n),e.scale=St(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Bj(e,t,n,r){e.min=St(t.min,n.min,r),e.max=St(t.max,n.max,r)}function Fue(e,t,n,r){Bj(e.x,t.x,n.x,r),Bj(e.y,t.y,n.y,r)}function Vue(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Bue={duration:.45,ease:[.4,0,.1,1]},Uj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Zj=Uj("applewebkit/")&&!Uj("chrome/")?Math.round:rr;function Wj(e){e.min=Zj(e.min),e.max=Zj(e.max)}function Uue(e){Wj(e.x),Wj(e.y)}function c2(e,t,n){return e==="position"||e==="preserve-aspect"&&!Kle(jj(t),jj(n),.2)}function Zue(e){return e!==e.root&&e.scroll?.wasRoot}const Wue=u2({attachResizeListener:(e,t)=>Bm(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Bf={current:void 0},d2=u2({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Bf.current){const e=new Wue({});e.mount(window),e.setOptions({layoutScroll:!0}),Bf.current=e}return Bf.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),f2={pan:{Feature:due},drag:{Feature:cue,ProjectionNode:d2,MeasureLayout:e2}};function Hj(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Ke.postRender(()=>o(t,jx(t)))}let Hue=class extends dd{mount(){const{current:t}=this.node;t&&(this.unmount=NP(t,(n,r)=>(Hj(this.node,r,"Start"),i=>Hj(this.node,i,"End"))))}unmount(){}},que=class extends dd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ud(Bm(this.node.current,"focus",()=>this.onFocus()),Bm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}};function qj(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Ke.postRender(()=>o(t,jx(t)))}let Jue=class extends dd{mount(){const{current:t}=this.node;t&&(this.unmount=DP(t,(n,r)=>(qj(this.node,r,"Start"),(i,{success:o})=>qj(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}};const AI=new WeakMap,MC=new WeakMap,Kue=e=>{const t=AI.get(e.target);t&&t(e)},Gue=e=>{e.forEach(Kue)};function Yue({root:e,...t}){const n=e||document;MC.has(n)||MC.set(n,{});const r=MC.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Gue,{root:e,...t})),r[i]}function Xue(e,t,n){const r=Yue(t);return AI.set(e,n),r.observe(e),()=>{AI.delete(e),r.unobserve(e)}}const Que={some:0,all:1};let ece=class extends dd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Que[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),g=u?d:f;g&&g(l)};return Xue(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(tce(t,n))&&this.startObserver()}unmount(){}};function tce({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const p2={inView:{Feature:ece},tap:{Feature:Jue},focus:{Feature:que},hover:{Feature:Hue}},h2={layout:{ProjectionNode:d2,MeasureLayout:e2}},ck={current:null},aM={current:!1};function m2(){if(aM.current=!0,!!C_)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>ck.current=e.matches;e.addListener(t),t()}else ck.current=!1}const Um=new WeakMap;function nce(e,t,n){for(const r in t){const i=t[r],o=n[r];if($t(i))e.addValue(r,i);else if($t(o))e.addValue(r,Tr(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,Tr(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const Jj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let e1=class{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ox,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=ni.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Ke.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=G_(n),this.isVariantNode=I6(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in f){const m=f[g];l[g]!==void 0&&$t(m)&&m.set(l[g],!1)}}mount(t){this.current=t,Um.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),aM.current||m2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ck.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Dn(this.notifyUpdate),Dn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Li.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&Ke.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Vm){const n=Vm[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Qn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Jj.length;r++){const i=Jj[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=t[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=nce(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Tr(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(I_(r)||A_(r))?r=parseFloat(r):!VP(r)&&Ks.test(n)&&(r=W_(t,n)),this.setBaseTarget(t,$t(r)?r.get():r)),$t(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=tM(this.props,n,this.presenceContext?.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!$t(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new bg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}},g2=class extends e1{constructor(){super(...arguments),this.KeyframeResolver=$P}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$t(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}};function y2(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const o in n)e.style.setProperty(o,n[o])}function rce(e){return window.getComputedStyle(e)}let v2=class extends g2{constructor(){super(...arguments),this.type="html",this.renderInstance=y2}readValueFromInstance(t,n){if(Li.has(n))return this.projection?.isProjecting?yb(n):SP(t,n);{const r=rce(t),i=(mp(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return K6(t,n)}build(t,n,r){XP(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return nM(t,n,r)}};const b2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ice(e,t,n,r){y2(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(b2.has(i)?i:KP(i),t.attrs[i])}let x2=class extends g2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Qn}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Li.has(n)){const r=Z_(n);return r&&r.default||0}return n=b2.has(n)?n:KP(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return z6(t,n,r)}build(t,n,r){D6(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){ice(t,n,r,i)}mount(t){this.isSVGTag=L6(t.tagName),super.mount(t)}};const lM=(e,t)=>eM(e)?new x2(t):new v2(t,{allowProjection:e!==D.Fragment}),oce=F6({...Q_,...p2,...f2,...h2},lM),uM=E6(oce);function cM(e){return D.useEffect(()=>()=>e(),[])}const w2={renderer:lM,...Q_,...p2},sce={...w2,...f2,...h2},ace={renderer:lM,...Q_};function S2(e,t,n){D.useInsertionEffect(()=>e.on(t,n),[e,t,n])}const lce=50,Kj=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),uce=()=>({time:0,x:Kj(),y:Kj()}),cce={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Gj(e,t,n,r){const i=n[t],{length:o,position:s}=cce[t],a=i.current,l=n.time;i.current=e[`scroll${s}`],i.scrollLength=e[`scroll${o}`]-e[`client${o}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Js(0,i.scrollLength,i.current);const u=r-l;i.velocity=u>lce?0:$_(i.current-a,u)}function dce(e,t,n){Gj(e,"x",t,n),Gj(e,"y",t,n),t.time=n}function fce(e,t){const n={x:0,y:0};let r=e;for(;r&&r!==t;)if(Iu(r))n.x+=r.offsetLeft,n.y+=r.offsetTop,r=r.offsetParent;else if(r.tagName==="svg"){const i=r.getBoundingClientRect();r=r.parentElement;const o=r.getBoundingClientRect();n.x+=i.left-o.left,n.y+=i.top-o.top}else if(r instanceof SVGGraphicsElement){const{x:i,y:o}=r.getBBox();n.x+=i,n.y+=o;let s=null,a=r.parentNode;for(;!s;)a.tagName==="svg"&&(s=a),a=r.parentNode;r=s}else break;return n}const $I={start:0,center:.5,end:1};function Yj(e,t,n=0){let r=0;if(e in $I&&(e=$I[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?r=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?r=i/100*document.documentElement.clientWidth:e.endsWith("vh")?r=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(r=t*e),n+r}const pce=[0,0];function hce(e,t,n,r){let i=Array.isArray(e)?e:pce,o=0,s=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,$I[e]?e:"0"]),o=Yj(i[0],n,r),s=Yj(i[1],t),o-s}const mce={All:[[0,0],[1,1]]},gce={x:0,y:0};function yce(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function vce(e,t,n){const{offset:r=mce.All}=n,{target:i=e,axis:o="y"}=n,s=o==="y"?"height":"width",a=i!==e?fce(i,e):gce,l=i===e?{width:e.scrollWidth,height:e.scrollHeight}:yce(i),u={width:e.clientWidth,height:e.clientHeight};t[o].offset.length=0;let d=!t[o].interpolate;const f=r.length;for(let g=0;g<f;g++){const m=hce(r[g],u[s],l[s],a[o]);!d&&m!==t[o].interpolatorOffsets[g]&&(d=!0),t[o].offset[g]=m}d&&(t[o].interpolate=z_(t[o].offset,Mx(r),{clamp:!1}),t[o].interpolatorOffsets=[...t[o].offset]),t[o].progress=Do(0,1,t[o].interpolate(t[o].current))}function bce(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let r=t;for(;r&&r!==e;)n.x.targetOffset+=r.offsetLeft,n.y.targetOffset+=r.offsetTop,r=r.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function xce(e,t,n,r={}){return{measure:i=>{bce(e,r.target,n),dce(e,n,i),(r.offset||r.target)&&vce(e,n,r)},notify:()=>t(n)}}const uv=new WeakMap,Xj=new WeakMap,OC=new WeakMap,Qj=e=>e===document.scrollingElement?window:e;function dM(e,{container:t=document.scrollingElement,...n}={}){if(!t)return rr;let r=OC.get(t);r||(r=new Set,OC.set(t,r));const i=uce(),o=xce(t,e,i,n);if(r.add(o),!uv.has(t)){const a=()=>{for(const f of r)f.measure(hn.timestamp);Ke.preUpdate(l)},l=()=>{for(const f of r)f.notify()},u=()=>Ke.read(a);uv.set(t,u);const d=Qj(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&Xj.set(t,jP(t,u)),d.addEventListener("scroll",u,{passive:!0}),u()}const s=uv.get(t);return Ke.read(s,!1,!0),()=>{Dn(s);const a=OC.get(t);if(!a||(a.delete(o),a.size))return;const l=uv.get(t);uv.delete(t),l&&(Qj(t).removeEventListener("scroll",l),Xj.get(t)?.(),window.removeEventListener("resize",l))}}const eL=new Map;function wce(e){const t={value:0},n=dM(r=>{t.value=r[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function k2({source:e,container:t,...n}){const{axis:r}=n;e&&(t=e);const i=eL.get(t)??new Map;eL.set(t,i);const o=n.target??"self",s=i.get(o)??{},a=r+(n.offset??[]).join(",");return s[a]||(s[a]=!n.target&&_P()?new ScrollTimeline({source:t,axis:r}):wce({container:t,...n})),s[a]}function Sce(e,t){const n=k2(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:r=>(r.pause(),LP(i=>{r.time=r.duration*i},n))})}function kce(e){return e.length===2}function _ce(e,t){return kce(e)?dM(n=>{e(n[t.axis].progress,n)},t):LP(e,k2(t))}function _2(e,{axis:t="y",container:n=document.scrollingElement,...r}={}){if(!n)return rr;const i={axis:t,container:n,...r};return typeof e=="function"?_ce(e,i):Sce(e,i)}function tL(e,t){MU(!!(!t||t.current))}const Tce=()=>({scrollX:Tr(0),scrollY:Tr(0),scrollXProgress:Tr(0),scrollYProgress:Tr(0)});function fM({container:e,target:t,layoutEffect:n=!0,...r}={}){const i=Ur(Tce);return(n?pp:D.useEffect)(()=>(tL("target",t),tL("container",e),_2((s,{x:a,y:l})=>{i.scrollX.set(a.current),i.scrollXProgress.set(a.progress),i.scrollY.set(l.current),i.scrollYProgress.set(l.progress)},{...r,container:e?.current||void 0,target:t?.current||void 0})),[e,t,JSON.stringify(r.offset)]),i}function Cce(e){return fM({container:e})}function Ece(){return fM()}function Yc(e){const t=Ur(()=>Tr(e)),{isStatic:n}=D.useContext(xl);if(n){const[,r]=D.useState(e);D.useEffect(()=>t.on("change",r),[])}return t}function pM(e,t){const n=Yc(t()),r=()=>n.set(t());return r(),pp(()=>{const i=()=>Ke.preRender(r,!1,!0),o=e.map(s=>s.on("change",i));return()=>{o.forEach(s=>s()),Dn(r)}}),n}function Ice(e,...t){const n=e.length;function r(){let i="";for(let o=0;o<n;o++){i+=e[o];const s=t[o];s&&(i+=$t(s)?s.get():s)}return i}return pM(t.filter($t),r)}function Ace(e){Ia.current=[],e();const t=pM(Ia.current,e);return Ia.current=void 0,t}function kb(e,t,n,r){if(typeof e=="function")return Ace(e);const i=typeof t=="function"?t:J_(t,n,r);return Array.isArray(e)?nL(e,i):nL([e],([o])=>i(o))}function nL(e,t){const n=Ur(()=>[]);return pM(e,()=>{n.length=0;const r=e.length;for(let i=0;i<r;i++)n[i]=e[i].get();return t(n)})}function $ce(e,t={}){const{isStatic:n}=D.useContext(xl),r=()=>$t(e)?e.get():e;if(n)return kb(r);const i=Yc(r());return D.useInsertionEffect(()=>FP(i,e,t),[i,JSON.stringify(t)]),i}function T2(e){const t=D.useRef(0),{isStatic:n}=D.useContext(xl);D.useEffect(()=>{if(n)return;const r=({timestamp:i,delta:o})=>{t.current||(t.current=i),e(i-t.current,o)};return Ke.update(r,!0),()=>Dn(r)},[e])}function Pce(){const e=Yc(0);return T2(t=>e.set(t)),e}function Mce(e){const t=Yc(e.getVelocity()),n=()=>{const r=e.getVelocity();t.set(r),r&&Ke.update(n)};return S2(e,"change",()=>{Ke.update(n,!1,!0)}),t}class C2 extends Vf{constructor(){super(...arguments),this.isEnabled=!1}add(t){(Li.has(t)||f6.has(t))&&(this.isEnabled=!0,this.update())}update(){this.set(this.isEnabled?"transform":"auto")}}function Oce(){return Ur(()=>new C2("auto"))}function E2(){!aM.current&&m2();const[e]=D.useState(ck.current);return e}function Nce(){const e=E2(),{reducedMotion:t}=D.useContext(xl);return t==="never"?!1:t==="always"?!0:e}function Rce(e){e.values.forEach(t=>t.stop())}function PI(e,t){[...t].reverse().forEach(r=>{const i=e.getVariant(r);i&&rM(e,i),e.variantChildren&&e.variantChildren.forEach(o=>{PI(o,t)})})}function Dce(e,t){if(Array.isArray(t))return PI(e,t);if(typeof t=="string")return PI(e,[t]);rM(e,t)}function I2(){const e=new Set,t={subscribe(n){return e.add(n),()=>void e.delete(n)},start(n,r){const i=[];return e.forEach(o=>{i.push(X_(o,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return e.forEach(r=>{Dce(r,n)})},stop(){e.forEach(n=>{Rce(n)})},mount(){return()=>{t.stop()}}};return t}function hM(e){return typeof e=="object"&&!Array.isArray(e)}function A2(e,t,n,r){return typeof e=="string"&&hM(t)?Vu(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function jce(e,t,n){return e*(t+1)}function rL(e,t,n,r){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:r.get(t)??e}function Lce(e,t,n){for(let r=0;r<e.length;r++){const i=e[r];i.at>t&&i.at<n&&(Fu(e,i),r--)}}function zce(e,t,n,r,i,o){Lce(e,i,o);for(let s=0;s<t.length;s++)e.push({value:t[s],at:St(i,o,r[s]),easing:$x(n,s)})}function Fce(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function Vce(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const Bce="easeInOut";function Uce(e,{defaultTransition:t={},...n}={},r,i){const o=t.duration||.3,s=new Map,a=new Map,l={},u=new Map;let d=0,f=0,g=0;for(let m=0;m<e.length;m++){const b=e[m];if(typeof b=="string"){u.set(b,f);continue}else if(!Array.isArray(b)){u.set(b.name,rL(f,b.at,d,u));continue}let[x,k,T={}]=b;T.at!==void 0&&(f=rL(f,T.at,d,u));let E=0;const $=(P,M,R,z=0,F=0)=>{const q=Zce(P),{delay:Z=0,times:re=Mx(q),type:ee="keyframes",repeat:ne,repeatType:se,repeatDelay:ue=0,...me}=M;let{ease:ie=t.ease||"easeOut",duration:J}=M;const le=typeof Z=="function"?Z(z,F):Z,B=q.length,G=Nx(ee)?ee:i?.[ee];if(B<=2&&G){let Ce=100;if(B===2&&qce(q)){const je=q[1]-q[0];Ce=Math.abs(je)}const Ae={...me};J!==void 0&&(Ae.duration=lr(J));const $e=L_(Ae,Ce,G);ie=$e.ease,J=$e.duration}J??(J=o);const H=f+le;re.length===1&&re[0]===0&&(re[1]=1);const W=re.length-q.length;if(W>0&&F_(re,W),q.length===1&&q.unshift(null),ne){J=jce(J,ne);const Ce=[...q],Ae=[...re];ie=Array.isArray(ie)?[...ie]:[ie];const $e=[...ie];for(let je=0;je<ne;je++){q.push(...Ce);for(let Xe=0;Xe<Ce.length;Xe++)re.push(Ae[Xe]+(je+1)),ie.push(Xe===0?"linear":$x($e,Xe-1))}Fce(re,ne)}const Ie=H+J;zce(R,q,ie,re,H,Ie),E=Math.max(le+J,E),g=Math.max(Ie,g)};if($t(x)){const P=iL(x,a);$(k,T,oL("default",P))}else{const P=A2(x,k,r,l),M=P.length;for(let R=0;R<M;R++){k=k,T=T;const z=P[R],F=iL(z,a);for(const q in k)$(k[q],Wce(T,q),oL(q,F),R,M)}}d=f,f+=E}return a.forEach((m,b)=>{for(const x in m){const k=m[x];k.sort(Vce);const T=[],E=[],$=[];for(let M=0;M<k.length;M++){const{at:R,value:z,easing:F}=k[M];T.push(z),E.push(Js(0,g,R)),$.push(F||"easeOut")}E[0]!==0&&(E.unshift(0),T.unshift(T[0]),$.unshift(Bce)),E[E.length-1]!==1&&(E.push(1),T.push(null)),s.has(b)||s.set(b,{keyframes:{},transition:{}});const P=s.get(b);P.keyframes[x]=T,P.transition[x]={...t,duration:g,ease:$,times:E,...n}}}),s}function iL(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function oL(e,t){return t[e]||(t[e]=[]),t[e]}function Zce(e){return Array.isArray(e)?e:[e]}function Wce(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const Hce=e=>typeof e=="number",qce=e=>e.every(Hce);function Jce(e,t){return e in t}let Kce=class extends e1{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(Jce(n,t)){const r=t[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return Qn()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}};function Gce(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=bp(e)&&!Dx(e)?new x2(t):new v2(t);n.mount(e),Um.set(e,n)}function Yce(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new Kce(t);n.mount(e),Um.set(e,n)}function Xce(e,t){return $t(e)||typeof e=="number"||typeof e=="string"&&!hM(t)}function $2(e,t,n,r){const i=[];if(Xce(e,t))i.push(t2(e,hM(t)&&t.default||t,n&&(n.default||n)));else{const o=A2(e,t,r),s=o.length;for(let a=0;a<s;a++){const l=o[a],u=l instanceof Element?Gce:Yce;Um.has(l)||u(l);const d=Um.get(l),f={...n};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(a,s)),i.push(...sM(d,{...t,transition:f},{}))}}return i}function Qce(e,t,n){const r=[];return Uce(e,t,n,{spring:Xf}).forEach(({keyframes:o,transition:s},a)=>{r.push(...$2(a,o,s))}),r}function ede(e){return Array.isArray(e)&&e.some(Array.isArray)}function mM(e){function t(n,r,i){let o=[];ede(n)?o=Qce(n,r,e):o=$2(n,r,i,e);const s=new B_(o);return e&&e.animations.push(s),s}return t}const tde=mM();function nde(){const e=Ur(()=>({current:null,animations:[]})),t=Ur(()=>mM(e));return cM(()=>{e.animations.forEach(n=>n.stop())}),[e,t]}function rde(e,t,n,r){const i=Vu(e,r),o=i.length,s=[];for(let l=0;l<o;l++){const u=i[l],d={...n};typeof d.delay=="function"&&(d.delay=d.delay(l,o));for(const f in t){let g=t[f];Array.isArray(g)||(g=[g]);const m={...Ea(d,f)};m.duration&&(m.duration=lr(m.duration)),m.delay&&(m.delay=lr(m.delay));const b=s6(u),x=o6(f,m.pseudoElement||""),k=b.get(x);k&&k.stop(),s.push({map:b,key:x,unresolvedKeyframes:g,options:{...m,element:u,name:f,allowFlatten:!d.type&&!d.ease}})}}for(let l=0;l<s.length;l++){const{unresolvedKeyframes:u,options:d}=s[l],{element:f,name:g,pseudoElement:m}=d;!m&&u[0]===null&&(u[0]=xI(f,g)),wP(u),c6(u,g),!m&&u.length<2&&u.unshift(xI(f,g)),d.keyframes=u}const a=[];for(let l=0;l<s.length;l++){const{map:u,key:d,options:f}=s[l],g=new Rx(f);u.set(d,g),g.finished.finally(()=>u.delete(d)),a.push(g)}return a}const P2=e=>{function t(n,r,i){return new B_(rde(n,r,i,e))}return t},ide=P2();function ode(){const e=Ur(()=>({current:null,animations:[]})),t=Ur(()=>P2(e));return cM(()=>{e.animations.forEach(n=>n.stop())}),[e,t]}function M2(){const e=Ur(I2);return pp(e.mount,[]),e}const sde=M2;function ade(){const e=D.useContext(hp);return e?e.custom:void 0}function lde(e,t,n,r){D.useEffect(()=>{const i=e.current;if(n&&i)return Bm(i,t,n,r)},[e,t,n,r])}class O2{constructor(){this.componentControls=new Set}subscribe(t){return this.componentControls.add(t),()=>this.componentControls.delete(t)}start(t,n){this.componentControls.forEach(r=>{r.start(t.nativeEvent||t,n)})}}const ude=()=>new O2;function cde(){return Ur(ude)}function N2(e){return e!==null&&typeof e=="object"&&JP in e}function dde(e){if(N2(e))return e[JP]}function R2(){return fde}function fde(e){Bf.current&&(Bf.current.isUpdating=!1,Bf.current.blockUpdate(),e&&e())}function pde(){return D.useCallback(()=>{const t=Bf.current;t&&t.resetTree()},[])}function hde(...e){const t=D.useRef(0),[n,r]=D.useState(e[t.current]),i=D.useCallback(o=>{t.current=typeof o!="number"?Ax(0,e.length,t.current+1):o,r(e[t.current])},[e.length,...e]);return[n,i]}const mde={some:0,all:1};function D2(e,t,{root:n,margin:r,amount:i="some"}={}){const o=Vu(e),s=new WeakMap,a=u=>{u.forEach(d=>{const f=s.get(d.target);if(d.isIntersecting!==!!f)if(d.isIntersecting){const g=t(d.target,d);typeof g=="function"?s.set(d.target,g):l.unobserve(d.target)}else typeof f=="function"&&(f(d),s.delete(d.target))})},l=new IntersectionObserver(a,{root:n,rootMargin:r,threshold:typeof i=="number"?i:mde[i]});return o.forEach(u=>l.observe(u)),()=>l.disconnect()}function gde(e,{root:t,margin:n,amount:r,once:i=!1,initial:o=!1}={}){const[s,a]=D.useState(o);return D.useEffect(()=>{if(!e.current||i&&s)return;const l=()=>(a(!0),i?void 0:()=>a(!1)),u={root:t&&t.current||void 0,margin:n,amount:r};return D2(e.current,l,u)},[t,e,n,i,r]),s}function yde(){const[e,t]=ZP(),n=R2(),r=D.useRef(-1);return D.useEffect(()=>{Ke.postRender(()=>Ke.postRender(()=>{t===r.current&&(bi.instantAnimations=!1)}))},[t]),i=>{n(()=>{bi.instantAnimations=!0,e(),i(),r.current=t+1})}}function vde(){bi.instantAnimations=!1}const xf=new Map,cv=new Map,$S=(e,t)=>{const n=Li.has(t)?"transform":t;return`${e}: ${n}`};function sL(e,t,n){const r=$S(e,t),i=xf.get(r);if(!i)return null;const{animation:o,startTime:s}=i;function a(){window.MotionCancelOptimisedAnimation?.(e,t,n)}return o.onfinish=a,s===null||window.MotionHandoffIsComplete?.(e)?(a(),null):s}let Vw,Kh;const MI=new Set;function bde(){MI.forEach(e=>{e.animation.play(),e.animation.startTime=e.startTime}),MI.clear()}function xde(e,t,n,r,i){if(window.MotionIsMounted)return;const o=e.dataset[A6];if(!o)return;window.MotionHandoffAnimation=sL;const s=$S(o,t);Kh||(Kh=ok(e,t,[n[0],n[0]],{duration:1e4,ease:"linear"}),xf.set(s,{animation:Kh,startTime:null}),window.MotionHandoffAnimation=sL,window.MotionHasOptimisedAnimation=(l,u)=>{if(!l)return!1;if(!u)return cv.has(l);const d=$S(l,u);return!!xf.get(d)},window.MotionHandoffMarkAsComplete=l=>{cv.has(l)&&cv.set(l,!0)},window.MotionHandoffIsComplete=l=>cv.get(l)===!0,window.MotionCancelOptimisedAnimation=(l,u,d,f)=>{const g=$S(l,u),m=xf.get(g);m&&(d&&f===void 0?d.postRender(()=>{d.postRender(()=>{m.animation.cancel()})}):m.animation.cancel(),d&&f?(MI.add(m),d.render(bde)):(xf.delete(g),xf.size||(window.MotionCancelOptimisedAnimation=void 0)))},window.MotionCheckAppearSync=(l,u,d)=>{const f=iM(l);if(!f)return;const g=window.MotionHasOptimisedAnimation?.(f,u),m=l.props.values?.[u];if(!g||!m)return;const b=d.on("change",x=>{m.get()!==x&&(window.MotionCancelOptimisedAnimation?.(f,u),b())});return b});const a=()=>{Kh.cancel();const l=ok(e,t,n,r);Vw===void 0&&(Vw=performance.now()),l.startTime=Vw,xf.set(s,{animation:l,startTime:Vw}),i&&i(l)};cv.set(o,!1),Kh.ready?Kh.ready.then(a).catch(rr):a()}const OI=()=>({});class wde extends e1{constructor(){super(...arguments),this.measureInstanceViewportBox=Qn}build(){}resetTransform(){}restoreTransform(){}removeValueFromRenderState(){}renderInstance(){}scrapeMotionValuesFromProps(){return OI()}getBaseTargetFromProps(){}readValueFromInstance(t,n,r){return r.initialState[n]||0}sortInstanceNodePosition(){return 0}}const Sde=Y_({scrapeMotionValuesFromProps:OI,createRenderState:OI});function kde(e){const[t,n]=D.useState(e),r=Sde({},!1),i=Ur(()=>new wde({props:{onUpdate:s=>{n({...s})}},visualState:r,presenceContext:null},{initialState:e}));D.useLayoutEffect(()=>(i.mount({}),()=>i.unmount()),[i]);const o=Ur(()=>s=>X_(i,s));return[t,o]}let _de=0;const Tde=({children:e})=>(D.useEffect(()=>{},[]),O.jsx(k6,{id:Ur(()=>`asl-${_de++}`),children:e})),Cde=1e5,aL=e=>e>.001?1/e:Cde;function Ede(e){let t=Yc(1),n=Yc(1);const{visualElement:r}=D.useContext(kg);e?(t=e.scaleX||t,n=e.scaleY||n):r&&(t=r.getValue("scaleX",1),n=r.getValue("scaleY",1));const i=kb(t,aL),o=kb(n,aL);return{scaleX:i,scaleY:o}}const j2=D.createContext(null);function Ide(e,t,n,r){if(!r)return e;const i=e.findIndex(d=>d.value===t);if(i===-1)return e;const o=r>0?1:-1,s=e[i+o];if(!s)return e;const a=e[i],l=s.layout,u=St(l.min,l.max,.5);return o===1&&a.layout.max+n>u||o===-1&&a.layout.min+n<u?PU(e,i,i+o):e}function Ade({children:e,as:t="ul",axis:n="y",onReorder:r,values:i,...o},s){const a=Ur(()=>uM[t]),l=[],u=D.useRef(!1),d={axis:n,registerItem:(f,g)=>{const m=l.findIndex(b=>f===b.value);m!==-1?l[m].layout=g[n]:l.push({value:f,layout:g[n]}),l.sort(Mde)},updateOrder:(f,g,m)=>{if(u.current)return;const b=Ide(l,f,g,m);l!==b&&(u.current=!0,r(b.map(Pde).filter(x=>i.indexOf(x)!==-1)))}};return D.useEffect(()=>{u.current=!1}),O.jsx(a,{...o,ref:s,ignoreStrict:!0,children:O.jsx(j2.Provider,{value:d,children:e})})}const $de=D.forwardRef(Ade);function Pde(e){return e.value}function Mde(e,t){return e.layout.min-t.layout.min}function lL(e,t=0){return $t(e)?e:Yc(t)}function Ode({children:e,style:t={},value:n,as:r="li",onDrag:i,layout:o=!0,...s},a){const l=Ur(()=>uM[r]),u=D.useContext(j2),d={x:lL(t.x),y:lL(t.y)},f=kb([d.x,d.y],([x,k])=>x||k?1:"unset"),{axis:g,registerItem:m,updateOrder:b}=u;return O.jsx(l,{drag:g,...s,dragSnapToOrigin:!0,style:{...t,x:d.x,y:d.y,zIndex:f},layout:o,onDrag:(x,k)=>{const{velocity:T}=k;T[g]&&b(n,d[g].get(),T[g]),i&&i(x,k)},onLayoutMeasure:x=>m(n,x),ref:a,ignoreStrict:!0,children:e})}const Nde=D.forwardRef(Ode),Rde=Object.freeze(Object.defineProperty({__proto__:null,Group:$de,Item:Nde},Symbol.toStringTag,{value:"Module"}));function Dde(e,t){if(e==="first")return 0;{const n=t-1;return e==="last"?n:n/2}}function jde(e=.1,{startDelay:t=0,from:n=0,ease:r}={}){return(i,o)=>{const s=typeof n=="number"?n:Dde(n,o),a=Math.abs(s-i);let l=e*a;if(r){const u=o*e;l=QS(r)(l/u)*u}return t+l}}const Lde=Object.freeze(Object.defineProperty({__proto__:null,AnimatePresence:Bae,AnimateSharedLayout:Tde,AsyncMotionValueAnimation:CP,DOMKeyframesResolver:$P,DeprecatedLayoutGroupContext:w6,DragControls:O2,FlatTree:n2,GroupAnimation:ak,GroupAnimationWithThen:B_,JSAnimation:yp,KeyframeResolver:Ox,LayoutGroup:k6,LayoutGroupContext:Lm,LazyMotion:Hae,MotionConfig:Jae,MotionConfigContext:xl,MotionContext:kg,MotionGlobalConfig:bi,MotionValue:Vf,NativeAnimation:Rx,NativeAnimationExtended:r6,NativeAnimationWrapper:yI,PresenceContext:hp,Reorder:Rde,SubscriptionManager:bg,SwitchLayoutGroupContext:YP,ViewTransitionBuilder:x6,VisualElement:e1,WillChangeMotionValue:C2,acceleratedValues:f6,activeAnimations:Oo,addAttrValue:lk,addPointerEvent:Pm,addPointerInfo:U6,addScaleCorrector:M6,addStyleValue:q_,addUniqueItem:vg,alpha:zm,analyseComplexValue:Fm,animate:tde,animateMini:ide,animateValue:xse,animateView:Oae,animateVisualElement:X_,animationControls:I2,animationMapKey:o6,animations:Q_,anticipate:lP,applyGeneratorOptions:TP,applyPxDefaults:c6,attachSpring:FP,attrEffect:Jse,backIn:P_,backInOut:aP,backOut:sP,buildTransform:N6,calcGeneratorDuration:j_,calcLength:Oi,cancelFrame:Dn,cancelMicrotask:oae,cancelSync:Rae,circIn:M_,circInOut:uP,circOut:O_,clamp:Do,collectMotionValues:Ia,color:kr,complex:Ks,convertOffsetToTimes:JU,createBox:Qn,createGeneratorEasing:L_,createRenderBatcher:pP,createRendererMotionComponent:P6,createScopedAnimate:mM,cubicBezier:xg,cubicBezierAsString:fm,defaultEasing:KU,defaultOffset:Mx,defaultTransformValue:yb,defaultValueTypes:u6,degrees:yu,delay:r2,dimensionValueTypes:AP,disableInstantTransitions:vde,distance:EI,distance2D:Y6,domAnimation:w2,domMax:sce,domMin:ace,easeIn:NU,easeInOut:dP,easeOut:cP,easingDefinitionToFunction:QS,fillOffset:F_,fillWildcards:wP,filterProps:C6,findDimensionValueType:vI,findValueType:VP,flushKeyframeResolvers:QU,frame:Ke,frameData:hn,frameSteps:Lf,generateLinearEasing:vP,getAnimatableNone:W_,getAnimationMap:s6,getComputedStyle:xI,getDefaultValueType:Z_,getEasingForSegment:$x,getMixer:D_,getOriginIndex:xae,getValueAsType:wg,getValueTransition:Ea,getVariableValue:EP,getViewAnimationLayerInfo:y6,getViewAnimations:v6,hasWarned:Noe,hex:ek,hover:NP,hsla:Af,hslaToRgba:UU,inView:D2,inertia:nk,interpolate:z_,invariant:E_,invisibleValues:tk,isBezierDefinition:N_,isBrowser:C_,isCSSVariableName:mp,isCSSVariableToken:R_,isDragActive:MP,isDragging:js,isEasingArray:fP,isGenerator:Nx,isHTMLElement:Iu,isMotionComponent:N2,isMotionValue:$t,isNodeOrChild:RP,isNumericalString:I_,isObject:rP,isPrimaryPointer:Sg,isSVGElement:bp,isSVGSVGElement:Dx,isValidMotionProp:bb,isWaapiSupportedEasing:d6,isZeroValueString:A_,keyframes:$m,m:ble,makeAnimationInstant:sk,makeUseVisualState:Y_,mapEasingToNativeEasing:V_,mapValue:Sae,maxGeneratorDuration:gb,memo:Ix,microtask:cd,millisecondsToSeconds:$o,mirrorEasing:iP,mix:yP,mixArray:gP,mixColor:cI,mixComplex:HU,mixImmediate:mb,mixLinearColor:_S,mixNumber:St,mixObject:WU,mixVisibility:ZU,motion:uM,motionValue:Tr,moveItem:PU,noop:rr,number:gp,numberValueTypes:vp,observeTimeline:LP,optimizedAppearDataAttribute:GP,parseCSSVariable:a6,parseValueFromTransform:rk,percent:oo,pipe:ud,positionalKeys:U_,press:DP,progress:Js,progressPercentage:uI,propEffect:Kse,px:ut,readTransformValue:SP,recordStats:bae,removeItem:Fu,resize:jP,resolveElements:Vu,resolveMotionValue:Gv,reverseEasing:oP,rgbUnit:kS,rgba:Fc,scale:Ev,scroll:_2,scrollInfo:dM,secondsToMilliseconds:lr,setDragLock:OP,setStyle:e6,spring:Xf,springValue:kae,stagger:jde,startOptimizedAppearAnimation:xde,startWaapiAnimation:ok,statsBuffer:ar,steps:zoe,styleEffect:eae,supportedWaapiEasing:ik,supportsBrowserAnimation:i6,supportsFlags:t6,supportsLinearEasing:vb,supportsPartialKeyframes:Zse,supportsScrollTimeline:_P,svgEffect:rae,sync:Nae,testValueType:IP,time:ni,transform:J_,transformPropOrder:Gs,transformProps:Li,transformValue:g6,transformValueTypes:l6,unwrapMotionComponent:dde,useAnimate:nde,useAnimateMini:ode,useAnimation:sde,useAnimationControls:M2,useAnimationFrame:T2,useCycle:hde,useDeprecatedAnimatedState:kde,useDeprecatedInvertedScale:Ede,useDomEvent:lde,useDragControls:cde,useElementScroll:Cce,useForceUpdate:ZP,useInView:gde,useInstantLayoutTransition:R2,useInstantTransition:yde,useIsPresent:Fae,useIsomorphicLayoutEffect:pp,useMotionTemplate:Ice,useMotionValue:Yc,useMotionValueEvent:S2,usePresence:UP,usePresenceData:ade,useReducedMotion:E2,useReducedMotionConfig:Nce,useResetProjection:pde,useScroll:fM,useSpring:$ce,useTime:Pce,useTransform:kb,useUnmountEffect:cM,useVelocity:Mce,useViewportScroll:Ece,useWillChange:Oce,velocityPerSecond:$_,vh:jU,visualElementStore:Um,vw:LU,warnOnce:Roe,warning:MU,wrap:Ax},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zde={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fde=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=(e,t)=>{const n=D.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:a="",children:l,...u},d)=>D.createElement("svg",{ref:d,...zde,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Fde(e)}`,a].join(" "),...u},[...t.map(([f,g])=>D.createElement(f,g)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vde=_g("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bde=_g("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ude=_g("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zde=_g("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wde=_g("Hammer",[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hde=_g("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var L2="vercel.ai.error",qde=Symbol.for(L2),z2,Jde=class F2 extends Error{constructor({name:t,message:n,cause:r}){super(n),this[z2]=!0,this.name=t,this.cause=r}static isInstance(t){return F2.hasMarker(t,L2)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};z2=qde;var Zm=Jde,V2="AI_InvalidArgumentError",B2=`vercel.ai.error.${V2}`,Kde=Symbol.for(B2),U2,Gde=class extends Zm{constructor({message:t,cause:n,argument:r}){super({name:V2,message:t,cause:n}),this[U2]=!0,this.argument=r}static isInstance(t){return Zm.hasMarker(t,B2)}};U2=Kde;var Z2="AI_LoadAPIKeyError",W2=`vercel.ai.error.${Z2}`,Yde=Symbol.for(W2),H2,Bw=class extends Zm{constructor({message:t}){super({name:Z2,message:t}),this[H2]=!0}static isInstance(t){return Zm.hasMarker(t,W2)}};H2=Yde;var q2="AI_NoSuchModelError",J2=`vercel.ai.error.${q2}`,Xde=Symbol.for(J2),K2,Qde=class extends Zm{constructor({errorName:t=q2,modelId:n,modelType:r,message:i=`No such ${r}: ${n}`}){super({name:t,message:i}),this[K2]=!0,this.modelId=n,this.modelType=r}static isInstance(t){return Zm.hasMarker(t,J2)}};K2=Xde;var G2="vercel.ai.error",efe=Symbol.for(G2),Y2,tfe=class X2 extends Error{constructor({name:t,message:n,cause:r}){super(n),this[Y2]=!0,this.name=t,this.cause=r}static isInstance(t){return X2.hasMarker(t,G2)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};Y2=efe;var jo=tfe,Q2="AI_APICallError",e3=`vercel.ai.error.${Q2}`,nfe=Symbol.for(e3),t3,wu=class extends jo{constructor({message:t,url:n,requestBodyValues:r,statusCode:i,responseHeaders:o,responseBody:s,cause:a,isRetryable:l=i!=null&&(i===408||i===409||i===429||i>=500),data:u}){super({name:Q2,message:t,cause:a}),this[t3]=!0,this.url=n,this.requestBodyValues=r,this.statusCode=i,this.responseHeaders=o,this.responseBody=s,this.isRetryable=l,this.data=u}static isInstance(t){return jo.hasMarker(t,e3)}};t3=nfe;var n3="AI_EmptyResponseBodyError",r3=`vercel.ai.error.${n3}`,rfe=Symbol.for(r3),i3,ife=class extends jo{constructor({message:t="Empty response body"}={}){super({name:n3,message:t}),this[i3]=!0}static isInstance(t){return jo.hasMarker(t,r3)}};i3=rfe;function o3(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var s3="AI_InvalidArgumentError",a3=`vercel.ai.error.${s3}`,ofe=Symbol.for(a3),l3,sfe=class extends jo{constructor({message:t,cause:n,argument:r}){super({name:s3,message:t,cause:n}),this[l3]=!0,this.argument=r}static isInstance(t){return jo.hasMarker(t,a3)}};l3=ofe;var u3="AI_InvalidResponseDataError",c3=`vercel.ai.error.${u3}`,afe=Symbol.for(c3),d3,NC=class extends jo{constructor({data:t,message:n=`Invalid response data: ${JSON.stringify(t)}.`}){super({name:u3,message:n}),this[d3]=!0,this.data=t}static isInstance(t){return jo.hasMarker(t,c3)}};d3=afe;var f3="AI_JSONParseError",p3=`vercel.ai.error.${f3}`,lfe=Symbol.for(p3),h3,dk=class extends jo{constructor({text:t,cause:n}){super({name:f3,message:`JSON parsing failed: Text: ${t}.
Error message: ${o3(n)}`,cause:n}),this[h3]=!0,this.text=t}static isInstance(t){return jo.hasMarker(t,p3)}};h3=lfe;var m3="AI_TypeValidationError",g3=`vercel.ai.error.${m3}`,ufe=Symbol.for(g3),y3,cfe=class NI extends jo{constructor({value:t,cause:n}){super({name:m3,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${o3(n)}`,cause:n}),this[y3]=!0,this.value=t}static isInstance(t){return jo.hasMarker(t,g3)}static wrap({value:t,cause:n}){return NI.isInstance(n)&&n.value===t?n:new NI({value:t,cause:n})}};y3=ufe;var fk=cfe,v3="AI_UnsupportedFunctionalityError",b3=`vercel.ai.error.${v3}`,dfe=Symbol.for(b3),x3,w3=class extends jo{constructor({functionality:t,message:n=`'${t}' functionality not supported.`}){super({name:v3,message:n}),this[x3]=!0,this.functionality=t}static isInstance(t){return jo.hasMarker(t,b3)}};x3=dfe;let S3=(e,t=21)=>(n=t)=>{let r="",i=n|0;for(;i--;)r+=e[Math.random()*e.length|0];return r};var pf={exports:{}},uL;function ffe(){if(uL)return pf.exports;uL=1;const e=typeof Buffer<"u",t=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,n=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function r(a,l,u){u==null&&l!==null&&typeof l=="object"&&(u=l,l=void 0),e&&Buffer.isBuffer(a)&&(a=a.toString()),a&&a.charCodeAt(0)===65279&&(a=a.slice(1));const d=JSON.parse(a,l);if(d===null||typeof d!="object")return d;const f=u&&u.protoAction||"error",g=u&&u.constructorAction||"error";if(f==="ignore"&&g==="ignore")return d;if(f!=="ignore"&&g!=="ignore"){if(t.test(a)===!1&&n.test(a)===!1)return d}else if(f!=="ignore"&&g==="ignore"){if(t.test(a)===!1)return d}else if(n.test(a)===!1)return d;return i(d,{protoAction:f,constructorAction:g,safe:u&&u.safe})}function i(a,{protoAction:l="error",constructorAction:u="error",safe:d}={}){let f=[a];for(;f.length;){const g=f;f=[];for(const m of g){if(l!=="ignore"&&Object.prototype.hasOwnProperty.call(m,"__proto__")){if(d===!0)return null;if(l==="error")throw new SyntaxError("Object contains forbidden prototype property");delete m.__proto__}if(u!=="ignore"&&Object.prototype.hasOwnProperty.call(m,"constructor")&&Object.prototype.hasOwnProperty.call(m.constructor,"prototype")){if(d===!0)return null;if(u==="error")throw new SyntaxError("Object contains forbidden prototype property");delete m.constructor}for(const b in m){const x=m[b];x&&typeof x=="object"&&f.push(x)}}}return a}function o(a,l,u){const d=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return r(a,l,u)}finally{Error.stackTraceLimit=d}}function s(a,l){const u=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return r(a,l,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=u}}return pf.exports=o,pf.exports.default=o,pf.exports.parse=o,pf.exports.safeParse=s,pf.exports.scan=i,pf.exports}var pfe=ffe();const gM=hg(pfe);function RI(...e){return e.reduce((t,n)=>({...t,...n??{}}),{})}function hfe(){let e="",t,n=[],r,i;function o(l,u){if(l===""){s(u);return}if(l.startsWith(":"))return;const d=l.indexOf(":");if(d===-1){a(l,"");return}const f=l.slice(0,d),g=d+1,m=g<l.length&&l[g]===" "?l.slice(g+1):l.slice(g);a(f,m)}function s(l){n.length>0&&(l.enqueue({event:t,data:n.join(`
`),id:r,retry:i}),n=[],t=void 0,i=void 0)}function a(l,u){switch(l){case"event":t=u;break;case"data":n.push(u);break;case"id":r=u;break;case"retry":const d=parseInt(u,10);isNaN(d)||(i=d);break}}return new TransformStream({transform(l,u){const{lines:d,incompleteLine:f}=mfe(e,l);e=f;for(let g=0;g<d.length;g++)o(d[g],u)},flush(l){o(e,l),s(l)}})}function mfe(e,t){const n=[];let r=e;for(let i=0;i<t.length;){const o=t[i++];o===`
`?(n.push(r),r=""):o==="\r"?(n.push(r),r="",t[i]===`
`&&i++):r+=o}return{lines:n,incompleteLine:r}}function t1(e){const t={};return e.headers.forEach((n,r)=>{t[r]=n}),t}var gfe=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const i=S3(n,t);if(e==null)return i;if(n.includes(r))throw new sfe({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return o=>`${e}${r}${i(o)}`},RC=gfe();function yfe(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>n!=null))}function DC(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}var DI=Symbol.for("vercel.ai.validator");function vfe(e){return{[DI]:!0,validate:e}}function bfe(e){return typeof e=="object"&&e!==null&&DI in e&&e[DI]===!0&&"validate"in e}function xfe(e){return bfe(e)?e:wfe(e)}function wfe(e){return vfe(t=>{const n=e.safeParse(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}})}function Sfe({value:e,schema:t}){const n=k3({value:e,schema:t});if(!n.success)throw fk.wrap({value:e,cause:n.error});return n.value}function k3({value:e,schema:t}){const n=xfe(t);try{if(n.validate==null)return{success:!0,value:e};const r=n.validate(e);return r.success?r:{success:!1,error:fk.wrap({value:e,cause:r.error})}}catch(r){return{success:!1,error:fk.wrap({value:e,cause:r})}}}function kfe({text:e,schema:t}){try{const n=gM.parse(e);return t==null?n:Sfe({value:n,schema:t})}catch(n){throw dk.isInstance(n)||fk.isInstance(n)?n:new dk({text:e,cause:n})}}function _3({text:e,schema:t}){try{const n=gM.parse(e);if(t==null)return{success:!0,value:n,rawValue:n};const r=k3({value:n,schema:t});return r.success?{...r,rawValue:n}:r}catch(n){return{success:!1,error:dk.isInstance(n)?n:new dk({text:e,cause:n})}}}function cL(e){try{return gM.parse(e),!0}catch{return!1}}var _fe=()=>globalThis.fetch,jI=async({url:e,headers:t,body:n,failedResponseHandler:r,successfulResponseHandler:i,abortSignal:o,fetch:s})=>Tfe({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(n),values:n},failedResponseHandler:r,successfulResponseHandler:i,abortSignal:o,fetch:s}),Tfe=async({url:e,headers:t={},body:n,successfulResponseHandler:r,failedResponseHandler:i,abortSignal:o,fetch:s=_fe()})=>{try{const a=await s(e,{method:"POST",headers:yfe(t),body:n.content,signal:o}),l=t1(a);if(!a.ok){let u;try{u=await i({response:a,url:e,requestBodyValues:n.values})}catch(d){throw DC(d)||wu.isInstance(d)?d:new wu({message:"Failed to process error response",cause:d,statusCode:a.status,url:e,responseHeaders:l,requestBodyValues:n.values})}throw u.value}try{return await r({response:a,url:e,requestBodyValues:n.values})}catch(u){throw u instanceof Error&&(DC(u)||wu.isInstance(u))?u:new wu({message:"Failed to process successful response",cause:u,statusCode:a.status,url:e,responseHeaders:l,requestBodyValues:n.values})}}catch(a){if(DC(a))throw a;if(a instanceof TypeError&&a.message==="fetch failed"){const l=a.cause;if(l!=null)throw new wu({message:`Cannot connect to API: ${l.message}`,cause:l,url:e,requestBodyValues:n.values,isRetryable:!0})}throw a}},T3=({errorSchema:e,errorToMessage:t,isRetryable:n})=>async({response:r,url:i,requestBodyValues:o})=>{const s=await r.text(),a=t1(r);if(s.trim()==="")return{responseHeaders:a,value:new wu({message:r.statusText,url:i,requestBodyValues:o,statusCode:r.status,responseHeaders:a,responseBody:s,isRetryable:n?.(r)})};try{const l=kfe({text:s,schema:e});return{responseHeaders:a,value:new wu({message:t(l),url:i,requestBodyValues:o,statusCode:r.status,responseHeaders:a,responseBody:s,data:l,isRetryable:n?.(r,l)})}}catch{return{responseHeaders:a,value:new wu({message:r.statusText,url:i,requestBodyValues:o,statusCode:r.status,responseHeaders:a,responseBody:s,isRetryable:n?.(r)})}}},Cfe=e=>async({response:t})=>{const n=t1(t);if(t.body==null)throw new ife({});return{responseHeaders:n,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(hfe()).pipeThrough(new TransformStream({transform({data:r},i){r!=="[DONE]"&&i.enqueue(_3({text:r,schema:e}))}}))}},C3=e=>async({response:t,url:n,requestBodyValues:r})=>{const i=await t.text(),o=_3({text:i,schema:e}),s=t1(t);if(!o.success)throw new wu({message:"Invalid JSON response",cause:o.error,statusCode:t.status,responseHeaders:s,responseBody:i,url:n,requestBodyValues:r});return{responseHeaders:s,value:o.value,rawValue:o.rawValue}},{btoa:Efe}=globalThis;function Ife(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return Efe(t)}var yn;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},e.find=(i,o)=>{for(const s of i)if(o(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(yn||(yn={}));var dL;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(dL||(dL={}));const tt=yn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Nc=e=>{switch(typeof e){case"undefined":return tt.undefined;case"string":return tt.string;case"number":return Number.isNaN(e)?tt.nan:tt.number;case"boolean":return tt.boolean;case"function":return tt.function;case"bigint":return tt.bigint;case"symbol":return tt.symbol;case"object":return Array.isArray(e)?tt.array:e===null?tt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?tt.promise:typeof Map<"u"&&e instanceof Map?tt.map:typeof Set<"u"&&e instanceof Set?tt.set:typeof Date<"u"&&e instanceof Date?tt.date:tt.object;default:return tt.unknown}},Ne=yn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);let Qf=class E3 extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(s))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),r}static assert(t){if(!(t instanceof E3))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,yn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const o=i.path[0];n[o]=n[o]||[],n[o].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}};Qf.create=e=>new Qf(e);const LI=(e,t)=>{let n;switch(e.code){case Ne.invalid_type:e.received===tt.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Ne.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,yn.jsonStringifyReplacer)}`;break;case Ne.unrecognized_keys:n=`Unrecognized key(s) in object: ${yn.joinValues(e.keys,", ")}`;break;case Ne.invalid_union:n="Invalid input";break;case Ne.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${yn.joinValues(e.options)}`;break;case Ne.invalid_enum_value:n=`Invalid enum value. Expected ${yn.joinValues(e.options)}, received '${e.received}'`;break;case Ne.invalid_arguments:n="Invalid function arguments";break;case Ne.invalid_return_type:n="Invalid function return type";break;case Ne.invalid_date:n="Invalid date";break;case Ne.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:yn.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Ne.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Ne.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Ne.custom:n="Invalid input";break;case Ne.invalid_intersection_types:n="Intersection results could not be merged";break;case Ne.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Ne.not_finite:n="Number must be finite";break;default:n=t.defaultError,yn.assertNever(e)}return{message:n}};let Afe=LI;function $fe(){return Afe}const Pfe=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(s,{data:t,defaultError:a}).message;return{...i,path:o,message:a}};function We(e,t){const n=$fe(),r=Pfe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===LI?void 0:LI].filter(i=>!!i)});e.common.issues.push(r)}let Oa=class I3{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return Tt;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const o=await i.key,s=await i.value;r.push({key:o,value:s})}return I3.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return Tt;o.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:t.value,value:r}}};const Tt=Object.freeze({status:"aborted"}),Iv=e=>({status:"dirty",value:e}),Qs=e=>({status:"valid",value:e}),fL=e=>e.status==="aborted",pL=e=>e.status==="dirty",Wm=e=>e.status==="valid",pk=e=>typeof Promise<"u"&&e instanceof Promise;var it;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(it||(it={}));let Xc=class{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}};const hL=(e,t)=>{if(Wm(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Qf(e.common.issues);return this._error=n,this._error}}};function Jt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,a)=>{const{message:l}=e;return s.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:i}}let mn=class{get description(){return this._def.description}_getType(t){return Nc(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Nc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Oa,ctx:{common:t.parent.common,data:t.data,parsedType:Nc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(pk(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Nc(t)},i=this._parseSync({data:t,path:r.path,parent:r});return hL(r,i)}"~validate"(t){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Nc(t)};if(!this["~standard"].async)try{const r=this._parseSync({data:t,path:[],parent:n});return Wm(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(r=>Wm(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Nc(t)},i=this._parse({data:t,path:r.path,parent:r}),o=await(pk(i)?i:Promise.resolve(i));return hL(r,o)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=t(i),a=()=>o.addIssue({code:Ne.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new qm({schema:this,typeName:Ct.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Zc.create(this,this._def)}nullable(){return Jm.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Hm.create(this)}promise(){return gk.create(this,this._def)}or(t){return hk.create([this,t],this._def)}and(t){return mk.create(this,t,this._def)}transform(t){return new qm({...Jt(this._def),schema:this,typeName:Ct.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new JI({...Jt(this._def),innerType:this,defaultValue:n,typeName:Ct.ZodDefault})}brand(){return new epe({typeName:Ct.ZodBranded,type:this,...Jt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new KI({...Jt(this._def),innerType:this,catchValue:n,typeName:Ct.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return tpe.create(this,t)}readonly(){return GI.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}};const Mfe=/^c[^\s-]{8,}$/i,Ofe=/^[0-9a-z]+$/,Nfe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Rfe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Dfe=/^[a-z0-9_-]{21}$/i,jfe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Lfe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zfe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ffe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let jC;const Vfe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Bfe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ufe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Zfe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Wfe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Hfe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,A3="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",qfe=new RegExp(`^${A3}$`);function $3(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function Jfe(e){return new RegExp(`^${$3(e)}$`)}function Kfe(e){let t=`${A3}T${$3(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Gfe(e,t){return!!((t==="v4"||!t)&&Vfe.test(e)||(t==="v6"||!t)&&Ufe.test(e))}function Yfe(e,t){if(!jfe.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function Xfe(e,t){return!!((t==="v4"||!t)&&Bfe.test(e)||(t==="v6"||!t)&&Zfe.test(e))}let zI=class Av extends mn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==tt.string){const o=this._getOrReturnCtx(t);return We(o,{code:Ne.invalid_type,expected:tt.string,received:o.parsedType}),Tt}const r=new Oa;let i;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),We(i,{code:Ne.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),We(i,{code:Ne.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=t.data.length>o.value,a=t.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(t,i),s?We(i,{code:Ne.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&We(i,{code:Ne.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")zfe.test(t.data)||(i=this._getOrReturnCtx(t,i),We(i,{validation:"email",code:Ne.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")jC||(jC=new RegExp(Ffe,"u")),jC.test(t.data)||(i=this._getOrReturnCtx(t,i),We(i,{validation:"emoji",code:Ne.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")Rfe.test(t.data)||(i=this._getOrReturnCtx(t,i),We(i,{validation:"uuid",code:Ne.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")Dfe.test(t.data)||(i=this._getOrReturnCtx(t,i),We(i,{validation:"nanoid",code:Ne.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")Mfe.test(t.data)||(i=this._getOrReturnCtx(t,i),We(i,{validation:"cuid",code:Ne.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")Ofe.test(t.data)||(i=this._getOrReturnCtx(t,i),We(i,{validation:"cuid2",code:Ne.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")Nfe.test(t.data)||(i=this._getOrReturnCtx(t,i),We(i,{validation:"ulid",code:Ne.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),We(i,{validation:"url",code:Ne.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),We(i,{validation:"regex",code:Ne.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),We(i,{code:Ne.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),We(i,{code:Ne.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),We(i,{code:Ne.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?Kfe(o).test(t.data)||(i=this._getOrReturnCtx(t,i),We(i,{code:Ne.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?qfe.test(t.data)||(i=this._getOrReturnCtx(t,i),We(i,{code:Ne.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?Jfe(o).test(t.data)||(i=this._getOrReturnCtx(t,i),We(i,{code:Ne.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?Lfe.test(t.data)||(i=this._getOrReturnCtx(t,i),We(i,{validation:"duration",code:Ne.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?Gfe(t.data,o.version)||(i=this._getOrReturnCtx(t,i),We(i,{validation:"ip",code:Ne.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?Yfe(t.data,o.alg)||(i=this._getOrReturnCtx(t,i),We(i,{validation:"jwt",code:Ne.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?Xfe(t.data,o.version)||(i=this._getOrReturnCtx(t,i),We(i,{validation:"cidr",code:Ne.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?Wfe.test(t.data)||(i=this._getOrReturnCtx(t,i),We(i,{validation:"base64",code:Ne.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?Hfe.test(t.data)||(i=this._getOrReturnCtx(t,i),We(i,{validation:"base64url",code:Ne.invalid_string,message:o.message}),r.dirty()):yn.assertNever(o);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:Ne.invalid_string,...it.errToObj(r)})}_addCheck(t){return new Av({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...it.errToObj(t)})}url(t){return this._addCheck({kind:"url",...it.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...it.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...it.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...it.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...it.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...it.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...it.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...it.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...it.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...it.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...it.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...it.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...it.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...it.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...it.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...it.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...it.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...it.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...it.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...it.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...it.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...it.errToObj(n)})}nonempty(t){return this.min(1,it.errToObj(t))}trim(){return new Av({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Av({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Av({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};zI.create=e=>new zI({checks:[],typeName:Ct.ZodString,coerce:e?.coerce??!1,...Jt(e)});function Qfe(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,o=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return o%s/10**i}let FI=class VI extends mn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==tt.number){const o=this._getOrReturnCtx(t);return We(o,{code:Ne.invalid_type,expected:tt.number,received:o.parsedType}),Tt}let r;const i=new Oa;for(const o of this._def.checks)o.kind==="int"?yn.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),We(r,{code:Ne.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),We(r,{code:Ne.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),We(r,{code:Ne.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?Qfe(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),We(r,{code:Ne.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),We(r,{code:Ne.not_finite,message:o.message}),i.dirty()):yn.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,it.toString(n))}gt(t,n){return this.setLimit("min",t,!1,it.toString(n))}lte(t,n){return this.setLimit("max",t,!0,it.toString(n))}lt(t,n){return this.setLimit("max",t,!1,it.toString(n))}setLimit(t,n,r,i){return new VI({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:it.toString(i)}]})}_addCheck(t){return new VI({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:it.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:it.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:it.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:it.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:it.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:it.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:it.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:it.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:it.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&yn.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}};FI.create=e=>new FI({checks:[],typeName:Ct.ZodNumber,coerce:e?.coerce||!1,...Jt(e)});let mL=class BI extends mn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==tt.bigint)return this._getInvalidInput(t);let r;const i=new Oa;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),We(r,{code:Ne.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),We(r,{code:Ne.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),We(r,{code:Ne.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):yn.assertNever(o);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return We(n,{code:Ne.invalid_type,expected:tt.bigint,received:n.parsedType}),Tt}gte(t,n){return this.setLimit("min",t,!0,it.toString(n))}gt(t,n){return this.setLimit("min",t,!1,it.toString(n))}lte(t,n){return this.setLimit("max",t,!0,it.toString(n))}lt(t,n){return this.setLimit("max",t,!1,it.toString(n))}setLimit(t,n,r,i){return new BI({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:it.toString(i)}]})}_addCheck(t){return new BI({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:it.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:it.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:it.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:it.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:it.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};mL.create=e=>new mL({checks:[],typeName:Ct.ZodBigInt,coerce:e?.coerce??!1,...Jt(e)});let gL=class extends mn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==tt.boolean){const r=this._getOrReturnCtx(t);return We(r,{code:Ne.invalid_type,expected:tt.boolean,received:r.parsedType}),Tt}return Qs(t.data)}};gL.create=e=>new gL({typeName:Ct.ZodBoolean,coerce:e?.coerce||!1,...Jt(e)});let yL=class P3 extends mn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==tt.date){const o=this._getOrReturnCtx(t);return We(o,{code:Ne.invalid_type,expected:tt.date,received:o.parsedType}),Tt}if(Number.isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return We(o,{code:Ne.invalid_date}),Tt}const r=new Oa;let i;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),We(i,{code:Ne.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),We(i,{code:Ne.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):yn.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new P3({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:it.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:it.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}};yL.create=e=>new yL({checks:[],coerce:e?.coerce||!1,typeName:Ct.ZodDate,...Jt(e)});let vL=class extends mn{_parse(t){if(this._getType(t)!==tt.symbol){const r=this._getOrReturnCtx(t);return We(r,{code:Ne.invalid_type,expected:tt.symbol,received:r.parsedType}),Tt}return Qs(t.data)}};vL.create=e=>new vL({typeName:Ct.ZodSymbol,...Jt(e)});let bL=class extends mn{_parse(t){if(this._getType(t)!==tt.undefined){const r=this._getOrReturnCtx(t);return We(r,{code:Ne.invalid_type,expected:tt.undefined,received:r.parsedType}),Tt}return Qs(t.data)}};bL.create=e=>new bL({typeName:Ct.ZodUndefined,...Jt(e)});let xL=class extends mn{_parse(t){if(this._getType(t)!==tt.null){const r=this._getOrReturnCtx(t);return We(r,{code:Ne.invalid_type,expected:tt.null,received:r.parsedType}),Tt}return Qs(t.data)}};xL.create=e=>new xL({typeName:Ct.ZodNull,...Jt(e)});let UI=class extends mn{constructor(){super(...arguments),this._any=!0}_parse(t){return Qs(t.data)}};UI.create=e=>new UI({typeName:Ct.ZodAny,...Jt(e)});let wL=class extends mn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Qs(t.data)}};wL.create=e=>new wL({typeName:Ct.ZodUnknown,...Jt(e)});let Qc=class extends mn{_parse(t){const n=this._getOrReturnCtx(t);return We(n,{code:Ne.invalid_type,expected:tt.never,received:n.parsedType}),Tt}};Qc.create=e=>new Qc({typeName:Ct.ZodNever,...Jt(e)});let SL=class extends mn{_parse(t){if(this._getType(t)!==tt.undefined){const r=this._getOrReturnCtx(t);return We(r,{code:Ne.invalid_type,expected:tt.void,received:r.parsedType}),Tt}return Qs(t.data)}};SL.create=e=>new SL({typeName:Ct.ZodVoid,...Jt(e)});let Hm=class PS extends mn{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==tt.array)return We(n,{code:Ne.invalid_type,expected:tt.array,received:n.parsedType}),Tt;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(We(n,{code:s?Ne.too_big:Ne.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(We(n,{code:Ne.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(We(n,{code:Ne.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new Xc(n,s,n.path,a)))).then(s=>Oa.mergeArray(r,s));const o=[...n.data].map((s,a)=>i.type._parseSync(new Xc(n,s,n.path,a)));return Oa.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new PS({...this._def,minLength:{value:t,message:it.toString(n)}})}max(t,n){return new PS({...this._def,maxLength:{value:t,message:it.toString(n)}})}length(t,n){return new PS({...this._def,exactLength:{value:t,message:it.toString(n)}})}nonempty(t){return this.min(1,t)}};Hm.create=(e,t)=>new Hm({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ct.ZodArray,...Jt(t)});function nm(e){if(e instanceof Nu){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Zc.create(nm(r))}return new Nu({...e._def,shape:()=>t})}else return e instanceof Hm?new Hm({...e._def,type:nm(e.element)}):e instanceof Zc?Zc.create(nm(e.unwrap())):e instanceof Jm?Jm.create(nm(e.unwrap())):e instanceof _b?_b.create(e.items.map(t=>nm(t))):e}let Nu=class ka extends mn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=yn.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==tt.object){const u=this._getOrReturnCtx(t);return We(u,{code:Ne.invalid_type,expected:tt.object,received:u.parsedType}),Tt}const{status:r,ctx:i}=this._processInputParams(t),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof Qc&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||a.push(u);const l=[];for(const u of s){const d=o[u],f=i.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new Xc(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Qc){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")a.length>0&&(We(i,{code:Ne.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const f=i.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new Xc(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,g=await d.value;u.push({key:f,value:g,alwaysSet:d.alwaysSet})}return u}).then(u=>Oa.mergeObjectSync(r,u)):Oa.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return it.errToObj,new ka({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{const i=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:it.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new ka({...this._def,unknownKeys:"strip"})}passthrough(){return new ka({...this._def,unknownKeys:"passthrough"})}extend(t){return new ka({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ka({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ct.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new ka({...this._def,catchall:t})}pick(t){const n={};for(const r of yn.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new ka({...this._def,shape:()=>n})}omit(t){const n={};for(const r of yn.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new ka({...this._def,shape:()=>n})}deepPartial(){return nm(this)}partial(t){const n={};for(const r of yn.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}return new ka({...this._def,shape:()=>n})}required(t){const n={};for(const r of yn.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Zc;)o=o._def.innerType;n[r]=o}return new ka({...this._def,shape:()=>n})}keyof(){return O3(yn.objectKeys(this.shape))}};Nu.create=(e,t)=>new Nu({shape:()=>e,unknownKeys:"strip",catchall:Qc.create(),typeName:Ct.ZodObject,...Jt(t)});Nu.strictCreate=(e,t)=>new Nu({shape:()=>e,unknownKeys:"strict",catchall:Qc.create(),typeName:Ct.ZodObject,...Jt(t)});Nu.lazycreate=(e,t)=>new Nu({shape:e,unknownKeys:"strip",catchall:Qc.create(),typeName:Ct.ZodObject,...Jt(t)});let hk=class extends mn{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(a=>new Qf(a.ctx.common.issues));return We(n,{code:Ne.invalid_union,unionErrors:s}),Tt}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const l of r){const u={...n,common:{...n.common,issues:[]},parent:null},d=l._parseSync({data:n.data,path:n.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!o&&(o={result:d,ctx:u}),u.common.issues.length&&s.push(u.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(l=>new Qf(l));return We(n,{code:Ne.invalid_union,unionErrors:a}),Tt}}get options(){return this._def.options}};hk.create=(e,t)=>new hk({options:e,typeName:Ct.ZodUnion,...Jt(t)});function ZI(e,t){const n=Nc(e),r=Nc(t);if(e===t)return{valid:!0,data:e};if(n===tt.object&&r===tt.object){const i=yn.objectKeys(t),o=yn.objectKeys(e).filter(a=>i.indexOf(a)!==-1),s={...e,...t};for(const a of o){const l=ZI(e[a],t[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(n===tt.array&&r===tt.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const s=e[o],a=t[o],l=ZI(s,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===tt.date&&r===tt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}let mk=class extends mn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(o,s)=>{if(fL(o)||fL(s))return Tt;const a=ZI(o.value,s.value);return a.valid?((pL(o)||pL(s))&&n.dirty(),{status:n.value,value:a.data}):(We(r,{code:Ne.invalid_intersection_types}),Tt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}};mk.create=(e,t,n)=>new mk({left:e,right:t,typeName:Ct.ZodIntersection,...Jt(n)});let _b=class M3 extends mn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==tt.array)return We(r,{code:Ne.invalid_type,expected:tt.array,received:r.parsedType}),Tt;if(r.data.length<this._def.items.length)return We(r,{code:Ne.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Tt;!this._def.rest&&r.data.length>this._def.items.length&&(We(r,{code:Ne.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Xc(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>Oa.mergeArray(n,s)):Oa.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new M3({...this._def,rest:t})}};_b.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new _b({items:e,typeName:Ct.ZodTuple,rest:null,...Jt(t)})};let kL=class extends mn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==tt.map)return We(r,{code:Ne.invalid_type,expected:tt.map,received:r.parsedType}),Tt;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([a,l],u)=>({key:i._parse(new Xc(r,a,r.path,[u,"key"])),value:o._parse(new Xc(r,l,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of s){const u=await l.key,d=await l.value;if(u.status==="aborted"||d.status==="aborted")return Tt;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of s){const u=l.key,d=l.value;if(u.status==="aborted"||d.status==="aborted")return Tt;(u.status==="dirty"||d.status==="dirty")&&n.dirty(),a.set(u.value,d.value)}return{status:n.value,value:a}}}};kL.create=(e,t,n)=>new kL({valueType:t,keyType:e,typeName:Ct.ZodMap,...Jt(n)});let _L=class WI extends mn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==tt.set)return We(r,{code:Ne.invalid_type,expected:tt.set,received:r.parsedType}),Tt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(We(r,{code:Ne.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(We(r,{code:Ne.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(l){const u=new Set;for(const d of l){if(d.status==="aborted")return Tt;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>o._parse(new Xc(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(t,n){return new WI({...this._def,minSize:{value:t,message:it.toString(n)}})}max(t,n){return new WI({...this._def,maxSize:{value:t,message:it.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}};_L.create=(e,t)=>new _L({valueType:e,minSize:null,maxSize:null,typeName:Ct.ZodSet,...Jt(t)});let TL=class extends mn{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}};TL.create=(e,t)=>new TL({getter:e,typeName:Ct.ZodLazy,...Jt(t)});let HI=class extends mn{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return We(n,{received:n.data,code:Ne.invalid_literal,expected:this._def.value}),Tt}return{status:"valid",value:t.data}}get value(){return this._def.value}};HI.create=(e,t)=>new HI({value:e,typeName:Ct.ZodLiteral,...Jt(t)});function O3(e,t){return new yM({values:e,typeName:Ct.ZodEnum,...Jt(t)})}let yM=class qI extends mn{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return We(n,{expected:yn.joinValues(r),received:n.parsedType,code:Ne.invalid_type}),Tt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return We(n,{received:n.data,code:Ne.invalid_enum_value,options:r}),Tt}return Qs(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return qI.create(t,{...this._def,...n})}exclude(t,n=this._def){return qI.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}};yM.create=O3;let CL=class extends mn{_parse(t){const n=yn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==tt.string&&r.parsedType!==tt.number){const i=yn.objectValues(n);return We(r,{expected:yn.joinValues(i),received:r.parsedType,code:Ne.invalid_type}),Tt}if(this._cache||(this._cache=new Set(yn.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=yn.objectValues(n);return We(r,{received:r.data,code:Ne.invalid_enum_value,options:i}),Tt}return Qs(t.data)}get enum(){return this._def.values}};CL.create=(e,t)=>new CL({values:e,typeName:Ct.ZodNativeEnum,...Jt(t)});let gk=class extends mn{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==tt.promise&&n.common.async===!1)return We(n,{code:Ne.invalid_type,expected:tt.promise,received:n.parsedType}),Tt;const r=n.parsedType===tt.promise?n.data:Promise.resolve(n.data);return Qs(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}};gk.create=(e,t)=>new gk({type:e,typeName:Ct.ZodPromise,...Jt(t)});let qm=class extends mn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ct.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:s=>{We(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(async a=>{if(n.value==="aborted")return Tt;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Tt:l.status==="dirty"||n.value==="dirty"?Iv(l.value):l});{if(n.value==="aborted")return Tt;const a=this._def.schema._parseSync({data:s,path:r.path,parent:r});return a.status==="aborted"?Tt:a.status==="dirty"||n.value==="dirty"?Iv(a.value):a}}if(i.type==="refinement"){const s=a=>{const l=i.refinement(a,o);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Tt:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Tt:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Wm(s))return Tt;const a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>Wm(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:n.value,value:a})):Tt);yn.assertNever(i)}};qm.create=(e,t,n)=>new qm({schema:e,typeName:Ct.ZodEffects,effect:t,...Jt(n)});qm.createWithPreprocess=(e,t,n)=>new qm({schema:t,effect:{type:"preprocess",transform:e},typeName:Ct.ZodEffects,...Jt(n)});let Zc=class extends mn{_parse(t){return this._getType(t)===tt.undefined?Qs(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Zc.create=(e,t)=>new Zc({innerType:e,typeName:Ct.ZodOptional,...Jt(t)});let Jm=class extends mn{_parse(t){return this._getType(t)===tt.null?Qs(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Jm.create=(e,t)=>new Jm({innerType:e,typeName:Ct.ZodNullable,...Jt(t)});let JI=class extends mn{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===tt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}};JI.create=(e,t)=>new JI({innerType:e,typeName:Ct.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Jt(t)});let KI=class extends mn{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return pk(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Qf(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Qf(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}};KI.create=(e,t)=>new KI({innerType:e,typeName:Ct.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Jt(t)});let EL=class extends mn{_parse(t){if(this._getType(t)!==tt.nan){const r=this._getOrReturnCtx(t);return We(r,{code:Ne.invalid_type,expected:tt.nan,received:r.parsedType}),Tt}return{status:"valid",value:t.data}}};EL.create=e=>new EL({typeName:Ct.ZodNaN,...Jt(e)});let epe=class extends mn{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}},tpe=class N3 extends mn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Tt:o.status==="dirty"?(n.dirty(),Iv(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Tt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new N3({in:t,out:n,typeName:Ct.ZodPipeline})}},GI=class extends mn{_parse(t){const n=this._def.innerType._parse(t),r=i=>(Wm(i)&&(i.value=Object.freeze(i.value)),i);return pk(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}};GI.create=(e,t)=>new GI({innerType:e,typeName:Ct.ZodReadonly,...Jt(t)});var Ct;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ct||(Ct={}));const Zn=zI.create,eo=FI.create,npe=UI.create;Qc.create;const ed=Hm.create,tr=Nu.create,R3=hk.create;mk.create;_b.create;const YI=HI.create,rpe=yM.create;gk.create;Zc.create;Jm.create;function dv(e){var t,n;return(n=(t=e?.providerMetadata)==null?void 0:t.openaiCompatible)!=null?n:{}}function ipe(e){const t=[];for(const{role:n,content:r,...i}of e){const o=dv({...i});switch(n){case"system":{t.push({role:"system",content:r,...o});break}case"user":{if(r.length===1&&r[0].type==="text"){t.push({role:"user",content:r[0].text,...dv(r[0])});break}t.push({role:"user",content:r.map(s=>{var a;const l=dv(s);switch(s.type){case"text":return{type:"text",text:s.text,...l};case"image":return{type:"image_url",image_url:{url:s.image instanceof URL?s.image.toString():`data:${(a=s.mimeType)!=null?a:"image/jpeg"};base64,${Ife(s.image)}`},...l};case"file":throw new w3({functionality:"File content parts in user messages"})}}),...o});break}case"assistant":{let s="";const a=[];for(const l of r){const u=dv(l);switch(l.type){case"text":{s+=l.text;break}case"tool-call":{a.push({id:l.toolCallId,type:"function",function:{name:l.toolName,arguments:JSON.stringify(l.args)},...u});break}}}t.push({role:"assistant",content:s,tool_calls:a.length>0?a:void 0,...o});break}case"tool":{for(const s of r){const a=dv(s);t.push({role:"tool",tool_call_id:s.toolCallId,content:JSON.stringify(s.result),...a})}break}default:{const s=n;throw new Error(`Unsupported role: ${s}`)}}}return t}function IL({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n!=null?new Date(n*1e3):void 0}}function AL(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var ope=tr({error:tr({message:Zn(),type:Zn().nullish(),param:npe().nullish(),code:R3([Zn(),eo()]).nullish()})}),D3={errorSchema:ope,errorToMessage:e=>e.error.message};function spe({mode:e,structuredOutputs:t}){var n;const r=(n=e.tools)!=null&&n.length?e.tools:void 0,i=[];if(r==null)return{tools:void 0,tool_choice:void 0,toolWarnings:i};const o=e.toolChoice,s=[];for(const l of r)l.type==="provider-defined"?i.push({type:"unsupported-tool",tool:l}):s.push({type:"function",function:{name:l.name,description:l.description,parameters:l.parameters}});if(o==null)return{tools:s,tool_choice:void 0,toolWarnings:i};const a=o.type;switch(a){case"auto":case"none":case"required":return{tools:s,tool_choice:a,toolWarnings:i};case"tool":return{tools:s,tool_choice:{type:"function",function:{name:o.toolName}},toolWarnings:i};default:{const l=a;throw new w3({functionality:`Unsupported tool choice type: ${l}`})}}}var ape=class{constructor(e,t,n){this.specificationVersion="v1";var r,i;this.modelId=e,this.settings=t,this.config=n;const o=(r=n.errorStructure)!=null?r:D3;this.chunkSchema=upe(o.errorSchema),this.failedResponseHandler=T3(o),this.supportsStructuredOutputs=(i=n.supportsStructuredOutputs)!=null?i:!1}get defaultObjectGenerationMode(){return this.config.defaultObjectGenerationMode}get provider(){return this.config.provider}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:i,topK:o,frequencyPenalty:s,presencePenalty:a,providerMetadata:l,stopSequences:u,responseFormat:d,seed:f}){var g,m,b,x,k;const T=e.type,E=[];o!=null&&E.push({type:"unsupported-setting",setting:"topK"}),d?.type==="json"&&d.schema!=null&&!this.supportsStructuredOutputs&&E.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});const $={model:this.modelId,user:this.settings.user,max_tokens:n,temperature:r,top_p:i,frequency_penalty:s,presence_penalty:a,response_format:d?.type==="json"?this.supportsStructuredOutputs===!0&&d.schema!=null?{type:"json_schema",json_schema:{schema:d.schema,name:(g=d.name)!=null?g:"response",description:d.description}}:{type:"json_object"}:void 0,stop:u,seed:f,...l?.[this.providerOptionsName],reasoning_effort:(x=(m=l?.[this.providerOptionsName])==null?void 0:m.reasoningEffort)!=null?x:(b=l?.["openai-compatible"])==null?void 0:b.reasoningEffort,messages:ipe(t)};switch(T){case"regular":{const{tools:P,tool_choice:M,toolWarnings:R}=spe({mode:e,structuredOutputs:this.supportsStructuredOutputs});return{args:{...$,tools:P,tool_choice:M},warnings:[...E,...R]}}case"object-json":return{args:{...$,response_format:this.supportsStructuredOutputs===!0&&e.schema!=null?{type:"json_schema",json_schema:{schema:e.schema,name:(k=e.name)!=null?k:"response",description:e.description}}:{type:"json_object"}},warnings:E};case"object-tool":return{args:{...$,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}}]},warnings:E};default:{const P=T;throw new Error(`Unsupported type: ${P}`)}}}async doGenerate(e){var t,n,r,i,o,s,a,l,u,d,f;const{args:g,warnings:m}=this.getArgs({...e}),b=JSON.stringify(g),{responseHeaders:x,value:k,rawValue:T}=await jI({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:RI(this.config.headers(),e.headers),body:g,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:C3(lpe),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:E,...$}=g,P=k.choices[0],M={[this.providerOptionsName]:{},...(n=(t=this.config.metadataExtractor)==null?void 0:t.extractMetadata)==null?void 0:n.call(t,{parsedBody:T})},R=(r=k.usage)==null?void 0:r.completion_tokens_details,z=(i=k.usage)==null?void 0:i.prompt_tokens_details;return R?.reasoning_tokens!=null&&(M[this.providerOptionsName].reasoningTokens=R?.reasoning_tokens),R?.accepted_prediction_tokens!=null&&(M[this.providerOptionsName].acceptedPredictionTokens=R?.accepted_prediction_tokens),R?.rejected_prediction_tokens!=null&&(M[this.providerOptionsName].rejectedPredictionTokens=R?.rejected_prediction_tokens),z?.cached_tokens!=null&&(M[this.providerOptionsName].cachedPromptTokens=z?.cached_tokens),{text:(o=P.message.content)!=null?o:void 0,reasoning:(s=P.message.reasoning_content)!=null?s:void 0,toolCalls:(a=P.message.tool_calls)==null?void 0:a.map(F=>{var q;return{toolCallType:"function",toolCallId:(q=F.id)!=null?q:RC(),toolName:F.function.name,args:F.function.arguments}}),finishReason:AL(P.finish_reason),usage:{promptTokens:(u=(l=k.usage)==null?void 0:l.prompt_tokens)!=null?u:NaN,completionTokens:(f=(d=k.usage)==null?void 0:d.completion_tokens)!=null?f:NaN},providerMetadata:M,rawCall:{rawPrompt:E,rawSettings:$},rawResponse:{headers:x,body:T},response:IL(k),warnings:m,request:{body:b}}}async doStream(e){var t;if(this.settings.simulateStreaming){const x=await this.doGenerate(e);return{stream:new ReadableStream({start(T){if(T.enqueue({type:"response-metadata",...x.response}),x.reasoning)if(Array.isArray(x.reasoning))for(const E of x.reasoning)E.type==="text"&&T.enqueue({type:"reasoning",textDelta:E.text});else T.enqueue({type:"reasoning",textDelta:x.reasoning});if(x.text&&T.enqueue({type:"text-delta",textDelta:x.text}),x.toolCalls)for(const E of x.toolCalls)T.enqueue({type:"tool-call",...E});T.enqueue({type:"finish",finishReason:x.finishReason,usage:x.usage,logprobs:x.logprobs,providerMetadata:x.providerMetadata}),T.close()}}),rawCall:x.rawCall,rawResponse:x.rawResponse,warnings:x.warnings}}const{args:n,warnings:r}=this.getArgs({...e}),i={...n,stream:!0,stream_options:this.config.includeUsage?{include_usage:!0}:void 0},o=(t=this.config.metadataExtractor)==null?void 0:t.createStreamExtractor(),{responseHeaders:s,value:a}=await jI({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:RI(this.config.headers(),e.headers),body:i,failedResponseHandler:this.failedResponseHandler,successfulResponseHandler:Cfe(this.chunkSchema),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:l,...u}=n,d=[];let f="unknown",g={completionTokens:void 0,completionTokensDetails:{reasoningTokens:void 0,acceptedPredictionTokens:void 0,rejectedPredictionTokens:void 0},promptTokens:void 0,promptTokensDetails:{cachedTokens:void 0}},m=!0,b=this.providerOptionsName;return{stream:a.pipeThrough(new TransformStream({transform(x,k){var T,E,$,P,M,R,z,F,q,Z,re,ee;if(!x.success){f="error",k.enqueue({type:"error",error:x.error});return}const ne=x.value;if(o?.processChunk(x.rawValue),"error"in ne){f="error",k.enqueue({type:"error",error:ne.error.message});return}if(m&&(m=!1,k.enqueue({type:"response-metadata",...IL(ne)})),ne.usage!=null){const{prompt_tokens:me,completion_tokens:ie,prompt_tokens_details:J,completion_tokens_details:le}=ne.usage;g.promptTokens=me??void 0,g.completionTokens=ie??void 0,le?.reasoning_tokens!=null&&(g.completionTokensDetails.reasoningTokens=le?.reasoning_tokens),le?.accepted_prediction_tokens!=null&&(g.completionTokensDetails.acceptedPredictionTokens=le?.accepted_prediction_tokens),le?.rejected_prediction_tokens!=null&&(g.completionTokensDetails.rejectedPredictionTokens=le?.rejected_prediction_tokens),J?.cached_tokens!=null&&(g.promptTokensDetails.cachedTokens=J?.cached_tokens)}const se=ne.choices[0];if(se?.finish_reason!=null&&(f=AL(se.finish_reason)),se?.delta==null)return;const ue=se.delta;if(ue.reasoning_content!=null&&k.enqueue({type:"reasoning",textDelta:ue.reasoning_content}),ue.content!=null&&k.enqueue({type:"text-delta",textDelta:ue.content}),ue.tool_calls!=null)for(const me of ue.tool_calls){const ie=me.index;if(d[ie]==null){if(me.type!=="function")throw new NC({data:me,message:"Expected 'function' type."});if(me.id==null)throw new NC({data:me,message:"Expected 'id' to be a string."});if(((T=me.function)==null?void 0:T.name)==null)throw new NC({data:me,message:"Expected 'function.name' to be a string."});d[ie]={id:me.id,type:"function",function:{name:me.function.name,arguments:(E=me.function.arguments)!=null?E:""},hasFinished:!1};const le=d[ie];(($=le.function)==null?void 0:$.name)!=null&&((P=le.function)==null?void 0:P.arguments)!=null&&(le.function.arguments.length>0&&k.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:le.id,toolName:le.function.name,argsTextDelta:le.function.arguments}),cL(le.function.arguments)&&(k.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(M=le.id)!=null?M:RC(),toolName:le.function.name,args:le.function.arguments}),le.hasFinished=!0));continue}const J=d[ie];J.hasFinished||(((R=me.function)==null?void 0:R.arguments)!=null&&(J.function.arguments+=(F=(z=me.function)==null?void 0:z.arguments)!=null?F:""),k.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:J.id,toolName:J.function.name,argsTextDelta:(q=me.function.arguments)!=null?q:""}),((Z=J.function)==null?void 0:Z.name)!=null&&((re=J.function)==null?void 0:re.arguments)!=null&&cL(J.function.arguments)&&(k.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(ee=J.id)!=null?ee:RC(),toolName:J.function.name,args:J.function.arguments}),J.hasFinished=!0))}},flush(x){var k,T;const E={[b]:{},...o?.buildMetadata()};g.completionTokensDetails.reasoningTokens!=null&&(E[b].reasoningTokens=g.completionTokensDetails.reasoningTokens),g.completionTokensDetails.acceptedPredictionTokens!=null&&(E[b].acceptedPredictionTokens=g.completionTokensDetails.acceptedPredictionTokens),g.completionTokensDetails.rejectedPredictionTokens!=null&&(E[b].rejectedPredictionTokens=g.completionTokensDetails.rejectedPredictionTokens),g.promptTokensDetails.cachedTokens!=null&&(E[b].cachedPromptTokens=g.promptTokensDetails.cachedTokens),x.enqueue({type:"finish",finishReason:f,usage:{promptTokens:(k=g.promptTokens)!=null?k:NaN,completionTokens:(T=g.completionTokens)!=null?T:NaN},providerMetadata:E})}})),rawCall:{rawPrompt:l,rawSettings:u},rawResponse:{headers:s},warnings:r,request:{body:JSON.stringify(i)}}}},j3=tr({prompt_tokens:eo().nullish(),completion_tokens:eo().nullish(),prompt_tokens_details:tr({cached_tokens:eo().nullish()}).nullish(),completion_tokens_details:tr({reasoning_tokens:eo().nullish(),accepted_prediction_tokens:eo().nullish(),rejected_prediction_tokens:eo().nullish()}).nullish()}).nullish(),lpe=tr({id:Zn().nullish(),created:eo().nullish(),model:Zn().nullish(),choices:ed(tr({message:tr({role:YI("assistant").nullish(),content:Zn().nullish(),reasoning_content:Zn().nullish(),tool_calls:ed(tr({id:Zn().nullish(),type:YI("function"),function:tr({name:Zn(),arguments:Zn()})})).nullish()}),finish_reason:Zn().nullish()})),usage:j3}),upe=e=>R3([tr({id:Zn().nullish(),created:eo().nullish(),model:Zn().nullish(),choices:ed(tr({delta:tr({role:rpe(["assistant"]).nullish(),content:Zn().nullish(),reasoning_content:Zn().nullish(),tool_calls:ed(tr({index:eo().optional(),id:Zn().nullish(),type:YI("function").nullish(),function:tr({name:Zn().nullish(),arguments:Zn().nullish()})})).nullish()}).nullish(),finish_reason:Zn().nullish()})),usage:j3}),e]);tr({id:Zn().nullish(),created:eo().nullish(),model:Zn().nullish(),choices:ed(tr({text:Zn(),finish_reason:Zn()})),usage:tr({prompt_tokens:eo(),completion_tokens:eo()}).nullish()});tr({data:ed(tr({embedding:ed(eo())})),usage:tr({prompt_tokens:eo()}).nullish()});var cpe=class{constructor(e,t,n){this.modelId=e,this.settings=t,this.config=n,this.specificationVersion="v1"}get maxImagesPerCall(){var e;return(e=this.settings.maxImagesPerCall)!=null?e:10}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:n,aspectRatio:r,seed:i,providerOptions:o,headers:s,abortSignal:a}){var l,u,d,f,g;const m=[];r!=null&&m.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),i!=null&&m.push({type:"unsupported-setting",setting:"seed"});const b=(d=(u=(l=this.config._internal)==null?void 0:l.currentDate)==null?void 0:u.call(l))!=null?d:new Date,{value:x,responseHeaders:k}=await jI({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:RI(this.config.headers(),s),body:{model:this.modelId,prompt:e,n:t,size:n,...(f=o.openai)!=null?f:{},response_format:"b64_json",...this.settings.user?{user:this.settings.user}:{}},failedResponseHandler:T3((g=this.config.errorStructure)!=null?g:D3),successfulResponseHandler:C3(dpe),abortSignal:a,fetch:this.config.fetch});return{images:x.data.map(T=>T.b64_json),warnings:m,response:{timestamp:b,modelId:this.modelId,headers:k}}}},dpe=tr({data:ed(tr({b64_json:Zn()}))}),fpe={},ppe=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const i=S3(n,t);if(e==null)return i;if(n.includes(r))throw new Gde({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return o=>`${e}${r}${i(o)}`};ppe();function hpe({apiKey:e,environmentVariableName:t,apiKeyParameterName:n="apiKey",description:r}){if(typeof e=="string")return e;if(e!=null)throw new Bw({message:`${r} API key must be a string.`});if(typeof process>"u")throw new Bw({message:`${r} API key is missing. Pass it using the '${n}' parameter. Environment variables is not supported in this environment.`});if(e=fpe[t],e==null)throw new Bw({message:`${r} API key is missing. Pass it using the '${n}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new Bw({message:`${r} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}function mpe(e){return e?.replace(/\/$/,"")}function gpe(e){return["grok-3","grok-3-beta","grok-3-latest","grok-3-fast","grok-3-fast-beta","grok-3-fast-latest","grok-3-mini","grok-3-mini-beta","grok-3-mini-latest","grok-3-mini-fast","grok-3-mini-fast-beta","grok-3-mini-fast-latest","grok-2-1212","grok-2-vision-1212"].includes(e)}var ype=tr({code:Zn(),error:Zn()}),$L={errorSchema:ype,errorToMessage:e=>e.error};function L3(e={}){var t;const n=mpe((t=e.baseURL)!=null?t:"https://api.x.ai/v1"),r=()=>({Authorization:`Bearer ${hpe({apiKey:e.apiKey,environmentVariableName:"XAI_API_KEY",description:"xAI API key"})}`,...e.headers}),i=(a,l={})=>{const u=gpe(a);return new ape(a,l,{provider:"xai.chat",url:({path:d})=>`${n}${d}`,headers:r,fetch:e.fetch,defaultObjectGenerationMode:u?"json":"tool",errorStructure:$L,supportsStructuredOutputs:u,includeUsage:!0})},o=(a,l={})=>new cpe(a,l,{provider:"xai.image",url:({path:u})=>`${n}${u}`,headers:r,fetch:e.fetch,errorStructure:$L}),s=(a,l)=>i(a,l);return s.languageModel=i,s.chat=i,s.textEmbeddingModel=a=>{throw new Qde({modelId:a,modelType:"textEmbeddingModel"})},s.imageModel=o,s.image=o,s}L3();/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2022 Joachim Wester
 * MIT licensed
 */var vpe=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},e(t,n)};return function(t,n){e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),bpe=Object.prototype.hasOwnProperty;function XI(e,t){return bpe.call(e,t)}function QI(e){if(Array.isArray(e)){for(var t=new Array(e.length),n=0;n<t.length;n++)t[n]=""+n;return t}if(Object.keys)return Object.keys(e);var r=[];for(var i in e)XI(e,i)&&r.push(i);return r}function us(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function eA(e){for(var t=0,n=e.length,r;t<n;){if(r=e.charCodeAt(t),r>=48&&r<=57){t++;continue}return!1}return!0}function wf(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function z3(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function tA(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var t=0,n=e.length;t<n;t++)if(tA(e[t]))return!0}else if(typeof e=="object"){for(var r=QI(e),i=r.length,o=0;o<i;o++)if(tA(e[r[o]]))return!0}}return!1}function PL(e,t){var n=[e];for(var r in t){var i=typeof t[r]=="object"?JSON.stringify(t[r],null,2):t[r];typeof i<"u"&&n.push(r+": "+i)}return n.join(`
`)}var F3=(function(e){vpe(t,e);function t(n,r,i,o,s){var a=this.constructor,l=e.call(this,PL(n,{name:r,index:i,operation:o,tree:s}))||this;return l.name=r,l.index=i,l.operation=o,l.tree=s,Object.setPrototypeOf(l,a.prototype),l.message=PL(n,{name:r,index:i,operation:o,tree:s}),l}return t})(Error),yr=F3,xpe=us,vm={add:function(e,t,n){return e[t]=this.value,{newDocument:n}},remove:function(e,t,n){var r=e[t];return delete e[t],{newDocument:n,removed:r}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:function(e,t,n){var r=yk(n,this.path);r&&(r=us(r));var i=Uf(n,{op:"remove",path:this.from}).removed;return Uf(n,{op:"add",path:this.path,value:i}),{newDocument:n,removed:r}},copy:function(e,t,n){var r=yk(n,this.from);return Uf(n,{op:"add",path:this.path,value:us(r)}),{newDocument:n}},test:function(e,t,n){return{newDocument:n,test:Tb(e[t],this.value)}},_get:function(e,t,n){return this.value=e[t],{newDocument:n}}},wpe={add:function(e,t,n){return eA(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:n,index:t}},remove:function(e,t,n){var r=e.splice(t,1);return{newDocument:n,removed:r[0]}},replace:function(e,t,n){var r=e[t];return e[t]=this.value,{newDocument:n,removed:r}},move:vm.move,copy:vm.copy,test:vm.test,_get:vm._get};function yk(e,t){if(t=="")return e;var n={op:"_get",path:t};return Uf(e,n),n.value}function Uf(e,t,n,r,i,o){if(n===void 0&&(n=!1),r===void 0&&(r=!0),i===void 0&&(i=!0),o===void 0&&(o=0),n&&(typeof n=="function"?n(t,0,e,t.path):vk(t,0)),t.path===""){var s={newDocument:e};if(t.op==="add")return s.newDocument=t.value,s;if(t.op==="replace")return s.newDocument=t.value,s.removed=e,s;if(t.op==="move"||t.op==="copy")return s.newDocument=yk(e,t.from),t.op==="move"&&(s.removed=e),s;if(t.op==="test"){if(s.test=Tb(e,t.value),s.test===!1)throw new yr("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s.newDocument=e,s}else{if(t.op==="remove")return s.removed=e,s.newDocument=null,s;if(t.op==="_get")return t.value=e,s;if(n)throw new yr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",o,t,e);return s}}else{r||(e=us(e));var a=t.path||"",l=a.split("/"),u=e,d=1,f=l.length,g=void 0,m=void 0,b=void 0;for(typeof n=="function"?b=n:b=vk;;){if(m=l[d],m&&m.indexOf("~")!=-1&&(m=z3(m)),i&&(m=="__proto__"||m=="prototype"&&d>0&&l[d-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(n&&g===void 0&&(u[m]===void 0?g=l.slice(0,d).join("/"):d==f-1&&(g=t.path),g!==void 0&&b(t,0,e,g)),d++,Array.isArray(u)){if(m==="-")m=u.length;else{if(n&&!eA(m))throw new yr("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",o,t,e);eA(m)&&(m=~~m)}if(d>=f){if(n&&t.op==="add"&&m>u.length)throw new yr("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",o,t,e);var s=wpe[t.op].call(t,u,m,e);if(s.test===!1)throw new yr("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}}else if(d>=f){var s=vm[t.op].call(t,u,m,e);if(s.test===!1)throw new yr("Test operation failed","TEST_OPERATION_FAILED",o,t,e);return s}if(u=u[m],n&&d<f&&(!u||typeof u!="object"))throw new yr("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",o,t,e)}}}function n1(e,t,n,r,i){if(r===void 0&&(r=!0),i===void 0&&(i=!0),n&&!Array.isArray(t))throw new yr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");r||(e=us(e));for(var o=new Array(t.length),s=0,a=t.length;s<a;s++)o[s]=Uf(e,t[s],n,!0,i,s),e=o[s].newDocument;return o.newDocument=e,o}function Spe(e,t,n){var r=Uf(e,t);if(r.test===!1)throw new yr("Test operation failed","TEST_OPERATION_FAILED",n,t,e);return r.newDocument}function vk(e,t,n,r){if(typeof e!="object"||e===null||Array.isArray(e))throw new yr("Operation is not an object","OPERATION_NOT_AN_OBJECT",t,e,n);if(vm[e.op]){if(typeof e.path!="string")throw new yr("Operation `path` property is not a string","OPERATION_PATH_INVALID",t,e,n);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new yr('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",t,e,n);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new yr("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new yr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",t,e,n);if((e.op==="add"||e.op==="replace"||e.op==="test")&&tA(e.value))throw new yr("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",t,e,n);if(n){if(e.op=="add"){var i=e.path.split("/").length,o=r.split("/").length;if(i!==o+1&&i!==o)throw new yr("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",t,e,n)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==r)throw new yr("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",t,e,n)}else if(e.op==="move"||e.op==="copy"){var s={op:"_get",path:e.from,value:void 0},a=V3([s],n);if(a&&a.name==="OPERATION_PATH_UNRESOLVABLE")throw new yr("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",t,e,n)}}}else throw new yr("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",t,e,n)}function V3(e,t,n){try{if(!Array.isArray(e))throw new yr("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(t)n1(us(t),us(e),n||!0);else{n=n||vk;for(var r=0;r<e.length;r++)n(e[r],r,t,void 0)}}catch(i){if(i instanceof yr)return i;throw i}}function Tb(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){var n=Array.isArray(e),r=Array.isArray(t),i,o,s;if(n&&r){if(o=e.length,o!=t.length)return!1;for(i=o;i--!==0;)if(!Tb(e[i],t[i]))return!1;return!0}if(n!=r)return!1;var a=Object.keys(e);if(o=a.length,o!==Object.keys(t).length)return!1;for(i=o;i--!==0;)if(!t.hasOwnProperty(a[i]))return!1;for(i=o;i--!==0;)if(s=a[i],!Tb(e[s],t[s]))return!1;return!0}return e!==e&&t!==t}const kpe=Object.freeze(Object.defineProperty({__proto__:null,JsonPatchError:yr,_areEquals:Tb,applyOperation:Uf,applyPatch:n1,applyReducer:Spe,deepClone:xpe,getValueByPointer:yk,validate:V3,validator:vk},Symbol.toStringTag,{value:"Module"}));/*!
 * https://github.com/Starcounter-Jack/JSON-Patch
 * (c) 2017-2021 Joachim Wester
 * MIT license
 */var vM=new WeakMap,_pe=(function(){function e(t){this.observers=new Map,this.obj=t}return e})(),Tpe=(function(){function e(t,n){this.callback=t,this.observer=n}return e})();function Cpe(e){return vM.get(e)}function Epe(e,t){return e.observers.get(t)}function Ipe(e,t){e.observers.delete(t.callback)}function Ape(e,t){t.unobserve()}function $pe(e,t){var n=[],r,i=Cpe(e);if(!i)i=new _pe(e),vM.set(e,i);else{var o=Epe(i,t);r=o&&o.observer}if(r)return r;if(r={},i.value=us(e),t){r.callback=t,r.next=null;var s=function(){nA(r)},a=function(){clearTimeout(r.next),r.next=setTimeout(s)};typeof window<"u"&&(window.addEventListener("mouseup",a),window.addEventListener("keyup",a),window.addEventListener("mousedown",a),window.addEventListener("keydown",a),window.addEventListener("change",a))}return r.patches=n,r.object=e,r.unobserve=function(){nA(r),clearTimeout(r.next),Ipe(i,r),typeof window<"u"&&(window.removeEventListener("mouseup",a),window.removeEventListener("keyup",a),window.removeEventListener("mousedown",a),window.removeEventListener("keydown",a),window.removeEventListener("change",a))},i.observers.set(t,new Tpe(t,r)),r}function nA(e,t){t===void 0&&(t=!1);var n=vM.get(e.object);bM(n.value,e.object,e.patches,"",t),e.patches.length&&n1(n.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function bM(e,t,n,r,i){if(t!==e){typeof t.toJSON=="function"&&(t=t.toJSON());for(var o=QI(t),s=QI(e),a=!1,l=s.length-1;l>=0;l--){var u=s[l],d=e[u];if(XI(t,u)&&!(t[u]===void 0&&d!==void 0&&Array.isArray(t)===!1)){var f=t[u];typeof d=="object"&&d!=null&&typeof f=="object"&&f!=null&&Array.isArray(d)===Array.isArray(f)?bM(d,f,n,r+"/"+wf(u),i):d!==f&&(i&&n.push({op:"test",path:r+"/"+wf(u),value:us(d)}),n.push({op:"replace",path:r+"/"+wf(u),value:us(f)}))}else Array.isArray(e)===Array.isArray(t)?(i&&n.push({op:"test",path:r+"/"+wf(u),value:us(d)}),n.push({op:"remove",path:r+"/"+wf(u)}),a=!0):(i&&n.push({op:"test",path:r,value:e}),n.push({op:"replace",path:r,value:t}))}if(!(!a&&o.length==s.length))for(var l=0;l<o.length;l++){var u=o[l];!XI(e,u)&&t[u]!==void 0&&n.push({op:"add",path:r+"/"+wf(u),value:us(t[u])})}}}function rA(e,t,n){n===void 0&&(n=!1);var r=[];return bM(e,t,r,"",n),r}const Ppe=Object.freeze(Object.defineProperty({__proto__:null,compare:rA,generate:nA,observe:$pe,unobserve:Ape},Symbol.toStringTag,{value:"Module"}));Object.assign({},kpe,Ppe,{JsonPatchError:F3,deepClone:us,escapePathComponent:wf,unescapePathComponent:z3});function $l(){}$l.prototype={diff:function(t,n){var r,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.callback;typeof i=="function"&&(o=i,i={});var s=this;function a(P){return P=s.postProcess(P,i),o?(setTimeout(function(){o(P)},0),!0):P}t=this.castInput(t,i),n=this.castInput(n,i),t=this.removeEmpty(this.tokenize(t,i)),n=this.removeEmpty(this.tokenize(n,i));var l=n.length,u=t.length,d=1,f=l+u;i.maxEditLength!=null&&(f=Math.min(f,i.maxEditLength));var g=(r=i.timeout)!==null&&r!==void 0?r:1/0,m=Date.now()+g,b=[{oldPos:-1,lastComponent:void 0}],x=this.extractCommon(b[0],n,t,0,i);if(b[0].oldPos+1>=u&&x+1>=l)return a(ML(s,b[0].lastComponent,n,t,s.useLongestToken));var k=-1/0,T=1/0;function E(){for(var P=Math.max(k,-d);P<=Math.min(T,d);P+=2){var M=void 0,R=b[P-1],z=b[P+1];R&&(b[P-1]=void 0);var F=!1;if(z){var q=z.oldPos-P;F=z&&0<=q&&q<l}var Z=R&&R.oldPos+1<u;if(!F&&!Z){b[P]=void 0;continue}if(!Z||F&&R.oldPos<z.oldPos?M=s.addToPath(z,!0,!1,0,i):M=s.addToPath(R,!1,!0,1,i),x=s.extractCommon(M,n,t,P,i),M.oldPos+1>=u&&x+1>=l)return a(ML(s,M.lastComponent,n,t,s.useLongestToken));b[P]=M,M.oldPos+1>=u&&(T=Math.min(T,P-1)),x+1>=l&&(k=Math.max(k,P+1))}d++}if(o)(function P(){setTimeout(function(){if(d>f||Date.now()>m)return o();E()||P()},0)})();else for(;d<=f&&Date.now()<=m;){var $=E();if($)return $}},addToPath:function(t,n,r,i,o){var s=t.lastComponent;return s&&!o.oneChangePerToken&&s.added===n&&s.removed===r?{oldPos:t.oldPos+i,lastComponent:{count:s.count+1,added:n,removed:r,previousComponent:s.previousComponent}}:{oldPos:t.oldPos+i,lastComponent:{count:1,added:n,removed:r,previousComponent:s}}},extractCommon:function(t,n,r,i,o){for(var s=n.length,a=r.length,l=t.oldPos,u=l-i,d=0;u+1<s&&l+1<a&&this.equals(r[l+1],n[u+1],o);)u++,l++,d++,o.oneChangePerToken&&(t.lastComponent={count:1,previousComponent:t.lastComponent,added:!1,removed:!1});return d&&!o.oneChangePerToken&&(t.lastComponent={count:d,previousComponent:t.lastComponent,added:!1,removed:!1}),t.oldPos=l,u},equals:function(t,n,r){return r.comparator?r.comparator(t,n):t===n||r.ignoreCase&&t.toLowerCase()===n.toLowerCase()},removeEmpty:function(t){for(var n=[],r=0;r<t.length;r++)t[r]&&n.push(t[r]);return n},castInput:function(t){return t},tokenize:function(t){return Array.from(t)},join:function(t){return t.join("")},postProcess:function(t){return t}};function ML(e,t,n,r,i){for(var o=[],s;t;)o.push(t),s=t.previousComponent,delete t.previousComponent,t=s;o.reverse();for(var a=0,l=o.length,u=0,d=0;a<l;a++){var f=o[a];if(f.removed)f.value=e.join(r.slice(d,d+f.count)),d+=f.count;else{if(!f.added&&i){var g=n.slice(u,u+f.count);g=g.map(function(m,b){var x=r[d+b];return x.length>m.length?x:m}),f.value=e.join(g)}else f.value=e.join(n.slice(u,u+f.count));u+=f.count,f.added||(d+=f.count)}}return o}function OL(e,t){var n;for(n=0;n<e.length&&n<t.length;n++)if(e[n]!=t[n])return e.slice(0,n);return e.slice(0,n)}function NL(e,t){var n;if(!e||!t||e[e.length-1]!=t[t.length-1])return"";for(n=0;n<e.length&&n<t.length;n++)if(e[e.length-(n+1)]!=t[t.length-(n+1)])return e.slice(-n);return e.slice(-n)}function iA(e,t,n){if(e.slice(0,t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't start with prefix ").concat(JSON.stringify(t),"; this is a bug"));return n+e.slice(t.length)}function oA(e,t,n){if(!t)return e+n;if(e.slice(-t.length)!=t)throw Error("string ".concat(JSON.stringify(e)," doesn't end with suffix ").concat(JSON.stringify(t),"; this is a bug"));return e.slice(0,-t.length)+n}function fv(e,t){return iA(e,t,"")}function Uw(e,t){return oA(e,t,"")}function RL(e,t){return t.slice(0,Mpe(e,t))}function Mpe(e,t){var n=0;e.length>t.length&&(n=e.length-t.length);var r=t.length;e.length<t.length&&(r=e.length);var i=Array(r),o=0;i[0]=0;for(var s=1;s<r;s++){for(t[s]==t[o]?i[s]=i[o]:i[s]=o;o>0&&t[s]!=t[o];)o=i[o];t[s]==t[o]&&o++}o=0;for(var a=n;a<e.length;a++){for(;o>0&&e[a]!=t[o];)o=i[o];e[a]==t[o]&&o++}return o}var bk="a-zA-Z0-9_\\u{C0}-\\u{FF}\\u{D8}-\\u{F6}\\u{F8}-\\u{2C6}\\u{2C8}-\\u{2D7}\\u{2DE}-\\u{2FF}\\u{1E00}-\\u{1EFF}",Ope=new RegExp("[".concat(bk,"]+|\\s+|[^").concat(bk,"]"),"ug"),r1=new $l;r1.equals=function(e,t,n){return n.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e.trim()===t.trim()};r1.tokenize=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n;if(t.intlSegmenter){if(t.intlSegmenter.resolvedOptions().granularity!="word")throw new Error('The segmenter passed must have a granularity of "word"');n=Array.from(t.intlSegmenter.segment(e),function(o){return o.segment})}else n=e.match(Ope)||[];var r=[],i=null;return n.forEach(function(o){/\s/.test(o)?i==null?r.push(o):r.push(r.pop()+o):/\s/.test(i)?r[r.length-1]==i?r.push(r.pop()+o):r.push(i+o):r.push(o),i=o}),r};r1.join=function(e){return e.map(function(t,n){return n==0?t:t.replace(/^\s+/,"")}).join("")};r1.postProcess=function(e,t){if(!e||t.oneChangePerToken)return e;var n=null,r=null,i=null;return e.forEach(function(o){o.added?r=o:o.removed?i=o:((r||i)&&DL(n,i,r,o),n=o,r=null,i=null)}),(r||i)&&DL(n,i,r,null),e};function DL(e,t,n,r){if(t&&n){var i=t.value.match(/^\s*/)[0],o=t.value.match(/\s*$/)[0],s=n.value.match(/^\s*/)[0],a=n.value.match(/\s*$/)[0];if(e){var l=OL(i,s);e.value=oA(e.value,s,l),t.value=fv(t.value,l),n.value=fv(n.value,l)}if(r){var u=NL(o,a);r.value=iA(r.value,a,u),t.value=Uw(t.value,u),n.value=Uw(n.value,u)}}else if(n)e&&(n.value=n.value.replace(/^\s*/,"")),r&&(r.value=r.value.replace(/^\s*/,""));else if(e&&r){var d=r.value.match(/^\s*/)[0],f=t.value.match(/^\s*/)[0],g=t.value.match(/\s*$/)[0],m=OL(d,f);t.value=fv(t.value,m);var b=NL(fv(d,m),g);t.value=Uw(t.value,b),r.value=iA(r.value,d,b),e.value=oA(e.value,d,d.slice(0,d.length-b.length))}else if(r){var x=r.value.match(/^\s*/)[0],k=t.value.match(/\s*$/)[0],T=RL(k,x);t.value=Uw(t.value,T)}else if(e){var E=e.value.match(/\s*$/)[0],$=t.value.match(/^\s*/)[0],P=RL(E,$);t.value=fv(t.value,P)}}var Npe=new $l;Npe.tokenize=function(e){var t=new RegExp("(\\r?\\n)|[".concat(bk,"]+|[^\\S\\n\\r]+|[^").concat(bk,"]"),"ug");return e.match(t)||[]};var xM=new $l;xM.tokenize=function(e,t){t.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var n=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var i=0;i<r.length;i++){var o=r[i];i%2&&!t.newlineIsToken?n[n.length-1]+=o:n.push(o)}return n};xM.equals=function(e,t,n){return n.ignoreWhitespace?((!n.newlineIsToken||!e.includes(`
`))&&(e=e.trim()),(!n.newlineIsToken||!t.includes(`
`))&&(t=t.trim())):n.ignoreNewlineAtEof&&!n.newlineIsToken&&(e.endsWith(`
`)&&(e=e.slice(0,-1)),t.endsWith(`
`)&&(t=t.slice(0,-1))),$l.prototype.equals.call(this,e,t,n)};var Rpe=new $l;Rpe.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var Dpe=new $l;Dpe.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function sA(e){"@babel/helpers - typeof";return sA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sA(e)}var Cb=new $l;Cb.useLongestToken=!0;Cb.tokenize=xM.tokenize;Cb.castInput=function(e,t){var n=t.undefinedReplacement,r=t.stringifyReplacer,i=r===void 0?function(o,s){return typeof s>"u"?n:s}:r;return typeof e=="string"?e:JSON.stringify(aA(e,null,null,i),i,"  ")};Cb.equals=function(e,t,n){return $l.prototype.equals.call(Cb,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"),n)};function aA(e,t,n,r,i){t=t||[],n=n||[],r&&(e=r(i,e));var o;for(o=0;o<t.length;o+=1)if(t[o]===e)return n[o];var s;if(Object.prototype.toString.call(e)==="[object Array]"){for(t.push(e),s=new Array(e.length),n.push(s),o=0;o<e.length;o+=1)s[o]=aA(e[o],t,n,r,i);return t.pop(),n.pop(),s}if(e&&e.toJSON&&(e=e.toJSON()),sA(e)==="object"&&e!==null){t.push(e),s={},n.push(s);var a=[],l;for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&a.push(l);for(a.sort(),o=0;o<a.length;o+=1)l=a[o],s[l]=aA(e[l],t,n,r,l);t.pop(),n.pop()}else s=e;return s}var lA=new $l;lA.tokenize=function(e){return e.slice()};lA.join=lA.removeEmpty=function(e){return e};function gi(e){this.content=e}gi.prototype={constructor:gi,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,i=r.find(e),o=r.content.slice();return i==-1?o.push(n||e,t):(o[i+1]=t,n&&(o[i]=n)),new gi(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new gi(n)},addToStart:function(e,t){return new gi([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new gi(n)},addBefore:function(e,t,n){var r=this.remove(t),i=r.content.slice(),o=r.find(e);return i.splice(o==-1?i.length:o,0,t,n),new gi(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=gi.from(e),e.size?new gi(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=gi.from(e),e.size?new gi(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=gi.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};gi.from=function(e){if(e instanceof gi)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new gi(t)};function B3(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let i=e.child(r),o=t.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=B3(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function U3(e,t,n,r){for(let i=e.childCount,o=t.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=e.child(--i),a=t.child(--o),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let u=0,d=Math.min(s.text.length,a.text.length);for(;u<d&&s.text[s.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let u=U3(s.content,a.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class Se{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let r=0;r<t.length;r++)this.size+=t[r].nodeSize}nodesBetween(t,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],u=a+l.nodeSize;if(u>t&&r(l,i+a,o||null,s)!==!1&&l.content.size){let d=a+1;l.nodesBetween(Math.max(0,t-d),Math.min(l.content.size,n-d),r,i+d)}a=u}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,r,i){let o="",s=!0;return this.nodesBetween(t,n,(a,l)=>{let u=a.isText?a.text.slice(Math.max(t,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&r&&(s?s=!1:o+=r),o+=u},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,r=t.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new Se(i,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let r=[],i=0;if(n>t)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>t&&((s<t||l>n)&&(a.isText?a=a.cut(Math.max(0,t-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,t-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=l}return new Se(r,i)}cutByIndex(t,n){return t==n?Se.empty:t==0&&n==this.content.length?this:new Se(this.content.slice(t,n))}replaceChild(t,n){let r=this.content[t];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[t]=n,new Se(i,o)}addToStart(t){return new Se([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Se(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];t(i,r,n),r+=i.nodeSize}}findDiffStart(t,n=0){return B3(this,t,n)}findDiffEnd(t,n=this.size,r=t.size){return U3(this,t,n,r)}findIndex(t){if(t==0)return Zw(0,t);if(t==this.size)return Zw(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,r=0;;n++){let i=this.child(n),o=r+i.nodeSize;if(o>=t)return o==t?Zw(n+1,o):Zw(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return Se.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Se(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Se.empty;let n,r=0;for(let i=0;i<t.length;i++){let o=t[i];r+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(n||(n=t.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new Se(n||t,r)}static from(t){if(!t)return Se.empty;if(t instanceof Se)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Se([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Se.empty=new Se([],0);const LC={index:0,offset:0};function Zw(e,t){return LC.index=e,LC.offset=t,LC}function xk(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!xk(e[r],t[r]))return!1}else{for(let r in e)if(!(r in t)||!xk(e[r],t[r]))return!1;for(let r in t)if(!(r in e))return!1}return!0}let Nn=class uA{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,r=!1;for(let i=0;i<t.length;i++){let o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))n||(n=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!r&&o.type.rank>this.type.rank&&(n||(n=t.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=t.slice()),r||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&xk(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=t.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].eq(n[r]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return uA.none;if(t instanceof uA)return[t];let n=t.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Nn.none=[];class Eb extends Error{}class Re{constructor(t,n,r){this.content=t,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let r=W3(this.content,t+this.openStart,n);return r&&new Re(r,this.openStart,this.openEnd)}removeBetween(t,n){return new Re(Z3(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Re.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Re(Se.fromJSON(t,n.content),r,i)}static maxOpen(t,n=!0){let r=0,i=0;for(let o=t.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=t.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new Re(t,r,i)}}Re.empty=new Re(Se.empty,0,0);function Z3(e,t,n){let{index:r,offset:i}=e.findIndex(t),o=e.maybeChild(r),{index:s,offset:a}=e.findIndex(n);if(i==t||o.isText){if(a!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(r,o.copy(Z3(o.content,t-i-1,n-i-1)))}function W3(e,t,n,r){let{index:i,offset:o}=e.findIndex(t),s=e.maybeChild(i);if(o==t||s.isText)return e.cut(0,t).append(n).append(e.cut(t));let a=W3(s.content,t-o-1,n);return a&&e.replaceChild(i,s.copy(a))}function jpe(e,t,n){if(n.openStart>e.depth)throw new Eb("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new Eb("Inconsistent open depths");return H3(e,t,n,0)}function H3(e,t,n,r){let i=e.index(r),o=e.node(r);if(i==t.index(r)&&r<e.depth-n.openStart){let s=H3(e,t,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==r&&t.depth==r){let s=e.parent,a=s.content;return Wf(s,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:s,end:a}=Lpe(n,e);return Wf(o,J3(e,s,a,t,r))}else return Wf(o,wk(e,t,r))}function q3(e,t){if(!t.type.compatibleContent(e.type))throw new Eb("Cannot join "+t.type.name+" onto "+e.type.name)}function cA(e,t,n){let r=e.node(n);return q3(r,t.node(n)),r}function Zf(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Qv(e,t,n,r){let i=(t||e).node(n),o=0,s=t?t.index(n):i.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(Zf(e.nodeAfter,r),o++));for(let a=o;a<s;a++)Zf(i.child(a),r);t&&t.depth==n&&t.textOffset&&Zf(t.nodeBefore,r)}function Wf(e,t){return e.type.checkContent(t),e.copy(t)}function J3(e,t,n,r,i){let o=e.depth>i&&cA(e,t,i+1),s=r.depth>i&&cA(n,r,i+1),a=[];return Qv(null,e,i,a),o&&s&&t.index(i)==n.index(i)?(q3(o,s),Zf(Wf(o,J3(e,t,n,r,i+1)),a)):(o&&Zf(Wf(o,wk(e,t,i+1)),a),Qv(t,n,i,a),s&&Zf(Wf(s,wk(n,r,i+1)),a)),Qv(r,null,i,a),new Se(a)}function wk(e,t,n){let r=[];if(Qv(null,e,n,r),e.depth>n){let i=cA(e,t,n+1);Zf(Wf(i,wk(e,t,n+1)),r)}return Qv(t,null,n,r),new Se(r)}function Lpe(e,t){let n=t.depth-e.openStart,i=t.node(n).copy(e.content);for(let o=n-1;o>=0;o--)i=t.node(o).copy(Se.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}class Ib{constructor(t,n,r){this.pos=t,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=t.child(n);return r?t.child(n).cut(r):i}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<t;o++)i+=r.child(o).nodeSize;return i}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return Nn.none;if(this.textOffset)return t.child(n).marks;let r=t.maybeChild(n-1),i=t.maybeChild(n);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=t.parent.maybeChild(t.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);r>=0;r--)if(t.pos<=this.end(r)&&(!n||n(this.node(r))))return new Sk(this,t,r);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=t;;){let{index:a,offset:l}=s.content.findIndex(o),u=o-l;if(r.push(s,a,i+l),!u||(s=s.child(a),s.isText))break;o=u-1,i+=l+1}return new Ib(n,r,o)}static resolveCached(t,n){let r=jL.get(t);if(r)for(let o=0;o<r.elts.length;o++){let s=r.elts[o];if(s.pos==n)return s}else jL.set(t,r=new zpe);let i=r.elts[r.i]=Ib.resolve(t,n);return r.i=(r.i+1)%Fpe,i}}class zpe{constructor(){this.elts=[],this.i=0}}const Fpe=12,jL=new WeakMap;class Sk{constructor(t,n,r){this.$from=t,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Vpe=Object.create(null);let Au=class dA{constructor(t,n,r,i=Nn.none){this.type=t,this.attrs=n,this.marks=i,this.content=r||Se.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,r,i=0){this.content.nodesBetween(t,n,r,i,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,r,i){return this.content.textBetween(t,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,r){return this.type==t&&xk(this.attrs,n||t.defaultAttrs||Vpe)&&Nn.sameSet(this.marks,r||Nn.none)}copy(t=null){return t==this.content?this:new dA(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new dA(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,r=!1){if(t==n)return Re.empty;let i=this.resolve(t),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s),u=i.node(s).content.cut(i.pos-a,o.pos-a);return new Re(u,i.depth-s,o.depth-s)}replace(t,n,r){return jpe(this.resolve(t),this.resolve(n),r)}nodeAt(t){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(t);if(n=n.maybeChild(r),!n)return null;if(i==t||n.isText)return n;t-=i+1}}childAfter(t){let{index:n,offset:r}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(t);if(r<t)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(t){return Ib.resolveCached(this,t)}resolveNoCache(t){return Ib.resolve(this,t)}rangeHasMark(t,n,r){let i=!1;return n>t&&this.nodesBetween(t,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),K3(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,r=Se.empty,i=0,o=r.childCount){let s=this.contentMatchAt(t).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(t,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(t).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=Nn.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),t=r.addToSet(t)}if(!Nn.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,r)}let i=Se.fromJSON(t,n.content),o=t.nodeType(n.type).create(n.attrs,i,r);return o.type.checkAttrs(o.attrs),o}};Au.prototype.text=void 0;class kk extends Au{constructor(t,n,r,i){if(super(t,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):K3(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new kk(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new kk(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function K3(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class ep{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let r=new Bpe(t,n);if(r.next==null)return ep.empty;let i=G3(r);r.next&&r.err("Unexpected trailing text");let o=Kpe(Jpe(i));return Gpe(o,r),o}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,r=t.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(t.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let r=0;r<t.next.length;r++)if(this.next[n].type==t.next[r].type)return!0;return!1}fillBefore(t,n=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(t,r);if(l&&(!n||l.validEnd))return Se.from(a.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:d,next:f}=s.next[u];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let g=o(f,a.concat(d));if(g)return g}}return null}return o(this,[])}findWrapping(t){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(t)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(r){t.push(r);for(let i=0;i<r.next.length;i++)t.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),t.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+t.indexOf(r.next[s].next);return o}).join(`
`)}}ep.empty=new ep(!0);class Bpe{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function G3(e){let t=[];do t.push(Upe(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function Upe(e){let t=[];do t.push(Zpe(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function Zpe(e){let t=qpe(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=Wpe(e,t);else break;return t}function LL(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function Wpe(e,t){let n=LL(e),r=n;return e.eat(",")&&(e.next!="}"?r=LL(e):r=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function Hpe(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.isInGroup(t)&&i.push(s)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function qpe(e){if(e.eat("(")){let t=G3(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=Hpe(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function Jpe(e){let t=[[]];return i(o(e,0),n()),t;function n(){return t.push([])-1}function r(s,a,l){let u={term:l,to:a};return t[s].push(u),u}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,u)=>l.concat(o(u,a)),[]);if(s.type=="seq")for(let l=0;;l++){let u=o(s.exprs[l],a);if(l==s.exprs.length-1)return u;i(u,a=n())}else if(s.type=="star"){let l=n();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let u=0;u<s.min;u++){let d=n();i(o(s.expr,l),d),l=d}if(s.max==-1)i(o(s.expr,l),l);else for(let u=s.min;u<s.max;u++){let d=n();r(l,d),i(o(s.expr,l),d),l=d}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function Y3(e,t){return t-e}function zL(e,t){let n=[];return r(t),n.sort(Y3);function r(i){let o=e[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&n.indexOf(l)==-1&&r(l)}}}function Kpe(e){let t=Object.create(null);return n(zL(e,0));function n(r){let i=[];r.forEach(s=>{e[s].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let d=0;d<i.length;d++)i[d][0]==a&&(u=i[d][1]);zL(e,l).forEach(d=>{u||i.push([a,u=[]]),u.indexOf(d)==-1&&u.push(d)})})});let o=t[r.join(",")]=new ep(r.indexOf(e.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(Y3);o.next.push({type:i[s][0],next:t[a.join(",")]||n(a)})}return o}}function Gpe(e,t){for(let n=0,r=[e];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:u}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function X3(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function Q3(e,t){let n=Object.create(null);for(let r in e){let i=t&&t[r];if(i===void 0){let o=e[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function eZ(e,t,n,r){for(let i in t)if(!(i in e))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in e){let o=e[i];o.validate&&o.validate(t[i])}}function tZ(e,t){let n=Object.create(null);if(t)for(let r in t)n[r]=new Xpe(e,r,t[r]);return n}let FL=class nZ{constructor(t,n,r){this.name=t,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=tZ(t,r.attrs),this.defaultAttrs=X3(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ep.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:Q3(this.attrs,t)}create(t=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Au(this,this.computeAttrs(t),Se.from(n),Nn.setFrom(r))}createChecked(t=null,n,r){return n=Se.from(n),this.checkContent(n),new Au(this,this.computeAttrs(t),n,Nn.setFrom(r))}createAndFill(t=null,n,r){if(t=this.computeAttrs(t),n=Se.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(Se.empty,!0);return o?new Au(this,t,n.append(o),Nn.setFrom(r)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let r=0;r<t.childCount;r++)if(!this.allowsMarks(t.child(r).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){eZ(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let r=0;r<t.length;r++)this.allowsMarkType(t[r].type)?n&&n.push(t[r]):n||(n=t.slice(0,r));return n?n.length?n:Nn.none:t}static compile(t,n){let r=Object.create(null);t.forEach((o,s)=>r[o]=new nZ(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function Ype(e,t,n){let r=n.split("|");return i=>{let o=i===null?"null":typeof i;if(r.indexOf(o)<0)throw new RangeError(`Expected value of type ${r} for attribute ${t} on type ${e}, got ${o}`)}}class Xpe{constructor(t,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?Ype(t,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class i1{constructor(t,n,r,i){this.name=t,this.rank=n,this.schema=r,this.spec=i,this.attrs=tZ(t,i.attrs),this.excluded=null;let o=X3(this.attrs);this.instance=o?new Nn(this,o):null}create(t=null){return!t&&this.instance?this.instance:new Nn(this,Q3(this.attrs,t))}static compile(t,n){let r=Object.create(null),i=0;return t.forEach((o,s)=>r[o]=new i1(o,i++,n,s)),r}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){eZ(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}let rZ=class{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in t)n[i]=t[i];n.nodes=gi.from(t.nodes),n.marks=gi.from(t.marks||{}),this.nodes=FL.compile(this.spec.nodes,this),this.marks=i1.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=r[s]||(r[s]=ep.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?VL(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:VL(this,s.split(" "))}this.nodeFromJSON=i=>Au.fromJSON(this,i),this.markFromJSON=i=>Nn.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,r,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof FL){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,r,i)}text(t,n){let r=this.nodes.text;return new kk(r,r.defaultAttrs,t,Nn.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}};function VL(e,t){let n=[];for(let r=0;r<t.length;r++){let i=t[r],o=e.marks[i],s=o;if(o)n.push(o);else for(let a in e.marks){let l=e.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}function Qpe(e){return e.tag!=null}function ehe(e){return e.style!=null}class Wc{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(Qpe(i))this.tags.push(i);else if(ehe(i)){let o=/[^=]*/.exec(i.style)[0];r.indexOf(o)<0&&r.push(o),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let o=t.nodes[i.node];return o.contentMatch.matchType(o)})}parse(t,n={}){let r=new UL(this,n,!1);return r.addAll(t,Nn.none,n.from,n.to),r.finish()}parseSlice(t,n={}){let r=new UL(this,n,!0);return r.addAll(t,Nn.none,n.from,n.to),Re.maxOpen(r.finish())}matchTag(t,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(rhe(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(t);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(t,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(t)!=0||s.context&&!r.matchesContext(s.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(t){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<o)break}n.splice(s,0,i)}for(let i in t.marks){let o=t.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=ZL(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in t.nodes){let o=t.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=ZL(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Wc(t,Wc.schemaRules(t)))}}const iZ={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},the={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},oZ={ol:!0,ul:!0},Ab=1,fA=2,eb=4;function BL(e,t,n){return t!=null?(t?Ab:0)|(t==="full"?fA:0):e&&e.whitespace=="pre"?Ab|fA:n&~eb}class Ww{constructor(t,n,r,i,o,s){this.type=t,this.attrs=n,this.marks=r,this.solid=i,this.options=s,this.content=[],this.activeMarks=Nn.none,this.match=o||(s&eb?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Se.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(t.type))?(this.match=r,i):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Ab)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=Se.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(Se.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!iZ.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class UL{constructor(t,n,r){this.parser=t,this.options=n,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=n.topNode,o,s=BL(null,n.preserveWhitespace,0)|(r?eb:0);i?o=new Ww(i.type,i.attrs,Nn.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new Ww(null,null,Nn.none,!0,null,s):o=new Ww(t.schema.topNodeType,null,Nn.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let r=t.nodeValue,i=this.top,o=i.options&fA?"full":this.localPreserveWS||(i.options&Ab)>0;if(o==="full"||i.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(o)o!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],a=t.previousSibling;(!s||a&&a.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n,!/\S/.test(r)),this.findInText(t)}else this.findInside(t)}addElement(t,n,r){let i=this.localPreserveWS,o=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let s=t.nodeName.toLowerCase(),a;oZ.hasOwnProperty(s)&&this.parser.normalizeLists&&nhe(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(a=this.parser.matchTag(t,this,r));e:if(l?l.ignore:the.hasOwnProperty(s))this.findInside(t),this.ignoreFallback(t,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let u,d=this.needsBlock;if(iZ.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),u=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let f=l&&l.skip?n:this.readStyles(t,n);f&&this.addAll(t,f),u&&this.sync(o),this.needsBlock=d}else{let u=this.readStyles(t,n);u&&this.addElementByRule(t,l,u,l.consuming===!1?a:void 0)}this.localPreserveWS=i}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let r=t.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let o=this.parser.matchedStyles[i],s=r.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(u=>!l.clearMark(u)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(t,n,r,i){let o,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),r,t.nodeName=="BR")||this.leafFallback(t,r);else{let l=this.enter(s,n.attrs||null,r,n.preserveWhitespace);l&&(o=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(t);else if(i)this.addElement(t,r,i);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,r,!1));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l,r),this.findAround(t,l,!1)}o&&this.sync(a)&&this.open--}addAll(t,n,r,i){let o=r||0;for(let s=r?t.childNodes[r]:t.firstChild,a=i==null?null:t.childNodes[i];s!=a;s=s.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(s,n);this.findAtPoint(t,o)}findPlace(t,n,r){let i,o;for(let s=this.open,a=0;s>=0;s--){let l=this.nodes[s],u=l.findWrapping(t);if(u&&(!i||i.length>u.length+a)&&(i=u,o=l,!u.length))break;if(l.solid){if(r)break;a+=2}}if(!i)return null;this.sync(o);for(let s=0;s<i.length;s++)n=this.enterInner(i[s],null,n,!1);return n}insertNode(t,n,r){if(t.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let i=this.findPlace(t,n,r);if(i){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(t.type));let s=Nn.none;for(let a of i.concat(t.marks))(o.type?o.type.allowsMarkType(a.type):WL(a.type,t.type))&&(s=a.addToSet(s));return o.content.push(t.mark(s)),!0}return!1}enter(t,n,r,i){let o=this.findPlace(t.create(n),r,!1);return o&&(o=this.enterInner(t,n,r,!0,i)),o}enterInner(t,n,r,i=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(t);let a=BL(t,o,s.options);s.options&eb&&s.content.length==0&&(a|=eb);let l=Nn.none;return r=r.filter(u=>(s.type?s.type.allowsMarkType(u.type):WL(u.type,t))?(l=u.addToSet(l),!1):!0),this.nodes.push(new Ww(t,n,l,i,null,a)),this.open++,r}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Ab)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)t+=r[i].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==t&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,r){if(t!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let u=n[a];if(u==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let d=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!d||d.name!=u&&!d.isInGroup(u))return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function nhe(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let r=t.nodeType==1?t.nodeName.toLowerCase():null;r&&oZ.hasOwnProperty(r)&&n?(n.appendChild(t),t=n):r=="li"?n=t:r&&(n=null)}}function rhe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function ZL(e){let t={};for(let n in e)t[n]=e[n];return t}function WL(e,t){let n=t.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(e))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:d}=a.edge(l);if(u==t||o.indexOf(d)<0&&s(d))return!0}};if(s(i.contentMatch))return!0}}class xp{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},r){r||(r=zC(n).createDocumentFragment());let i=r,o=[];return t.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let u=s.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(o[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let u=s.marks[l++],d=this.serializeMark(u,s.isInline,n);d&&(o.push([u,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(t,n){let{dom:r,contentDOM:i}=MS(zC(n),this.nodes[t.type.name](t),null,t.attrs);if(i){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,i)}return r}serializeNode(t,n={}){let r=this.serializeNodeInner(t,n);for(let i=t.marks.length-1;i>=0;i--){let o=this.serializeMark(t.marks[i],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(t,n,r={}){let i=this.marks[t.type.name];return i&&MS(zC(r),i(t,n),null,t.attrs)}static renderSpec(t,n,r=null,i){return MS(t,n,r,i)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new xp(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=HL(t.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(t){return HL(t.marks)}}function HL(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function zC(e){return e.document||window.document}const qL=new WeakMap;function ihe(e){let t=qL.get(e);return t===void 0&&qL.set(e,t=ohe(e)),t}function ohe(e){let t=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")t||(t=[]),t.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(e),t}function MS(e,t,n,r){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let i=t[0],o;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(o=ihe(r))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=i.indexOf(" ");s>0&&(n=i.slice(0,s),i=i.slice(s+1));let a,l=n?e.createElementNS(n,i):e.createElement(i),u=t[1],d=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){d=2;for(let f in u)if(u[f]!=null){let g=f.indexOf(" ");g>0?l.setAttributeNS(f.slice(0,g),f.slice(g+1),u[f]):f=="style"&&l.style?l.style.cssText=u[f]:l.setAttribute(f,u[f])}}for(let f=d;f<t.length;f++){let g=t[f];if(g===0){if(f<t.length-1||f>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:m,contentDOM:b}=MS(e,g,n,r);if(l.appendChild(m),b){if(a)throw new RangeError("Multiple content holes");a=b}}}return{dom:l,contentDOM:a}}const sZ=65535,aZ=Math.pow(2,16);function she(e,t){return e+t*aZ}function JL(e){return e&sZ}function ahe(e){return(e-(e&sZ))/aZ}const lZ=1,uZ=2,OS=4,cZ=8;let pA=class{constructor(t,n,r){this.pos=t,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&cZ)>0}get deletedBefore(){return(this.delInfo&(lZ|OS))>0}get deletedAfter(){return(this.delInfo&(uZ|OS))>0}get deletedAcross(){return(this.delInfo&OS)>0}},tp=class rm{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&rm.empty)return rm.empty}recover(t){let n=0,r=JL(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+ahe(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>t)break;let u=this.ranges[a+o],d=this.ranges[a+s],f=l+u;if(t<=f){let g=u?t==l?-1:t==f?1:n:n,m=l+i+(g<0?0:d);if(r)return m;let b=t==(n<0?l:f)?null:she(a/3,t-l),x=t==l?uZ:t==f?lZ:OS;return(n<0?t!=l:t!=f)&&(x|=cZ),new pA(m,x,b)}i+=d-u}return r?t+i:new pA(t+i,0,null)}touches(t,n){let r=0,i=JL(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let u=this.ranges[a+o],d=l+u;if(t<=d&&a==i*3)return!0;r+=this.ranges[a+s]-u}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),u=this.ranges[i+n],d=this.ranges[i+r];t(a,a+u,l,l+d),o+=d-u}}invert(){return new rm(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?rm.empty:new rm(t<0?[0,-t,0]:[0,0,t])}};tp.empty=new tp([]);class $b{constructor(t,n,r=0,i=t?t.length:0){this.mirror=n,this.from=r,this.to=i,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new $b(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,r=this._maps.length;n<t._maps.length;n++){let i=t.getMirror(n);this.appendMap(t._maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,r=this._maps.length+t._maps.length;n>=0;n--){let i=t.getMirror(n);this.appendMap(t._maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let t=new $b;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let r=this.from;r<this.to;r++)t=this._maps[r].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this._maps[o],a=s.mapResult(t,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this._maps[l].recover(a.recover);continue}}i|=a.delInfo,t=a.pos}return r?t:new pA(t,i,null)}}const FC=Object.create(null);let zi=class{getMap(){return tp.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=FC[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in FC)throw new RangeError("Duplicate use of step JSON ID "+t);return FC[t]=n,n.prototype.jsonID=t,n}},no=class $v{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new $v(t,null)}static fail(t){return new $v(null,t)}static fromReplace(t,n,r,i){try{return $v.ok(t.replace(n,r,i))}catch(o){if(o instanceof Eb)return $v.fail(o.message);throw o}}};function wM(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy(wM(o.content,t,o))),o.isInline&&(o=t(o,n,i)),r.push(o)}return Se.fromArray(r)}let SM=class Pv extends zi{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new Re(wM(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return no.fromReplace(t,this.from,this.to,o)}invert(){return new Lx(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Pv(n.pos,r.pos,this.mark)}merge(t){return t instanceof Pv&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Pv(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Pv(n.from,n.to,t.markFromJSON(n.mark))}};zi.jsonID("addMark",SM);let Lx=class Mv extends zi{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new Re(wM(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return no.fromReplace(t,this.from,this.to,r)}invert(){return new SM(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Mv(n.pos,r.pos,this.mark)}merge(t){return t instanceof Mv&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Mv(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Mv(n.from,n.to,t.markFromJSON(n.mark))}};zi.jsonID("removeMark",Lx);let kM=class Ov extends zi{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return no.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return no.fromReplace(t,this.pos,this.pos+1,new Re(Se.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Ov(this.pos,n.marks[i]);return new Ov(this.pos,this.mark)}}return new _k(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Ov(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ov(n.pos,t.markFromJSON(n.mark))}};zi.jsonID("addNodeMark",kM);let _k=class hA extends zi{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return no.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return no.fromReplace(t,this.pos,this.pos+1,new Re(Se.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new kM(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new hA(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new hA(n.pos,t.markFromJSON(n.mark))}};zi.jsonID("removeNodeMark",_k);let Na=class Sf extends zi{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&mA(t,this.from,this.to)?no.fail("Structure replace would overwrite content"):no.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new tp([this.from,this.to-this.from,this.slice.size])}invert(t){return new Sf(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Sf(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof Sf)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?Re.empty:new Re(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Sf(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?Re.empty:new Re(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Sf(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Sf(n.from,n.to,Re.fromJSON(t,n.slice),!!n.structure)}};zi.jsonID("replace",Na);let Lo=class NS extends zi{constructor(t,n,r,i,o,s,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(t){if(this.structure&&(mA(t,this.from,this.gapFrom)||mA(t,this.gapTo,this.to)))return no.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return no.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?no.fromReplace(t,this.from,this.to,r):no.fail("Content does not fit in gap")}getMap(){return new tp([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new NS(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new NS(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new NS(n.from,n.to,n.gapFrom,n.gapTo,Re.fromJSON(t,n.slice),n.insert,!!n.structure)}};zi.jsonID("replaceAround",Lo);function mA(e,t,n){let r=e.resolve(t),i=n-t,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function lhe(e,t,n,r){let i=[],o=[],s,a;e.doc.nodesBetween(t,n,(l,u,d)=>{if(!l.isInline)return;let f=l.marks;if(!r.isInSet(f)&&d.type.allowsMarkType(r.type)){let g=Math.max(u,t),m=Math.min(u+l.nodeSize,n),b=r.addToSet(f);for(let x=0;x<f.length;x++)f[x].isInSet(b)||(s&&s.to==g&&s.mark.eq(f[x])?s.to=m:i.push(s=new Lx(g,m,f[x])));a&&a.to==g?a.to=m:o.push(a=new SM(g,m,r))}}),i.forEach(l=>e.step(l)),o.forEach(l=>e.step(l))}function uhe(e,t,n,r){let i=[],o=0;e.doc.nodesBetween(t,n,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof i1){let u=s.marks,d;for(;d=r.isInSet(u);)(l||(l=[])).push(d),u=d.removeFromSet(u)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let u=Math.min(a+s.nodeSize,n);for(let d=0;d<l.length;d++){let f=l[d],g;for(let m=0;m<i.length;m++){let b=i[m];b.step==o-1&&f.eq(i[m].style)&&(g=b)}g?(g.to=u,g.step=o):i.push({style:f,from:Math.max(a,t),to:u,step:o})}}}),i.forEach(s=>e.step(new Lx(s.from,s.to,s.style)))}function _M(e,t,n,r=n.contentMatch,i=!0){let o=e.doc.nodeAt(t),s=[],a=t+1;for(let l=0;l<o.childCount;l++){let u=o.child(l),d=a+u.nodeSize,f=r.matchType(u.type);if(!f)s.push(new Na(a,d,Re.empty));else{r=f;for(let g=0;g<u.marks.length;g++)n.allowsMarkType(u.marks[g].type)||e.step(new Lx(a,d,u.marks[g]));if(i&&u.isText&&n.whitespace!="pre"){let g,m=/\r?\n|\r/g,b;for(;g=m.exec(u.text);)b||(b=new Re(Se.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),s.push(new Na(a+g.index,a+g.index+g[0].length,b))}}a=d}if(!r.validEnd){let l=r.fillBefore(Se.empty,!0);e.replace(a,a,new Re(l,0,0))}for(let l=s.length-1;l>=0;l--)e.step(s[l])}function che(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Tg(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let r=e.depth;;--r){let i=e.$from.node(r),o=e.$from.index(r),s=e.$to.indexAfter(r);if(r<e.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!che(i,o,s))break}return null}function dhe(e,t,n){let{$from:r,$to:i,depth:o}=t,s=r.before(o+1),a=i.after(o+1),l=s,u=a,d=Se.empty,f=0;for(let b=o,x=!1;b>n;b--)x||r.index(b)>0?(x=!0,d=Se.from(r.node(b).copy(d)),f++):l--;let g=Se.empty,m=0;for(let b=o,x=!1;b>n;b--)x||i.after(b+1)<i.end(b)?(x=!0,g=Se.from(i.node(b).copy(g)),m++):u++;e.step(new Lo(l,u,s,a,new Re(d.append(g),f,m),d.size-f,!0))}function TM(e,t,n=null,r=e){let i=fhe(e,t),o=i&&phe(r,t);return o?i.map(KL).concat({type:t,attrs:n}).concat(o.map(KL)):null}function KL(e){return{type:e,attrs:null}}function fhe(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.contentMatchAt(r).findWrapping(t);if(!o)return null;let s=o.length?o[0]:t;return n.canReplaceWith(r,i,s)?o:null}function phe(e,t){let{parent:n,startIndex:r,endIndex:i}=e,o=n.child(r),s=t.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:t).contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:s}function hhe(e,t,n){let r=Se.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Se.from(n[s].type.create(n[s].attrs,r))}let i=t.start,o=t.end;e.step(new Lo(i,o,i,o,new Re(r,0,0),n.length,!0))}function mhe(e,t,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,n,(s,a)=>{let l=typeof i=="function"?i(s):i;if(s.isTextblock&&!s.hasMarkup(r,l)&&ghe(e.doc,e.mapping.slice(o).map(a),r)){let u=null;if(r.schema.linebreakReplacement){let m=r.whitespace=="pre",b=!!r.contentMatch.matchType(r.schema.linebreakReplacement);m&&!b?u=!1:!m&&b&&(u=!0)}u===!1&&fZ(e,s,a,o),_M(e,e.mapping.slice(o).map(a,1),r,void 0,u===null);let d=e.mapping.slice(o),f=d.map(a,1),g=d.map(a+s.nodeSize,1);return e.step(new Lo(f,g,f+1,g-1,new Re(Se.from(r.create(l,null,s.marks)),0,0),1,!0)),u===!0&&dZ(e,s,a,o),!1}})}function dZ(e,t,n,r){t.forEach((i,o)=>{if(i.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(i.text);){let l=e.mapping.slice(r).map(n+1+o+s.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function fZ(e,t,n,r){t.forEach((i,o)=>{if(i.type==i.type.schema.linebreakReplacement){let s=e.mapping.slice(r).map(n+1+o);e.replaceWith(s,s+1,t.type.schema.text(`
`))}})}function ghe(e,t,n){let r=e.resolve(t),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function yhe(e,t,n,r,i){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Lo(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new Re(Se.from(s),0,0),1,!0))}function $u(e,t,n=1,r){let i=e.resolve(t),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,d=n-2;u>o;u--,d--){let f=i.node(u),g=i.index(u);if(f.type.spec.isolating)return!1;let m=f.content.cutByIndex(g,f.childCount),b=r&&r[d+1];b&&(m=m.replaceChild(0,b.type.create(b.attrs)));let x=r&&r[d]||f;if(!f.canReplace(g+1,f.childCount)||!x.type.validContent(m))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function vhe(e,t,n=1,r){let i=e.doc.resolve(t),o=Se.empty,s=Se.empty;for(let a=i.depth,l=i.depth-n,u=n-1;a>l;a--,u--){o=Se.from(i.node(a).copy(o));let d=r&&r[u];s=Se.from(d?d.type.create(d.attrs,s):i.node(a).copy(s))}e.step(new Na(t,t,new Re(o.append(s),n,n),!0))}function fd(e,t){let n=e.resolve(t),r=n.index();return pZ(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function bhe(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:r}=e.type.schema;for(let i=0;i<t.childCount;i++){let o=t.child(i),s=o.type==r?e.type.schema.nodes.text:o.type;if(n=n.matchType(s),!n||!e.type.allowsMarks(o.marks))return!1}return n.validEnd}function pZ(e,t){return!!(e&&t&&!e.isLeaf&&bhe(e,t))}function o1(e,t,n=-1){let r=e.resolve(t);for(let i=r.depth;;i--){let o,s,a=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),a++,s=r.node(i).maybeChild(a)):(o=r.node(i).maybeChild(a-1),s=r.node(i+1)),o&&!o.isTextblock&&pZ(o,s)&&r.node(i).canReplace(a,a+1))return t;if(i==0)break;t=n<0?r.before(i):r.after(i)}}function xhe(e,t,n){let r=null,{linebreakReplacement:i}=e.doc.type.schema,o=e.doc.resolve(t-n),s=o.node().type;if(i&&s.inlineContent){let d=s.whitespace=="pre",f=!!s.contentMatch.matchType(i);d&&!f?r=!1:!d&&f&&(r=!0)}let a=e.steps.length;if(r===!1){let d=e.doc.resolve(t+n);fZ(e,d.node(),d.before(),a)}s.inlineContent&&_M(e,t+n-1,s,o.node().contentMatchAt(o.index()),r==null);let l=e.mapping.slice(a),u=l.map(t-n);if(e.step(new Na(u,l.map(t+n,-1),Re.empty,!0)),r===!0){let d=e.doc.resolve(u);dZ(e,d.node(),d.before(),e.steps.length)}return e}function whe(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function hZ(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),u=r.node(s),d=!1;if(o==1)d=u.canReplace(l,l,i);else{let f=u.contentMatchAt(l).findWrapping(i.firstChild.type);d=f&&u.canReplaceWith(l,l,f[0])}if(d)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function s1(e,t,n=t,r=Re.empty){if(t==n&&!r.size)return null;let i=e.resolve(t),o=e.resolve(n);return mZ(i,o,r)?new Na(t,n,r):new She(i,o,r).fit()}function mZ(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class She{constructor(t,n,r){this.$from=t,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Se.empty;for(let i=0;i<=t.depth;i++){let o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}for(let i=t.depth;i>0;i--)this.placed=Se.from(t.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new Re(o,s,a);return t>-1?new Lo(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new Na(r.pos,i.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<t;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){t=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?t:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=VC(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],d,f=null;if(n==1&&(s?u.matchType(s.type)||(f=u.fillBefore(Se.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:a,parent:o,inject:f};if(n==2&&s&&(d=u.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:a,parent:o,wrap:d};if(o&&u.matchType(o.type))break}}}openMore(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=VC(t,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Re(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:r}=this.unplaced,i=VC(t,n);if(i.childCount<=1&&n>0){let o=t.size-n<=n+i.size;this.unplaced=new Re(Nv(t,n-1,1),n-1,o?n-1:r)}else this.unplaced=new Re(Nv(t,n,1),n,r)}placeNodes({sliceDepth:t,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let x=0;x<o.length;x++)this.openFrontierNode(o[x]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-t,u=0,d=[],{match:f,type:g}=this.frontier[n];if(i){for(let x=0;x<i.childCount;x++)d.push(i.child(x));f=f.matchFragment(i)}let m=a.size+t-(s.content.size-s.openEnd);for(;u<a.childCount;){let x=a.child(u),k=f.matchType(x.type);if(!k)break;u++,(u>1||l==0||x.content.size)&&(f=k,d.push(gZ(x.mark(g.allowedMarks(x.marks)),u==1?l:0,u==a.childCount?m:-1)))}let b=u==a.childCount;b||(m=-1),this.placed=Rv(this.placed,n,Se.from(d)),this.frontier[n].match=f,b&&m<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let x=0,k=a;x<m;x++){let T=k.lastChild;this.frontier.push({type:T.type,match:T.contentMatchAt(T.childCount)}),k=T.content}this.unplaced=b?t==0?Re.empty:new Re(Nv(s.content,t-1,1),t-1,m<0?s.openEnd:t-1):new Re(Nv(s.content,t,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!BC(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),s=BC(t,n,i,r,o);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],d=BC(t,a,u,l,!0);if(!d||d.childCount)continue e}return{depth:n,fit:s,move:o?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Rv(this.placed,n.depth,n.fit)),t=n.move;for(let r=n.depth+1;r<=t.depth;r++){let i=t.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,t.index(r));this.openFrontierNode(i.type,i.attrs,o)}return t}openFrontierNode(t,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=Rv(this.placed,this.depth,Se.from(t.create(n,r))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Se.empty,!0);n.childCount&&(this.placed=Rv(this.placed,this.frontier.length,n))}}function Nv(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Nv(e.firstChild.content,t-1,n)))}function Rv(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Rv(e.lastChild.content,t-1,n)))}function VC(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function gZ(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,gZ(r.firstChild,t-1,r.childCount==1?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Se.empty,!0)))),e.copy(r)}function BC(e,t,n,r,i){let o=e.node(t),s=i?e.indexAfter(t):e.index(t);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!khe(n,o.content,s)?a:null}function khe(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function _he(e){return e.spec.defining||e.spec.definingForContent}function The(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let i=e.doc.resolve(t),o=e.doc.resolve(n);if(mZ(i,o,r))return e.step(new Na(t,n,r));let s=vZ(i,e.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let g=i.depth,m=i.pos-1;g>0;g--,m--){let b=i.node(g).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;s.indexOf(g)>-1?a=g:i.before(g)==m&&s.splice(1,0,-g)}let l=s.indexOf(a),u=[],d=r.openStart;for(let g=r.content,m=0;;m++){let b=g.firstChild;if(u.push(b),m==r.openStart)break;g=b.content}for(let g=d-1;g>=0;g--){let m=u[g],b=_he(m.type);if(b&&!m.sameMarkup(i.node(Math.abs(a)-1)))d=g;else if(b||!m.type.isTextblock)break}for(let g=r.openStart;g>=0;g--){let m=(g+d+1)%(r.openStart+1),b=u[m];if(b)for(let x=0;x<s.length;x++){let k=s[(x+l)%s.length],T=!0;k<0&&(T=!1,k=-k);let E=i.node(k-1),$=i.index(k-1);if(E.canReplaceWith($,$,b.type,b.marks))return e.replace(i.before(k),T?o.after(k):n,new Re(yZ(r.content,0,r.openStart,m),m,r.openEnd))}}let f=e.steps.length;for(let g=s.length-1;g>=0&&(e.replace(t,n,r),!(e.steps.length>f));g--){let m=s[g];m<0||(t=i.before(m),n=o.after(m))}}function yZ(e,t,n,r,i){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(yZ(o.content,t+1,n,r,o)))}if(t>r){let o=i.contentMatchAt(0),s=o.fillBefore(e).append(e);e=s.append(o.matchFragment(s).fillBefore(Se.empty,!0))}return e}function Che(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let i=whe(e.doc,t,r.type);i!=null&&(t=n=i)}e.replaceRange(t,n,new Re(Se.from(r),0,0))}function Ehe(e,t,n){let r=e.doc.resolve(t),i=e.doc.resolve(n),o=vZ(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return e.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return e.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s&&r.start(s-1)==i.start(s-1)&&r.node(s-1).canReplace(r.index(s-1),i.index(s-1)))return e.delete(r.before(s),n);e.delete(t,n)}function vZ(e,t){let n=[],r=Math.min(e.depth,t.depth);for(let i=r;i>=0;i--){let o=e.start(i);if(o<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(o==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==o-1)&&n.push(i)}return n}let bZ=class RS extends zi{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return no.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return no.fromReplace(t,this.pos,this.pos+1,new Re(Se.from(i),0,n.isLeaf?0:1))}getMap(){return tp.empty}invert(t){return new RS(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new RS(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new RS(n.pos,n.attr,n.value)}};zi.jsonID("attr",bZ);let xZ=class gA extends zi{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return no.ok(r)}getMap(){return tp.empty}invert(t){return new gA(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new gA(n.attr,n.value)}};zi.jsonID("docAttr",xZ);let Km=class extends Error{};Km=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Km.prototype=Object.create(Error.prototype);Km.prototype.constructor=Km;Km.prototype.name="TransformError";class Ihe{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new $b}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Km(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,r=Re.empty){let i=s1(this.doc,t,n,r);return i&&this.step(i),this}replaceWith(t,n,r){return this.replace(t,n,new Re(Se.from(r),0,0))}delete(t,n){return this.replace(t,n,Re.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,r){return The(this,t,n,r),this}replaceRangeWith(t,n,r){return Che(this,t,n,r),this}deleteRange(t,n){return Ehe(this,t,n),this}lift(t,n){return dhe(this,t,n),this}join(t,n=1){return xhe(this,t,n),this}wrap(t,n){return hhe(this,t,n),this}setBlockType(t,n=t,r,i=null){return mhe(this,t,n,r,i),this}setNodeMarkup(t,n,r=null,i){return yhe(this,t,n,r,i),this}setNodeAttribute(t,n,r){return this.step(new bZ(t,n,r)),this}setDocAttribute(t,n){return this.step(new xZ(t,n)),this}addNodeMark(t,n){return this.step(new kM(t,n)),this}removeNodeMark(t,n){let r=this.doc.nodeAt(t);if(!r)throw new RangeError("No node at position "+t);if(n instanceof Nn)n.isInSet(r.marks)&&this.step(new _k(t,n));else{let i=r.marks,o,s=[];for(;o=n.isInSet(i);)s.push(new _k(t,o)),i=o.removeFromSet(i);for(let a=s.length-1;a>=0;a--)this.step(s[a])}return this}split(t,n=1,r){return vhe(this,t,n,r),this}addMark(t,n,r){return lhe(this,t,n,r),this}removeMark(t,n,r){return uhe(this,t,n,r),this}clearIncompatible(t,n,r){return _M(this,t,n,r),this}}const UC=Object.create(null);let jt=class{constructor(t,n,r){this.$anchor=t,this.$head=n,this.ranges=r||[new Ahe(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Re.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let o=t.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:u}=s[a],d=t.mapping.slice(o);t.replaceRange(d.map(l.pos),d.map(u.pos),a?Re.empty:n),a==0&&XL(t,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(t,n){let r=t.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=t.mapping.slice(r),u=l.map(s.pos),d=l.map(a.pos);o?t.deleteRange(u,d):(t.replaceRangeWith(u,d,n),XL(t,r,n.isInline?-1:1))}}static findFrom(t,n,r=!1){let i=t.parent.inlineContent?new Ft(t):im(t.node(0),t.parent,t.pos,t.index(),n,r);if(i)return i;for(let o=t.depth-1;o>=0;o--){let s=n<0?im(t.node(0),t.node(o),t.before(o+1),t.index(o),n,r):im(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,n,r);if(s)return s}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new Pu(t.node(0))}static atStart(t){return im(t,t,0,0,1)||new Pu(t)}static atEnd(t){return im(t,t,t.content.size,t.childCount,-1)||new Pu(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=UC[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(t,n)}static jsonID(t,n){if(t in UC)throw new RangeError("Duplicate use of selection JSON ID "+t);return UC[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Ft.between(this.$anchor,this.$head).getBookmark()}};jt.prototype.visible=!0;let Ahe=class{constructor(t,n){this.$from=t,this.$to=n}},GL=!1;function YL(e){!GL&&!e.parent.inlineContent&&(GL=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}let Ft=class Dv extends jt{constructor(t,n=t){YL(t),YL(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return jt.near(r);let i=t.resolve(n.map(this.anchor));return new Dv(i.parent.inlineContent?i:r,r)}replace(t,n=Re.empty){if(super.replace(t,n),n==Re.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Dv&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new wZ(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Dv(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=jt.findFrom(n,r,!0)||jt.findFrom(n,-r,!0);if(o)n=o.$head;else return jt.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(jt.findFrom(t,-r,!0)||jt.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new Dv(t,n)}};jt.jsonID("text",Ft);let wZ=class SZ{constructor(t,n){this.anchor=t,this.head=n}map(t){return new SZ(t.map(this.anchor),t.map(this.head))}resolve(t){return Ft.between(t.resolve(this.anchor),t.resolve(this.head))}},mt=class jv extends jt{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=t.resolve(i);return r?jt.near(o):new jv(o)}content(){return new Re(Se.from(this.node),0,0)}eq(t){return t instanceof jv&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new $he(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new jv(t.resolve(n.anchor))}static create(t,n){return new jv(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}};mt.prototype.visible=!1;jt.jsonID("node",mt);let $he=class kZ{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new wZ(r,r):new kZ(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&mt.isSelectable(r)?new mt(n):jt.near(n)}},Pu=class DS extends jt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Re.empty){if(n==Re.empty){t.delete(0,t.doc.content.size);let r=jt.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new DS(t)}map(t){return new DS(t)}eq(t){return t instanceof DS}getBookmark(){return Phe}};jt.jsonID("all",Pu);const Phe={map(){return this},resolve(e){return new Pu(e)}};function im(e,t,n,r,i,o=!1){if(t.inlineContent)return Ft.create(e,n);for(let s=r-(i>0?0:1);i>0?s<t.childCount:s>=0;s+=i){let a=t.child(s);if(a.isAtom){if(!o&&mt.isSelectable(a))return mt.create(e,n-(i<0?a.nodeSize:0))}else{let l=im(e,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}return null}function XL(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof Na||i instanceof Lo))return;let o=e.mapping.maps[r],s;o.forEach((a,l,u,d)=>{s==null&&(s=d)}),e.setSelection(jt.near(e.doc.resolve(s),n))}const QL=1,Hw=2,ez=4;class Mhe extends Ihe{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|QL)&~Hw,this.storedMarks=null,this}get selectionSet(){return(this.updated&QL)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=Hw,this}ensureMarks(t){return Nn.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Hw)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~Hw,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let r=this.selection;return n&&(t=t.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Nn.none))),r.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,r){let i=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(i.text(t),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!t)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(t,o)),this.selection.empty||this.setSelection(jt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=ez,this}get scrolledIntoView(){return(this.updated&ez)>0}}function tz(e,t){return!t||!e?e:e.bind(t)}let Lv=class{constructor(t,n,r){this.name=t,this.init=tz(n.init,r),this.apply=tz(n.apply,r)}};const Ohe=[new Lv("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Lv("selection",{init(e,t){return e.selection||jt.atStart(t.doc)},apply(e){return e.selection}}),new Lv("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new Lv("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class ZC{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Ohe.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Lv(r.key,r.spec.state,r))})}}class bm{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],r=this.applyInner(t),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,u=i?i[s].state:this,d=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,u,r);if(d&&r.filterTransaction(d,s)){if(d.setMeta("appendedTransaction",t),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<s?{state:r,n:n.length}:{state:this,n:0})}n.push(d),r=r.applyInner(d),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new bm(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(t,this[o.name],this,n)}return n}get tr(){return new Mhe(this)}static create(t){let n=new ZC(t.doc?t.doc.type.schema:t.schema,t.plugins),r=new bm(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(t,r);return r}reconfigure(t){let n=new ZC(this.schema,t.plugins),r=n.fields,i=new bm(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(t,i)}return i}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),t&&typeof t=="object")for(let r in t){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=t[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(t,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let i=new ZC(t.schema,t.plugins),o=new bm(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=Au.fromJSON(t.schema,n.doc);else if(s.name=="selection")o.selection=jt.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],u=l.spec.state;if(l.key==s.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[s.name]=u.fromJSON.call(l,t,n[a],o);return}}o[s.name]=s.init(t,o)}}),o}}function _Z(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=_Z(i,t,{})),n[r]=i}return n}let Fi=class{constructor(t){this.spec=t,this.props={},t.props&&_Z(t.props,this,this.props),this.key=t.key?t.key.key:TZ("plugin")}getState(t){return t[this.key]}};const WC=Object.create(null);function TZ(e){return e in WC?e+"$"+ ++WC[e]:(WC[e]=0,e+"$")}let hs=class{constructor(t="key"){this.key=TZ(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}};const yi=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Gm=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let yA=null;const vu=function(e,t,n){let r=yA||(yA=document.createRange());return r.setEnd(e,n??e.nodeValue.length),r.setStart(e,t||0),r},Nhe=function(){yA=null},np=function(e,t,n,r){return n&&(nz(e,t,n,r,-1)||nz(e,t,n,r,1))},Rhe=/^(img|br|input|textarea|hr)$/i;function nz(e,t,n,r,i){for(var o;;){if(e==n&&t==r)return!0;if(t==(i<0?0:Bs(e))){let s=e.parentNode;if(!s||s.nodeType!=1||zx(e)||Rhe.test(e.nodeName)||e.contentEditable=="false")return!1;t=yi(e)+(i<0?0:1),e=s}else if(e.nodeType==1){let s=e.childNodes[t+(i<0?-1:0)];if(s.nodeType==1&&s.contentEditable=="false")if(!((o=s.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)t+=i;else return!1;else e=s,t=i<0?Bs(e):0}else return!1}}function Bs(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Dhe(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Bs(e)}else if(e.parentNode&&!zx(e))t=yi(e),e=e.parentNode;else return null}}function jhe(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!zx(e))t=yi(e)+1,e=e.parentNode;else return null}}function Lhe(e,t,n){for(let r=t==0,i=t==Bs(e);r||i;){if(e==n)return!0;let o=yi(e);if(e=e.parentNode,!e)return!1;r=r&&o==0,i=i&&o==Bs(e)}}function zx(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const a1=function(e){return e.focusNode&&np(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Cf(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function zhe(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function Fhe(e,t,n){if(e.caretPositionFromPoint)try{let r=e.caretPositionFromPoint(t,n);if(r)return{node:r.offsetNode,offset:Math.min(Bs(r.offsetNode),r.offset)}}catch{}if(e.caretRangeFromPoint){let r=e.caretRangeFromPoint(t,n);if(r)return{node:r.startContainer,offset:Math.min(Bs(r.startContainer),r.startOffset)}}}const wl=typeof navigator<"u"?navigator:null,rz=typeof document<"u"?document:null,pd=wl&&wl.userAgent||"",vA=/Edge\/(\d+)/.exec(pd),CZ=/MSIE \d/.exec(pd),bA=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pd),No=!!(CZ||bA||vA),Hc=CZ?document.documentMode:bA?+bA[1]:vA?+vA[1]:0,Hs=!No&&/gecko\/(\d+)/i.test(pd);Hs&&+(/Firefox\/(\d+)/.exec(pd)||[0,0])[1];const xA=!No&&/Chrome\/(\d+)/.exec(pd),Ni=!!xA,EZ=xA?+xA[1]:0,ao=!No&&!!wl&&/Apple Computer/.test(wl.vendor),Ym=ao&&(/Mobile\/\w+/.test(pd)||!!wl&&wl.maxTouchPoints>2),zs=Ym||(wl?/Mac/.test(wl.platform):!1),Vhe=wl?/Win/.test(wl.platform):!1,_u=/Android \d/.test(pd),Fx=!!rz&&"webkitFontSmoothing"in rz.documentElement.style,Bhe=Fx?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Uhe(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function hu(e,t){return typeof e=="number"?e:e[t]}function Zhe(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function iz(e,t,n){let r=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let s=n||e.dom;s;){if(s.nodeType!=1){s=Gm(s);continue}let a=s,l=a==o.body,u=l?Uhe(o):Zhe(a),d=0,f=0;if(t.top<u.top+hu(r,"top")?f=-(u.top-t.top+hu(i,"top")):t.bottom>u.bottom-hu(r,"bottom")&&(f=t.bottom-t.top>u.bottom-u.top?t.top+hu(i,"top")-u.top:t.bottom-u.bottom+hu(i,"bottom")),t.left<u.left+hu(r,"left")?d=-(u.left-t.left+hu(i,"left")):t.right>u.right-hu(r,"right")&&(d=t.right-u.right+hu(i,"right")),d||f)if(l)o.defaultView.scrollBy(d,f);else{let m=a.scrollLeft,b=a.scrollTop;f&&(a.scrollTop+=f),d&&(a.scrollLeft+=d);let x=a.scrollLeft-m,k=a.scrollTop-b;t={left:t.left-x,top:t.top-k,right:t.right-x,bottom:t.bottom-k}}let g=l?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(g))break;s=g=="absolute"?s.offsetParent:Gm(s)}}function Whe(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),r,i;for(let o=(t.left+t.right)/2,s=n+1;s<Math.min(innerHeight,t.bottom);s+=5){let a=e.root.elementFromPoint(o,s);if(!a||a==e.dom||!e.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:IZ(e.dom)}}function IZ(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=Gm(r));return t}function Hhe({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;AZ(n,r==0?0:r-t)}function AZ(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:i,left:o}=e[n];r.scrollTop!=i+t&&(r.scrollTop=i+t),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Gh=null;function qhe(e){if(e.setActive)return e.setActive();if(Gh)return e.focus(Gh);let t=IZ(e);e.focus(Gh==null?{get preventScroll(){return Gh={preventScroll:!0},!0}}:void 0),Gh||(Gh=!1,AZ(t,0))}function $Z(e,t){let n,r=2e8,i,o=0,s=t.top,a=t.top,l,u;for(let d=e.firstChild,f=0;d;d=d.nextSibling,f++){let g;if(d.nodeType==1)g=d.getClientRects();else if(d.nodeType==3)g=vu(d).getClientRects();else continue;for(let m=0;m<g.length;m++){let b=g[m];if(b.top<=s&&b.bottom>=a){s=Math.max(b.bottom,s),a=Math.min(b.top,a);let x=b.left>t.left?b.left-t.left:b.right<t.left?t.left-b.right:0;if(x<r){n=d,r=x,i=x&&n.nodeType==3?{left:b.right<t.left?b.right:b.left,top:t.top}:t,d.nodeType==1&&x&&(o=f+(t.left>=(b.left+b.right)/2?1:0));continue}}else b.top>t.top&&!l&&b.left<=t.left&&b.right>=t.left&&(l=d,u={left:Math.max(b.left,Math.min(b.right,t.left)),top:b.top});!n&&(t.left>=b.right&&t.top>=b.top||t.left>=b.left&&t.top>=b.bottom)&&(o=f+1)}}return!n&&l&&(n=l,i=u,r=0),n&&n.nodeType==3?Jhe(n,i):!n||r&&n.nodeType==1?{node:e,offset:o}:$Z(n,i)}function Jhe(e,t){let n=e.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(e,i+1),r.setStart(e,i);let o=Mc(r,1);if(o.top!=o.bottom&&CM(t,o))return{node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function CM(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function Khe(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function Ghe(e,t,n){let{node:r,offset:i}=$Z(t,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(r,i,o)}function Yhe(e,t,n,r){let i=-1;for(let o=t,s=!1;o!=e.dom;){let a=e.docView.nearestDesc(o,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!s&&l.left>r.left||l.top>r.top?i=a.posBefore:(!s&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),s=!0),!a.contentDOM&&i<0&&!a.node.isText))return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;o=a.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,n,-1)}function PZ(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=e.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(CM(t,u))return PZ(s,t,u)}}if((o=(o+1)%r)==i)break}return e}function Xhe(e,t){let n=e.dom.ownerDocument,r,i=0,o=Fhe(n,t.left,t.top);o&&({node:r,offset:i}=o);let s=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),a;if(!s||!e.dom.contains(s.nodeType!=1?s.parentNode:s)){let u=e.dom.getBoundingClientRect();if(!CM(t,u)||(s=PZ(e.dom,t,u),!s))return null}if(ao)for(let u=s;r&&u;u=Gm(u))u.draggable&&(r=void 0);if(s=Khe(s,t),r){if(Hs&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let d=r.childNodes[i],f;d.nodeName=="IMG"&&(f=d.getBoundingClientRect()).right<=t.left&&f.bottom>t.top&&i++}let u;Fx&&i&&r.nodeType==1&&(u=r.childNodes[i-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=t.top&&i--,r==e.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&t.top>r.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=Yhe(e,r,i,t))}a==null&&(a=Ghe(e,s,t));let l=e.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function oz(e){return e.top<e.bottom||e.left<e.right}function Mc(e,t){let n=e.getClientRects();if(n.length){let r=n[t<0?0:n.length-1];if(oz(r))return r}return Array.prototype.find.call(n,oz)||e.getBoundingClientRect()}const Qhe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function MZ(e,t,n){let{node:r,offset:i,atom:o}=e.docView.domFromPos(t,n<0?-1:1),s=Fx||Hs;if(r.nodeType==3)if(s&&(Qhe.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=Mc(vu(r,i,i),n);if(Hs&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=Mc(vu(r,i-1,i-1),-1);if(u.top==l.top){let d=Mc(vu(r,i,i+1),-1);if(d.top!=l.top)return pv(d,d.left<u.left)}}return l}else{let l=i,u=i,d=n<0?1:-1;return n<0&&!i?(u++,d=-1):n>=0&&i==r.nodeValue.length?(l--,d=1):n<0?l--:u++,pv(Mc(vu(r,l,u),d),d<0)}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==Bs(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return HC(l.getBoundingClientRect(),!1)}if(o==null&&i<Bs(r)){let l=r.childNodes[i];if(l.nodeType==1)return HC(l.getBoundingClientRect(),!0)}return HC(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==Bs(r))){let l=r.childNodes[i-1],u=l.nodeType==3?vu(l,Bs(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return pv(Mc(u,1),!1)}if(o==null&&i<Bs(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?vu(l,0,s?0:1):l.nodeType==1?l:null:null;if(u)return pv(Mc(u,-1),!0)}return pv(Mc(r.nodeType==3?vu(r):r,-n),n>=0)}function pv(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function HC(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function OZ(e,t,n){let r=e.state,i=e.root.activeElement;r!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),i!=e.dom&&i&&i.focus()}}function eme(e,t,n){let r=t.selection,i=n=="up"?r.$from:r.$to;return OZ(e,t,()=>{let{node:o}=e.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=MZ(e,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=vu(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let d=l[u];if(d.bottom>d.top+1&&(n=="up"?s.top-d.top>(d.bottom-s.top)*2:d.bottom-s.bottom>(s.bottom-d.top)*2))return!1}}return!0})}const tme=/[\u0590-\u08ac]/;function nme(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=e.domSelection();return a?!tme.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?o:s:OZ(e,t,()=>{let{focusNode:l,focusOffset:u,anchorNode:d,anchorOffset:f}=e.domSelectionRange(),g=a.caretBidiLevel;a.modify("move",n,"character");let m=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:b,focusOffset:x}=e.domSelectionRange(),k=b&&!m.contains(b.nodeType==1?b:b.parentNode)||l==b&&u==x;try{a.collapse(d,f),l&&(l!=d||u!=f)&&a.extend&&a.extend(l,u)}catch{}return g!=null&&(a.caretBidiLevel=g),k}):r.pos==r.start()||r.pos==r.end()}let sz=null,az=null,lz=!1;function rme(e,t,n){return sz==t&&az==n?lz:(sz=t,az=n,lz=n=="up"||n=="down"?eme(e,t,n):nme(e,t,n))}const qs=0,uz=1,Pf=2,Sl=3;class Vx{constructor(t,n,r,i){this.parent=t,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=qs,r.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,r){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==t)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,r){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(r<0){let o,s;if(t==this.contentDOM)o=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(t==this.contentDOM)o=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(t==this.dom&&this.contentDOM)i=n>yi(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let r=!0,i=t;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(t.nodeType==1?t:t.parentNode):s==t))r=!1;else return o}}getDesc(t){let n=t.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(t,n,r){for(let i=t;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(t,n,r)}return-1}descAt(t){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==t&&o!=r){for(;!i.border&&i.children.length;)for(let s=0;s<i.children.length;s++){let a=i.children[s];if(a.size){i=a;break}}return i}if(t<o)return i.descAt(t-r-i.border);r=o}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>t||s instanceof RZ){i=t-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof NZ&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?yi(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?yi(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],u=s+l.size;if(i==-1&&t<=u){let d=s+l.border;if(t>=d&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,d);t=s;for(let f=a;f>0;f--){let g=this.children[f-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){i=yi(g.dom)+1;break}t-=g.size}i==-1&&(i=0)}if(i>-1&&(u>n||a==this.children.length-1)){n=u;for(let d=a+1;d<this.children.length;d++){let f=this.children[d];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=yi(f.dom);break}n+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=u}return{node:this.contentDOM,from:t,to:n,fromOffset:i,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:r}=this.domFromPos(t,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]}setSelection(t,n,r,i=!1){let o=Math.min(t,n),s=Math.max(t,n);for(let m=0,b=0;m<this.children.length;m++){let x=this.children[m],k=b+x.size;if(o>b&&s<k)return x.setSelection(t-b-x.border,n-b-x.border,r,i);b=k}let a=this.domFromPos(t,t?-1:1),l=n==t?a:this.domFromPos(n,n?-1:1),u=r.root.getSelection(),d=r.domSelectionRange(),f=!1;if((Hs||ao)&&t==n){let{node:m,offset:b}=a;if(m.nodeType==3){if(f=!!(b&&m.nodeValue[b-1]==`
`),f&&b==m.nodeValue.length)for(let x=m,k;x;x=x.parentNode){if(k=x.nextSibling){k.nodeName=="BR"&&(a=l={node:k.parentNode,offset:yi(k)+1});break}let T=x.pmViewDesc;if(T&&T.node&&T.node.isBlock)break}}else{let x=m.childNodes[b-1];f=x&&(x.nodeName=="BR"||x.contentEditable=="false")}}if(Hs&&d.focusNode&&d.focusNode!=l.node&&d.focusNode.nodeType==1){let m=d.focusNode.childNodes[d.focusOffset];m&&m.contentEditable=="false"&&(i=!0)}if(!(i||f&&ao)&&np(a.node,a.offset,d.anchorNode,d.anchorOffset)&&np(l.node,l.offset,d.focusNode,d.focusOffset))return;let g=!1;if((u.extend||t==n)&&!(f&&Hs)){u.collapse(a.node,a.offset);try{t!=n&&u.extend(l.node,l.offset),g=!0}catch{}}if(!g){if(t>n){let b=a;a=l,l=b}let m=document.createRange();m.setEnd(l.node,l.offset),m.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(m)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?t<=s&&n>=r:t<s&&n>r){let a=r+o.border,l=s-o.border;if(t>=a&&n<=l){this.dirty=t==r||n==s?Pf:uz,t==a&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Sl:o.markDirty(t-a,n-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Pf:Sl}r=s}this.dirty=Pf}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let r=t==1?Pf:uz;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class NZ extends Vx{constructor(t,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(t,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(t){return this.dirty==qs&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class ime extends Vx{constructor(t,n,r,i){super(t,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class rp extends Vx{constructor(t,n,r,i,o){super(t,[],r,i),this.mark=n,this.spec=o}static create(t,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=xp.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new rp(t,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&Sl||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Sl&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=qs){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=qs}}slice(t,n,r){let i=rp.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=SA(o,n,s,r)),t>0&&(o=SA(o,0,t,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class qc extends Vx{constructor(t,n,r,i,o,s,a,l,u){super(t,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(t,n,r,i,o,s){let a=o.nodeViews[n.type.name],l,u=a&&a(n,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,i),d=u&&u.dom,f=u&&u.contentDOM;if(n.isText){if(!d)d=document.createTextNode(n.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:f}=xp.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!f&&!n.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),n.type.spec.draggable&&(d.draggable=!0));let g=d;return d=LZ(d,r,n),u?l=new ome(t,n,r,i,d,f||null,g,u,o,s+1):n.isText?new l1(t,n,r,i,d,g,o):new qc(t,n,r,i,d,f||null,g,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){t.contentElement=r.dom.parentNode;break}}t.contentElement||(t.getContent=()=>Se.empty)}return t}matchesNode(t,n,r){return this.dirty==qs&&t.eq(this.node)&&Tk(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let r=this.node.inlineContent,i=n,o=t.composing?this.localCompositionInfo(t,n):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new ame(this,s&&s.node,t);cme(this.node,this.innerDeco,(u,d,f)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,t):u.type.side>=0&&!f&&l.syncToMarks(d==this.node.childCount?Nn.none:this.node.child(d).marks,r,t),l.placeWidget(u,t,i)},(u,d,f,g)=>{l.syncToMarks(u.marks,r,t);let m;l.findNodeMatch(u,d,f,g)||a&&t.state.selection.from>i&&t.state.selection.to<i+u.nodeSize&&(m=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(u,d,f,m,t)||l.updateNextNode(u,d,f,t,g,i)||l.addNode(u,d,f,t,i),i+=u.nodeSize}),l.syncToMarks([],r,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Pf)&&(s&&this.protectLocalComposition(t,s),DZ(this.contentDOM,this.children,t),Ym&&dme(this.dom))}localCompositionInfo(t,n){let{from:r,to:i}=t.state.selection;if(!(t.state.selection instanceof Ft)||r<n||i>n+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=fme(this.node.content,s,r-n,i-n);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new ime(this,o,n,i);t.input.compositionNodes.push(s),this.children=SA(this.children,r,r+i.length,t,s)}update(t,n,r,i){return this.dirty==Sl||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,r,i),!0)}updateInner(t,n,r,i){this.updateOuterDeco(n),this.node=t,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=qs}updateOuterDeco(t){if(Tk(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=jZ(this.dom,this.nodeDOM,wA(this.outerDeco,this.node,n),wA(t,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function cz(e,t,n,r,i){LZ(r,t,e);let o=new qc(void 0,e,t,n,r,r,r,i,0);return o.contentDOM&&o.updateChildren(i,0),o}class l1 extends qc{constructor(t,n,r,i,o,s,a){super(t,n,r,i,o,null,s,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,r,i){return this.dirty==Sl||this.dirty!=qs&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=qs||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=t,this.dirty=qs,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,r)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,r){let i=this.node.cut(t,n),o=document.createTextNode(i.text);return new l1(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Sl)}get domAtom(){return!1}isText(t){return this.node.text==t}}class RZ extends Vx{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==qs&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class ome extends qc{constructor(t,n,r,i,o,s,a,l,u,d){super(t,n,r,i,o,s,a,u,d),this.spec=l}update(t,n,r,i){if(this.dirty==Sl)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let o=this.spec.update(t,n,r);return o&&this.updateInner(t,n,r,i),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,r,i){this.spec.setSelection?this.spec.setSelection(t,n,r.root):super.setSelection(t,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function DZ(e,t,n){let r=e.firstChild,i=!1;for(let o=0;o<t.length;o++){let s=t[o],a=s.dom;if(a.parentNode==e){for(;a!=r;)r=dz(r),i=!0;r=r.nextSibling}else i=!0,e.insertBefore(a,r);if(s instanceof rp){let l=r?r.previousSibling:e.lastChild;DZ(s.contentDOM,s.children,n),r=l?l.nextSibling:e.firstChild}}for(;r;)r=dz(r),i=!0;i&&n.trackWrites==e&&(n.trackWrites=null)}const tb=function(e){e&&(this.nodeName=e)};tb.prototype=Object.create(null);const Mf=[new tb];function wA(e,t,n){if(e.length==0)return Mf;let r=n?Mf[0]:new tb,i=[r];for(let o=0;o<e.length;o++){let s=e[o].type.attrs;if(s){s.nodeName&&i.push(r=new tb(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&i.length==1&&i.push(r=new tb(t.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function jZ(e,t,n,r){if(n==Mf&&r==Mf)return t;let i=t;for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=e&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Mf[0]),i=l}sme(i,a||Mf[0],s)}return i}function sme(e,t,n){for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&e.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&e.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&e.classList.add(i[o]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(t.style);)e.style.removeProperty(i[1])}n.style&&(e.style.cssText+=n.style)}}function LZ(e,t,n){return jZ(e,e,Mf,wA(t,n,e.nodeType!=1))}function Tk(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function dz(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class ame{constructor(t,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=lme(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let r=t;r<n;r++)this.top.children[r].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,t.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=qs,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(t[o])&&!this.isLocked(u.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=rp.create(this.top,t[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(t,n,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(t,n,r)&&!this.preMatch.matched.has(u)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,n,r,i,o){let s=this.top.children[i];return s.dirty==Sl&&s.dom==s.contentDOM&&(s.dirty=Pf),s.update(t,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=t.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}t=n}}updateNextNode(t,n,r,i,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof qc){let u=this.preMatch.matched.get(l);if(u!=null&&u!=o)return!1;let d=l.dom,f,g=this.isLocked(d)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Sl&&Tk(n,l.outerDeco));if(!g&&l.update(t,n,r,i))return this.destroyBetween(this.index,a),l.dom!=d&&(this.changed=!0),this.index++,!0;if(!g&&(f=this.recreateWrapper(l,t,n,r,i,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=f,f.contentDOM&&(f.dirty=Pf,f.updateChildren(i,s+1),f.dirty=qs),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,r,i,o,s){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!Tk(r,t.outerDeco)||!i.eq(t.innerDeco))return null;let a=qc.create(this.top,n,r,i,o,s);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,n,r,i,o){let s=qc.create(this.top,t,n,r,i,o);s.contentDOM&&s.updateChildren(i,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(t,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new NZ(this.top,t,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof rp;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof l1)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((ao||Ni)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new RZ(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function lme(e,t){let n=t,r=n.children.length,i=e.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let u=n.children[r-1];if(u instanceof rp)n=u,r=u.children.length;else{a=u,r--;break}}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function ume(e,t){return e.type.side-t.type.side}function cme(e,t,n,r){let i=t.locals(e),o=0;if(i.length==0){for(let u=0;u<e.childCount;u++){let d=e.child(u);r(d,i,t.forChild(o,d),u),o+=d.nodeSize}return}let s=0,a=[],l=null;for(let u=0;;){let d,f;for(;s<i.length&&i[s].to==o;){let k=i[s++];k.widget&&(d?(f||(f=[d])).push(k):d=k)}if(d)if(f){f.sort(ume);for(let k=0;k<f.length;k++)n(f[k],u,!!l)}else n(d,u,!!l);let g,m;if(l)m=-1,g=l,l=null;else if(u<e.childCount)m=u,g=e.child(u++);else break;for(let k=0;k<a.length;k++)a[k].to<=o&&a.splice(k--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let b=o+g.nodeSize;if(g.isText){let k=b;s<i.length&&i[s].from<k&&(k=i[s].from);for(let T=0;T<a.length;T++)a[T].to<k&&(k=a[T].to);k<b&&(l=g.cut(k-o),g=g.cut(0,k-o),b=k,m=-1)}else for(;s<i.length&&i[s].to<b;)s++;let x=g.isInline&&!g.isLeaf?a.filter(k=>!k.inline):a.slice();r(g,x,t.forChild(o,g),m),o=b}}function dme(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function fme(e,t,n,r){for(let i=0,o=0;i<e.childCount&&o<=r;){let s=e.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<e.childCount;){let u=e.child(i++);if(o+=u.nodeSize,!u.isText)break;l+=u.text}if(o>=n){if(o>=r&&l.slice(r-t.length-a,r-a)==t)return r-t.length;let u=a<r?l.lastIndexOf(t,r-a-1):-1;if(u>=0&&u+t.length+a>=n)return a+u;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}function SA(e,t,n,r,i){let o=[];for(let s=0,a=0;s<e.length;s++){let l=e[s],u=a,d=a+=l.size;u>=n||d<=t?o.push(l):(u<t&&o.push(l.slice(0,t-u,r)),i&&(o.push(i),i=void 0),d>n&&o.push(l.slice(n-u,l.size,r)))}return o}function EM(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let i=e.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,u;if(a1(n)){for(l=s;i&&!i.node;)i=i.parent;let f=i.node;if(i&&f.isAtom&&mt.isSelectable(f)&&i.parent&&!(f.isInline&&Lhe(n.focusNode,n.focusOffset,i.dom))){let g=i.posBefore;u=new mt(s==g?a:r.resolve(g))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let f=s,g=s;for(let m=0;m<n.rangeCount;m++){let b=n.getRangeAt(m);f=Math.min(f,e.docView.posFromDOM(b.startContainer,b.startOffset,1)),g=Math.max(g,e.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(f<0)return null;[l,s]=g==e.state.selection.anchor?[g,f]:[f,g],a=r.resolve(s)}else l=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let d=r.resolve(l);if(!u){let f=t=="pointer"||e.state.selection.head<a.pos&&!o?1:-1;u=IM(e,d,a,f)}return u}function zZ(e){return e.editable?e.hasFocus():VZ(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Mu(e,t=!1){let n=e.state.selection;if(FZ(e,n),!!zZ(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&Ni){let r=e.domSelectionRange(),i=e.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&np(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)hme(e);else{let{anchor:r,head:i}=n,o,s;fz&&!(n instanceof Ft)&&(n.$from.parent.inlineContent||(o=pz(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=pz(e,n.to))),e.docView.setSelection(r,i,e,t),fz&&(o&&hz(o),s&&hz(s)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&pme(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const fz=ao||Ni&&EZ<63;function pz(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(ao&&i&&i.contentEditable=="false")return qC(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return qC(i);if(o)return qC(o)}}function qC(e){return e.contentEditable="true",ao&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function hz(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function pme(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!zZ(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function hme(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,r=n.nodeName=="IMG";r?t.collapse(n.parentNode,yi(n)+1):t.collapse(n,0),!r&&!e.state.selection.visible&&No&&Hc<=11&&(n.disabled=!0,n.disabled=!1)}function FZ(e,t){if(t instanceof mt){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(mz(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else mz(e)}function mz(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function IM(e,t,n,r){return e.someProp("createSelectionBetween",i=>i(e,t,n))||Ft.between(t,n,r)}function gz(e){return e.editable&&!e.hasFocus()?!1:VZ(e)}function VZ(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function mme(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return np(t.node,t.offset,n.anchorNode,n.anchorOffset)}function kA(e,t){let{$anchor:n,$head:r}=e.selection,i=t>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?e.doc.resolve(t>0?i.after():i.before()):null:i;return o&&jt.findFrom(o,t)}function Rc(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function yz(e,t,n){let r=e.state.selection;if(r instanceof Ft)if(n.indexOf("s")>-1){let{$head:i}=r,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=e.state.doc.resolve(i.pos+o.nodeSize*(t<0?-1:1));return Rc(e,new Ft(r.$anchor,s))}else if(r.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let i=kA(e.state,t);return i&&i instanceof mt?Rc(e,i):!1}else if(!(zs&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:t<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=t<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=e.docView.descAt(a))&&!s.contentDOM?mt.isSelectable(o)?Rc(e,new mt(t<0?e.state.doc.resolve(i.pos-o.nodeSize):i)):Fx?Rc(e,new Ft(e.state.doc.resolve(t<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(r instanceof mt&&r.node.isInline)return Rc(e,new Ft(t>0?r.$to:r.$from));{let i=kA(e.state,t);return i?Rc(e,i):!1}}}function Ck(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function nb(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Yh(e,t){return t<0?gme(e):yme(e)}function gme(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i,o,s=!1;for(Hs&&n.nodeType==1&&r<Ck(n)&&nb(n.childNodes[r],-1)&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(nb(a,-1))i=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(BZ(n))break;{let a=n.previousSibling;for(;a&&nb(a,-1);)i=n.parentNode,o=yi(a),a=a.previousSibling;if(a)n=a,r=Ck(n);else{if(n=n.parentNode,n==e.dom)break;r=0}}}s?_A(e,n,r):i&&_A(e,i,o)}function yme(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let i=Ck(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(nb(a,1))o=n,s=++r;else break}else{if(BZ(n))break;{let a=n.nextSibling;for(;a&&nb(a,1);)o=a.parentNode,s=yi(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=Ck(n);else{if(n=n.parentNode,n==e.dom)break;r=i=0}}}o&&_A(e,o,s)}function BZ(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function vme(e,t){for(;e&&t==e.childNodes.length&&!zx(e);)t=yi(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function bme(e,t){for(;e&&!t&&!zx(e);)t=yi(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function _A(e,t,n){if(t.nodeType!=3){let o,s;(s=vme(t,n))?(t=s,n=0):(o=bme(t,n))&&(t=o,n=o.nodeValue.length)}let r=e.domSelection();if(!r)return;if(a1(r)){let o=document.createRange();o.setEnd(t,n),o.setStart(t,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:i}=e;setTimeout(()=>{e.state==i&&Mu(e)},50)}function vz(e,t){let n=e.state.doc.resolve(t);if(!(Ni||Vhe)&&n.parent.inlineContent){let i=e.coordsAtPos(t);if(t>n.start()){let o=e.coordsAtPos(t-1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left<i.left?"ltr":"rtl"}if(t<n.end()){let o=e.coordsAtPos(t+1),s=(o.top+o.bottom)/2;if(s>i.top&&s<i.bottom&&Math.abs(o.left-i.left)>1)return o.left>i.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function bz(e,t,n){let r=e.state.selection;if(r instanceof Ft&&!r.empty||n.indexOf("s")>-1||zs&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let s=kA(e.state,t);if(s&&s instanceof mt)return Rc(e,s)}if(!i.parent.inlineContent){let s=t<0?i:o,a=r instanceof Pu?jt.near(s,t):jt.findFrom(s,t);return a?Rc(e,a):!1}return!1}function xz(e,t){if(!(e.state.selection instanceof Ft))return!0;let{$head:n,$anchor:r,empty:i}=e.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=e.state.tr;return t<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),e.dispatch(s),!0}return!1}function wz(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function xme(e){if(!ao||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let r=t.firstChild;wz(e,r,"true"),setTimeout(()=>wz(e,r,"false"),20)}return!1}function wme(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function Sme(e,t){let n=t.keyCode,r=wme(t);if(n==8||zs&&n==72&&r=="c")return xz(e,-1)||Yh(e,-1);if(n==46&&!t.shiftKey||zs&&n==68&&r=="c")return xz(e,1)||Yh(e,1);if(n==13||n==27)return!0;if(n==37||zs&&n==66&&r=="c"){let i=n==37?vz(e,e.state.selection.from)=="ltr"?-1:1:-1;return yz(e,i,r)||Yh(e,i)}else if(n==39||zs&&n==70&&r=="c"){let i=n==39?vz(e,e.state.selection.from)=="ltr"?1:-1:1;return yz(e,i,r)||Yh(e,i)}else{if(n==38||zs&&n==80&&r=="c")return bz(e,-1,r)||Yh(e,-1);if(n==40||zs&&n==78&&r=="c")return xme(e)||bz(e,1,r)||Yh(e,1);if(r==(zs?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function AM(e,t){e.someProp("transformCopied",m=>{t=m(t,e)});let n=[],{content:r,openStart:i,openEnd:o}=t;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let m=r.firstChild;n.push(m.type.name,m.attrs!=m.type.defaultAttrs?m.attrs:null),r=m.content}let s=e.someProp("clipboardSerializer")||xp.fromSchema(e.state.schema),a=JZ(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let u=l.firstChild,d,f=0;for(;u&&u.nodeType==1&&(d=qZ[u.nodeName.toLowerCase()]);){for(let m=d.length-1;m>=0;m--){let b=a.createElement(d[m]);for(;l.firstChild;)b.appendChild(l.firstChild);l.appendChild(b),f++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(n)}`);let g=e.someProp("clipboardTextSerializer",m=>m(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:g,slice:t}}function UZ(e,t,n,r,i){let o=i.parent.type.spec.code,s,a;if(!n&&!t)return null;let l=!!t&&(r||o||!n);if(l){if(e.someProp("transformPastedText",g=>{t=g(t,o||r,e)}),o)return a=new Re(Se.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",g=>{a=g(a,e,!0)}),a;let f=e.someProp("clipboardTextParser",g=>g(t,i,r,e));if(f)a=f;else{let g=i.marks(),{schema:m}=e.state,b=xp.fromSchema(m);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(x=>{let k=s.appendChild(document.createElement("p"));x&&k.appendChild(b.serializeNode(m.text(x,g)))})}}else e.someProp("transformPastedHTML",f=>{n=f(n,e)}),s=Cme(n),Fx&&Eme(s);let u=s&&s.querySelector("[data-pm-slice]"),d=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let f=+d[3];f>0;f--){let g=s.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;s=g}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||Wc.fromSchema(e.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||d),context:i,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!kme.test(g.parentNode.nodeName)?{ignore:!0}:null}})),d)a=Ime(Sz(a,+d[1],+d[2]),d[4]);else if(a=Re.maxOpen(_me(a.content,i),!0),a.openStart||a.openEnd){let f=0,g=0;for(let m=a.content.firstChild;f<a.openStart&&!m.type.spec.isolating;f++,m=m.firstChild);for(let m=a.content.lastChild;g<a.openEnd&&!m.type.spec.isolating;g++,m=m.lastChild);a=Sz(a,f,g)}return e.someProp("transformPasted",f=>{a=f(a,e,l)}),a}const kme=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function _me(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.index(n)),o,s=[];if(e.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),u;if(!l)return s=null;if(u=s.length&&o.length&&WZ(l,o,a,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=HZ(s[s.length-1],o.length));let d=ZZ(a,l);s.push(d),i=i.matchType(d.type),o=l}}),s)return Se.from(s)}return e}function ZZ(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,Se.from(e));return e}function WZ(e,t,n,r,i){if(i<e.length&&i<t.length&&e[i]==t[i]){let o=WZ(e,t,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==e.length-1?n.type:e[i+1]))return r.copy(r.content.append(Se.from(ZZ(n,e,i+1))))}}function HZ(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,HZ(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Se.empty,!0);return e.copy(n.append(r))}function TA(e,t,n,r,i,o){let s=t<0?e.firstChild:e.lastChild,a=s.content;return e.childCount>1&&(o=0),i<r-1&&(a=TA(a,t,n,r,i+1,o)),i>=n&&(a=t<0?s.contentMatchAt(0).fillBefore(a,o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(Se.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}function Sz(e,t,n){return t<e.openStart&&(e=new Re(TA(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Re(TA(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const qZ={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let kz=null;function JZ(){return kz||(kz=document.implementation.createHTMLDocument("title"))}let JC=null;function Tme(e){let t=window.trustedTypes;return t?(JC||(JC=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),JC.createHTML(e)):e}function Cme(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=JZ().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e),i;if((i=r&&qZ[r[1].toLowerCase()])&&(e=i.map(o=>"<"+o+">").join("")+e+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=Tme(e),i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function Eme(e){let t=e.querySelectorAll(Ni?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function Ime(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,r;try{r=JSON.parse(t)}catch{return e}let{content:i,openStart:o,openEnd:s}=e;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=Se.from(l.create(r[a+1],i)),o++,s++}return new Re(i,o,s)}const lo={},uo={},Ame={touchstart:!0,touchmove:!0};class $me{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function Pme(e){for(let t in lo){let n=lo[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=r=>{Ome(e,r)&&!$M(e,r)&&(e.editable||!(r.type in uo))&&n(e,r)},Ame[t]?{passive:!0}:void 0)}ao&&e.dom.addEventListener("input",()=>null),CA(e)}function Vc(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function Mme(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function CA(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=r=>$M(e,r))})}function $M(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return r?r(e,t)||t.defaultPrevented:!1})}function Ome(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function Nme(e,t){!$M(e,t)&&lo[t.type]&&(e.editable||!(t.type in uo))&&lo[t.type](e,t)}uo.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!GZ(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(_u&&Ni&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Ym&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();e.input.lastIOSEnter=r,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==r&&(e.someProp("handleKeyDown",i=>i(e,Cf(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",r=>r(e,n))||Sme(e,n)?n.preventDefault():Vc(e,"key")};uo.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};uo.keypress=(e,t)=>{let n=t;if(GZ(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||zs&&n.metaKey)return;if(e.someProp("handleKeyPress",i=>i(e,n))){n.preventDefault();return}let r=e.state.selection;if(!(r instanceof Ft)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode),o=()=>e.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!e.someProp("handleTextInput",s=>s(e,r.$from.pos,r.$to.pos,i,o))&&e.dispatch(o()),n.preventDefault()}};function u1(e){return{left:e.clientX,top:e.clientY}}function Rme(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function PM(e,t,n,r,i){if(r==-1)return!1;let o=e.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(e.someProp(t,a=>s>o.depth?a(e,n,o.nodeAfter,o.before(s),i,!0):a(e,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function Mm(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let r=e.state.tr.setSelection(t);r.setMeta("pointer",!0),e.dispatch(r)}function Dme(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return r&&r.isAtom&&mt.isSelectable(r)?(Mm(e,new mt(n)),!0):!1}function jme(e,t){if(t==-1)return!1;let n=e.state.selection,r,i;n instanceof mt&&(r=n.node);let o=e.state.doc.resolve(t);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(mt.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(Mm(e,mt.create(e.state.doc,i)),!0):!1}function Lme(e,t,n,r,i){return PM(e,"handleClickOn",t,n,r)||e.someProp("handleClick",o=>o(e,t,r))||(i?jme(e,n):Dme(e,n))}function zme(e,t,n,r){return PM(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",i=>i(e,t,r))}function Fme(e,t,n,r){return PM(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",i=>i(e,t,r))||Vme(e,n,r)}function Vme(e,t,n){if(n.button!=0)return!1;let r=e.state.doc;if(t==-1)return r.inlineContent?(Mm(e,Ft.create(r,0,r.content.size)),!0):!1;let i=r.resolve(t);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)Mm(e,Ft.create(r,a+1,a+1+s.content.size));else if(mt.isSelectable(s))Mm(e,mt.create(r,a));else continue;return!0}}function MM(e){return Ek(e)}const KZ=zs?"metaKey":"ctrlKey";lo.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=MM(e),i=Date.now(),o="singleClick";i-e.input.lastClick.time<500&&Rme(n,e.input.lastClick)&&!n[KZ]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?o="doubleClick":e.input.lastClick.type=="doubleClick"&&(o="tripleClick")),e.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o,button:n.button};let s=e.posAtCoords(u1(n));s&&(o=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new Bme(e,s,n,!!r)):(o=="doubleClick"?zme:Fme)(e,s.pos,s.inside,n)?n.preventDefault():Vc(e,"pointer"))};class Bme{constructor(t,n,r,i){this.view=t,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!r[KZ],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=t.state.doc.nodeAt(n.inside),s=n.inside;else{let d=t.state.doc.resolve(n.pos);o=d.parent,s=d.depth?d.before():0}const a=i?null:r.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&l.nodeDOM.nodeType==1?l.nodeDOM:null;let{selection:u}=t.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof mt&&u.from<=s&&u.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Hs&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Vc(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Mu(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(u1(t))),this.updateAllowDefault(t),this.allowDefault||!n?Vc(this.view,"pointer"):Lme(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||ao&&this.mightDrag&&!this.mightDrag.node.isAtom||Ni&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Mm(this.view,jt.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Vc(this.view,"pointer")}move(t){this.updateAllowDefault(t),Vc(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}lo.touchstart=e=>{e.input.lastTouch=Date.now(),MM(e),Vc(e,"pointer")};lo.touchmove=e=>{e.input.lastTouch=Date.now(),Vc(e,"pointer")};lo.contextmenu=e=>MM(e);function GZ(e,t){return e.composing?!0:ao&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const Ume=_u?5e3:-1;uo.compositionstart=uo.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof Ft&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),Ek(e,!0),e.markCursor=null;else if(Ek(e,!t.selection.empty),Hs&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=e.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=e.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else i=s,o=-1}}e.input.composing=!0}YZ(e,Ume)};uo.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,YZ(e,20))};function YZ(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>Ek(e),t))}function XZ(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=Wme());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Zme(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=Dhe(t.focusNode,t.focusOffset),r=jhe(t.focusNode,t.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(n==o||r==o)return o;if(!i||!i.isText(r.nodeValue))return r;if(e.input.compositionNode==r){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return r}}return n||r}function Wme(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Ek(e,t=!1){if(!(_u&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),XZ(e),t||e.docView&&e.docView.dirty){let n=EM(e),r=e.state.selection;return n&&!n.eq(r)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function Hme(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const Pb=No&&Hc<15||Ym&&Bhe<604;lo.copy=uo.cut=(e,t)=>{let n=t,r=e.state.selection,i=n.type=="cut";if(r.empty)return;let o=Pb?null:n.clipboardData,s=r.content(),{dom:a,text:l}=AM(e,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):Hme(e,a),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function qme(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function Jme(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Mb(e,r.value,null,i,t):Mb(e,r.textContent,r.innerHTML,i,t)},50)}function Mb(e,t,n,r,i){let o=UZ(e,t,n,r,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,i,o||Re.empty)))return!0;if(!o)return!1;let s=qme(o),a=s?e.state.tr.replaceSelectionWith(s,r):e.state.tr.replaceSelection(o);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function QZ(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}uo.paste=(e,t)=>{let n=t;if(e.composing&&!_u)return;let r=Pb?null:n.clipboardData,i=e.input.shiftKey&&e.input.lastKeyCode!=45;r&&Mb(e,QZ(r),r.getData("text/html"),i,n)?n.preventDefault():Jme(e,n)};class e5{constructor(t,n,r){this.slice=t,this.move=n,this.node=r}}const Kme=zs?"altKey":"ctrlKey";function t5(e,t){let n=e.someProp("dragCopies",r=>!r(t));return n??!t[Kme]}lo.dragstart=(e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=e.state.selection,o=i.empty?null:e.posAtCoords(u1(n)),s;if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof mt?i.to-1:i.to))){if(r&&r.mightDrag)s=mt.create(e.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let f=e.docView.nearestDesc(n.target,!0);f&&f.node.type.spec.draggable&&f!=e.docView&&(s=mt.create(e.state.doc,f.posBefore))}}let a=(s||e.state.selection).content(),{dom:l,text:u,slice:d}=AM(e,a);(!n.dataTransfer.files.length||!Ni||EZ>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Pb?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Pb||n.dataTransfer.setData("text/plain",u),e.dragging=new e5(d,t5(e,n),s)};lo.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};uo.dragover=uo.dragenter=(e,t)=>t.preventDefault();uo.drop=(e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let i=e.posAtCoords(u1(n));if(!i)return;let o=e.state.doc.resolve(i.pos),s=r&&r.slice;s?e.someProp("transformPasted",b=>{s=b(s,e,!1)}):s=UZ(e,QZ(n.dataTransfer),Pb?null:n.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&t5(e,n));if(e.someProp("handleDrop",b=>b(e,n,s||Re.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?hZ(e.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let u=e.state.tr;if(a){let{node:b}=r;b?b.replace(u):u.deleteSelection()}let d=u.mapping.map(l),f=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,g=u.doc;if(f?u.replaceRangeWith(d,d,s.content.firstChild):u.replaceRange(d,d,s),u.doc.eq(g))return;let m=u.doc.resolve(d);if(f&&mt.isSelectable(s.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new mt(m));else{let b=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((x,k,T,E)=>b=E),u.setSelection(IM(e,m,u.doc.resolve(b)))}e.focus(),e.dispatch(u.setMeta("uiEvent","drop"))};lo.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Mu(e)},20))};lo.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};lo.beforeinput=(e,t)=>{if(Ni&&_u&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:r}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=r||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",o=>o(e,Cf(8,"Backspace")))))return;let{$cursor:i}=e.state.selection;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let e in uo)lo[e]=uo[e];function Ob(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class Ik{constructor(t,n){this.toDOM=t,this.spec=n||Hf,this.side=this.spec.side||0}map(t,n,r,i){let{pos:o,deleted:s}=t.mapResult(n.from+i,this.side<0?-1:1);return s?null:new Po(o-r,o-r,this)}valid(){return!0}eq(t){return this==t||t instanceof Ik&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Ob(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Jc{constructor(t,n){this.attrs=t,this.spec=n||Hf}map(t,n,r,i){let o=t.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=t.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new Po(o,s,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Jc&&Ob(this.attrs,t.attrs)&&Ob(this.spec,t.spec)}static is(t){return t.type instanceof Jc}destroy(){}}class OM{constructor(t,n){this.attrs=t,this.spec=n||Hf}map(t,n,r,i){let o=t.mapResult(n.from+i,1);if(o.deleted)return null;let s=t.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new Po(o.pos-r,s.pos-r,this)}valid(t,n){let{index:r,offset:i}=t.content.findIndex(n.from),o;return i==n.from&&!(o=t.child(r)).isText&&i+o.nodeSize==n.to}eq(t){return this==t||t instanceof OM&&Ob(this.attrs,t.attrs)&&Ob(this.spec,t.spec)}destroy(){}}class Po{constructor(t,n,r){this.from=t,this.to=n,this.type=r}copy(t,n){return new Po(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,r){return this.type.map(t,this,n,r)}static widget(t,n,r){return new Po(t,t,new Ik(n,r))}static inline(t,n,r,i){return new Po(t,n,new Jc(r,i))}static node(t,n,r,i){return new Po(t,n,new OM(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Jc}get widget(){return this.type instanceof Ik}}const om=[],Hf={};class _r{constructor(t,n){this.local=t.length?t:om,this.children=n.length?n:om}static create(t,n){return n.length?Ak(n,t,0,Hf):Mi}find(t,n,r){let i=[];return this.findInner(t??0,n??1e9,i,0,r),i}findInner(t,n,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=t&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>t){let a=this.children[s]+1;this.children[s+2].findInner(t-a,n-a,r,i+a,o)}}map(t,n,r){return this==Mi||t.maps.length==0?this:this.mapInner(t,n,0,0,r||Hf)}mapInner(t,n,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,r,i);l&&l.type.valid(n,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?Gme(this.children,s||[],t,n,r,i,o):s?new _r(s.sort(qf),om):Mi}add(t,n){return n.length?this==Mi?_r.create(t,n):this.addInner(t,n,0):this}addInner(t,n,r){let i,o=0;t.forEach((a,l)=>{let u=l+r,d;if(d=r5(n,a,u)){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,d,u+1):i.splice(o,0,l,l+a.nodeSize,Ak(d,a,u+1,Hf)),o+=3}});let s=n5(o?i5(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||s.splice(a--,1);return new _r(s.length?this.local.concat(s).sort(qf):this.local,i||this.children)}remove(t){return t.length==0||this==Mi?this:this.removeInner(t,0)}removeInner(t,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+n,l=r[o+1]+n;for(let d=0,f;d<t.length;d++)(f=t[d])&&f.from>a&&f.to<l&&(t[d]=null,(s||(s=[])).push(f));if(!s)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(s,a+1);u!=Mi?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<t.length;o++)if(s=t[o])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new _r(i,r):Mi}forChild(t,n){if(this==Mi)return this;if(n.isLeaf)return _r.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(r=this.children[a+2]);break}let o=t+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof Jc){let u=Math.max(o,l.from)-o,d=Math.min(s,l.to)-o;u<d&&(i||(i=[])).push(l.copy(u,d))}}if(i){let a=new _r(i.sort(qf),om);return r?new Lc([a,r]):a}return r||Mi}eq(t){if(this==t)return!0;if(!(t instanceof _r)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return NM(this.localsInner(t))}localsInner(t){if(this==Mi)return om;if(t.inlineContent||!this.local.some(Jc.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Jc||n.push(this.local[r]);return n}forEachSet(t){t(this)}}_r.empty=new _r([],[]);_r.removeOverlap=NM;const Mi=_r.empty;class Lc{constructor(t){this.members=t}map(t,n){const r=this.members.map(i=>i.map(t,n,Hf));return Lc.from(r)}forChild(t,n){if(n.isLeaf)return _r.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(t,n);o!=Mi&&(o instanceof Lc?r=r.concat(o.members):r.push(o))}return Lc.from(r)}eq(t){if(!(t instanceof Lc)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(t);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?NM(r?n:n.sort(qf)):om}static from(t){switch(t.length){case 0:return Mi;case 1:return t[0];default:return new Lc(t.every(n=>n instanceof _r)?t:t.reduce((n,r)=>n.concat(r instanceof _r?r:r.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function Gme(e,t,n,r,i,o,s){let a=e.slice();for(let u=0,d=o;u<n.maps.length;u++){let f=0;n.maps[u].forEach((g,m,b,x)=>{let k=x-b-(m-g);for(let T=0;T<a.length;T+=3){let E=a[T+1];if(E<0||g>E+d-f)continue;let $=a[T]+d-f;m>=$?a[T+1]=g<=$?-2:-1:g>=d&&k&&(a[T]+=k,a[T+1]+=k)}f+=k}),d=n.maps[u].map(d,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let d=n.map(e[u]+o),f=d-i;if(f<0||f>=r.content.size){l=!0;continue}let g=n.map(e[u+1]+o,-1),m=g-i,{index:b,offset:x}=r.content.findIndex(f),k=r.maybeChild(b);if(k&&x==f&&x+k.nodeSize==m){let T=a[u+2].mapInner(n,k,d+1,e[u]+o+1,s);T!=Mi?(a[u]=f,a[u+1]=m,a[u+2]=T):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=Yme(a,e,t,n,i,o,s),d=Ak(u,r,0,s);t=d.local;for(let f=0;f<a.length;f+=3)a[f+1]<0&&(a.splice(f,3),f-=3);for(let f=0,g=0;f<d.children.length;f+=3){let m=d.children[f];for(;g<a.length&&a[g]<m;)g+=3;a.splice(g,0,d.children[f],d.children[f+1],d.children[f+2])}}return new _r(t.sort(qf),a)}function n5(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let i=e[r];n.push(new Po(i.from+t,i.to+t,i.type))}return n}function Yme(e,t,n,r,i,o,s){function a(l,u){for(let d=0;d<l.local.length;d++){let f=l.local[d].map(r,i,u);f?n.push(f):s.onRemove&&s.onRemove(l.local[d].spec)}for(let d=0;d<l.children.length;d+=3)a(l.children[d+2],l.children[d]+u+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&a(e[l+2],t[l]+o+1);return n}function r5(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,i=null;for(let o=0,s;o<e.length;o++)(s=e[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),e[o]=null);return i}function i5(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function Ak(e,t,n,r){let i=[],o=!1;t.forEach((a,l)=>{let u=r5(e,a,l+n);if(u){o=!0;let d=Ak(u,a,n+l+1,r);d!=Mi&&i.push(l,l+a.nodeSize,d)}});let s=n5(o?i5(e):e,-n).sort(qf);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new _r(s,i):Mi}function qf(e,t){return e.from-t.from||e.to-t.to}function NM(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let i=n+1;i<t.length;i++){let o=t[i];if(o.from==r.from){o.to!=r.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,r.to),_z(t,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,o.from),_z(t,i,r.copy(o.from,r.to)));break}}}return t}function _z(e,t,n){for(;t<e.length&&qf(n,e[t])>0;)t++;e.splice(t,0,n)}function KC(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=Mi&&t.push(r)}),e.cursorWrapper&&t.push(_r.create(e.state.doc,[e.cursorWrapper.deco])),Lc.from(t)}const Xme={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Qme=No&&Hc<=11;class ege{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class tge{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new ege,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);No&&Hc<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),Qme&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Xme)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(gz(this.view)){if(this.suppressingSelectionUpdates)return Mu(this.view);if(No&&Hc<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&np(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,r;for(let o=t.focusNode;o;o=Gm(o))n.add(o);for(let o=t.anchorNode;o;o=Gm(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=t.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&gz(t)&&!this.ignoreSelectionChange(r),o=-1,s=-1,a=!1,l=[];if(t.editable)for(let d=0;d<n.length;d++){let f=this.registerMutation(n[d],l);f&&(o=o<0?f.from:Math.min(f.from,o),s=s<0?f.to:Math.max(f.to,s),f.typeOver&&(a=!0))}if(Hs&&l.length){let d=l.filter(f=>f.nodeName=="BR");if(d.length==2){let[f,g]=d;f.parentNode&&f.parentNode.parentNode==g.parentNode?g.remove():f.remove()}else{let{focusNode:f}=this.currentSelection;for(let g of d){let m=g.parentNode;m&&m.nodeName=="LI"&&(!f||ige(t,f)!=m)&&g.remove()}}}let u=null;o<0&&i&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&a1(r)&&(u=EM(t))&&u.eq(jt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Mu(t),this.currentSelection.set(r),t.scrollToSelection()):(o>-1||i)&&(o>-1&&(t.docView.markDirty(o,s),nge(t)),this.handleDOMChange(o,s,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(r)||Mu(t),this.currentSelection.set(r))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let r=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(r==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!r||r.ignoreMutation(t))return null;if(t.type=="childList"){for(let d=0;d<t.addedNodes.length;d++){let f=t.addedNodes[d];n.push(f),f.nodeType==3&&(this.lastChangedTextNode=f)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(t.target))return{from:r.posBefore,to:r.posAfter};let i=t.previousSibling,o=t.nextSibling;if(No&&Hc<=11&&t.addedNodes.length)for(let d=0;d<t.addedNodes.length;d++){let{previousSibling:f,nextSibling:g}=t.addedNodes[d];(!f||Array.prototype.indexOf.call(t.addedNodes,f)<0)&&(i=f),(!g||Array.prototype.indexOf.call(t.addedNodes,g)<0)&&(o=g)}let s=i&&i.parentNode==t.target?yi(i)+1:0,a=r.localPosFromDOM(t.target,s,-1),l=o&&o.parentNode==t.target?yi(o):t.target.childNodes.length,u=r.localPosFromDOM(t.target,l,1);return{from:a,to:u}}else return t.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=t.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let Tz=new WeakMap,Cz=!1;function nge(e){if(!Tz.has(e)&&(Tz.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Hs,Cz)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Cz=!0}}function Ez(e,t){let n=t.startContainer,r=t.startOffset,i=t.endContainer,o=t.endOffset,s=e.domAtPos(e.state.selection.anchor);return np(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function rge(e,t){if(t.getComposedRanges){let i=t.getComposedRanges(e.root)[0];if(i)return Ez(e,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",r,!0),n?Ez(e,n):null}function ige(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let r=e.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function oge(e,t,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=e.docView.parseRange(t,n),l=e.domSelectionRange(),u,d=l.anchorNode;if(d&&e.dom.contains(d.nodeType==1?d:d.parentNode)&&(u=[{node:d,offset:l.anchorOffset}],a1(l)||u.push({node:l.focusNode,offset:l.focusOffset})),Ni&&e.input.lastKeyCode===8)for(let k=o;k>i;k--){let T=r.childNodes[k-1],E=T.pmViewDesc;if(T.nodeName=="BR"&&!E){o=k;break}if(!E||E.size)break}let f=e.state.doc,g=e.someProp("domParser")||Wc.fromSchema(e.state.schema),m=f.resolve(s),b=null,x=g.parse(r,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:i,to:o,preserveWhitespace:m.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:sge,context:m});if(u&&u[0].pos!=null){let k=u[0].pos,T=u[1]&&u[1].pos;T==null&&(T=k),b={anchor:k+s,head:T+s}}return{doc:x,sel:b,from:s,to:a}}function sge(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(ao&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||ao&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const age=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function lge(e,t,n,r,i){let o=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let F=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,q=EM(e,F);if(q&&!e.state.selection.eq(q)){if(Ni&&_u&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",re=>re(e,Cf(13,"Enter"))))return;let Z=e.state.tr.setSelection(q);F=="pointer"?Z.setMeta("pointer",!0):F=="key"&&Z.scrollIntoView(),o&&Z.setMeta("composition",o),e.dispatch(Z)}return}let s=e.state.doc.resolve(t),a=s.sharedDepth(n);t=s.before(a+1),n=e.state.doc.resolve(n).after(a+1);let l=e.state.selection,u=oge(e,t,n),d=e.state.doc,f=d.slice(u.from,u.to),g,m;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(g=e.state.selection.to,m="end"):(g=e.state.selection.from,m="start"),e.input.lastKeyCode=null;let b=dge(f.content,u.doc.content,u.from,g,m);if(b&&e.input.domChangeCount++,(Ym&&e.input.lastIOSEnter>Date.now()-225||_u)&&i.some(F=>F.nodeType==1&&!age.test(F.nodeName))&&(!b||b.endA>=b.endB)&&e.someProp("handleKeyDown",F=>F(e,Cf(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!b)if(r&&l instanceof Ft&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))b={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let F=Iz(e,e.state.doc,u.sel);if(F&&!F.eq(e.state.selection)){let q=e.state.tr.setSelection(F);o&&q.setMeta("composition",o),e.dispatch(q)}}return}e.state.selection.from<e.state.selection.to&&b.start==b.endB&&e.state.selection instanceof Ft&&(b.start>e.state.selection.from&&b.start<=e.state.selection.from+2&&e.state.selection.from>=u.from?b.start=e.state.selection.from:b.endA<e.state.selection.to&&b.endA>=e.state.selection.to-2&&e.state.selection.to<=u.to&&(b.endB+=e.state.selection.to-b.endA,b.endA=e.state.selection.to)),No&&Hc<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>u.from&&u.doc.textBetween(b.start-u.from-1,b.start-u.from+1)=="  "&&(b.start--,b.endA--,b.endB--);let x=u.doc.resolveNoCache(b.start-u.from),k=u.doc.resolveNoCache(b.endB-u.from),T=d.resolve(b.start),E=x.sameParent(k)&&x.parent.inlineContent&&T.end()>=b.endA,$;if((Ym&&e.input.lastIOSEnter>Date.now()-225&&(!E||i.some(F=>F.nodeName=="DIV"||F.nodeName=="P"))||!E&&x.pos<u.doc.content.size&&(!x.sameParent(k)||!x.parent.inlineContent)&&!/\S/.test(u.doc.textBetween(x.pos,k.pos,"",""))&&($=jt.findFrom(u.doc.resolve(x.pos+1),1,!0))&&$.head>x.pos)&&e.someProp("handleKeyDown",F=>F(e,Cf(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>b.start&&cge(d,b.start,b.endA,x,k)&&e.someProp("handleKeyDown",F=>F(e,Cf(8,"Backspace")))){_u&&Ni&&e.domObserver.suppressSelectionUpdates();return}Ni&&b.endB==b.start&&(e.input.lastChromeDelete=Date.now()),_u&&!E&&x.start()!=k.start()&&k.parentOffset==0&&x.depth==k.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==b.endA&&(b.endB-=2,k=u.doc.resolveNoCache(b.endB-u.from),setTimeout(()=>{e.someProp("handleKeyDown",function(F){return F(e,Cf(13,"Enter"))})},20));let P=b.start,M=b.endA,R=F=>{let q=F||e.state.tr.replace(P,M,u.doc.slice(b.start-u.from,b.endB-u.from));if(u.sel){let Z=Iz(e,q.doc,u.sel);Z&&!(Ni&&e.composing&&Z.empty&&(b.start!=b.endB||e.input.lastChromeDelete<Date.now()-100)&&(Z.head==P||Z.head==q.mapping.map(M)-1)||No&&Z.empty&&Z.head==P)&&q.setSelection(Z)}return o&&q.setMeta("composition",o),q.scrollIntoView()},z;if(E){if(x.pos==k.pos){No&&Hc<=11&&x.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Mu(e),20));let F=R(e.state.tr.delete(P,M)),q=d.resolve(b.start).marksAcross(d.resolve(b.endA));q&&F.ensureMarks(q),e.dispatch(F)}else if(b.endA==b.endB&&(z=uge(x.parent.content.cut(x.parentOffset,k.parentOffset),T.parent.content.cut(T.parentOffset,b.endA-T.start())))){let F=R(e.state.tr);z.type=="add"?F.addMark(P,M,z.mark):F.removeMark(P,M,z.mark),e.dispatch(F)}else if(x.parent.child(x.index()).isText&&x.index()==k.index()-(k.textOffset?0:1)){let F=x.parent.textBetween(x.parentOffset,k.parentOffset),q=()=>R(e.state.tr.insertText(F,P,M));e.someProp("handleTextInput",Z=>Z(e,P,M,F,q))||e.dispatch(q())}}else e.dispatch(R())}function Iz(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:IM(e,t.resolve(n.anchor),t.resolve(n.head))}function uge(e,t){let n=e.firstChild.marks,r=t.firstChild.marks,i=n,o=r,s,a,l;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<n.length;d++)o=n[d].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=d=>d.mark(a.addToSet(d.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=d=>d.mark(a.removeFromSet(d.marks));else return null;let u=[];for(let d=0;d<t.childCount;d++)u.push(l(t.child(d)));if(Se.from(u).eq(e))return{mark:a,type:s}}function cge(e,t,n,r,i){if(n-t<=i.pos-r.pos||GC(r,!0,!1)<i.pos)return!1;let o=e.resolve(t);if(!r.parent.isTextblock){let a=o.nodeAfter;return a!=null&&n==t+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=e.resolve(GC(o,!0,!0));return!s.parent.isTextblock||s.pos>n||GC(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function GC(e,t,n){let r=e.depth,i=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,i++,t=!1;if(n){let o=e.node(r).maybeChild(e.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function dge(e,t,n,r,i){let o=e.findDiffStart(t,n);if(o==null)return null;let{a:s,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}if(s<o&&e.size<t.size){let l=r<=o&&r>=s?o-r:0;o-=l,o&&o<t.size&&Az(t.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=r<=o&&r>=a?o-r:0;o-=l,o&&o<e.size&&Az(e.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function Az(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class o5{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new $me,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Nz),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=Mz(this),Pz(this),this.nodeViews=Oz(this),this.docView=cz(this.state.doc,$z(this),KC(this),this.dom,this),this.domObserver=new tge(this,(r,i,o,s)=>lge(this,r,i,o,s)),this.domObserver.start(),Pme(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&CA(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(Nz),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in t)n[r]=t[r];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var r;let i=this.state,o=!1,s=!1;t.storedMarks&&this.composing&&(XZ(this),s=!0),this.state=t;let a=i.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let m=Oz(this);pge(m,this.nodeViews)&&(this.nodeViews=m,o=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&CA(this),this.editable=Mz(this),Pz(this);let l=KC(this),u=$z(this),d=i.plugins!=t.plugins&&!i.doc.eq(t.doc)?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",f=o||!this.docView.matchesNode(t.doc,u,l);(f||!t.selection.eq(i.selection))&&(s=!0);let g=d=="preserve"&&s&&this.dom.style.overflowAnchor==null&&Whe(this);if(s){this.domObserver.stop();let m=f&&(No||Ni)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&fge(i.selection,t.selection);if(f){let b=Ni?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Zme(this)),(o||!this.docView.update(t.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=cz(t.doc,u,l,this.dom,this)),b&&!this.trackWrites&&(m=!0)}m||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&mme(this))?Mu(this,m):(FZ(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,i),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():g&&Hhe(g)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof mt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&iz(this,n.getBoundingClientRect(),t)}else iz(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,t)}}updateDraggedNode(t,n){let r=t.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let o=r.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==r.node&&(i=o)}this.dragging=new e5(t.slice,t.move,i<0?void 0:mt.create(this.state.doc,i))}someProp(t,n){let r=this._props&&this._props[t],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[t];if(a!=null&&(i=n?n(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[t];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(No){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&qhe(this.dom),Mu(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return Xhe(this,t)}coordsAtPos(t,n=1){return MZ(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,r=-1){let i=this.docView.posFromDOM(t,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(t,n){return rme(this,n||this.state,t)}pasteHTML(t,n){return Mb(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return Mb(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return AM(this,t)}destroy(){this.docView&&(Mme(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],KC(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Nhe())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return Nme(this,t)}domSelectionRange(){let t=this.domSelection();return t?ao&&this.root.nodeType===11&&zhe(this.dom.ownerDocument)==this.dom&&rge(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}o5.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function $z(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let r in n)r=="class"?t.class+=" "+n[r]:r=="style"?t.style=(t.style?t.style+";":"")+n[r]:!t[r]&&r!="contenteditable"&&r!="nodeName"&&(t[r]=String(n[r]))}),t.translate||(t.translate="no"),[Po.node(0,e.state.doc.content.size,t)]}function Pz(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Po.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Mz(e){return!e.someProp("editable",t=>t(e.state)===!1)}function fge(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function Oz(e){let t=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(t,i)||(t[i]=r[i])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function pge(e,t){let n=0,r=0;for(let i in e){if(e[i]!=t[i])return!0;n++}for(let i in t)r++;return n!=r}function Nz(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var td={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},$k={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},hge=typeof navigator<"u"&&/Mac/.test(navigator.platform),mge=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var vi=0;vi<10;vi++)td[48+vi]=td[96+vi]=String(vi);for(var vi=1;vi<=24;vi++)td[vi+111]="F"+vi;for(var vi=65;vi<=90;vi++)td[vi]=String.fromCharCode(vi+32),$k[vi]=String.fromCharCode(vi);for(var YC in td)$k.hasOwnProperty(YC)||($k[YC]=td[YC]);function gge(e){var t=hge&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||mge&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?$k:td)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const yge=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),vge=typeof navigator<"u"&&/Win/.test(navigator.platform);function bge(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))yge?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function xge(e){let t=Object.create(null);for(let n in e)t[bge(n)]=e[n];return t}function XC(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function wge(e){return new Fi({props:{handleKeyDown:s5(e)}})}function s5(e){let t=xge(e);return function(n,r){let i=gge(r),o,s=t[XC(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=t[XC(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(vge&&r.ctrlKey&&r.altKey)&&(o=td[r.keyCode])&&o!=i){let a=t[XC(o,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const RM=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function a5(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const l5=(e,t,n)=>{let r=a5(e,n);if(!r)return!1;let i=DM(r);if(!i){let s=r.blockRange(),a=s&&Tg(s);return a==null?!1:(t&&t(e.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(y5(e,i,t,-1))return!0;if(r.parent.content.size==0&&(Xm(o,"end")||mt.isSelectable(o)))for(let s=r.depth;;s--){let a=s1(e.doc,r.before(s),r.after(s),Re.empty);if(a&&a.slice.size<a.to-a.from){if(t){let l=e.tr.step(a);l.setSelection(Xm(o,"end")?jt.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):mt.create(l.doc,i.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}if(s==1||r.node(s-1).childCount>1)break}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1},Sge=(e,t,n)=>{let r=a5(e,n);if(!r)return!1;let i=DM(r);return i?u5(e,i,t):!1},kge=(e,t,n)=>{let r=d5(e,n);if(!r)return!1;let i=jM(r);return i?u5(e,i,t):!1};function u5(e,t,n){let r=t.nodeBefore,i=r,o=t.pos-1;for(;!i.isTextblock;o--){if(i.type.spec.isolating)return!1;let d=i.lastChild;if(!d)return!1;i=d}let s=t.nodeAfter,a=s,l=t.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let d=a.firstChild;if(!d)return!1;a=d}let u=s1(e.doc,o,l,Re.empty);if(!u||u.from!=o||u instanceof Na&&u.slice.size>=l-o)return!1;if(n){let d=e.tr.step(u);d.setSelection(Ft.create(d.doc,o)),n(d.scrollIntoView())}return!0}function Xm(e,t,n=!1){for(let r=e;r;r=t=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const c5=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=DM(r)}let s=o&&o.nodeBefore;return!s||!mt.isSelectable(s)?!1:(t&&t(e.tr.setSelection(mt.create(e.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function DM(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function d5(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const f5=(e,t,n)=>{let r=d5(e,n);if(!r)return!1;let i=jM(r);if(!i)return!1;let o=i.nodeAfter;if(y5(e,i,t,1))return!0;if(r.parent.content.size==0&&(Xm(o,"start")||mt.isSelectable(o))){let s=s1(e.doc,r.before(),r.after(),Re.empty);if(s&&s.slice.size<s.to-s.from){if(t){let a=e.tr.step(s);a.setSelection(Xm(o,"start")?jt.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):mt.create(a.doc,a.mapping.map(i.pos))),t(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(t&&t(e.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},p5=(e,t,n)=>{let{$head:r,empty:i}=e.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=jM(r)}let s=o&&o.nodeAfter;return!s||!mt.isSelectable(s)?!1:(t&&t(e.tr.setSelection(mt.create(e.doc,o.pos)).scrollIntoView()),!0)};function jM(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const _ge=(e,t)=>{let n=e.selection,r=n instanceof mt,i;if(r){if(n.node.isTextblock||!fd(e.doc,n.from))return!1;i=n.from}else if(i=o1(e.doc,n.from,-1),i==null)return!1;if(t){let o=e.tr.join(i);r&&o.setSelection(mt.create(o.doc,i-e.doc.resolve(i).nodeBefore.nodeSize)),t(o.scrollIntoView())}return!0},Tge=(e,t)=>{let n=e.selection,r;if(n instanceof mt){if(n.node.isTextblock||!fd(e.doc,n.to))return!1;r=n.to}else if(r=o1(e.doc,n.to,1),r==null)return!1;return t&&t(e.tr.join(r).scrollIntoView()),!0},Cge=(e,t)=>{let{$from:n,$to:r}=e.selection,i=n.blockRange(r),o=i&&Tg(i);return o==null?!1:(t&&t(e.tr.lift(i,o).scrollIntoView()),!0)},h5=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function LM(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Ege=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=LM(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(t){let a=n.after(),l=e.tr.replaceWith(a,a,s.createAndFill());l.setSelection(jt.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},m5=(e,t)=>{let n=e.selection,{$from:r,$to:i}=n;if(n instanceof Pu||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=LM(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=e.tr.insert(s,o.createAndFill());a.setSelection(Ft.create(a.doc,s+1)),t(a.scrollIntoView())}return!0},g5=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if($u(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Tg(r);return i==null?!1:(t&&t(e.tr.lift(r,i).scrollIntoView()),!0)};function Ige(e){return(t,n)=>{let{$from:r,$to:i}=t.selection;if(t.selection instanceof mt&&t.selection.node.isBlock)return!r.parentOffset||!$u(t.doc,r.pos)?!1:(n&&n(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let o=[],s,a,l=!1,u=!1;for(let m=r.depth;;m--)if(r.node(m).isBlock){l=r.end(m)==r.pos+(r.depth-m),u=r.start(m)==r.pos-(r.depth-m),a=LM(r.node(m-1).contentMatchAt(r.indexAfter(m-1))),o.unshift(l&&a?{type:a}:null),s=m;break}else{if(m==1)return!1;o.unshift(null)}let d=t.tr;(t.selection instanceof Ft||t.selection instanceof Pu)&&d.deleteSelection();let f=d.mapping.map(r.pos),g=$u(d.doc,f,o.length,o);if(g||(o[0]=a?{type:a}:null,g=$u(d.doc,f,o.length,o)),!g)return!1;if(d.split(f,o.length,o),!l&&u&&r.node(s).type!=a){let m=d.mapping.map(r.before(s)),b=d.doc.resolve(m);a&&r.node(s-1).canReplaceWith(b.index(),b.index()+1,a)&&d.setNodeMarkup(d.mapping.map(r.before(s)),a)}return n&&n(d.scrollIntoView()),!0}}const Age=Ige(),$ge=(e,t)=>{let{$from:n,to:r}=e.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),t&&t(e.tr.setSelection(mt.create(e.doc,i))),!0)};function Pge(e,t,n){let r=t.nodeBefore,i=t.nodeAfter,o=t.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(i.isTextblock||fd(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function y5(e,t,n,r){let i=t.nodeBefore,o=t.nodeAfter,s,a,l=i.type.spec.isolating||o.type.spec.isolating;if(!l&&Pge(e,t,n))return!0;let u=!l&&t.parent.canReplace(t.index(),t.index()+1);if(u&&(s=(a=i.contentMatchAt(i.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(n){let m=t.pos+o.nodeSize,b=Se.empty;for(let T=s.length-1;T>=0;T--)b=Se.from(s[T].create(null,b));b=Se.from(i.copy(b));let x=e.tr.step(new Lo(t.pos-1,m,t.pos,m,new Re(b,1,0),s.length,!0)),k=x.doc.resolve(m+2*s.length);k.nodeAfter&&k.nodeAfter.type==i.type&&fd(x.doc,k.pos)&&x.join(k.pos),n(x.scrollIntoView())}return!0}let d=o.type.spec.isolating||r>0&&l?null:jt.findFrom(t,1),f=d&&d.$from.blockRange(d.$to),g=f&&Tg(f);if(g!=null&&g>=t.depth)return n&&n(e.tr.lift(f,g).scrollIntoView()),!0;if(u&&Xm(o,"start",!0)&&Xm(i,"end")){let m=i,b=[];for(;b.push(m),!m.isTextblock;)m=m.lastChild;let x=o,k=1;for(;!x.isTextblock;x=x.firstChild)k++;if(m.canReplace(m.childCount,m.childCount,x.content)){if(n){let T=Se.empty;for(let $=b.length-1;$>=0;$--)T=Se.from(b[$].copy(T));let E=e.tr.step(new Lo(t.pos-b.length,t.pos+o.nodeSize,t.pos+k,t.pos+o.nodeSize-k,new Re(T,b.length,0),0,!0));n(E.scrollIntoView())}return!0}}return!1}function v5(e){return function(t,n){let r=t.selection,i=e<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(t.tr.setSelection(Ft.create(t.doc,e<0?i.start(o):i.end(o)))),!0):!1}}const Mge=v5(-1),Oge=v5(1);function Nge(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=s&&TM(s,e,t);return a?(r&&r(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function Rz(e,t=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(s,a,(l,u)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)i=!0;else{let d=n.doc.resolve(u),f=d.index();i=d.parent.canReplaceWith(f,f+1,e)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];o.setBlockType(a,l,e,t)}r(o.scrollIntoView())}return!0}}function zM(...e){return function(t,n,r){for(let i=0;i<e.length;i++)if(e[i](t,n,r))return!0;return!1}}zM(RM,l5,c5);zM(RM,f5,p5);zM(h5,m5,g5,Age);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Rge(e,t=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o);if(!s)return!1;let a=r?n.tr:null;return Dge(a,s,e,t)?(r&&r(a.scrollIntoView()),!0):!1}}function Dge(e,t,n,r=null){let i=!1,o=t,s=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=s.resolve(t.start-2);o=new Sk(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new Sk(t.$from,s.resolve(t.$to.end(t.depth)),t.depth)),i=!0}let a=TM(o,n,r,t);return a?(e&&jge(e,t,a,i,n),!0):!1}function jge(e,t,n,r,i){let o=Se.empty;for(let d=n.length-1;d>=0;d--)o=Se.from(n[d].type.create(n[d].attrs,o));e.step(new Lo(t.start-(r?2:0),t.end,t.start,t.end,new Re(o,0,0),n.length,!0));let s=0;for(let d=0;d<n.length;d++)n[d].type==i&&(s=d+1);let a=n.length-s,l=t.start+n.length-(r?2:0),u=t.parent;for(let d=t.startIndex,f=t.endIndex,g=!0;d<f;d++,g=!1)!g&&$u(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=u.child(d).nodeSize;return e}function Lge(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==e);return o?n?r.node(o.depth-1).type==e?zge(t,n,e,o):Fge(t,n,o):!0:!1}}function zge(e,t,n,r){let i=e.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Lo(o-1,s,o,s,new Re(Se.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Sk(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=Tg(r);if(a==null)return!1;i.lift(r,a);let l=i.doc.resolve(i.mapping.map(o,-1)-1);return fd(i.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&i.join(l.pos),t(i.scrollIntoView()),!0}function Fge(e,t,n){let r=e.tr,i=n.parent;for(let m=n.end,b=n.endIndex-1,x=n.startIndex;b>x;b--)m-=i.child(b).nodeSize,r.delete(m-1,m+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,u=o.node(-1),d=o.index(-1);if(!u.canReplace(d+(a?0:1),d+1,s.content.append(l?Se.empty:Se.from(i))))return!1;let f=o.pos,g=f+s.nodeSize;return r.step(new Lo(f-(a?1:0),g+(l?1:0),f+1,g-1,new Re((a?Se.empty:Se.from(i.copy(Se.empty))).append(l?Se.empty:Se.from(i.copy(Se.empty))),a?0:1,l?0:1),a?0:1)),t(r.scrollIntoView()),!0}function Vge(e){return function(t,n){let{$from:r,$to:i}=t.selection,o=r.blockRange(i,u=>u.childCount>0&&u.firstChild.type==e);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=e)return!1;if(n){let u=l.lastChild&&l.lastChild.type==a.type,d=Se.from(u?e.create():null),f=new Re(Se.from(e.create(null,Se.from(a.type.create(null,d)))),u?3:1,0),g=o.start,m=o.end;n(t.tr.step(new Lo(g-(u?3:1),m,g,m,f,1,!0)).scrollIntoView())}return!0}}function c1(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class d1{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...d)=>{const f=l(...d)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a=[],l=!!t,u=t||o.tr,d=()=>(!l&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),a.every(g=>g===!0)),f={...Object.fromEntries(Object.entries(r).map(([g,m])=>[g,(...x)=>{const k=this.buildProps(u,n),T=m(...x)(k);return a.push(T),f}])),run:d};return f}createCan(t){const{rawCommands:n,state:r}=this,i=!1,o=t||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...d)=>u(...d)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(t,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,a={tr:t,editor:i,view:s,state:c1({state:o,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,u])=>[l,(...d)=>u(...d)(a)]))}};return a}}class Bge{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const r=this.callbacks[t];return r&&r.forEach(i=>i.apply(this,n)),this}off(t,n){const r=this.callbacks[t];return r&&(n?this.callbacks[t]=r.filter(i=>i!==n):delete this.callbacks[t]),this}once(t,n){const r=(...i)=>{this.off(t,r),n.apply(this,i)};return this.on(t,r)}removeAllListeners(){this.callbacks={}}}function Qe(e,t,n){return e.config[t]===void 0&&e.parent?Qe(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Qe(e.parent,t,n):null}):e.config[t]}function f1(e){const t=e.filter(i=>i.type==="extension"),n=e.filter(i=>i.type==="node"),r=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:r}}function b5(e){const t=[],{nodeExtensions:n,markExtensions:r}=f1(e),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage,extensions:i},l=Qe(s,"addGlobalAttributes",a);if(!l)return;l().forEach(d=>{d.types.forEach(f=>{Object.entries(d.attributes).forEach(([g,m])=>{t.push({type:f,name:g,attribute:{...o,...m}})})})})}),i.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=Qe(s,"addAttributes",a);if(!l)return;const u=l();Object.entries(u).forEach(([d,f])=>{const g={...o,...f};typeof g?.default=="function"&&(g.default=g.default()),g?.isRequired&&g?.default===void 0&&delete g.default,t.push({type:s.name,name:d,attribute:g})})}),t}function ii(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function Cr(...e){return e.filter(t=>!!t).reduce((t,n)=>{const r={...t};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}if(i==="class"){const a=o?String(o).split(" "):[],l=r[i]?r[i].split(" "):[],u=a.filter(d=>!l.includes(d));r[i]=[...l,...u].join(" ")}else if(i==="style"){const a=o?o.split(";").map(d=>d.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(d=>d.trim()).filter(Boolean):[],u=new Map;l.forEach(d=>{const[f,g]=d.split(":").map(m=>m.trim());u.set(f,g)}),a.forEach(d=>{const[f,g]=d.split(":").map(m=>m.trim());u.set(f,g)}),r[i]=Array.from(u.entries()).map(([d,f])=>`${d}: ${f}`).join("; ")}else r[i]=o}),r},{})}function Pk(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,r)=>Cr(n,r),{})}function x5(e){return typeof e=="function"}function Ut(e,t=void 0,...n){return x5(e)?t?e.bind(t)(...n):e(...n):e}function Uge(e={}){return Object.keys(e).length===0&&e.constructor===Object}function Zge(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function Dz(e,t){return"style"in e?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(r===!1)return!1;const i=t.reduce((o,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):Zge(n.getAttribute(s.name));return a==null?o:{...o,[s.name]:a}},{});return{...r,...i}}}}function jz(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&Uge(n)?!1:n!=null))}function Wge(e,t){var n;const r=b5(e),{nodeExtensions:i,markExtensions:o}=f1(e),s=(n=i.find(u=>Qe(u,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(i.map(u=>{const d=r.filter(T=>T.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:t},g=e.reduce((T,E)=>{const $=Qe(E,"extendNodeSchema",f);return{...T,...$?$(u):{}}},{}),m=jz({...g,content:Ut(Qe(u,"content",f)),marks:Ut(Qe(u,"marks",f)),group:Ut(Qe(u,"group",f)),inline:Ut(Qe(u,"inline",f)),atom:Ut(Qe(u,"atom",f)),selectable:Ut(Qe(u,"selectable",f)),draggable:Ut(Qe(u,"draggable",f)),code:Ut(Qe(u,"code",f)),whitespace:Ut(Qe(u,"whitespace",f)),linebreakReplacement:Ut(Qe(u,"linebreakReplacement",f)),defining:Ut(Qe(u,"defining",f)),isolating:Ut(Qe(u,"isolating",f)),attrs:Object.fromEntries(d.map(T=>{var E;return[T.name,{default:(E=T?.attribute)===null||E===void 0?void 0:E.default}]}))}),b=Ut(Qe(u,"parseHTML",f));b&&(m.parseDOM=b.map(T=>Dz(T,d)));const x=Qe(u,"renderHTML",f);x&&(m.toDOM=T=>x({node:T,HTMLAttributes:Pk(T,d)}));const k=Qe(u,"renderText",f);return k&&(m.toText=k),[u.name,m]})),l=Object.fromEntries(o.map(u=>{const d=r.filter(k=>k.type===u.name),f={name:u.name,options:u.options,storage:u.storage,editor:t},g=e.reduce((k,T)=>{const E=Qe(T,"extendMarkSchema",f);return{...k,...E?E(u):{}}},{}),m=jz({...g,inclusive:Ut(Qe(u,"inclusive",f)),excludes:Ut(Qe(u,"excludes",f)),group:Ut(Qe(u,"group",f)),spanning:Ut(Qe(u,"spanning",f)),code:Ut(Qe(u,"code",f)),attrs:Object.fromEntries(d.map(k=>{var T;return[k.name,{default:(T=k?.attribute)===null||T===void 0?void 0:T.default}]}))}),b=Ut(Qe(u,"parseHTML",f));b&&(m.parseDOM=b.map(k=>Dz(k,d)));const x=Qe(u,"renderHTML",f);return x&&(m.toDOM=k=>x({mark:k,HTMLAttributes:Pk(k,d)})),[u.name,m]}));return new rZ({topNode:s,nodes:a,marks:l})}function QC(e,t){return t.nodes[e]||t.marks[e]||null}function Lz(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function FM(e,t){const n=xp.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}const Hge=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(i,o,s,a)=>{var l,u;const d=((u=(l=i.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:i,pos:o,parent:s,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?d:d.slice(0,Math.max(0,r-o))}),n};function VM(e){return Object.prototype.toString.call(e)==="[object RegExp]"}class p1{constructor(t){this.find=t.find,this.handler=t.handler}}const qge=(e,t)=>{if(VM(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function qw(e){var t;const{editor:n,from:r,to:i,text:o,rules:s,plugin:a}=e,{view:l}=n;if(l.composing)return!1;const u=l.state.doc.resolve(r);if(u.parent.type.spec.code||!((t=u.nodeBefore||u.nodeAfter)===null||t===void 0)&&t.marks.find(g=>g.type.spec.code))return!1;let d=!1;const f=Hge(u)+o;return s.forEach(g=>{if(d)return;const m=qge(f,g.find);if(!m)return;const b=l.state.tr,x=c1({state:l.state,transaction:b}),k={from:r-(m[0].length-o.length),to:i},{commands:T,chain:E,can:$}=new d1({editor:n,state:x});g.handler({state:x,range:k,match:m,commands:T,chain:E,can:$})===null||!b.steps.length||(b.setMeta(a,{transform:b,from:r,to:i,text:o}),l.dispatch(b),d=!0)}),d}function Jge(e){const{editor:t,rules:n}=e,r=new Fi({state:{init(){return null},apply(i,o,s){const a=i.getMeta(r);if(a)return a;const l=i.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:d}=l;typeof d=="string"?d=d:d=FM(Se.from(d),s.schema);const{from:f}=l,g=f+d.length;qw({editor:t,from:f,to:g,text:d,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:o}},props:{handleTextInput(i,o,s,a){return qw({editor:t,from:o,to:s,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&qw({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?qw({editor:t,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function Kge(e){return Object.prototype.toString.call(e).slice(8,-1)}function Jw(e){return Kge(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function h1(e,t){const n={...e};return Jw(e)&&Jw(t)&&Object.keys(t).forEach(r=>{Jw(t[r])&&Jw(e[r])?n[r]=h1(e[r],t[r]):n[r]=t[r]}),n}class Ra{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ut(Qe(this,"addOptions",{name:this.name}))),this.storage=Ut(Qe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Ra(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>h1(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new Ra(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ut(Qe(n,"addOptions",{name:n.name})),n.storage=Ut(Qe(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:t,mark:n}){const{tr:r}=t.state,i=t.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(u=>u?.type.name===n.name))return!1;const l=s.find(u=>u?.type.name===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),t.view.dispatch(r),!0}return!1}}function Gge(e){return typeof e=="number"}class Yge{constructor(t){this.find=t.find,this.handler=t.handler}}const Xge=(e,t,n)=>{if(VM(t))return[...e.matchAll(t)];const r=t(e,n);return r?r.map(i=>{const o=[i.text];return o.index=i.index,o.input=e,o.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(i.replaceWith)),o}):[]};function Qge(e){const{editor:t,state:n,from:r,to:i,rule:o,pasteEvent:s,dropEvent:a}=e,{commands:l,chain:u,can:d}=new d1({editor:t,state:n}),f=[];return n.doc.nodesBetween(r,i,(m,b)=>{if(!m.isTextblock||m.type.spec.code)return;const x=Math.max(r,b),k=Math.min(i,b+m.content.size),T=m.textBetween(x-b,k-b,void 0,"￼");Xge(T,o.find,s).forEach($=>{if($.index===void 0)return;const P=x+$.index+1,M=P+$[0].length,R={from:n.tr.mapping.map(P),to:n.tr.mapping.map(M)},z=o.handler({state:n,range:R,match:$,commands:l,chain:u,can:d,pasteEvent:s,dropEvent:a});f.push(z)})}),f.every(m=>m!==null)}let Kw=null;const eye=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)===null||t===void 0||t.setData("text/html",e),n};function tye(e){const{editor:t,rules:n}=e;let r=null,i=!1,o=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:d,from:f,to:g,rule:m,pasteEvt:b})=>{const x=d.tr,k=c1({state:d,transaction:x});if(!(!Qge({editor:t,state:k,from:Math.max(f-1,0),to:g.b-1,rule:m,pasteEvent:b,dropEvent:a})||!x.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,x}};return n.map(d=>new Fi({view(f){const g=b=>{var x;r=!((x=f.dom.parentElement)===null||x===void 0)&&x.contains(b.target)?f.dom.parentElement:null,r&&(Kw=t)},m=()=>{Kw&&(Kw=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",m),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",m)}}},props:{handleDOMEvents:{drop:(f,g)=>{if(o=r===f.dom.parentElement,a=g,!o){const m=Kw;m?.isEditable&&setTimeout(()=>{const b=m.state.selection;b&&m.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(f,g)=>{var m;const b=(m=g.clipboardData)===null||m===void 0?void 0:m.getData("text/html");return s=g,i=!!b?.includes("data-pm-slice"),!1}}},appendTransaction:(f,g,m)=>{const b=f[0],x=b.getMeta("uiEvent")==="paste"&&!i,k=b.getMeta("uiEvent")==="drop"&&!o,T=b.getMeta("applyPasteRules"),E=!!T;if(!x&&!k&&!E)return;if(E){let{text:M}=T;typeof M=="string"?M=M:M=FM(Se.from(M),m.schema);const{from:R}=T,z=R+M.length,F=eye(M);return l({rule:d,state:m,from:R,to:{b:z},pasteEvt:F})}const $=g.doc.content.findDiffStart(m.doc.content),P=g.doc.content.findDiffEnd(m.doc.content);if(!(!Gge($)||!P||$===P.b))return l({rule:d,state:m,from:$,to:P,pasteEvt:s})}}))}function nye(e){const t=e.filter((n,r)=>e.indexOf(n)!==r);return Array.from(new Set(t))}class xm{constructor(t,n){this.splittableMarks=[],this.editor=n,this.extensions=xm.resolve(t),this.schema=Wge(this.extensions,n),this.setupExtensions()}static resolve(t){const n=xm.sort(xm.flatten(t)),r=nye(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(t){return t.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=Qe(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(t){return t.sort((r,i)=>{const o=Qe(r,"priority")||100,s=Qe(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((t,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:QC(n.name,this.schema)},i=Qe(n,"addCommands",r);return i?{...t,...i()}:t},{})}get plugins(){const{editor:t}=this,n=xm.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:t,type:QC(s.name,this.schema)},l=[],u=Qe(s,"addKeyboardShortcuts",a);let d={};if(s.type==="mark"&&Qe(s,"exitable",a)&&(d.ArrowRight=()=>Ra.handleExit({editor:t,mark:s})),u){const x=Object.fromEntries(Object.entries(u()).map(([k,T])=>[k,()=>T({editor:t})]));d={...d,...x}}const f=wge(d);l.push(f);const g=Qe(s,"addInputRules",a);Lz(s,t.options.enableInputRules)&&g&&r.push(...g());const m=Qe(s,"addPasteRules",a);Lz(s,t.options.enablePasteRules)&&m&&i.push(...m());const b=Qe(s,"addProseMirrorPlugins",a);if(b){const x=b();l.push(...x)}return l}).flat();return[Jge({editor:t,rules:r}),...tye({editor:t,rules:i}),...o]}get attributes(){return b5(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:n}=f1(this.extensions);return Object.fromEntries(n.filter(r=>!!Qe(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:t,type:ii(r.name,this.schema)},s=Qe(r,"addNodeView",o);if(!s)return[];const a=(l,u,d,f,g)=>{const m=Pk(l,i);return s()({node:l,view:u,getPos:d,decorations:f,innerDecorations:g,editor:t,extension:r,HTMLAttributes:m})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(t=>{var n;this.editor.extensionStorage[t.name]=t.storage;const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:QC(t.name,this.schema)};t.type==="mark"&&(!((n=Ut(Qe(t,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(t.name);const i=Qe(t,"onBeforeCreate",r),o=Qe(t,"onCreate",r),s=Qe(t,"onUpdate",r),a=Qe(t,"onSelectionUpdate",r),l=Qe(t,"onTransaction",r),u=Qe(t,"onFocus",r),d=Qe(t,"onBlur",r),f=Qe(t,"onDestroy",r);i&&this.editor.on("beforeCreate",i),o&&this.editor.on("create",o),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),u&&this.editor.on("focus",u),d&&this.editor.on("blur",d),f&&this.editor.on("destroy",f)})}}class ji{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ut(Qe(this,"addOptions",{name:this.name}))),this.storage=Ut(Qe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new ji(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>h1(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new ji({...this.config,...t});return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ut(Qe(n,"addOptions",{name:n.name})),n.storage=Ut(Qe(n,"addStorage",{name:n.name,options:n.options})),n}}function w5(e,t,n){const{from:r,to:i}=t,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let a="";return e.nodesBetween(r,i,(l,u,d,f)=>{var g;l.isBlock&&u>r&&(a+=o);const m=s?.[l.type.name];if(m)return d&&(a+=m({node:l,pos:u,parent:d,index:f,range:t})),!1;l.isText&&(a+=(g=l?.text)===null||g===void 0?void 0:g.slice(Math.max(r,u)-u,i-u))}),a}function S5(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}const rye=ji.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Fi({key:new hs("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:i}=t,{ranges:o}=i,s=Math.min(...o.map(d=>d.$from.pos)),a=Math.max(...o.map(d=>d.$to.pos)),l=S5(n);return w5(r,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),iye=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window?.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),oye=(e=!1)=>({commands:t})=>t.setContent("",e),sye=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{e.doc.nodesBetween(o.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:u,mapping:d}=t,f=u.resolve(d.map(l)),g=u.resolve(d.map(l+a.nodeSize)),m=f.blockRange(g);if(!m)return;const b=Tg(m);if(a.type.isTextblock){const{defaultType:x}=f.parent.contentMatchAt(f.index());t.setNodeMarkup(m.start,x)}(b||b===0)&&t.lift(m,b)})}),!0},aye=e=>t=>e(t),lye=()=>({state:e,dispatch:t})=>m5(e,t),uye=(e,t)=>({editor:n,tr:r})=>{const{state:i}=n,o=i.doc.slice(e.from,e.to);r.deleteRange(e.from,e.to);const s=r.mapping.map(t);return r.insert(s,o.content),r.setSelection(new Ft(r.doc.resolve(Math.max(s-1,0)))),!0},cye=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,r=n.$anchor.node();if(r.content.size>0)return!1;const i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(t){const a=i.before(o),l=i.after(o);e.delete(a,l).scrollIntoView()}return!0}return!1},dye=e=>({tr:t,state:n,dispatch:r})=>{const i=ii(e,n.schema),o=t.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const l=o.before(s),u=o.after(s);t.delete(l,u).scrollIntoView()}return!0}return!1},fye=e=>({tr:t,dispatch:n})=>{const{from:r,to:i}=e;return n&&t.delete(r,i),!0},pye=()=>({state:e,dispatch:t})=>RM(e,t),hye=()=>({commands:e})=>e.keyboardShortcut("Enter"),mye=()=>({state:e,dispatch:t})=>Ege(e,t);function Mk(e,t,n={strict:!0}){const r=Object.keys(t);return r.length?r.every(i=>n.strict?t[i]===e[i]:VM(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function k5(e,t,n={}){return e.find(r=>r.type===t&&Mk(Object.fromEntries(Object.keys(n).map(i=>[i,r.attrs[i]])),n))}function zz(e,t,n={}){return!!k5(e,t,n)}function BM(e,t,n){var r;if(!e||!t)return;let i=e.parent.childAfter(e.parentOffset);if((!i.node||!i.node.marks.some(d=>d.type===t))&&(i=e.parent.childBefore(e.parentOffset)),!i.node||!i.node.marks.some(d=>d.type===t)||(n=n||((r=i.node.marks[0])===null||r===void 0?void 0:r.attrs),!k5([...i.node.marks],t,n)))return;let s=i.index,a=e.start()+i.offset,l=s+1,u=a+i.node.nodeSize;for(;s>0&&zz([...e.parent.child(s-1).marks],t,n);)s-=1,a-=e.parent.child(s).nodeSize;for(;l<e.parent.childCount&&zz([...e.parent.child(l).marks],t,n);)u+=e.parent.child(l).nodeSize,l+=1;return{from:a,to:u}}function hd(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}const gye=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const o=hd(e,r.schema),{doc:s,selection:a}=n,{$from:l,from:u,to:d}=a;if(i){const f=BM(l,o,t);if(f&&f.from<=u&&f.to>=d){const g=Ft.create(s,f.from,f.to);n.setSelection(g)}}return!0},yye=e=>t=>{const n=typeof e=="function"?e(t):e;for(let r=0;r<n.length;r+=1)if(n[r](t))return!0;return!1};function _5(e){return e instanceof Ft}function Of(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function T5(e,t=null){if(!t)return null;const n=jt.atStart(e),r=jt.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return r;const i=n.from,o=r.to;return t==="all"?Ft.create(e,Of(0,i,o),Of(e.content.size,i,o)):Ft.create(e,Of(t,i,o),Of(t,i,o))}function C5(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function m1(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const vye=(e=null,t={})=>({editor:n,view:r,tr:i,dispatch:o})=>{t={scrollIntoView:!0,...t};const s=()=>{(m1()||C5())&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),t?.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&e===null||e===!1)return!0;if(o&&e===null&&!_5(n.state.selection))return s(),!0;const a=T5(i.doc,e)||n.state.selection,l=n.state.selection.eq(a);return o&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},bye=(e,t)=>n=>e.every((r,i)=>t(r,{...n,index:i})),xye=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),E5=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const r=t[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?e.removeChild(r):r.nodeType===1&&E5(r)}return e};function Gw(e){const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return E5(n)}function Nb(e,t,n){if(e instanceof Au||e instanceof Se)return e;n={slice:!0,parseOptions:{},...n};const r=typeof e=="object"&&e!==null,i=typeof e=="string";if(r)try{if(Array.isArray(e)&&e.length>0)return Se.fromArray(e.map(a=>t.nodeFromJSON(a)));const s=t.nodeFromJSON(e);return n.errorOnInvalidContent&&s.check(),s}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",o),Nb("",t,n)}if(i){if(n.errorOnInvalidContent){let s=!1,a="";const l=new rZ({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(s=!0,a=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?Wc.fromSchema(l).parseSlice(Gw(e),n.parseOptions):Wc.fromSchema(l).parse(Gw(e),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const o=Wc.fromSchema(t);return n.slice?o.parseSlice(Gw(e),n.parseOptions).content:o.parse(Gw(e),n.parseOptions)}return Nb("",t,n)}function wye(e,t,n){const r=e.steps.length-1;if(r<t)return;const i=e.steps[r];if(!(i instanceof Na||i instanceof Lo))return;const o=e.mapping.maps[r];let s=0;o.forEach((a,l,u,d)=>{s===0&&(s=d)}),e.setSelection(jt.near(e.doc.resolve(s),n))}const Sye=e=>!("type"in e),kye=(e,t,n)=>({tr:r,dispatch:i,editor:o})=>{var s;if(i){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=k=>{o.emit("contentError",{editor:o,error:k,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{Nb(t,o.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(k){l(k)}try{a=Nb(t,o.schema,{parseOptions:u,errorOnInvalidContent:(s=n.errorOnInvalidContent)!==null&&s!==void 0?s:o.options.enableContentCheck})}catch(k){return l(k),!1}let{from:d,to:f}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},g=!0,m=!0;if((Sye(a)?a:[a]).forEach(k=>{k.check(),g=g?k.isText&&k.marks.length===0:!1,m=m?k.isBlock:!1}),d===f&&m){const{parent:k}=r.doc.resolve(d);k.isTextblock&&!k.type.spec.code&&!k.childCount&&(d-=1,f+=1)}let x;if(g){if(Array.isArray(t))x=t.map(k=>k.text||"").join("");else if(t instanceof Se){let k="";t.forEach(T=>{T.text&&(k+=T.text)}),x=k}else typeof t=="object"&&t&&t.text?x=t.text:x=t;r.insertText(x,d,f)}else x=a,r.replaceWith(d,f,x);n.updateSelection&&wye(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:x}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:x})}return!0},_ye=()=>({state:e,dispatch:t})=>_ge(e,t),Tye=()=>({state:e,dispatch:t})=>Tge(e,t),Cye=()=>({state:e,dispatch:t})=>l5(e,t),Eye=()=>({state:e,dispatch:t})=>f5(e,t),Iye=()=>({state:e,dispatch:t,tr:n})=>{try{const r=o1(e.doc,e.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},Aye=()=>({state:e,dispatch:t,tr:n})=>{try{const r=o1(e.doc,e.selection.$from.pos,1);return r==null?!1:(n.join(r,2),t&&t(n),!0)}catch{return!1}},$ye=()=>({state:e,dispatch:t})=>Sge(e,t),Pye=()=>({state:e,dispatch:t})=>kge(e,t);function I5(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Mye(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<t.length-1;a+=1){const l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))m1()||I5()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const Oye=e=>({editor:t,view:n,tr:r,dispatch:i})=>{const o=Mye(e).split(/-(?!$)/),s=o.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,a))});return l?.steps.forEach(u=>{const d=u.map(r.mapping);d&&i&&r.maybeStep(d)}),!0};function Rb(e,t,n={}){const{from:r,to:i,empty:o}=e.selection,s=t?ii(t,e.schema):null,a=[];e.doc.nodesBetween(r,i,(f,g)=>{if(f.isText)return;const m=Math.max(r,g),b=Math.min(i,g+f.nodeSize);a.push({node:f,from:m,to:b})});const l=i-r,u=a.filter(f=>s?s.name===f.node.type.name:!0).filter(f=>Mk(f.node.attrs,n,{strict:!1}));return o?!!u.length:u.reduce((f,g)=>f+g.to-g.from,0)>=l}const Nye=(e,t={})=>({state:n,dispatch:r})=>{const i=ii(e,n.schema);return Rb(n,i,t)?Cge(n,r):!1},Rye=()=>({state:e,dispatch:t})=>g5(e,t),Dye=e=>({state:t,dispatch:n})=>{const r=ii(e,t.schema);return Lge(r)(t,n)},jye=()=>({state:e,dispatch:t})=>h5(e,t);function g1(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function Fz(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((r,i)=>(n.includes(i)||(r[i]=e[i]),r),{})}const Lye=(e,t)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=g1(typeof e=="string"?e:e.name,r.schema);return a?(a==="node"&&(o=ii(e,r.schema)),a==="mark"&&(s=hd(e,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,d)=>{o&&o===u.type&&n.setNodeMarkup(d,void 0,Fz(u.attrs,t)),s&&u.marks.length&&u.marks.forEach(f=>{s===f.type&&n.addMark(d,d+u.nodeSize,s.create(Fz(f.attrs,t)))})})}),!0):!1},zye=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),Fye=()=>({tr:e,dispatch:t})=>{if(t){const n=new Pu(e.doc);e.setSelection(n)}return!0},Vye=()=>({state:e,dispatch:t})=>c5(e,t),Bye=()=>({state:e,dispatch:t})=>p5(e,t),Uye=()=>({state:e,dispatch:t})=>$ge(e,t),Zye=()=>({state:e,dispatch:t})=>Oge(e,t),Wye=()=>({state:e,dispatch:t})=>Mge(e,t);function EA(e,t,n={},r={}){return Nb(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const Hye=(e,t=!1,n={},r={})=>({editor:i,tr:o,dispatch:s,commands:a})=>{var l,u;const{doc:d}=o;if(n.preserveWhitespace!=="full"){const f=EA(e,i.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return s&&o.replaceWith(0,d.content.size,f).setMeta("preventUpdate",!t),!0}return s&&o.setMeta("preventUpdate",!t),a.insertContentAt({from:0,to:d.content.size},e,{parseOptions:n,errorOnInvalidContent:(u=r.errorOnInvalidContent)!==null&&u!==void 0?u:i.options.enableContentCheck})};function A5(e,t){const n=hd(t,e.schema),{from:r,to:i,empty:o}=e.selection,s=[];o?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,i,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function qye(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Jye(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function UM(e){return t=>Jye(t.$from,e)}function Kye(e,t){const n={from:0,to:e.content.size};return w5(e,n,t)}function Gye(e,t){const n=ii(t,e.schema),{from:r,to:i}=e.selection,o=[];e.doc.nodesBetween(r,i,a=>{o.push(a)});const s=o.reverse().find(a=>a.type.name===n.name);return s?{...s.attrs}:{}}function Yye(e,t){const n=g1(typeof t=="string"?t:t.name,e.schema);return n==="node"?Gye(e,t):n==="mark"?A5(e,t):{}}function $5(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(i=>{const o=n.resolve(e),s=BM(o,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(e,t,(i,o)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function jS(e,t,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=e.find(o=>o.type===t&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function IA(e,t,n={}){const{empty:r,ranges:i}=e.selection,o=t?hd(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(f=>o?o.name===f.type.name:!0).find(f=>Mk(f.attrs,n,{strict:!1}));let s=0;const a=[];if(i.forEach(({$from:f,$to:g})=>{const m=f.pos,b=g.pos;e.doc.nodesBetween(m,b,(x,k)=>{if(!x.isText&&!x.marks.length)return;const T=Math.max(m,k),E=Math.min(b,k+x.nodeSize),$=E-T;s+=$,a.push(...x.marks.map(P=>({mark:P,from:T,to:E})))})}),s===0)return!1;const l=a.filter(f=>o?o.name===f.mark.type.name:!0).filter(f=>Mk(f.mark.attrs,n,{strict:!1})).reduce((f,g)=>f+g.to-g.from,0),u=a.filter(f=>o?f.mark.type!==o&&f.mark.type.excludes(o):!0).reduce((f,g)=>f+g.to-g.from,0);return(l>0?l+u:l)>=s}function Xye(e,t,n={}){if(!t)return Rb(e,null,n)||IA(e,null,n);const r=g1(t,e.schema);return r==="node"?Rb(e,t,n):r==="mark"?IA(e,t,n):!1}function Vz(e,t){const{nodeExtensions:n}=f1(t),r=n.find(s=>s.name===e);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=Ut(Qe(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function y1(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((r=e.text)!==null&&r!==void 0?r:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let i=!0;return e.content.forEach(o=>{i!==!1&&(y1(o,{ignoreWhitespace:n,checkChildren:t})||(i=!1))}),i}return!1}function Qye(e){return e instanceof mt}function eve(e,t,n){var r;const{selection:i}=t;let o=null;if(_5(i)&&(o=i.$cursor),o){const a=(r=e.storedMarks)!==null&&r!==void 0?r:o.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:s}=i;return s.some(({$from:a,$to:l})=>{let u=a.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(a.pos,l.pos,(d,f,g)=>{if(u)return!1;if(d.isInline){const m=!g||g.type.allowsMarkType(n),b=!!n.isInSet(d.marks)||!d.marks.some(x=>x.type.excludes(n));u=m&&b}return!u}),u})}const tve=(e,t={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:a}=o,l=hd(e,r.schema);if(i)if(s){const u=A5(r,l);n.addStoredMark(l.create({...u,...t}))}else a.forEach(u=>{const d=u.$from.pos,f=u.$to.pos;r.doc.nodesBetween(d,f,(g,m)=>{const b=Math.max(m,d),x=Math.min(m+g.nodeSize,f);g.marks.find(T=>T.type===l)?g.marks.forEach(T=>{l===T.type&&n.addMark(b,x,l.create({...T.attrs,...t}))}):n.addMark(b,x,l.create(t))})});return eve(r,n,l)},nve=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),rve=(e,t={})=>({state:n,dispatch:r,chain:i})=>{const o=ii(e,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),o.isTextblock?i().command(({commands:a})=>Rz(o,{...s,...t})(n)?!0:a.clearNodes()).command(({state:a})=>Rz(o,{...s,...t})(a,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},ive=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,i=Of(e,0,r.content.size),o=mt.create(r,i);t.setSelection(o)}return!0},ove=e=>({tr:t,dispatch:n})=>{if(n){const{doc:r}=t,{from:i,to:o}=typeof e=="number"?{from:e,to:e}:e,s=Ft.atStart(r).from,a=Ft.atEnd(r).to,l=Of(i,s,a),u=Of(o,s,a),d=Ft.create(r,l,u);t.setSelection(d)}return!0},sve=e=>({state:t,dispatch:n})=>{const r=ii(e,t.schema);return Vge(r)(t,n)};function Bz(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(i=>t?.includes(i.type.name));e.tr.ensureMarks(r)}}const ave=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=t,{$from:a,$to:l}=o,u=i.extensionManager.attributes,d=jS(u,a.node().type.name,a.node().attrs);if(o instanceof mt&&o.node.isBlock)return!a.parentOffset||!$u(s,a.pos)?!1:(r&&(e&&Bz(n,i.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const f=l.parentOffset===l.parent.content.size,g=a.depth===0?void 0:qye(a.node(-1).contentMatchAt(a.indexAfter(-1)));let m=f&&g?[{type:g,attrs:d}]:void 0,b=$u(t.doc,t.mapping.map(a.pos),1,m);if(!m&&!b&&$u(t.doc,t.mapping.map(a.pos),1,g?[{type:g}]:void 0)&&(b=!0,m=g?[{type:g,attrs:d}]:void 0),r){if(b&&(o instanceof Ft&&t.deleteSelection(),t.split(t.mapping.map(a.pos),1,m),g&&!f&&!a.parentOffset&&a.parent.type!==g)){const x=t.mapping.map(a.before()),k=t.doc.resolve(x);a.node(-1).canReplaceWith(k.index(),k.index()+1,g)&&t.setNodeMarkup(t.mapping.map(a.before()),g)}e&&Bz(n,i.extensionManager.splittableMarks),t.scrollIntoView()}return b},lve=(e,t={})=>({tr:n,state:r,dispatch:i,editor:o})=>{var s;const a=ii(e,r.schema),{$from:l,$to:u}=r.selection,d=r.selection.node;if(d&&d.isBlock||l.depth<2||!l.sameParent(u))return!1;const f=l.node(-1);if(f.type!==a)return!1;const g=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let T=Se.empty;const E=l.index(-1)?1:l.index(-2)?2:3;for(let F=l.depth-E;F>=l.depth-3;F-=1)T=Se.from(l.node(F).copy(T));const $=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,P={...jS(g,l.node().type.name,l.node().attrs),...t},M=((s=a.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(P))||void 0;T=T.append(Se.from(a.createAndFill(null,M)||void 0));const R=l.before(l.depth-(E-1));n.replace(R,l.after(-$),new Re(T,4-E,0));let z=-1;n.doc.nodesBetween(R,n.doc.content.size,(F,q)=>{if(z>-1)return!1;F.isTextblock&&F.content.size===0&&(z=q+1)}),z>-1&&n.setSelection(Ft.near(n.doc.resolve(z))),n.scrollIntoView()}return!0}const m=u.pos===l.end()?f.contentMatchAt(0).defaultType:null,b={...jS(g,f.type.name,f.attrs),...t},x={...jS(g,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,u.pos);const k=m?[{type:a,attrs:b},{type:m,attrs:x}]:[{type:a,attrs:b}];if(!$u(n.doc,l.pos,2))return!1;if(i){const{selection:T,storedMarks:E}=r,{splittableMarks:$}=o.extensionManager,P=E||T.$to.parentOffset&&T.$from.marks();if(n.split(l.pos,2,k).scrollIntoView(),!P||!i)return!0;const M=P.filter(R=>$.includes(R.type.name));n.ensureMarks(M)}return!0},eE=(e,t)=>{const n=UM(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===i?.type&&fd(e.doc,n.pos)&&e.join(n.pos),!0},tE=(e,t)=>{const n=UM(s=>s.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=e.doc.nodeAt(r);return n.node.type===i?.type&&fd(e.doc,r)&&e.join(r),!0},uve=(e,t,n,r={})=>({editor:i,tr:o,state:s,dispatch:a,chain:l,commands:u,can:d})=>{const{extensions:f,splittableMarks:g}=i.extensionManager,m=ii(e,s.schema),b=ii(t,s.schema),{selection:x,storedMarks:k}=s,{$from:T,$to:E}=x,$=T.blockRange(E),P=k||x.$to.parentOffset&&x.$from.marks();if(!$)return!1;const M=UM(R=>Vz(R.type.name,f))(x);if($.depth>=1&&M&&$.depth-M.depth<=1){if(M.node.type===m)return u.liftListItem(b);if(Vz(M.node.type.name,f)&&m.validContent(M.node.content)&&a)return l().command(()=>(o.setNodeMarkup(M.pos,m),!0)).command(()=>eE(o,m)).command(()=>tE(o,m)).run()}return!n||!P||!a?l().command(()=>d().wrapInList(m,r)?!0:u.clearNodes()).wrapInList(m,r).command(()=>eE(o,m)).command(()=>tE(o,m)).run():l().command(()=>{const R=d().wrapInList(m,r),z=P.filter(F=>g.includes(F.type.name));return o.ensureMarks(z),R?!0:u.clearNodes()}).wrapInList(m,r).command(()=>eE(o,m)).command(()=>tE(o,m)).run()},cve=(e,t={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=hd(e,r.schema);return IA(r,s,t)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,t)},dve=(e,t,n={})=>({state:r,commands:i})=>{const o=ii(e,r.schema),s=ii(t,r.schema),a=Rb(r,o,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(s,l):i.setNode(o,{...l,...n})},fve=(e,t={})=>({state:n,commands:r})=>{const i=ii(e,n.schema);return Rb(n,i,t)?r.lift(i):r.wrapIn(i,t)},pve=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){const s=e.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,e.schema.text(o.text,l))}else s.delete(o.from,o.to)}return!0}}return!1},hve=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:i}=n;return r||t&&i.forEach(o=>{e.removeMark(o.$from.pos,o.$to.pos)}),!0},mve=(e,t={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=t,{selection:a}=n,l=hd(e,r.schema),{$from:u,empty:d,ranges:f}=a;if(!i)return!0;if(d&&s){let{from:g,to:m}=a;const b=(o=u.marks().find(k=>k.type===l))===null||o===void 0?void 0:o.attrs,x=BM(u,l,b);x&&(g=x.from,m=x.to),n.removeMark(g,m,l)}else f.forEach(g=>{n.removeMark(g.$from.pos,g.$to.pos,l)});return n.removeStoredMark(l),!0},gve=(e,t={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const a=g1(typeof e=="string"?e:e.name,r.schema);return a?(a==="node"&&(o=ii(e,r.schema)),a==="mark"&&(s=hd(e,r.schema)),i&&n.selection.ranges.forEach(l=>{const u=l.$from.pos,d=l.$to.pos;let f,g,m,b;n.selection.empty?r.doc.nodesBetween(u,d,(x,k)=>{o&&o===x.type&&(m=Math.max(k,u),b=Math.min(k+x.nodeSize,d),f=k,g=x)}):r.doc.nodesBetween(u,d,(x,k)=>{k<u&&o&&o===x.type&&(m=Math.max(k,u),b=Math.min(k+x.nodeSize,d),f=k,g=x),k>=u&&k<=d&&(o&&o===x.type&&n.setNodeMarkup(k,void 0,{...x.attrs,...t}),s&&x.marks.length&&x.marks.forEach(T=>{if(s===T.type){const E=Math.max(k,u),$=Math.min(k+x.nodeSize,d);n.addMark(E,$,s.create({...T.attrs,...t}))}}))}),g&&(f!==void 0&&n.setNodeMarkup(f,void 0,{...g.attrs,...t}),s&&g.marks.length&&g.marks.forEach(x=>{s===x.type&&n.addMark(m,b,s.create({...x.attrs,...t}))}))}),!0):!1},yve=(e,t={})=>({state:n,dispatch:r})=>{const i=ii(e,n.schema);return Nge(i,t)(n,r)},vve=(e,t={})=>({state:n,dispatch:r})=>{const i=ii(e,n.schema);return Rge(i,t)(n,r)};var bve=Object.freeze({__proto__:null,blur:iye,clearContent:oye,clearNodes:sye,command:aye,createParagraphNear:lye,cut:uye,deleteCurrentNode:cye,deleteNode:dye,deleteRange:fye,deleteSelection:pye,enter:hye,exitCode:mye,extendMarkRange:gye,first:yye,focus:vye,forEach:bye,insertContent:xye,insertContentAt:kye,joinBackward:Cye,joinDown:Tye,joinForward:Eye,joinItemBackward:Iye,joinItemForward:Aye,joinTextblockBackward:$ye,joinTextblockForward:Pye,joinUp:_ye,keyboardShortcut:Oye,lift:Nye,liftEmptyBlock:Rye,liftListItem:Dye,newlineInCode:jye,resetAttributes:Lye,scrollIntoView:zye,selectAll:Fye,selectNodeBackward:Vye,selectNodeForward:Bye,selectParentNode:Uye,selectTextblockEnd:Zye,selectTextblockStart:Wye,setContent:Hye,setMark:tve,setMeta:nve,setNode:rve,setNodeSelection:ive,setTextSelection:ove,sinkListItem:sve,splitBlock:ave,splitListItem:lve,toggleList:uve,toggleMark:cve,toggleNode:dve,toggleWrap:fve,undoInputRule:pve,unsetAllMarks:hve,unsetMark:mve,updateAttributes:gve,wrapIn:yve,wrapInList:vve});const xve=ji.create({name:"commands",addCommands(){return{...bve}}}),wve=ji.create({name:"drop",addProseMirrorPlugins(){return[new Fi({key:new hs("tiptapDrop"),props:{handleDrop:(e,t,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:r})}}})]}}),Sve=ji.create({name:"editable",addProseMirrorPlugins(){return[new Fi({key:new hs("editable"),props:{editable:()=>this.editor.options.editable}})]}}),kve=new hs("focusEvents"),_ve=ji.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Fi({key:kve,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),Tve=ji.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:u}=a,{empty:d,$anchor:f}=l,{pos:g,parent:m}=f,b=f.parent.isTextblock&&g>0?a.doc.resolve(g-1):f,x=b.parent.type.spec.isolating,k=f.pos-f.parentOffset,T=x&&b.parent.childCount===1?k===f.pos:jt.atStart(u).from===g;return!d||!m.type.isTextblock||m.textContent.length||!T||T&&f.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return m1()||I5()?o:i},addProseMirrorPlugins(){return[new Fi({key:new hs("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(x=>x.getMeta("composition")))return;const r=e.some(x=>x.docChanged)&&!t.doc.eq(n.doc),i=e.some(x=>x.getMeta("preventClearDocument"));if(!r||i)return;const{empty:o,from:s,to:a}=t.selection,l=jt.atStart(t.doc).from,u=jt.atEnd(t.doc).to;if(o||!(s===l&&a===u)||!y1(n.doc))return;const g=n.tr,m=c1({state:n,transaction:g}),{commands:b}=new d1({editor:this.editor,state:m});if(b.clearNodes(),!!g.steps.length)return g}})]}}),Cve=ji.create({name:"paste",addProseMirrorPlugins(){return[new Fi({key:new hs("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),Eve=ji.create({name:"tabindex",addProseMirrorPlugins(){return[new Fi({key:new hs("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Ef{get name(){return this.node.type.name}constructor(t,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=t,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!==null&&t!==void 0?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new Ef(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Ef(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Ef(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,s=this.pos+r+(o?0:1);if(s<0||s>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(s);if(!i&&a.depth<=this.depth)return;const l=new Ef(a,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),t.push(new Ef(a,this.editor,i,i?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===t)if(Object.keys(n).length>0){const o=i.node.attrs,s=Object.keys(n);for(let a=0;a<s.length;a+=1){const l=s[a];if(o[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const o=Object.keys(n);return this.children.forEach(s=>{r&&i.length>0||(s.node.type.name===t&&o.every(l=>n[l]===s.node.attrs[l])&&i.push(s),!(r&&i.length>0)&&(i=i.concat(s.querySelectorAll(t,n,r))))}),i}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}}const Ive=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function Ave(e,t,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return t&&i.setAttribute("nonce",t),i.setAttribute("data-tiptap-style",""),i.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(i),i}class P5 extends Bge{constructor(t={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:i})=>this.options.onDrop(n,r,i)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=Ave(Ive,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,n=!0){this.setOptions({editable:t}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,n){const r=x5(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(t){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(t).forEach(o=>{const s=typeof o=="string"?`${o}$`:o.key;r=r.filter(a=>!a.key.startsWith(s))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var t,n;const i=[...this.options.enableCoreExtensions?[Sve,rye.configure({blockSeparator:(n=(t=this.options.coreExtensionOptions)===null||t===void 0?void 0:t.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),xve,_ve,Tve,Eve,wve,Cve].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o?.type));this.extensionManager=new xm(i,this)}createCommandManager(){this.commandManager=new d1({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var t;let n;try{n=EA(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),n=EA(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=T5(n,this.options.autofocus);this.view=new o5(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)===null||t===void 0?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:bm.create({doc:n,selection:r||void 0})});const i=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(i),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(s=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(s)});return}const n=this.state.apply(t),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:t,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t}),r&&this.emit("selectionUpdate",{editor:this,transaction:t});const i=t.getMeta("focus"),o=t.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:t}),o&&this.emit("blur",{editor:this,event:o.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return Yye(this.state,t)}isActive(t,n){const r=typeof t=="string"?t:null,i=typeof t=="string"?n:t;return Xye(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return FM(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:n=`

`,textSerializers:r={}}=t||{};return Kye(this.state.doc,{blockSeparator:n,textSerializers:{...S5(this.schema),...r}})}get isEmpty(){return y1(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const t=this.view.dom;t&&t.editor&&delete t.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}$node(t,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(t,n))||null}$nodes(t,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(t,n))||null}$pos(t){const n=this.state.doc.resolve(t);return new Ef(n,this)}get $doc(){return this.$pos(0)}}function Qm(e){return new p1({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Ut(e.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=t,s=r[r.length-1],a=r[0];if(s){const l=a.search(/\S/),u=n.from+a.indexOf(s),d=u+s.length;if($5(n.from,n.to,t.doc).filter(m=>m.mark.type.excluded.find(x=>x===e.type&&x!==m.mark.type)).filter(m=>m.to>u).length)return null;d<n.to&&o.delete(d,n.to),u>n.from&&o.delete(n.from+l,u);const g=n.from+l+s.length;o.addMark(n.from+l,g,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}function $ve(e){return new p1({find:e.find,handler:({state:t,range:n,match:r})=>{const i=Ut(e.getAttributes,void 0,r)||{},{tr:o}=t,s=n.from;let a=n.to;const l=e.type.create(i);if(r[1]){const u=r[0].lastIndexOf(r[1]);let d=s+u;d>a?d=a:a=d+r[1].length;const f=r[0][r[0].length-1];o.insertText(f,s+r[0].length-1),o.replaceWith(d,a,l)}else if(r[0]){const u=e.type.isInline?s:s-1;o.insert(u,e.type.create(i)).delete(o.mapping.map(s),o.mapping.map(a))}o.scrollIntoView()}})}function AA(e){return new p1({find:e.find,handler:({state:t,range:n,match:r})=>{const i=t.doc.resolve(n.from),o=Ut(e.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,o)}})}function Db(e){return new p1({find:e.find,handler:({state:t,range:n,match:r,chain:i})=>{const o=Ut(e.getAttributes,void 0,r)||{},s=t.tr.delete(n.from,n.to),l=s.doc.resolve(n.from).blockRange(),u=l&&TM(l,e.type,o);if(!u)return null;if(s.wrap(l,u),e.keepMarks&&e.editor){const{selection:f,storedMarks:g}=t,{splittableMarks:m}=e.editor.extensionManager,b=g||f.$to.parentOffset&&f.$from.marks();if(b){const x=b.filter(k=>m.includes(k.type.name));s.ensureMarks(x)}}if(e.keepAttributes){const f=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(f,o).run()}const d=s.doc.resolve(n.from-1).nodeBefore;d&&d.type===e.type&&fd(s.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,d))&&s.join(n.from-1)}})}let ea=class $A{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Ut(Qe(this,"addOptions",{name:this.name}))),this.storage=Ut(Qe(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new $A(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>h1(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new $A(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Ut(Qe(n,"addOptions",{name:n.name})),n.storage=Ut(Qe(n,"addStorage",{name:n.name,options:n.options})),n}};class Pve{constructor(t,n,r){this.isDragging=!1,this.component=t,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.innerDecorations=n.innerDecorations,this.view=n.view,this.HTMLAttributes=n.HTMLAttributes,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(t){var n,r,i,o,s,a,l;const{view:u}=this.editor,d=t.target,f=d.nodeType===3?(n=d.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):d.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(d)||!f)return;let g=0,m=0;if(this.dom!==f){const E=this.dom.getBoundingClientRect(),$=f.getBoundingClientRect(),P=(i=t.offsetX)!==null&&i!==void 0?i:(o=t.nativeEvent)===null||o===void 0?void 0:o.offsetX,M=(s=t.offsetY)!==null&&s!==void 0?s:(a=t.nativeEvent)===null||a===void 0?void 0:a.offsetY;g=$.x-E.x+P,m=$.y-E.y+M}const b=this.dom.cloneNode(!0);(l=t.dataTransfer)===null||l===void 0||l.setDragImage(b,g,m);const x=this.getPos();if(typeof x!="number")return;const k=mt.create(u.state.doc,x),T=u.state.tr.setSelection(k);u.dispatch(T)}stopEvent(t){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:t});const r=t.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const o=t.type.startsWith("drag"),s=t.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!s&&!o)return!0;const{isEditable:l}=this.editor,{isDragging:u}=this,d=!!this.node.type.spec.draggable,f=mt.isSelectable(this.node),g=t.type==="copy",m=t.type==="paste",b=t.type==="cut",x=t.type==="mousedown";if(!d&&f&&o&&t.target===this.dom&&t.preventDefault(),d&&o&&!u&&t.target===this.dom)return t.preventDefault(),!1;if(d&&l&&!u&&x){const k=r.closest("[data-drag-handle]");k&&(this.dom===k||this.dom.contains(k))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(u||s||g||m||b||x&&f)}ignoreMutation(t){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:t}):this.node.isLeaf||this.node.isAtom?!0:t.type==="selection"||this.dom.contains(t.target)&&t.type==="childList"&&(m1()||C5())&&this.editor.isFocused&&[...Array.from(t.addedNodes),...Array.from(t.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===t.target&&t.type==="attributes"?!0:!this.contentDOM.contains(t.target)}updateAttributes(t){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return typeof r!="number"?!1:(n.setNodeMarkup(r,void 0,{...this.node.attrs,...t}),!0)})}deleteNode(){const t=this.getPos();if(typeof t!="number")return;const n=t+this.node.nodeSize;this.editor.commands.deleteRange({from:t,to:n})}}function eg(e){return new Yge({find:e.find,handler:({state:t,range:n,match:r,pasteEvent:i})=>{const o=Ut(e.getAttributes,void 0,r,i);if(o===!1||o===null)return null;const{tr:s}=t,a=r[r.length-1],l=r[0];let u=n.to;if(a){const d=l.search(/\S/),f=n.from+l.indexOf(a),g=f+a.length;if($5(n.from,n.to,t.doc).filter(b=>b.mark.type.excluded.find(k=>k===e.type&&k!==b.mark.type)).filter(b=>b.to>f).length)return null;g<n.to&&s.delete(g,n.to),f>n.from&&s.delete(n.from+d,f),u=n.from+d+a.length,s.addMark(n.from+d,u,e.type.create(o||{})),s.removeStoredMark(e.type)}}})}function Mve(e,t){const{selection:n}=e,{$from:r}=n;if(n instanceof mt){const o=r.index();return r.parent.canReplaceWith(o,o+1,t)}let i=r.depth;for(;i>=0;){const o=r.index(i);if(r.node(i).contentMatchAt(o).matchType(t))return!0;i-=1}return!1}function Ove(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}const M5=ea.create({name:"doc",topNode:!0,content:"block+"}),Nve=ji.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Fi({key:new hs("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=t,i=[];if(!n)return null;const o=this.editor.isEmpty;return e.descendants((s,a)=>{const l=r>=a&&r<=a+s.nodeSize,u=!s.isLeaf&&y1(s);if((l||!this.options.showOnlyCurrent)&&u){const d=[this.options.emptyNodeClass];o&&d.push(this.options.emptyEditorClass);const f=Po.node(a,a+s.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:s,pos:a,hasAnchor:l}):this.options.placeholder});i.push(f)}return this.options.includeChildren}),_r.create(e,i)}}})]}});function Rve(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var O5={exports:{}},nE={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uz;function Dve(){if(Uz)return nE;Uz=1;var e=Xt;function t(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,o=e.useLayoutEffect,s=e.useDebugValue;function a(f,g){var m=g(),b=r({inst:{value:m,getSnapshot:g}}),x=b[0].inst,k=b[1];return o(function(){x.value=m,x.getSnapshot=g,l(x)&&k({inst:x})},[f,m,g]),i(function(){return l(x)&&k({inst:x}),f(function(){l(x)&&k({inst:x})})},[f]),s(m),m}function l(f){var g=f.getSnapshot;f=f.value;try{var m=g();return!n(f,m)}catch{return!0}}function u(f,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:a;return nE.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:d,nE}O5.exports=Dve();var ZM=O5.exports;const jve=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},Lve=({contentComponent:e})=>{const t=ZM.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return Xt.createElement(Xt.Fragment,null,Object.values(t))};function zve(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,r){t={...t,[n]:sie.createPortal(r.reactElement,r.element,n)},e.forEach(i=>i())},removeRenderer(n){const r={...t};delete r[n],t=r,e.forEach(i=>i())}}}class Fve extends Xt.Component{constructor(t){var n;super(t),this.editorContentRef=Xt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=t.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const n=this.editorContentRef.current;n.append(...t.options.element.childNodes),t.setOptions({element:n}),t.contentComponent=zve(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const t=this.props.editor;if(!t||(this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null,!t.options.element.firstChild))return;const n=document.createElement("div");n.append(...t.options.element.childNodes),t.setOptions({element:n})}render(){const{editor:t,innerRef:n,...r}=this.props;return Xt.createElement(Xt.Fragment,null,Xt.createElement("div",{ref:jve(n,this.editorContentRef),...r}),t?.contentComponent&&Xt.createElement(Lve,{contentComponent:t.contentComponent}))}}const Vve=D.forwardRef((e,t)=>{const n=Xt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return Xt.createElement(Fve,{key:n,innerRef:t,...e})}),N5=Xt.memo(Vve);var Bve=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t instanceof Map&&n instanceof Map){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;for(i of t.entries())if(!e(i[1],n.get(i[0])))return!1;return!0}if(t instanceof Set&&n instanceof Set){if(t.size!==n.size)return!1;for(i of t.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(n)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(t[i]!==n[i])return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!(s==="_owner"&&t.$$typeof)&&!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n},Uve=Rve(Bve),R5={exports:{}},rE={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zz;function Zve(){if(Zz)return rE;Zz=1;var e=Xt,t=ZM;function n(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,o=e.useRef,s=e.useEffect,a=e.useMemo,l=e.useDebugValue;return rE.useSyncExternalStoreWithSelector=function(u,d,f,g,m){var b=o(null);if(b.current===null){var x={hasValue:!1,value:null};b.current=x}else x=b.current;b=a(function(){function T(R){if(!E){if(E=!0,$=R,R=g(R),m!==void 0&&x.hasValue){var z=x.value;if(m(z,R))return P=z}return P=R}if(z=P,r($,R))return z;var F=g(R);return m!==void 0&&m(z,F)?z:($=R,P=F)}var E=!1,$,P,M=f===void 0?null:f;return[function(){return T(d())},M===null?void 0:function(){return T(M())}]},[d,f,g,m]);var k=i(u,b[0],b[1]);return s(function(){x.hasValue=!0,x.value=k},[k]),l(k),k},rE}R5.exports=Zve();var Wve=R5.exports;const Hve=typeof window<"u"?D.useLayoutEffect:D.useEffect;class qve{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function Jve(e){var t;const[n]=D.useState(()=>new qve(e.editor)),r=Wve.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,(t=e.equalityFn)!==null&&t!==void 0?t:Uve);return Hve(()=>n.watch(e.editor),[e.editor,n]),D.useDebugValue(r),r}const Kve=!1,PA=typeof window>"u",Gve=PA||!!(typeof window<"u"&&window.next);class WM{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?PA||Gve?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t={...this.options.current,onBeforeCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onBeforeCreate)===null||o===void 0?void 0:o.call(i,...r)},onBlur:(...r)=>{var i,o;return(o=(i=this.options.current).onBlur)===null||o===void 0?void 0:o.call(i,...r)},onCreate:(...r)=>{var i,o;return(o=(i=this.options.current).onCreate)===null||o===void 0?void 0:o.call(i,...r)},onDestroy:(...r)=>{var i,o;return(o=(i=this.options.current).onDestroy)===null||o===void 0?void 0:o.call(i,...r)},onFocus:(...r)=>{var i,o;return(o=(i=this.options.current).onFocus)===null||o===void 0?void 0:o.call(i,...r)},onSelectionUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onSelectionUpdate)===null||o===void 0?void 0:o.call(i,...r)},onTransaction:(...r)=>{var i,o;return(o=(i=this.options.current).onTransaction)===null||o===void 0?void 0:o.call(i,...r)},onUpdate:(...r)=>{var i,o;return(o=(i=this.options.current).onUpdate)===null||o===void 0?void 0:o.call(i,...r)},onContentError:(...r)=>{var i,o;return(o=(i=this.options.current).onContentError)===null||o===void 0?void 0:o.call(i,...r)},onDrop:(...r)=>{var i,o;return(o=(i=this.options.current).onDrop)===null||o===void 0?void 0:o.call(i,...r)},onPaste:(...r)=>{var i,o;return(o=(i=this.options.current).onPaste)===null||o===void 0?void 0:o.call(i,...r)}};return new P5(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,n){return Object.keys(t).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&t.extensions&&n.extensions?t.extensions.length!==n.extensions.length?!1:t.extensions.every((i,o)=>{var s;return i===((s=n.extensions)===null||s===void 0?void 0:s[o])}):t[r]===n[r])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?WM.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((r,i)=>r===t[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===t&&this.setEditor(null))},1)}}function Yve(e={},t=[]){const n=D.useRef(e);n.current=e;const[r]=D.useState(()=>new WM(n)),i=ZM.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return D.useDebugValue(i),D.useEffect(r.onRender(t)),Jve({editor:i,selector:({transactionNumber:o})=>e.shouldRerenderOnTransaction===!1?null:e.immediatelyRender&&o===0?0:o+1}),i}const Xve=D.createContext({editor:null});Xve.Consumer;const D5=D.createContext({onDragStart:void 0}),Qve=()=>D.useContext(D5),Wz=Xt.forwardRef((e,t)=>{const{onDragStart:n}=Qve(),r=e.as||"div";return Xt.createElement(r,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});function Hz(e){return!!(typeof e=="function"&&e.prototype&&e.prototype.isReactComponent)}function qz(e){return!!(typeof e=="object"&&e.$$typeof&&(e.$$typeof.toString()==="Symbol(react.forward_ref)"||e.$$typeof.description==="react.forward_ref"))}function ebe(e){return!!(typeof e=="object"&&e.$$typeof&&(e.$$typeof.toString()==="Symbol(react.memo)"||e.$$typeof.description==="react.memo"))}function tbe(e){if(Hz(e)||qz(e))return!0;if(ebe(e)){const t=e.type;if(t)return Hz(t)||qz(t)}return!1}function nbe(){try{if(D.version)return parseInt(D.version.split(".")[0],10)>=19}catch{}return!1}class j5{constructor(t,{editor:n,props:r={},as:i="div",className:o=""}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=t,this.editor=n,this.props=r,this.element=document.createElement(i),this.element.classList.add("react-renderer"),o&&this.element.classList.add(...o.split(" ")),this.editor.isInitialized?fU.flushSync(()=>{this.render()}):queueMicrotask(()=>{this.render()})}render(){var t;const n=this.component,r=this.props,i=this.editor,o=nbe(),s=tbe(n),a={...r};a.ref&&!(o||s)&&delete a.ref,!a.ref&&(o||s)&&(a.ref=l=>{this.ref=l}),this.reactElement=Xt.createElement(n,{...a}),(t=i?.contentComponent)===null||t===void 0||t.setRenderer(this.id,this)}updateProps(t={}){this.props={...this.props,...t},this.render()}destroy(){var t;const n=this.editor;(t=n?.contentComponent)===null||t===void 0||t.removeRenderer(this.id)}updateAttributes(t){Object.keys(t).forEach(n=>{this.element.setAttribute(n,t[n])})}}class rbe extends Pve{constructor(t,n,r){if(super(t,n,r),!this.node.isLeaf){this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement.dataset.nodeViewContentReact="",this.contentDOMElement.dataset.nodeViewWrapper="",this.contentDOMElement.style.whiteSpace="inherit";const i=this.dom.querySelector("[data-node-view-content]");if(!i)return;i.appendChild(this.contentDOMElement)}}mount(){const t={editor:this.editor,node:this.node,decorations:this.decorations,innerDecorations:this.innerDecorations,view:this.view,selected:!1,extension:this.extension,HTMLAttributes:this.HTMLAttributes,getPos:()=>this.getPos(),updateAttributes:(u={})=>this.updateAttributes(u),deleteNode:()=>this.deleteNode(),ref:D.createRef()};if(!this.component.displayName){const u=d=>d.charAt(0).toUpperCase()+d.substring(1);this.component.displayName=u(this.extension.name)}const i={onDragStart:this.onDragStart.bind(this),nodeViewContentRef:u=>{u&&this.contentDOMElement&&u.firstChild!==this.contentDOMElement&&(u.hasAttribute("data-node-view-wrapper")&&u.removeAttribute("data-node-view-wrapper"),u.appendChild(this.contentDOMElement))}},o=this.component,s=D.memo(u=>Xt.createElement(D5.Provider,{value:i},D.createElement(o,u)));s.displayName="ReactNodeView";let a=this.node.isInline?"span":"div";this.options.as&&(a=this.options.as);const{className:l=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.renderer=new j5(s,{editor:this.editor,props:t,as:a,className:`node-${this.node.type.name} ${l}`.trim()}),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.updateElementAttributes()}get dom(){var t;if(this.renderer.element.firstElementChild&&!(!((t=this.renderer.element.firstElementChild)===null||t===void 0)&&t.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:t,to:n}=this.editor.state.selection,r=this.getPos();if(typeof r=="number")if(t<=r&&n>=r+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(t,n,r){const i=o=>{this.renderer.updateProps(o),typeof this.options.attrs=="function"&&this.updateElementAttributes()};if(t.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const o=this.node,s=this.decorations,a=this.innerDecorations;return this.node=t,this.decorations=n,this.innerDecorations=r,this.options.update({oldNode:o,oldDecorations:s,newNode:t,newDecorations:n,oldInnerDecorations:a,innerDecorations:r,updateProps:()=>i({node:t,decorations:n,innerDecorations:r})})}return t===this.node&&this.decorations===n&&this.innerDecorations===r||(this.node=t,this.decorations=n,this.innerDecorations=r,i({node:t,decorations:n,innerDecorations:r})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}updateElementAttributes(){if(this.options.attrs){let t={};if(typeof this.options.attrs=="function"){const n=this.editor.extensionManager.attributes,r=Pk(this.node,n);t=this.options.attrs({node:this.node,HTMLAttributes:r})}else t=this.options.attrs;this.renderer.updateAttributes(t)}}}function ibe(e,t){return n=>n.editor.contentComponent?new rbe(e,n,t):{}}const obe=/^\s*>\s$/,sbe=ea.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return["blockquote",Cr(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Db({find:obe,type:this.type})]}}),abe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,lbe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,ube=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,cbe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,dbe=Ra.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",Cr(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Qm({find:abe,type:this.type}),Qm({find:ube,type:this.type})]},addPasteRules(){return[eg({find:lbe,type:this.type}),eg({find:cbe,type:this.type})]}}),fbe="listItem",Jz="textStyle",Kz=/^\s*([-+*])\s$/,pbe=ea.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",Cr(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(fbe,this.editor.getAttributes(Jz)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Db({find:Kz,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Db({find:Kz,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Jz),editor:this.editor})),[e]}}),hbe=/(^|[^`])`([^`]+)`(?!`)/,mbe=/(^|[^`])`([^`]+)`(?!`)/g,gbe=Ra.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",Cr(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Qm({find:hbe,type:this.type})]},addPasteRules(){return[eg({find:mbe,type:this.type})]}}),ybe=/^```([a-z]+)?[\s\n]$/,vbe=/^~~~([a-z]+)?[\s\n]$/,bbe=ea.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,o=[...((t=e.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",Cr(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:e.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?e.commands.command(({tr:u})=>(u.setSelection(jt.near(r.resolve(a))),!0)):e.commands.exitCode()}}},addInputRules(){return[AA({find:ybe,type:this.type,getAttributes:e=>({language:e[1]})}),AA({find:vbe,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Fi({key:new hs("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i?.mode;if(!n||!o)return!1;const{tr:s,schema:a}=e.state,l=a.text(n.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:o},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(Ft.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),e.dispatch(s),!0}}})]}});function xbe(e={}){return new Fi({view(t){return new wbe(t,e)}})}class wbe{constructor(t,n){var r;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let o=s=>{this[i](s)};return t.dom.addEventListener(i,o),{name:i,handler:o}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,r,i=this.editorView.dom,o=i.getBoundingClientRect(),s=o.width/i.offsetWidth,a=o.height/i.offsetHeight;if(n){let f=t.nodeBefore,g=t.nodeAfter;if(f||g){let m=this.editorView.nodeDOM(this.cursorPos-(f?f.nodeSize:0));if(m){let b=m.getBoundingClientRect(),x=f?b.bottom:b.top;f&&g&&(x=(x+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let k=this.width/2*a;r={left:b.left,right:b.right,top:x-k,bottom:x+k}}}}if(!r){let f=this.editorView.coordsAtPos(this.cursorPos),g=this.width/2*s;r={left:f.left-g,right:f.left+g,top:f.top,bottom:f.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,d;if(!l||l==document.body&&getComputedStyle(l).position=="static")u=-pageXOffset,d=-pageYOffset;else{let f=l.getBoundingClientRect(),g=f.width/l.offsetWidth,m=f.height/l.offsetHeight;u=f.left-l.scrollLeft*g,d=f.top-l.scrollTop*m}this.element.style.left=(r.left-u)/s+"px",this.element.style.top=(r.top-d)/a+"px",this.element.style.width=(r.right-r.left)/s+"px",this.element.style.height=(r.bottom-r.top)/a+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,t):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=hZ(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}const Sbe=ji.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[xbe(this.options)]}});class vr extends jt{constructor(t){super(t,t)}map(t,n){let r=t.resolve(n.map(this.head));return vr.valid(r)?new vr(r):jt.near(r)}content(){return Re.empty}eq(t){return t instanceof vr&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new vr(t.resolve(n.pos))}getBookmark(){return new HM(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!kbe(t)||!_be(t))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(t.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(t,n,r=!1){e:for(;;){if(!r&&vr.valid(t))return t;let i=t.pos,o=null;for(let s=t.depth;;s--){let a=t.node(s);if(n>0?t.indexAfter(s)<a.childCount:t.index(s)>0){o=a.child(n>0?t.indexAfter(s):t.index(s)-1);break}else if(s==0)return null;i+=n;let l=t.doc.resolve(i);if(vr.valid(l))return l}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!mt.isSelectable(o)){t=t.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let a=t.doc.resolve(i);if(vr.valid(a))return a}return null}}}vr.prototype.visible=!1;vr.findFrom=vr.findGapCursorFrom;jt.jsonID("gapcursor",vr);class HM{constructor(t){this.pos=t}map(t){return new HM(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return vr.valid(n)?new vr(n):jt.near(n)}}function kbe(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function _be(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function Tbe(){return new Fi({props:{decorations:Abe,createSelectionBetween(e,t,n){return t.pos==n.pos&&vr.valid(n)?new vr(n):null},handleClick:Ebe,handleKeyDown:Cbe,handleDOMEvents:{beforeinput:Ibe}}})}const Cbe=s5({ArrowLeft:Yw("horiz",-1),ArrowRight:Yw("horiz",1),ArrowUp:Yw("vert",-1),ArrowDown:Yw("vert",1)});function Yw(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(r,i,o){let s=r.selection,a=t>0?s.$to:s.$from,l=s.empty;if(s instanceof Ft){if(!o.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(t>0?a.after():a.before())}let u=vr.findGapCursorFrom(a,t,l);return u?(i&&i(r.tr.setSelection(new vr(u))),!0):!1}}function Ebe(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!vr.valid(r))return!1;let i=e.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&mt.isSelectable(e.state.doc.nodeAt(i.inside))?!1:(e.dispatch(e.state.tr.setSelection(new vr(r))),!0)}function Ibe(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof vr))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let i=Se.empty;for(let s=r.length-1;s>=0;s--)i=Se.from(r[s].createAndFill(null,i));let o=e.state.tr.replace(n.pos,n.pos,new Re(i,0,0));return o.setSelection(Ft.near(o.doc.resolve(n.pos+1))),e.dispatch(o),!1}function Abe(e){if(!(e.selection instanceof vr))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",_r.create(e.doc,[Po.widget(e.selection.head,t,{key:"gapcursor"})])}const $be=ji.create({name:"gapCursor",addProseMirrorPlugins(){return[Tbe()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Ut(Qe(e,"allowGapCursor",n)))!==null&&t!==void 0?t:null}}}),Pbe=ea.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",Cr(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=r.extensionManager,l=o||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:u,dispatch:d})=>{if(d&&l&&s){const f=l.filter(g=>a.includes(g.type.name));u.ensureMarks(f)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Mbe=ea.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,Cr(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>AA({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}});var Ok=200,ri=function(){};ri.prototype.append=function(t){return t.length?(t=ri.from(t),!this.length&&t||t.length<Ok&&this.leafAppend(t)||this.length<Ok&&t.leafPrepend(this)||this.appendInner(t)):this};ri.prototype.prepend=function(t){return t.length?ri.from(t).append(this):this};ri.prototype.appendInner=function(t){return new Obe(this,t)};ri.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?ri.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};ri.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};ri.prototype.forEach=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(t,n,r,0):this.forEachInvertedInner(t,n,r,0)};ri.prototype.map=function(t,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(t(o,s))},n,r),i};ri.from=function(t){return t instanceof ri?t:t&&t.length?new L5(t):ri.empty};var L5=(function(e){function t(r){e.call(this),this.values=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new t(this.values.slice(i,o))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=Ok)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=Ok)return new t(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(ri);ri.empty=new L5([]);var Obe=(function(e){function t(n,r){e.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},t.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},t.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},t.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},t.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new t(i,this.right)},t.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new t(this.left,new t(this.right,r)):new t(this,r)},t})(ri);const Nbe=500;class Ta{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=t.tr,a,l,u=[],d=[];return this.items.forEach((f,g)=>{if(!f.step){i||(i=this.remapping(r,g+1),o=i.maps.length),o--,d.push(f);return}if(i){d.push(new ml(f.map));let m=f.step.map(i.slice(o)),b;m&&s.maybeStep(m).doc&&(b=s.mapping.maps[s.mapping.maps.length-1],u.push(new ml(b,void 0,void 0,u.length+d.length))),o--,b&&i.appendMap(b,o)}else s.maybeStep(f.step);if(f.selection)return a=i?f.selection.map(i.slice(o)):f.selection,l=new Ta(this.items.slice(0,r).append(d.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(t,n,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let d=0;d<t.steps.length;d++){let f=t.steps[d].invert(t.docs[d]),g=new ml(t.mapping.maps[d],f,n),m;(m=l&&l.merge(g))&&(g=m,d?o.pop():a=a.slice(0,a.length-1)),o.push(g),n&&(s++,n=void 0),i||(l=g)}let u=s-r.depth;return u>Dbe&&(a=Rbe(a,u),s-=u),new Ta(a.append(o),s)}remapping(t,n){let r=new $b;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=t?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},t,n),r}addMaps(t){return this.eventCount==0?this:new Ta(this.items.append(t.map(n=>new ml(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=t.mapping,s=t.steps.length,a=this.eventCount;this.items.forEach(g=>{g.selection&&a--},i);let l=n;this.items.forEach(g=>{let m=o.getMirror(--l);if(m==null)return;s=Math.min(s,m);let b=o.maps[m];if(g.step){let x=t.steps[m].invert(t.docs[m]),k=g.selection&&g.selection.map(o.slice(l+1,m));k&&a++,r.push(new ml(b,x,k))}else r.push(new ml(b))},i);let u=[];for(let g=n;g<s;g++)u.push(new ml(o.maps[g]));let d=this.items.slice(0,i).append(u).append(r),f=new Ta(d,a);return f.emptyItemCount()>Nbe&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=t)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let d=s.selection&&s.selection.map(n.slice(r));d&&o++;let f=new ml(u.invert(),l,d),g,m=i.length-1;(g=i.length&&i[m].merge(f))?i[m]=g:i.push(f)}}else s.map&&r--},this.items.length,0),new Ta(ri.from(i.reverse()),o)}}Ta.empty=new Ta(ri.empty,0);function Rbe(e,t){let n;return e.forEach((r,i)=>{if(r.selection&&t--==0)return n=i,!1}),e.slice(n)}class ml{constructor(t,n,r,i){this.map=t,this.step=n,this.selection=r,this.mirrorOffset=i}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new ml(n.getMap().invert(),n,this.selection)}}}class Dc{constructor(t,n,r,i,o){this.done=t,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=o}}const Dbe=20;function jbe(e,t,n,r){let i=n.getMeta(Jf),o;if(i)return i.historyState;n.getMeta(Fbe)&&(e=new Dc(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(s&&s.getMeta(Jf))return s.getMeta(Jf).redo?new Dc(e.done.addTransform(n,void 0,r,LS(t)),e.undone,Gz(n.mapping.maps),e.prevTime,e.prevComposition):new Dc(e.done,e.undone.addTransform(n,void 0,r,LS(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=e.prevTime==0||!s&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!Lbe(n,e.prevRanges)),u=s?iE(e.prevRanges,n.mapping):Gz(n.mapping.maps);return new Dc(e.done.addTransform(n,l?t.selection.getBookmark():void 0,r,LS(t)),Ta.empty,u,n.time,a??e.prevComposition)}else return(o=n.getMeta("rebased"))?new Dc(e.done.rebased(n,o),e.undone.rebased(n,o),iE(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Dc(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),iE(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function Lbe(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<t.length;o+=2)r<=t[o+1]&&i>=t[o]&&(n=!0)}),n}function Gz(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((r,i,o,s)=>t.push(o,s));return t}function iE(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let i=t.map(e[r],1),o=t.map(e[r+1],-1);i<=o&&n.push(i,o)}return n}function zbe(e,t,n){let r=LS(t),i=Jf.get(t).spec.config,o=(n?e.undone:e.done).popEvent(t,r);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(n?e.done:e.undone).addTransform(o.transform,t.selection.getBookmark(),i,r),l=new Dc(n?a:o.remaining,n?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta(Jf,{redo:n,historyState:l})}let oE=!1,Yz=null;function LS(e){let t=e.plugins;if(Yz!=t){oE=!1,Yz=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){oE=!0;break}}return oE}const Jf=new hs("history"),Fbe=new hs("closeHistory");function Vbe(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Fi({key:Jf,state:{init(){return new Dc(Ta.empty,Ta.empty,null,0,-1)},apply(t,n,r){return jbe(n,r,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let r=n.inputType,i=r=="historyUndo"?F5:r=="historyRedo"?V5:null;return i?(n.preventDefault(),i(t.state,t.dispatch)):!1}}}})}function z5(e,t){return(n,r)=>{let i=Jf.getState(n);if(!i||(e?i.undone:i.done).eventCount==0)return!1;if(r){let o=zbe(i,n,e);o&&r(t?o.scrollIntoView():o)}return!0}}const F5=z5(!1,!0),V5=z5(!0,!0),Bbe=ji.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>F5(e,t),redo:()=>({state:e,dispatch:t})=>V5(e,t)}},addProseMirrorPlugins(){return[Vbe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),Ube=ea.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",Cr(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!Mve(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$from:r,$to:i}=n,o=e();return r.parentOffset===0?o.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):Qye(n)?o.insertContentAt(i.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:s,dispatch:a})=>{var l;if(a){const{$to:u}=s.selection,d=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?s.setSelection(Ft.create(s.doc,u.pos+1)):u.nodeAfter.isBlock?s.setSelection(mt.create(s.doc,u.pos)):s.setSelection(Ft.create(s.doc,u.pos));else{const f=(l=u.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();f&&(s.insert(d,f),s.setSelection(Ft.create(s.doc,d+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[$ve({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),Zbe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Wbe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Hbe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,qbe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Jbe=Ra.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",Cr(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Qm({find:Zbe,type:this.type}),Qm({find:Hbe,type:this.type})]},addPasteRules(){return[eg({find:Wbe,type:this.type}),eg({find:qbe,type:this.type})]}}),Kbe=ea.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",Cr(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Gbe="listItem",Xz="textStyle",Qz=/^(\d+)\.\s$/,Ybe=ea.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",Cr(this.options.HTMLAttributes,n),0]:["ol",Cr(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(Gbe,this.editor.getAttributes(Xz)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Db({find:Qz,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Db({find:Qz,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(Xz)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),Xbe=ea.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",Cr(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Qbe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,exe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,txe=Ra.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",Cr(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Qm({find:Qbe,type:this.type})]},addPasteRules(){return[eg({find:exe,type:this.type})]}}),nxe=ea.create({name:"text",group:"inline"}),rxe=ji.create({name:"starterKit",addExtensions(){const e=[];return this.options.bold!==!1&&e.push(dbe.configure(this.options.bold)),this.options.blockquote!==!1&&e.push(sbe.configure(this.options.blockquote)),this.options.bulletList!==!1&&e.push(pbe.configure(this.options.bulletList)),this.options.code!==!1&&e.push(gbe.configure(this.options.code)),this.options.codeBlock!==!1&&e.push(bbe.configure(this.options.codeBlock)),this.options.document!==!1&&e.push(M5.configure(this.options.document)),this.options.dropcursor!==!1&&e.push(Sbe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&e.push($be.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&e.push(Pbe.configure(this.options.hardBreak)),this.options.heading!==!1&&e.push(Mbe.configure(this.options.heading)),this.options.history!==!1&&e.push(Bbe.configure(this.options.history)),this.options.horizontalRule!==!1&&e.push(Ube.configure(this.options.horizontalRule)),this.options.italic!==!1&&e.push(Jbe.configure(this.options.italic)),this.options.listItem!==!1&&e.push(Kbe.configure(this.options.listItem)),this.options.orderedList!==!1&&e.push(Ybe.configure(this.options.orderedList)),this.options.paragraph!==!1&&e.push(Xbe.configure(this.options.paragraph)),this.options.strike!==!1&&e.push(txe.configure(this.options.strike)),this.options.text!==!1&&e.push(nxe.configure(this.options.text)),e}});function ixe(e){var t;const{char:n,allowSpaces:r,allowToIncludeChar:i,allowedPrefixes:o,startOfLine:s,$position:a}=e,l=r&&!i,u=Ove(n),d=new RegExp(`\\s${u}$`),f=s?"^":"",g=i?"":u,m=l?new RegExp(`${f}${u}.*?(?=\\s${g}|$)`,"gm"):new RegExp(`${f}(?:^)?${u}[^\\s${g}]*`,"gm"),b=((t=a.nodeBefore)===null||t===void 0?void 0:t.isText)&&a.nodeBefore.text;if(!b)return null;const x=a.pos-b.length,k=Array.from(b.matchAll(m)).pop();if(!k||k.input===void 0||k.index===void 0)return null;const T=k.input.slice(Math.max(0,k.index-1),k.index),E=new RegExp(`^[${o?.join("")}\0]?$`).test(T);if(o!==null&&!E)return null;const $=x+k.index;let P=$+k[0].length;return l&&d.test(b.slice(P-1,P+1))&&(k[0]+=" ",P+=1),$<a.pos&&P>=a.pos?{range:{from:$,to:P},query:k[0].slice(n.length),text:k[0]}:null}const oxe=new hs("suggestion");function sxe({pluginKey:e=oxe,editor:t,char:n="@",allowSpaces:r=!1,allowToIncludeChar:i=!1,allowedPrefixes:o=[" "],startOfLine:s=!1,decorationTag:a="span",decorationClass:l="suggestion",decorationContent:u="",decorationEmptyClass:d="is-empty",command:f=()=>null,items:g=()=>[],render:m=()=>({}),allow:b=()=>!0,findSuggestionMatch:x=ixe}){let k;const T=m?.(),E=new Fi({key:e,view(){return{update:async($,P)=>{var M,R,z,F,q,Z,re;const ee=(M=this.key)===null||M===void 0?void 0:M.getState(P),ne=(R=this.key)===null||R===void 0?void 0:R.getState($.state),se=ee.active&&ne.active&&ee.range.from!==ne.range.from,ue=!ee.active&&ne.active,me=ee.active&&!ne.active,ie=!ue&&!me&&ee.query!==ne.query,J=ue||se&&ie,le=ie||se,B=me||se&&ie;if(!J&&!le&&!B)return;const G=B&&!J?ee:ne,H=$.dom.querySelector(`[data-decoration-id="${G.decorationId}"]`);k={editor:t,range:G.range,query:G.query,text:G.text,items:[],command:W=>f({editor:t,range:G.range,props:W}),decorationNode:H,clientRect:H?()=>{var W;const{decorationId:Ie}=(W=this.key)===null||W===void 0?void 0:W.getState(t.state),Ce=$.dom.querySelector(`[data-decoration-id="${Ie}"]`);return Ce?.getBoundingClientRect()||null}:null},J&&((z=T?.onBeforeStart)===null||z===void 0||z.call(T,k)),le&&((F=T?.onBeforeUpdate)===null||F===void 0||F.call(T,k)),(le||J)&&(k.items=await g({editor:t,query:G.query})),B&&((q=T?.onExit)===null||q===void 0||q.call(T,k)),le&&((Z=T?.onUpdate)===null||Z===void 0||Z.call(T,k)),J&&((re=T?.onStart)===null||re===void 0||re.call(T,k))},destroy:()=>{var $;k&&(($=T?.onExit)===null||$===void 0||$.call(T,k))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply($,P,M,R){const{isEditable:z}=t,{composing:F}=t.view,{selection:q}=$,{empty:Z,from:re}=q,ee={...P};if(ee.composing=F,z&&(Z||t.view.composing)){(re<P.range.from||re>P.range.to)&&!F&&!P.composing&&(ee.active=!1);const ne=x({char:n,allowSpaces:r,allowToIncludeChar:i,allowedPrefixes:o,startOfLine:s,$position:q.$from}),se=`id_${Math.floor(Math.random()*4294967295)}`;ne&&b({editor:t,state:R,range:ne.range,isActive:P.active})?(ee.active=!0,ee.decorationId=P.decorationId?P.decorationId:se,ee.range=ne.range,ee.query=ne.query,ee.text=ne.text):ee.active=!1}else ee.active=!1;return ee.active||(ee.decorationId=null,ee.range={from:0,to:0},ee.query=null,ee.text=null),ee}},props:{handleKeyDown($,P){var M;const{active:R,range:z}=E.getState($.state);return R&&((M=T?.onKeyDown)===null||M===void 0?void 0:M.call(T,{view:$,event:P,range:z}))||!1},decorations($){const{active:P,range:M,decorationId:R,query:z}=E.getState($);if(!P)return null;const F=!z?.length,q=[l];return F&&q.push(d),_r.create($.doc,[Po.inline(M.from,M.to,{nodeName:a,class:q.join(" "),"data-decoration-id":R,"data-decoration-content":u})])}}});return E}function axe({editor:e,overrideSuggestionOptions:t,extensionName:n,char:r="@"}){const i=new hs;return{editor:e,char:r,pluginKey:i,command:({editor:o,range:s,props:a})=>{var l,u,d;const f=o.view.state.selection.$to.nodeAfter;((l=f?.text)===null||l===void 0?void 0:l.startsWith(" "))&&(s.to+=1),o.chain().focus().insertContentAt(s,[{type:n,attrs:{...a,mentionSuggestionChar:r}},{type:"text",text:" "}]).run(),(d=(u=o.view.dom.ownerDocument.defaultView)===null||u===void 0?void 0:u.getSelection())===null||d===void 0||d.collapseToEnd()},allow:({state:o,range:s})=>{const a=o.doc.resolve(s.from),l=o.schema.nodes[n];return!!a.parent.type.contentMatch.matchType(l)},...t}}function B5(e){return(e.options.suggestions.length?e.options.suggestions:[e.options.suggestion]).map(t=>axe({editor:e.editor,overrideSuggestionOptions:t,extensionName:e.name,char:t.char}))}function e4(e,t){const n=B5(e),r=n.find(i=>i.char===t);return r||(n.length?n[0]:null)}const lxe=ea.create({name:"mention",priority:101,addOptions(){return{HTMLAttributes:{},renderText({node:e,suggestion:t}){var n,r;return`${(n=t?.char)!==null&&n!==void 0?n:"@"}${(r=e.attrs.label)!==null&&r!==void 0?r:e.attrs.id}`},deleteTriggerWithBackspace:!1,renderHTML({options:e,node:t,suggestion:n}){var r,i;return["span",Cr(this.HTMLAttributes,e.HTMLAttributes),`${(r=n?.char)!==null&&r!==void 0?r:"@"}${(i=t.attrs.label)!==null&&i!==void 0?i:t.attrs.id}`]},suggestions:[],suggestion:{}}},group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes(){return{id:{default:null,parseHTML:e=>e.getAttribute("data-id"),renderHTML:e=>e.id?{"data-id":e.id}:{}},label:{default:null,parseHTML:e=>e.getAttribute("data-label"),renderHTML:e=>e.label?{"data-label":e.label}:{}},mentionSuggestionChar:{default:"@",parseHTML:e=>e.getAttribute("data-mention-suggestion-char"),renderHTML:e=>({"data-mention-suggestion-char":e.mentionSuggestionChar})}}},parseHTML(){return[{tag:`span[data-type="${this.name}"]`}]},renderHTML({node:e,HTMLAttributes:t}){const n=e4(this,e.attrs.mentionSuggestionChar);if(this.options.renderLabel!==void 0)return console.warn("renderLabel is deprecated use renderText and renderHTML instead"),["span",Cr({"data-type":this.name},this.options.HTMLAttributes,t),this.options.renderLabel({options:this.options,node:e,suggestion:n})];const r={...this.options};r.HTMLAttributes=Cr({"data-type":this.name},this.options.HTMLAttributes,t);const i=this.options.renderHTML({options:r,node:e,suggestion:n});return typeof i=="string"?["span",Cr({"data-type":this.name},this.options.HTMLAttributes,t),i]:i},renderText({node:e}){const t={options:this.options,node:e,suggestion:e4(this,e.attrs.mentionSuggestionChar)};return this.options.renderLabel!==void 0?(console.warn("renderLabel is deprecated use renderText and renderHTML instead"),this.options.renderLabel(t)):this.options.renderText(t)},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command(({tr:e,state:t})=>{let n=!1;const{selection:r}=t,{empty:i,anchor:o}=r;if(!i)return!1;t.doc.nodesBetween(o-1,o,(l,u)=>{if(l.type.name===this.name)return n=!0,e.insertText(this.options.deleteTriggerWithBackspace?"":this.options.suggestion.char||"",u,u+l.nodeSize),!1});let s=new Au,a=0;return t.doc.nodesBetween(o-1,o,(l,u)=>{if(l.type.name===this.name)return n=!0,s=l,a=u,!1}),n&&e.insertText(this.options.deleteTriggerWithBackspace?"":s.attrs.mentionSuggestionChar,a,a+s.nodeSize),n})}},addProseMirrorPlugins(){return B5(this).map(sxe)}}),Nk=Math.min,Kf=Math.max,Rk=Math.round,Xw=Math.floor,vl=e=>({x:e,y:e}),uxe={left:"right",right:"left",bottom:"top",top:"bottom"},cxe={start:"end",end:"start"};function t4(e,t,n){return Kf(e,Nk(t,n))}function v1(e,t){return typeof e=="function"?e(t):e}function ip(e){return e.split("-")[0]}function b1(e){return e.split("-")[1]}function U5(e){return e==="x"?"y":"x"}function Z5(e){return e==="y"?"height":"width"}const dxe=new Set(["top","bottom"]);function Bc(e){return dxe.has(ip(e))?"y":"x"}function W5(e){return U5(Bc(e))}function fxe(e,t,n){n===void 0&&(n=!1);const r=b1(e),i=W5(e),o=Z5(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=Dk(s)),[s,Dk(s)]}function pxe(e){const t=Dk(e);return[MA(e),t,MA(t)]}function MA(e){return e.replace(/start|end/g,t=>cxe[t])}const n4=["left","right"],r4=["right","left"],hxe=["top","bottom"],mxe=["bottom","top"];function gxe(e,t,n){switch(e){case"top":case"bottom":return n?t?r4:n4:t?n4:r4;case"left":case"right":return t?hxe:mxe;default:return[]}}function yxe(e,t,n,r){const i=b1(e);let o=gxe(ip(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(MA)))),o}function Dk(e){return e.replace(/left|right|bottom|top/g,t=>uxe[t])}function vxe(e){return{top:0,right:0,bottom:0,left:0,...e}}function bxe(e){return typeof e!="number"?vxe(e):{top:e,right:e,bottom:e,left:e}}function jk(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function i4(e,t,n){let{reference:r,floating:i}=e;const o=Bc(t),s=W5(t),a=Z5(s),l=ip(t),u=o==="y",d=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,g=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-i.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(b1(t)){case"start":m[s]-=g*(n&&u?-1:1);break;case"end":m[s]+=g*(n&&u?-1:1);break}return m}const xxe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let u=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:f}=i4(u,r,l),g=r,m={},b=0;for(let x=0;x<a.length;x++){const{name:k,fn:T}=a[x],{x:E,y:$,data:P,reset:M}=await T({x:d,y:f,initialPlacement:r,placement:g,strategy:i,middlewareData:m,rects:u,platform:s,elements:{reference:e,floating:t}});d=E??d,f=$??f,m={...m,[k]:{...m[k],...P}},M&&b<=50&&(b++,typeof M=="object"&&(M.placement&&(g=M.placement),M.rects&&(u=M.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):M.rects),{x:d,y:f}=i4(u,g,l)),x=-1)}return{x:d,y:f,placement:g,strategy:i,middlewareData:m}};async function H5(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:g=!1,padding:m=0}=v1(t,e),b=bxe(m),k=a[g?f==="floating"?"reference":"floating":f],T=jk(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(k)))==null||n?k:k.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),E=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,$=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),P=await(o.isElement==null?void 0:o.isElement($))?await(o.getScale==null?void 0:o.getScale($))||{x:1,y:1}:{x:1,y:1},M=jk(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:$,strategy:l}):E);return{top:(T.top-M.top+b.top)/P.y,bottom:(M.bottom-T.bottom+b.bottom)/P.y,left:(T.left-M.left+b.left)/P.x,right:(M.right-T.right+b.right)/P.x}}const wxe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0,...k}=v1(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const T=ip(i),E=Bc(a),$=ip(a)===a,P=await(l.isRTL==null?void 0:l.isRTL(u.floating)),M=g||($||!x?[Dk(a)]:pxe(a)),R=b!=="none";!g&&R&&M.push(...yxe(a,x,b,P));const z=[a,...M],F=await H5(t,k),q=[];let Z=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&q.push(F[T]),f){const se=fxe(i,s,P);q.push(F[se[0]],F[se[1]])}if(Z=[...Z,{placement:i,overflows:q}],!q.every(se=>se<=0)){var re,ee;const se=(((re=o.flip)==null?void 0:re.index)||0)+1,ue=z[se];if(ue&&(!(f==="alignment"?E!==Bc(ue):!1)||Z.every(J=>Bc(J.placement)===E?J.overflows[0]>0:!0)))return{data:{index:se,overflows:Z},reset:{placement:ue}};let me=(ee=Z.filter(ie=>ie.overflows[0]<=0).sort((ie,J)=>ie.overflows[1]-J.overflows[1])[0])==null?void 0:ee.placement;if(!me)switch(m){case"bestFit":{var ne;const ie=(ne=Z.filter(J=>{if(R){const le=Bc(J.placement);return le===E||le==="y"}return!0}).map(J=>[J.placement,J.overflows.filter(le=>le>0).reduce((le,B)=>le+B,0)]).sort((J,le)=>J[1]-le[1])[0])==null?void 0:ne[0];ie&&(me=ie);break}case"initialPlacement":me=a;break}if(i!==me)return{reset:{placement:me}}}return{}}}},Sxe=new Set(["left","top"]);async function kxe(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=ip(n),a=b1(n),l=Bc(n)==="y",u=Sxe.has(s)?-1:1,d=o&&l?-1:1,f=v1(t,e);let{mainAxis:g,crossAxis:m,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof b=="number"&&(m=a==="end"?b*-1:b),l?{x:m*d,y:g*u}:{x:g*u,y:m*d}}const _xe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await kxe(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Txe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:k=>{let{x:T,y:E}=k;return{x:T,y:E}}},...l}=v1(e,t),u={x:n,y:r},d=await H5(t,l),f=Bc(ip(i)),g=U5(f);let m=u[g],b=u[f];if(o){const k=g==="y"?"top":"left",T=g==="y"?"bottom":"right",E=m+d[k],$=m-d[T];m=t4(E,m,$)}if(s){const k=f==="y"?"top":"left",T=f==="y"?"bottom":"right",E=b+d[k],$=b-d[T];b=t4(E,b,$)}const x=a.fn({...t,[g]:m,[f]:b});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[g]:o,[f]:s}}}}}};function x1(){return typeof window<"u"}function Cg(e){return q5(e)?(e.nodeName||"").toLowerCase():"#document"}function cs(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Pl(e){var t;return(t=(q5(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function q5(e){return x1()?e instanceof Node||e instanceof cs(e).Node:!1}function Da(e){return x1()?e instanceof Element||e instanceof cs(e).Element:!1}function kl(e){return x1()?e instanceof HTMLElement||e instanceof cs(e).HTMLElement:!1}function o4(e){return!x1()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof cs(e).ShadowRoot}const Cxe=new Set(["inline","contents"]);function Bx(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ja(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Cxe.has(i)}const Exe=new Set(["table","td","th"]);function Ixe(e){return Exe.has(Cg(e))}const Axe=[":popover-open",":modal"];function w1(e){return Axe.some(t=>{try{return e.matches(t)}catch{return!1}})}const $xe=["transform","translate","scale","rotate","perspective"],Pxe=["transform","translate","scale","rotate","perspective","filter"],Mxe=["paint","layout","strict","content"];function qM(e){const t=JM(),n=Da(e)?ja(e):e;return $xe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Pxe.some(r=>(n.willChange||"").includes(r))||Mxe.some(r=>(n.contain||"").includes(r))}function Oxe(e){let t=nd(e);for(;kl(t)&&!tg(t);){if(qM(t))return t;if(w1(t))return null;t=nd(t)}return null}function JM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Nxe=new Set(["html","body","#document"]);function tg(e){return Nxe.has(Cg(e))}function ja(e){return cs(e).getComputedStyle(e)}function S1(e){return Da(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function nd(e){if(Cg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||o4(e)&&e.host||Pl(e);return o4(t)?t.host:t}function J5(e){const t=nd(e);return tg(t)?e.ownerDocument?e.ownerDocument.body:e.body:kl(t)&&Bx(t)?t:J5(t)}function jb(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=J5(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=cs(i);if(o){const a=OA(s);return t.concat(s,s.visualViewport||[],Bx(i)?i:[],a&&n?jb(a):[])}return t.concat(i,jb(i,[],n))}function OA(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function K5(e){const t=ja(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=kl(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=Rk(n)!==o||Rk(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function KM(e){return Da(e)?e:e.contextElement}function Om(e){const t=KM(e);if(!kl(t))return vl(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=K5(t);let s=(o?Rk(n.width):n.width)/r,a=(o?Rk(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Rxe=vl(0);function G5(e){const t=cs(e);return!JM()||!t.visualViewport?Rxe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Dxe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==cs(e)?!1:t}function op(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=KM(e);let s=vl(1);t&&(r?Da(r)&&(s=Om(r)):s=Om(e));const a=Dxe(o,n,r)?G5(o):vl(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,d=i.width/s.x,f=i.height/s.y;if(o){const g=cs(o),m=r&&Da(r)?cs(r):r;let b=g,x=OA(b);for(;x&&r&&m!==b;){const k=Om(x),T=x.getBoundingClientRect(),E=ja(x),$=T.left+(x.clientLeft+parseFloat(E.paddingLeft))*k.x,P=T.top+(x.clientTop+parseFloat(E.paddingTop))*k.y;l*=k.x,u*=k.y,d*=k.x,f*=k.y,l+=$,u+=P,b=cs(x),x=OA(b)}}return jk({width:d,height:f,x:l,y:u})}function k1(e,t){const n=S1(e).scrollLeft;return t?t.left+n:op(Pl(e)).left+n}function Y5(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-k1(e,n),i=n.top+t.scrollTop;return{x:r,y:i}}function jxe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=Pl(r),a=t?w1(t.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=vl(1);const d=vl(0),f=kl(r);if((f||!f&&!o)&&((Cg(r)!=="body"||Bx(s))&&(l=S1(r)),kl(r))){const m=op(r);u=Om(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const g=s&&!f&&!o?Y5(s,l):vl(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+g.x,y:n.y*u.y-l.scrollTop*u.y+d.y+g.y}}function Lxe(e){return Array.from(e.getClientRects())}function zxe(e){const t=Pl(e),n=S1(e),r=e.ownerDocument.body,i=Kf(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Kf(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+k1(e);const a=-n.scrollTop;return ja(r).direction==="rtl"&&(s+=Kf(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}const s4=25;function Fxe(e,t){const n=cs(e),r=Pl(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const d=JM();(!d||d&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}const u=k1(r);if(u<=0){const d=r.ownerDocument,f=d.body,g=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,b=Math.abs(r.clientWidth-f.clientWidth-m);b<=s4&&(o-=b)}else u<=s4&&(o+=u);return{width:o,height:s,x:a,y:l}}const Vxe=new Set(["absolute","fixed"]);function Bxe(e,t){const n=op(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=kl(e)?Om(e):vl(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function a4(e,t,n){let r;if(t==="viewport")r=Fxe(e,n);else if(t==="document")r=zxe(Pl(e));else if(Da(t))r=Bxe(t,n);else{const i=G5(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return jk(r)}function X5(e,t){const n=nd(e);return n===t||!Da(n)||tg(n)?!1:ja(n).position==="fixed"||X5(n,t)}function Uxe(e,t){const n=t.get(e);if(n)return n;let r=jb(e,[],!1).filter(a=>Da(a)&&Cg(a)!=="body"),i=null;const o=ja(e).position==="fixed";let s=o?nd(e):e;for(;Da(s)&&!tg(s);){const a=ja(s),l=qM(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&Vxe.has(i.position)||Bx(s)&&!l&&X5(e,s))?r=r.filter(d=>d!==s):i=a,s=nd(s)}return t.set(e,r),r}function Zxe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?w1(t)?[]:Uxe(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,d)=>{const f=a4(t,d,i);return u.top=Kf(f.top,u.top),u.right=Nk(f.right,u.right),u.bottom=Nk(f.bottom,u.bottom),u.left=Kf(f.left,u.left),u},a4(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Wxe(e){const{width:t,height:n}=K5(e);return{width:t,height:n}}function Hxe(e,t,n){const r=kl(t),i=Pl(t),o=n==="fixed",s=op(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=vl(0);function u(){l.x=k1(i)}if(r||!r&&!o)if((Cg(t)!=="body"||Bx(i))&&(a=S1(t)),r){const m=op(t,!0,o,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else i&&u();o&&!r&&i&&u();const d=i&&!r&&!o?Y5(i,a):vl(0),f=s.left+a.scrollLeft-l.x-d.x,g=s.top+a.scrollTop-l.y-d.y;return{x:f,y:g,width:s.width,height:s.height}}function sE(e){return ja(e).position==="static"}function l4(e,t){if(!kl(e)||ja(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Pl(e)===n&&(n=n.ownerDocument.body),n}function Q5(e,t){const n=cs(e);if(w1(e))return n;if(!kl(e)){let i=nd(e);for(;i&&!tg(i);){if(Da(i)&&!sE(i))return i;i=nd(i)}return n}let r=l4(e,t);for(;r&&Ixe(r)&&sE(r);)r=l4(r,t);return r&&tg(r)&&sE(r)&&!qM(r)?n:r||Oxe(e)||n}const qxe=async function(e){const t=this.getOffsetParent||Q5,n=this.getDimensions,r=await n(e.floating);return{reference:Hxe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Jxe(e){return ja(e).direction==="rtl"}const Kxe={convertOffsetParentRelativeRectToViewportRelativeRect:jxe,getDocumentElement:Pl,getClippingRect:Zxe,getOffsetParent:Q5,getElementRects:qxe,getClientRects:Lxe,getDimensions:Wxe,getScale:Om,isElement:Da,isRTL:Jxe};function e9(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Gxe(e,t){let n=null,r;const i=Pl(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:d,top:f,width:g,height:m}=u;if(a||t(),!g||!m)return;const b=Xw(f),x=Xw(i.clientWidth-(d+g)),k=Xw(i.clientHeight-(f+m)),T=Xw(d),$={rootMargin:-b+"px "+-x+"px "+-k+"px "+-T+"px",threshold:Kf(0,Nk(1,l))||1};let P=!0;function M(R){const z=R[0].intersectionRatio;if(z!==l){if(!P)return s();z?s(!1,z):r=setTimeout(()=>{s(!1,1e-7)},1e3)}z===1&&!e9(u,e.getBoundingClientRect())&&s(),P=!1}try{n=new IntersectionObserver(M,{...$,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,$)}n.observe(e)}return s(!0),o}function Yxe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=KM(e),d=i||o?[...u?jb(u):[],...jb(t)]:[];d.forEach(T=>{i&&T.addEventListener("scroll",n,{passive:!0}),o&&T.addEventListener("resize",n)});const f=u&&a?Gxe(u,n):null;let g=-1,m=null;s&&(m=new ResizeObserver(T=>{let[E]=T;E&&E.target===u&&m&&(m.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var $;($=m)==null||$.observe(t)})),n()}),u&&!l&&m.observe(u),m.observe(t));let b,x=l?op(e):null;l&&k();function k(){const T=op(e);x&&!e9(x,T)&&n(),x=T,b=requestAnimationFrame(k)}return n(),()=>{var T;d.forEach(E=>{i&&E.removeEventListener("scroll",n),o&&E.removeEventListener("resize",n)}),f?.(),(T=m)==null||T.disconnect(),m=null,l&&cancelAnimationFrame(b)}}const u4=_xe,c4=Txe,d4=wxe,f4=(e,t,n)=>{const r=new Map,i={platform:Kxe,...n},o={...i.platform,_c:r};return xxe(e,t,{...i,platform:o})};var _1={},Xxe=Object.create,T1=Object.defineProperty,Qxe=Object.getOwnPropertyDescriptor,t9=Object.getOwnPropertyNames,e0e=Object.getPrototypeOf,t0e=Object.prototype.hasOwnProperty,n0e=(e,t,n)=>t in e?T1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,r0e=(e,t)=>function(){return t||(0,e[t9(e)[0]])((t={exports:{}}).exports,t),t.exports},md=(e,t)=>{for(var n in t)T1(e,n,{get:t[n],enumerable:!0})},n9=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of t9(t))!t0e.call(e,i)&&i!==n&&T1(e,i,{get:()=>t[i],enumerable:!(r=Qxe(t,i))||r.enumerable});return e},i0e=(e,t,n)=>(n9(e,t,"default"),n),o0e=(e,t,n)=>(n=e!=null?Xxe(e0e(e)):{},n9(T1(n,"default",{value:e,enumerable:!0}),e)),sm=(e,t,n)=>n0e(e,typeof t!="symbol"?t+"":t,n),s0e=r0e({"../../node_modules/secure-json-parse/index.js"(e,t){var n=typeof Buffer<"u",r=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,i=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function o(u,d,f){f==null&&d!==null&&typeof d=="object"&&(f=d,d=void 0),n&&Buffer.isBuffer(u)&&(u=u.toString()),u&&u.charCodeAt(0)===65279&&(u=u.slice(1));const g=JSON.parse(u,d);if(g===null||typeof g!="object")return g;const m=f&&f.protoAction||"error",b=f&&f.constructorAction||"error";if(m==="ignore"&&b==="ignore")return g;if(m!=="ignore"&&b!=="ignore"){if(r.test(u)===!1&&i.test(u)===!1)return g}else if(m!=="ignore"&&b==="ignore"){if(r.test(u)===!1)return g}else if(i.test(u)===!1)return g;return s(g,{protoAction:m,constructorAction:b,safe:f&&f.safe})}function s(u,{protoAction:d="error",constructorAction:f="error",safe:g}={}){let m=[u];for(;m.length;){const b=m;m=[];for(const x of b){if(d!=="ignore"&&Object.prototype.hasOwnProperty.call(x,"__proto__")){if(g===!0)return null;if(d==="error")throw new SyntaxError("Object contains forbidden prototype property");delete x.__proto__}if(f!=="ignore"&&Object.prototype.hasOwnProperty.call(x,"constructor")&&Object.prototype.hasOwnProperty.call(x.constructor,"prototype")){if(g===!0)return null;if(f==="error")throw new SyntaxError("Object contains forbidden prototype property");delete x.constructor}for(const k in x){const T=x[k];T&&typeof T=="object"&&m.push(T)}}}return u}function a(u,d,f){const g=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return o(u,d,f)}finally{Error.stackTraceLimit=g}}function l(u,d){const f=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return o(u,d,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=f}}t.exports=a,t.exports.default=a,t.exports.parse=a,t.exports.safeParse=l,t.exports.scan=s}}),Lk=(e,t=new Map,n="$")=>{if(e==null)return e;if(typeof e=="function")return"[Function]";if(Array.isArray(e))return t.has(e)?`[Circular: ${t.get(e)}]`:(t.set(e,n),e.map((i,o)=>Lk(i,t,`${n}[${o}]`)));if(typeof e=="object"){if(t.has(e))return`[Circular: ${t.get(e)}]`;if(t.set(e,n),"$$typeof"in e)return"[React Component]";if(e instanceof Element)return"[DOM Element]";if(e instanceof Date)return e.toISOString();if(e instanceof RegExp)return e.toString();if(e instanceof Error)return{name:e.name,message:e.message,stack:e.stack};if(e instanceof Map||e instanceof Set)return`[${e.constructor.name}]`;const r={};for(const[i,o]of Object.entries(e))if(typeof o=="function")r[i]="[Function]";else{const s=/^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(i)?`${n}.${i}`:`${n}["${i.replace(/"/g,'\\"')}"]`;r[i]=Lk(o,t,s)}return r}return e},a0e=Symbol("Let zodToJsonSchema decide on which parser to use"),p4={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},l0e=e=>typeof e=="string"?{...p4,name:e}:{...p4,...e},u0e=e=>{const t=l0e(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,flags:{hasReferencedOpenAiAnyType:!1},currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,i])=>[i._def,{def:i._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}};function r9(e,t,n,r){r?.errorMessages&&n&&(e.errorMessage={...e.errorMessage,[t]:n})}function Cn(e,t,n,r,i){e[t]=n,r9(e,t,r,i)}var i9=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},N={};md(N,{BRAND:()=>R0e,DIRTY:()=>wm,EMPTY_PATH:()=>p0e,INVALID:()=>bt,NEVER:()=>vwe,OK:()=>co,ParseStatus:()=>zo,Schema:()=>Vt,ZodAny:()=>ig,ZodArray:()=>ap,ZodBigInt:()=>Fb,ZodBoolean:()=>Vb,ZodBranded:()=>GM,ZodCatch:()=>Yb,ZodDate:()=>Bb,ZodDefault:()=>Gb,ZodDiscriminatedUnion:()=>f9,ZodEffects:()=>La,ZodEnum:()=>Ux,ZodError:()=>Aa,ZodFirstPartyTypeKind:()=>ge,ZodFunction:()=>g9,ZodIntersection:()=>Hb,ZodIssueCode:()=>Pe,ZodLazy:()=>qb,ZodLiteral:()=>Jb,ZodMap:()=>Uk,ZodNaN:()=>Wk,ZodNativeEnum:()=>Kb,ZodNever:()=>Ru,ZodNull:()=>Zb,ZodNullable:()=>id,ZodNumber:()=>zb,ZodObject:()=>Ys,ZodOptional:()=>bl,ZodParsedType:()=>He,ZodPipeline:()=>YM,ZodPromise:()=>og,ZodReadonly:()=>Xb,ZodRecord:()=>m9,ZodSchema:()=>Vt,ZodSet:()=>Zk,ZodString:()=>rg,ZodSymbol:()=>Vk,ZodTransformer:()=>La,ZodTuple:()=>rd,ZodType:()=>Vt,ZodUndefined:()=>Ub,ZodUnion:()=>Wb,ZodUnknown:()=>Gf,ZodVoid:()=>Bk,addIssueToContext:()=>Fe,any:()=>Z0e,array:()=>J0e,bigint:()=>z0e,boolean:()=>S9,coerce:()=>ywe,custom:()=>b9,date:()=>F0e,datetimeRegex:()=>c9,defaultErrorMap:()=>ng,discriminatedUnion:()=>X0e,effect:()=>g4,enum:()=>awe,function:()=>iwe,getErrorMap:()=>zk,getParsedType:()=>xu,instanceof:()=>j0e,intersection:()=>Q0e,isAborted:()=>RA,isAsync:()=>Lb,isDirty:()=>DA,isValid:()=>sp,late:()=>D0e,lazy:()=>owe,literal:()=>swe,makeIssue:()=>Fk,map:()=>nwe,nan:()=>L0e,nativeEnum:()=>lwe,never:()=>H0e,null:()=>U0e,nullable:()=>dwe,number:()=>w9,object:()=>K0e,objectUtil:()=>NA,oboolean:()=>gwe,onumber:()=>mwe,optional:()=>cwe,ostring:()=>hwe,pipeline:()=>pwe,preprocess:()=>fwe,promise:()=>uwe,quotelessJson:()=>c0e,record:()=>twe,set:()=>rwe,setErrorMap:()=>f0e,strictObject:()=>G0e,string:()=>x9,symbol:()=>V0e,transformer:()=>g4,tuple:()=>ewe,undefined:()=>B0e,union:()=>Y0e,unknown:()=>W0e,util:()=>cn,void:()=>q0e});var cn;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},e.find=(i,o)=>{for(const s of i)if(o(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(cn||(cn={}));var NA;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(NA||(NA={}));var He=cn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xu=e=>{switch(typeof e){case"undefined":return He.undefined;case"string":return He.string;case"number":return Number.isNaN(e)?He.nan:He.number;case"boolean":return He.boolean;case"function":return He.function;case"bigint":return He.bigint;case"symbol":return He.symbol;case"object":return Array.isArray(e)?He.array:e===null?He.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?He.promise:typeof Map<"u"&&e instanceof Map?He.map:typeof Set<"u"&&e instanceof Set?He.set:typeof Date<"u"&&e instanceof Date?He.date:He.object;default:return He.unknown}},Pe=cn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),c0e=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),Aa=class o9 extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(s))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(this),r}static assert(t){if(!(t instanceof o9))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,cn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const o=i.path[0];n[o]=n[o]||[],n[o].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}};Aa.create=e=>new Aa(e);var d0e=(e,t)=>{let n;switch(e.code){case Pe.invalid_type:e.received===He.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Pe.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,cn.jsonStringifyReplacer)}`;break;case Pe.unrecognized_keys:n=`Unrecognized key(s) in object: ${cn.joinValues(e.keys,", ")}`;break;case Pe.invalid_union:n="Invalid input";break;case Pe.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${cn.joinValues(e.options)}`;break;case Pe.invalid_enum_value:n=`Invalid enum value. Expected ${cn.joinValues(e.options)}, received '${e.received}'`;break;case Pe.invalid_arguments:n="Invalid function arguments";break;case Pe.invalid_return_type:n="Invalid function return type";break;case Pe.invalid_date:n="Invalid date";break;case Pe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:cn.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Pe.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Pe.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Pe.custom:n="Invalid input";break;case Pe.invalid_intersection_types:n="Intersection results could not be merged";break;case Pe.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Pe.not_finite:n="Number must be finite";break;default:n=t.defaultError,cn.assertNever(e)}return{message:n}},ng=d0e,s9=ng;function f0e(e){s9=e}function zk(){return s9}var Fk=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="";const l=r.filter(u=>!!u).slice().reverse();for(const u of l)a=u(s,{data:t,defaultError:a}).message;return{...i,path:o,message:a}},p0e=[];function Fe(e,t){const n=zk(),r=Fk({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===ng?void 0:ng].filter(i=>!!i)});e.common.issues.push(r)}var zo=class a9{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return bt;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const o=await i.key,s=await i.value;r.push({key:o,value:s})}return a9.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return bt;o.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:t.value,value:r}}},bt=Object.freeze({status:"aborted"}),wm=e=>({status:"dirty",value:e}),co=e=>({status:"valid",value:e}),RA=e=>e.status==="aborted",DA=e=>e.status==="dirty",sp=e=>e.status==="valid",Lb=e=>typeof Promise<"u"&&e instanceof Promise,ot;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(ot||(ot={}));var _l=class{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},h4=(e,t)=>{if(sp(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Aa(e.common.issues);return this._error=n,this._error}}};function Mt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,a)=>{const{message:l}=e;return s.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:i}}var Vt=class{get description(){return this._def.description}_getType(e){return xu(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:xu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new zo,ctx:{common:e.parent.common,data:e.data,parsedType:xu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Lb(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){const n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xu(e)},r=this._parseSync({data:e,path:n.path,parent:n});return h4(n,r)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xu(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return sp(n)?{value:n.value}:{issues:t.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(n=>sp(n)?{value:n.value}:{issues:t.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:xu(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(Lb(r)?r:Promise.resolve(r));return h4(n,i)}refine(e,t){const n=r=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(r):t;return this._refinement((r,i)=>{const o=e(r),s=()=>i.addIssue({code:Pe.custom,...n(r)});return typeof Promise<"u"&&o instanceof Promise?o.then(a=>a?!0:(s(),!1)):o?!0:(s(),!1)})}refinement(e,t){return this._refinement((n,r)=>e(n)?!0:(r.addIssue(typeof t=="function"?t(n,r):t),!1))}_refinement(e){return new La({schema:this,typeName:ge.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return bl.create(this,this._def)}nullable(){return id.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ap.create(this)}promise(){return og.create(this,this._def)}or(e){return Wb.create([this,e],this._def)}and(e){return Hb.create(this,e,this._def)}transform(e){return new La({...Mt(this._def),schema:this,typeName:ge.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new Gb({...Mt(this._def),innerType:this,defaultValue:t,typeName:ge.ZodDefault})}brand(){return new GM({typeName:ge.ZodBranded,type:this,...Mt(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new Yb({...Mt(this._def),innerType:this,catchValue:t,typeName:ge.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return YM.create(this,e)}readonly(){return Xb.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},h0e=/^c[^\s-]{8,}$/i,m0e=/^[0-9a-z]+$/,g0e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,y0e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,v0e=/^[a-z0-9_-]{21}$/i,b0e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,x0e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,w0e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,S0e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",aE,k0e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,_0e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,T0e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,C0e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,E0e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,I0e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,l9="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",A0e=new RegExp(`^${l9}$`);function u9(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function $0e(e){return new RegExp(`^${u9(e)}$`)}function c9(e){let t=`${l9}T${u9(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function P0e(e,t){return!!((t==="v4"||!t)&&k0e.test(e)||(t==="v6"||!t)&&T0e.test(e))}function M0e(e,t){if(!b0e.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function O0e(e,t){return!!((t==="v4"||!t)&&_0e.test(e)||(t==="v6"||!t)&&C0e.test(e))}var rg=class zv extends Vt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==He.string){const o=this._getOrReturnCtx(t);return Fe(o,{code:Pe.invalid_type,expected:He.string,received:o.parsedType}),bt}const r=new zo;let i;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),Fe(i,{code:Pe.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),Fe(i,{code:Pe.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=t.data.length>o.value,a=t.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(t,i),s?Fe(i,{code:Pe.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&Fe(i,{code:Pe.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")w0e.test(t.data)||(i=this._getOrReturnCtx(t,i),Fe(i,{validation:"email",code:Pe.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")aE||(aE=new RegExp(S0e,"u")),aE.test(t.data)||(i=this._getOrReturnCtx(t,i),Fe(i,{validation:"emoji",code:Pe.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")y0e.test(t.data)||(i=this._getOrReturnCtx(t,i),Fe(i,{validation:"uuid",code:Pe.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")v0e.test(t.data)||(i=this._getOrReturnCtx(t,i),Fe(i,{validation:"nanoid",code:Pe.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")h0e.test(t.data)||(i=this._getOrReturnCtx(t,i),Fe(i,{validation:"cuid",code:Pe.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")m0e.test(t.data)||(i=this._getOrReturnCtx(t,i),Fe(i,{validation:"cuid2",code:Pe.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")g0e.test(t.data)||(i=this._getOrReturnCtx(t,i),Fe(i,{validation:"ulid",code:Pe.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),Fe(i,{validation:"url",code:Pe.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),Fe(i,{validation:"regex",code:Pe.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),Fe(i,{code:Pe.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),Fe(i,{code:Pe.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),Fe(i,{code:Pe.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?c9(o).test(t.data)||(i=this._getOrReturnCtx(t,i),Fe(i,{code:Pe.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?A0e.test(t.data)||(i=this._getOrReturnCtx(t,i),Fe(i,{code:Pe.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?$0e(o).test(t.data)||(i=this._getOrReturnCtx(t,i),Fe(i,{code:Pe.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?x0e.test(t.data)||(i=this._getOrReturnCtx(t,i),Fe(i,{validation:"duration",code:Pe.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?P0e(t.data,o.version)||(i=this._getOrReturnCtx(t,i),Fe(i,{validation:"ip",code:Pe.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?M0e(t.data,o.alg)||(i=this._getOrReturnCtx(t,i),Fe(i,{validation:"jwt",code:Pe.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?O0e(t.data,o.version)||(i=this._getOrReturnCtx(t,i),Fe(i,{validation:"cidr",code:Pe.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?E0e.test(t.data)||(i=this._getOrReturnCtx(t,i),Fe(i,{validation:"base64",code:Pe.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?I0e.test(t.data)||(i=this._getOrReturnCtx(t,i),Fe(i,{validation:"base64url",code:Pe.invalid_string,message:o.message}),r.dirty()):cn.assertNever(o);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:Pe.invalid_string,...ot.errToObj(r)})}_addCheck(t){return new zv({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ot.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ot.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ot.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ot.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ot.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ot.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ot.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ot.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ot.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ot.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ot.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ot.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ot.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...ot.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...ot.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...ot.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...ot.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...ot.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...ot.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...ot.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...ot.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...ot.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...ot.errToObj(n)})}nonempty(t){return this.min(1,ot.errToObj(t))}trim(){return new zv({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new zv({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new zv({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};rg.create=e=>new rg({checks:[],typeName:ge.ZodString,coerce:e?.coerce??!1,...Mt(e)});function N0e(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,o=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return o%s/10**i}var zb=class jA extends Vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==He.number){const o=this._getOrReturnCtx(t);return Fe(o,{code:Pe.invalid_type,expected:He.number,received:o.parsedType}),bt}let r;const i=new zo;for(const o of this._def.checks)o.kind==="int"?cn.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),Fe(r,{code:Pe.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),Fe(r,{code:Pe.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),Fe(r,{code:Pe.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?N0e(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),Fe(r,{code:Pe.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),Fe(r,{code:Pe.not_finite,message:o.message}),i.dirty()):cn.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ot.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ot.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ot.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ot.toString(n))}setLimit(t,n,r,i){return new jA({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ot.toString(i)}]})}_addCheck(t){return new jA({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ot.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ot.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ot.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ot.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ot.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ot.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ot.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ot.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ot.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&cn.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}};zb.create=e=>new zb({checks:[],typeName:ge.ZodNumber,coerce:e?.coerce||!1,...Mt(e)});var Fb=class LA extends Vt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==He.bigint)return this._getInvalidInput(t);let r;const i=new zo;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),Fe(r,{code:Pe.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),Fe(r,{code:Pe.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),Fe(r,{code:Pe.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):cn.assertNever(o);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return Fe(n,{code:Pe.invalid_type,expected:He.bigint,received:n.parsedType}),bt}gte(t,n){return this.setLimit("min",t,!0,ot.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ot.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ot.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ot.toString(n))}setLimit(t,n,r,i){return new LA({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ot.toString(i)}]})}_addCheck(t){return new LA({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ot.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ot.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ot.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ot.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ot.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}};Fb.create=e=>new Fb({checks:[],typeName:ge.ZodBigInt,coerce:e?.coerce??!1,...Mt(e)});var Vb=class extends Vt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==He.boolean){const n=this._getOrReturnCtx(e);return Fe(n,{code:Pe.invalid_type,expected:He.boolean,received:n.parsedType}),bt}return co(e.data)}};Vb.create=e=>new Vb({typeName:ge.ZodBoolean,coerce:e?.coerce||!1,...Mt(e)});var Bb=class d9 extends Vt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==He.date){const o=this._getOrReturnCtx(t);return Fe(o,{code:Pe.invalid_type,expected:He.date,received:o.parsedType}),bt}if(Number.isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return Fe(o,{code:Pe.invalid_date}),bt}const r=new zo;let i;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),Fe(i,{code:Pe.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),Fe(i,{code:Pe.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):cn.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new d9({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ot.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ot.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}};Bb.create=e=>new Bb({checks:[],coerce:e?.coerce||!1,typeName:ge.ZodDate,...Mt(e)});var Vk=class extends Vt{_parse(e){if(this._getType(e)!==He.symbol){const n=this._getOrReturnCtx(e);return Fe(n,{code:Pe.invalid_type,expected:He.symbol,received:n.parsedType}),bt}return co(e.data)}};Vk.create=e=>new Vk({typeName:ge.ZodSymbol,...Mt(e)});var Ub=class extends Vt{_parse(e){if(this._getType(e)!==He.undefined){const n=this._getOrReturnCtx(e);return Fe(n,{code:Pe.invalid_type,expected:He.undefined,received:n.parsedType}),bt}return co(e.data)}};Ub.create=e=>new Ub({typeName:ge.ZodUndefined,...Mt(e)});var Zb=class extends Vt{_parse(e){if(this._getType(e)!==He.null){const n=this._getOrReturnCtx(e);return Fe(n,{code:Pe.invalid_type,expected:He.null,received:n.parsedType}),bt}return co(e.data)}};Zb.create=e=>new Zb({typeName:ge.ZodNull,...Mt(e)});var ig=class extends Vt{constructor(){super(...arguments),this._any=!0}_parse(e){return co(e.data)}};ig.create=e=>new ig({typeName:ge.ZodAny,...Mt(e)});var Gf=class extends Vt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return co(e.data)}};Gf.create=e=>new Gf({typeName:ge.ZodUnknown,...Mt(e)});var Ru=class extends Vt{_parse(e){const t=this._getOrReturnCtx(e);return Fe(t,{code:Pe.invalid_type,expected:He.never,received:t.parsedType}),bt}};Ru.create=e=>new Ru({typeName:ge.ZodNever,...Mt(e)});var Bk=class extends Vt{_parse(e){if(this._getType(e)!==He.undefined){const n=this._getOrReturnCtx(e);return Fe(n,{code:Pe.invalid_type,expected:He.void,received:n.parsedType}),bt}return co(e.data)}};Bk.create=e=>new Bk({typeName:ge.ZodVoid,...Mt(e)});var ap=class zS extends Vt{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==He.array)return Fe(n,{code:Pe.invalid_type,expected:He.array,received:n.parsedType}),bt;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(Fe(n,{code:s?Pe.too_big:Pe.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Fe(n,{code:Pe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Fe(n,{code:Pe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new _l(n,s,n.path,a)))).then(s=>zo.mergeArray(r,s));const o=[...n.data].map((s,a)=>i.type._parseSync(new _l(n,s,n.path,a)));return zo.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new zS({...this._def,minLength:{value:t,message:ot.toString(n)}})}max(t,n){return new zS({...this._def,maxLength:{value:t,message:ot.toString(n)}})}length(t,n){return new zS({...this._def,exactLength:{value:t,message:ot.toString(n)}})}nonempty(t){return this.min(1,t)}};ap.create=(e,t)=>new ap({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ge.ZodArray,...Mt(t)});function am(e){if(e instanceof Ys){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=bl.create(am(r))}return new Ys({...e._def,shape:()=>t})}else return e instanceof ap?new ap({...e._def,type:am(e.element)}):e instanceof bl?bl.create(am(e.unwrap())):e instanceof id?id.create(am(e.unwrap())):e instanceof rd?rd.create(e.items.map(t=>am(t))):e}var Ys=class _a extends Vt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=cn.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==He.object){const u=this._getOrReturnCtx(t);return Fe(u,{code:Pe.invalid_type,expected:He.object,received:u.parsedType}),bt}const{status:r,ctx:i}=this._processInputParams(t),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ru&&this._def.unknownKeys==="strip"))for(const u in i.data)s.includes(u)||a.push(u);const l=[];for(const u of s){const d=o[u],f=i.data[u];l.push({key:{status:"valid",value:u},value:d._parse(new _l(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Ru){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of a)l.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")a.length>0&&(Fe(i,{code:Pe.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of a){const f=i.data[d];l.push({key:{status:"valid",value:d},value:u._parse(new _l(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of l){const f=await d.key,g=await d.value;u.push({key:f,value:g,alwaysSet:d.alwaysSet})}return u}).then(u=>zo.mergeObjectSync(r,u)):zo.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return ot.errToObj,new _a({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{const i=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:ot.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new _a({...this._def,unknownKeys:"strip"})}passthrough(){return new _a({...this._def,unknownKeys:"passthrough"})}extend(t){return new _a({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new _a({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ge.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new _a({...this._def,catchall:t})}pick(t){const n={};for(const r of cn.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new _a({...this._def,shape:()=>n})}omit(t){const n={};for(const r of cn.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new _a({...this._def,shape:()=>n})}deepPartial(){return am(this)}partial(t){const n={};for(const r of cn.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}return new _a({...this._def,shape:()=>n})}required(t){const n={};for(const r of cn.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof bl;)o=o._def.innerType;n[r]=o}return new _a({...this._def,shape:()=>n})}keyof(){return y9(cn.objectKeys(this.shape))}};Ys.create=(e,t)=>new Ys({shape:()=>e,unknownKeys:"strip",catchall:Ru.create(),typeName:ge.ZodObject,...Mt(t)});Ys.strictCreate=(e,t)=>new Ys({shape:()=>e,unknownKeys:"strict",catchall:Ru.create(),typeName:ge.ZodObject,...Mt(t)});Ys.lazycreate=(e,t)=>new Ys({shape:e,unknownKeys:"strip",catchall:Ru.create(),typeName:ge.ZodObject,...Mt(t)});var Wb=class extends Vt{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;function r(i){for(const s of i)if(s.result.status==="valid")return s.result;for(const s of i)if(s.result.status==="dirty")return t.common.issues.push(...s.ctx.common.issues),s.result;const o=i.map(s=>new Aa(s.ctx.common.issues));return Fe(t,{code:Pe.invalid_union,unionErrors:o}),bt}if(t.common.async)return Promise.all(n.map(async i=>{const o={...t,common:{...t.common,issues:[]},parent:null};return{result:await i._parseAsync({data:t.data,path:t.path,parent:o}),ctx:o}})).then(r);{let i;const o=[];for(const a of n){const l={...t,common:{...t.common,issues:[]},parent:null},u=a._parseSync({data:t.data,path:t.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!i&&(i={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(i)return t.common.issues.push(...i.ctx.common.issues),i.result;const s=o.map(a=>new Aa(a));return Fe(t,{code:Pe.invalid_union,unionErrors:s}),bt}}get options(){return this._def.options}};Wb.create=(e,t)=>new Wb({options:e,typeName:ge.ZodUnion,...Mt(t)});var gu=e=>e instanceof qb?gu(e.schema):e instanceof La?gu(e.innerType()):e instanceof Jb?[e.value]:e instanceof Ux?e.options:e instanceof Kb?cn.objectValues(e.enum):e instanceof Gb?gu(e._def.innerType):e instanceof Ub?[void 0]:e instanceof Zb?[null]:e instanceof bl?[void 0,...gu(e.unwrap())]:e instanceof id?[null,...gu(e.unwrap())]:e instanceof GM||e instanceof Xb?gu(e.unwrap()):e instanceof Yb?gu(e._def.innerType):[],f9=class p9 extends Vt{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==He.object)return Fe(n,{code:Pe.invalid_type,expected:He.object,received:n.parsedType}),bt;const r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(Fe(n,{code:Pe.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),bt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const o of n){const s=gu(o.shape[t]);if(!s.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of s){if(i.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);i.set(a,o)}}return new p9({typeName:ge.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...Mt(r)})}};function zA(e,t){const n=xu(e),r=xu(t);if(e===t)return{valid:!0,data:e};if(n===He.object&&r===He.object){const i=cn.objectKeys(t),o=cn.objectKeys(e).filter(a=>i.indexOf(a)!==-1),s={...e,...t};for(const a of o){const l=zA(e[a],t[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(n===He.array&&r===He.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const s=e[o],a=t[o],l=zA(s,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===He.date&&r===He.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var Hb=class extends Vt{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(i,o)=>{if(RA(i)||RA(o))return bt;const s=zA(i.value,o.value);return s.valid?((DA(i)||DA(o))&&t.dirty(),{status:t.value,value:s.data}):(Fe(n,{code:Pe.invalid_intersection_types}),bt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([i,o])=>r(i,o)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Hb.create=(e,t,n)=>new Hb({left:e,right:t,typeName:ge.ZodIntersection,...Mt(n)});var rd=class h9 extends Vt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==He.array)return Fe(r,{code:Pe.invalid_type,expected:He.array,received:r.parsedType}),bt;if(r.data.length<this._def.items.length)return Fe(r,{code:Pe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),bt;!this._def.rest&&r.data.length>this._def.items.length&&(Fe(r,{code:Pe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new _l(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>zo.mergeArray(n,s)):zo.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new h9({...this._def,rest:t})}};rd.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new rd({items:e,typeName:ge.ZodTuple,rest:null,...Mt(t)})};var m9=class FA extends Vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==He.object)return Fe(r,{code:Pe.invalid_type,expected:He.object,received:r.parsedType}),bt;const i=[],o=this._def.keyType,s=this._def.valueType;for(const a in r.data)i.push({key:o._parse(new _l(r,a,r.path,a)),value:s._parse(new _l(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?zo.mergeObjectAsync(n,i):zo.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Vt?new FA({keyType:t,valueType:n,typeName:ge.ZodRecord,...Mt(r)}):new FA({keyType:rg.create(),valueType:t,typeName:ge.ZodRecord,...Mt(n)})}},Uk=class extends Vt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==He.map)return Fe(n,{code:Pe.invalid_type,expected:He.map,received:n.parsedType}),bt;const r=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([s,a],l)=>({key:r._parse(new _l(n,s,n.path,[l,"key"])),value:i._parse(new _l(n,a,n.path,[l,"value"]))}));if(n.common.async){const s=new Map;return Promise.resolve().then(async()=>{for(const a of o){const l=await a.key,u=await a.value;if(l.status==="aborted"||u.status==="aborted")return bt;(l.status==="dirty"||u.status==="dirty")&&t.dirty(),s.set(l.value,u.value)}return{status:t.value,value:s}})}else{const s=new Map;for(const a of o){const l=a.key,u=a.value;if(l.status==="aborted"||u.status==="aborted")return bt;(l.status==="dirty"||u.status==="dirty")&&t.dirty(),s.set(l.value,u.value)}return{status:t.value,value:s}}}};Uk.create=(e,t,n)=>new Uk({valueType:t,keyType:e,typeName:ge.ZodMap,...Mt(n)});var Zk=class VA extends Vt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==He.set)return Fe(r,{code:Pe.invalid_type,expected:He.set,received:r.parsedType}),bt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Fe(r,{code:Pe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Fe(r,{code:Pe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(l){const u=new Set;for(const d of l){if(d.status==="aborted")return bt;d.status==="dirty"&&n.dirty(),u.add(d.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((l,u)=>o._parse(new _l(r,l,r.path,u)));return r.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(t,n){return new VA({...this._def,minSize:{value:t,message:ot.toString(n)}})}max(t,n){return new VA({...this._def,maxSize:{value:t,message:ot.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}};Zk.create=(e,t)=>new Zk({valueType:e,minSize:null,maxSize:null,typeName:ge.ZodSet,...Mt(t)});var g9=class FS extends Vt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==He.function)return Fe(n,{code:Pe.invalid_type,expected:He.function,received:n.parsedType}),bt;function r(a,l){return Fk({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,zk(),ng].filter(u=>!!u),issueData:{code:Pe.invalid_arguments,argumentsError:l}})}function i(a,l){return Fk({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,zk(),ng].filter(u=>!!u),issueData:{code:Pe.invalid_return_type,returnTypeError:l}})}const o={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof og){const a=this;return co(async function(...l){const u=new Aa([]),d=await a._def.args.parseAsync(l,o).catch(m=>{throw u.addIssue(r(l,m)),u}),f=await Reflect.apply(s,this,d);return await a._def.returns._def.type.parseAsync(f,o).catch(m=>{throw u.addIssue(i(f,m)),u})})}else{const a=this;return co(function(...l){const u=a._def.args.safeParse(l,o);if(!u.success)throw new Aa([r(l,u.error)]);const d=Reflect.apply(s,this,u.data),f=a._def.returns.safeParse(d,o);if(!f.success)throw new Aa([i(d,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new FS({...this._def,args:rd.create(t).rest(Gf.create())})}returns(t){return new FS({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new FS({args:t||rd.create([]).rest(Gf.create()),returns:n||Gf.create(),typeName:ge.ZodFunction,...Mt(r)})}},qb=class extends Vt{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}};qb.create=(e,t)=>new qb({getter:e,typeName:ge.ZodLazy,...Mt(t)});var Jb=class extends Vt{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Fe(t,{received:t.data,code:Pe.invalid_literal,expected:this._def.value}),bt}return{status:"valid",value:e.data}}get value(){return this._def.value}};Jb.create=(e,t)=>new Jb({value:e,typeName:ge.ZodLiteral,...Mt(t)});function y9(e,t){return new Ux({values:e,typeName:ge.ZodEnum,...Mt(t)})}var Ux=class BA extends Vt{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return Fe(n,{expected:cn.joinValues(r),received:n.parsedType,code:Pe.invalid_type}),bt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return Fe(n,{received:n.data,code:Pe.invalid_enum_value,options:r}),bt}return co(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return BA.create(t,{...this._def,...n})}exclude(t,n=this._def){return BA.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}};Ux.create=y9;var Kb=class extends Vt{_parse(e){const t=cn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==He.string&&n.parsedType!==He.number){const r=cn.objectValues(t);return Fe(n,{expected:cn.joinValues(r),received:n.parsedType,code:Pe.invalid_type}),bt}if(this._cache||(this._cache=new Set(cn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const r=cn.objectValues(t);return Fe(n,{received:n.data,code:Pe.invalid_enum_value,options:r}),bt}return co(e.data)}get enum(){return this._def.values}};Kb.create=(e,t)=>new Kb({values:e,typeName:ge.ZodNativeEnum,...Mt(t)});var og=class extends Vt{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==He.promise&&t.common.async===!1)return Fe(t,{code:Pe.invalid_type,expected:He.promise,received:t.parsedType}),bt;const n=t.parsedType===He.promise?t.data:Promise.resolve(t.data);return co(n.then(r=>this._def.type.parseAsync(r,{path:t.path,errorMap:t.common.contextualErrorMap})))}};og.create=(e,t)=>new og({type:e,typeName:ge.ZodPromise,...Mt(t)});var La=class extends Vt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ge.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:o=>{Fe(n,o),o.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),r.type==="preprocess"){const o=r.transform(n.data,i);if(n.common.async)return Promise.resolve(o).then(async s=>{if(t.value==="aborted")return bt;const a=await this._def.schema._parseAsync({data:s,path:n.path,parent:n});return a.status==="aborted"?bt:a.status==="dirty"||t.value==="dirty"?wm(a.value):a});{if(t.value==="aborted")return bt;const s=this._def.schema._parseSync({data:o,path:n.path,parent:n});return s.status==="aborted"?bt:s.status==="dirty"||t.value==="dirty"?wm(s.value):s}}if(r.type==="refinement"){const o=s=>{const a=r.refinement(s,i);if(n.common.async)return Promise.resolve(a);if(a instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return s};if(n.common.async===!1){const s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?bt:(s.status==="dirty"&&t.dirty(),o(s.value),{status:t.value,value:s.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>s.status==="aborted"?bt:(s.status==="dirty"&&t.dirty(),o(s.value).then(()=>({status:t.value,value:s.value}))))}if(r.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!sp(o))return bt;const s=r.transform(o.value,i);if(s instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:s}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>sp(o)?Promise.resolve(r.transform(o.value,i)).then(s=>({status:t.value,value:s})):bt);cn.assertNever(r)}};La.create=(e,t,n)=>new La({schema:e,typeName:ge.ZodEffects,effect:t,...Mt(n)});La.createWithPreprocess=(e,t,n)=>new La({schema:t,effect:{type:"preprocess",transform:e},typeName:ge.ZodEffects,...Mt(n)});var bl=class extends Vt{_parse(e){return this._getType(e)===He.undefined?co(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};bl.create=(e,t)=>new bl({innerType:e,typeName:ge.ZodOptional,...Mt(t)});var id=class extends Vt{_parse(e){return this._getType(e)===He.null?co(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}};id.create=(e,t)=>new id({innerType:e,typeName:ge.ZodNullable,...Mt(t)});var Gb=class extends Vt{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===He.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}};Gb.create=(e,t)=>new Gb({innerType:e,typeName:ge.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Mt(t)});var Yb=class extends Vt{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Lb(r)?r.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Aa(n.common.issues)},input:n.data})})):{status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new Aa(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Yb.create=(e,t)=>new Yb({innerType:e,typeName:ge.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Mt(t)});var Wk=class extends Vt{_parse(e){if(this._getType(e)!==He.nan){const n=this._getOrReturnCtx(e);return Fe(n,{code:Pe.invalid_type,expected:He.nan,received:n.parsedType}),bt}return{status:"valid",value:e.data}}};Wk.create=e=>new Wk({typeName:ge.ZodNaN,...Mt(e)});var R0e=Symbol("zod_brand"),GM=class extends Vt{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}},YM=class v9 extends Vt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?bt:o.status==="dirty"?(n.dirty(),wm(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?bt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new v9({in:t,out:n,typeName:ge.ZodPipeline})}},Xb=class extends Vt{_parse(e){const t=this._def.innerType._parse(e),n=r=>(sp(r)&&(r.value=Object.freeze(r.value)),r);return Lb(t)?t.then(r=>n(r)):n(t)}unwrap(){return this._def.innerType}};Xb.create=(e,t)=>new Xb({innerType:e,typeName:ge.ZodReadonly,...Mt(t)});function m4(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function b9(e,t={},n){return e?ig.create().superRefine((r,i)=>{const o=e(r);if(o instanceof Promise)return o.then(s=>{if(!s){const a=m4(t,r),l=a.fatal??n??!0;i.addIssue({code:"custom",...a,fatal:l})}});if(!o){const s=m4(t,r),a=s.fatal??n??!0;i.addIssue({code:"custom",...s,fatal:a})}}):ig.create()}var D0e={object:Ys.lazycreate},ge;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ge||(ge={}));var j0e=(e,t={message:`Input not instance of ${e.name}`})=>b9(n=>n instanceof e,t),x9=rg.create,w9=zb.create,L0e=Wk.create,z0e=Fb.create,S9=Vb.create,F0e=Bb.create,V0e=Vk.create,B0e=Ub.create,U0e=Zb.create,Z0e=ig.create,W0e=Gf.create,H0e=Ru.create,q0e=Bk.create,J0e=ap.create,K0e=Ys.create,G0e=Ys.strictCreate,Y0e=Wb.create,X0e=f9.create,Q0e=Hb.create,ewe=rd.create,twe=m9.create,nwe=Uk.create,rwe=Zk.create,iwe=g9.create,owe=qb.create,swe=Jb.create,awe=Ux.create,lwe=Kb.create,uwe=og.create,g4=La.create,cwe=bl.create,dwe=id.create,fwe=La.createWithPreprocess,pwe=YM.create,hwe=()=>x9().optional(),mwe=()=>w9().optional(),gwe=()=>S9().optional(),ywe={string:e=>rg.create({...e,coerce:!0}),number:e=>zb.create({...e,coerce:!0}),boolean:e=>Vb.create({...e,coerce:!0}),bigint:e=>Fb.create({...e,coerce:!0}),date:e=>Bb.create({...e,coerce:!0})},vwe=bt,ln=N;function Fo(e){if(e.target!=="openAi")return{};const t=[...e.basePath,e.definitionPath,e.openAiAnyTypeName];return e.flags.hasReferencedOpenAiAnyType=!0,{$ref:e.$refStrategy==="relative"?i9(t,e.currentPath):t.join("/")}}function bwe(e,t){const n={type:"array"};return e.type?._def&&e.type?._def?.typeName!==ge.ZodAny&&(n.items=xn(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&Cn(n,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&Cn(n,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(Cn(n,"minItems",e.exactLength.value,e.exactLength.message,t),Cn(n,"maxItems",e.exactLength.value,e.exactLength.message,t)),n}function xwe(e,t){const n={type:"integer",format:"int64"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"min":t.target==="jsonSchema7"?r.inclusive?Cn(n,"minimum",r.value,r.message,t):Cn(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),Cn(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?Cn(n,"maximum",r.value,r.message,t):Cn(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),Cn(n,"maximum",r.value,r.message,t));break;case"multipleOf":Cn(n,"multipleOf",r.value,r.message,t);break}return n}function wwe(){return{type:"boolean"}}function k9(e,t){return xn(e.type._def,t)}var Swe=(e,t)=>xn(e.innerType._def,t);function _9(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((i,o)=>_9(e,t,i))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return kwe(e,t)}}var kwe=(e,t)=>{const n={type:"integer",format:"unix-time"};if(t.target==="openApi3")return n;for(const r of e.checks)switch(r.kind){case"min":Cn(n,"minimum",r.value,r.message,t);break;case"max":Cn(n,"maximum",r.value,r.message,t);break}return n};function _we(e,t){return{...xn(e.innerType._def,t),default:e.defaultValue()}}function Twe(e,t){return t.effectStrategy==="input"?xn(e.schema._def,t):Fo(t)}function Cwe(e){return{type:"string",enum:Array.from(e.values)}}var Ewe=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function Iwe(e,t){const n=[xn(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),xn(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(o=>!!o);let r=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const i=[];return n.forEach(o=>{if(Ewe(o))i.push(...o.allOf),o.unevaluatedProperties===void 0&&(r=void 0);else{let s=o;if("additionalProperties"in o&&o.additionalProperties===!1){const{additionalProperties:a,...l}=o;s=l}else r=void 0;i.push(s)}}),i.length?{allOf:i,...r}:void 0}function Awe(e,t){const n=typeof e.value;return n!=="bigint"&&n!=="number"&&n!=="boolean"&&n!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:n==="bigint"?"integer":n,enum:[e.value]}:{type:n==="bigint"?"integer":n,const:e.value}}var lE=void 0,ba={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(lE===void 0&&(lE=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),lE),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function T9(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":Cn(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,t);break;case"max":Cn(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"email":switch(t.emailStrategy){case"format:email":xa(n,"email",r.message,t);break;case"format:idn-email":xa(n,"idn-email",r.message,t);break;case"pattern:zod":Xi(n,ba.email,r.message,t);break}break;case"url":xa(n,"uri",r.message,t);break;case"uuid":xa(n,"uuid",r.message,t);break;case"regex":Xi(n,r.regex,r.message,t);break;case"cuid":Xi(n,ba.cuid,r.message,t);break;case"cuid2":Xi(n,ba.cuid2,r.message,t);break;case"startsWith":Xi(n,RegExp(`^${uE(r.value,t)}`),r.message,t);break;case"endsWith":Xi(n,RegExp(`${uE(r.value,t)}$`),r.message,t);break;case"datetime":xa(n,"date-time",r.message,t);break;case"date":xa(n,"date",r.message,t);break;case"time":xa(n,"time",r.message,t);break;case"duration":xa(n,"duration",r.message,t);break;case"length":Cn(n,"minLength",typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,r.message,t),Cn(n,"maxLength",typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value,r.message,t);break;case"includes":{Xi(n,RegExp(uE(r.value,t)),r.message,t);break}case"ip":{r.version!=="v6"&&xa(n,"ipv4",r.message,t),r.version!=="v4"&&xa(n,"ipv6",r.message,t);break}case"base64url":Xi(n,ba.base64url,r.message,t);break;case"jwt":Xi(n,ba.jwt,r.message,t);break;case"cidr":{r.version!=="v6"&&Xi(n,ba.ipv4Cidr,r.message,t),r.version!=="v4"&&Xi(n,ba.ipv6Cidr,r.message,t);break}case"emoji":Xi(n,ba.emoji(),r.message,t);break;case"ulid":{Xi(n,ba.ulid,r.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{xa(n,"binary",r.message,t);break}case"contentEncoding:base64":{Cn(n,"contentEncoding","base64",r.message,t);break}case"pattern:zod":{Xi(n,ba.base64,r.message,t);break}}break}case"nanoid":Xi(n,ba.nanoid,r.message,t)}return n}function uE(e,t){return t.patternStrategy==="escape"?Pwe(e):e}var $we=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Pwe(e){let t="";for(let n=0;n<e.length;n++)$we.has(e[n])||(t+="\\"),t+=e[n];return t}function xa(e,t,n,r){e.format||e.anyOf?.some(i=>i.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&r.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):Cn(e,"format",t,n,r)}function Xi(e,t,n,r){e.pattern||e.allOf?.some(i=>i.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&r.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:y4(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):Cn(e,"pattern",y4(t,r),n,r)}function y4(e,t){if(!t.applyRegexFlags||!e.flags)return e.source;const n={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},r=n.i?e.source.toLowerCase():e.source;let i="",o=!1,s=!1,a=!1;for(let l=0;l<r.length;l++){if(o){i+=r[l],o=!1;continue}if(n.i){if(s){if(r[l].match(/[a-z]/)){a?(i+=r[l],i+=`${r[l-2]}-${r[l]}`.toUpperCase(),a=!1):r[l+1]==="-"&&r[l+2]?.match(/[a-z]/)?(i+=r[l],a=!0):i+=`${r[l]}${r[l].toUpperCase()}`;continue}}else if(r[l].match(/[a-z]/)){i+=`[${r[l]}${r[l].toUpperCase()}]`;continue}}if(n.m){if(r[l]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(r[l]==="$"){i+=`($|(?=[\r
]))`;continue}}if(n.s&&r[l]==="."){i+=s?`${r[l]}\r
`:`[${r[l]}\r
]`;continue}i+=r[l],r[l]==="\\"?o=!0:s&&r[l]==="]"?s=!1:!s&&r[l]==="["&&(s=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}function C9(e,t){if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&e.keyType?._def.typeName===ge.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((r,i)=>({...r,[i]:xn(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",i]})??Fo(t)}),{}),additionalProperties:t.rejectedAdditionalProperties};const n={type:"object",additionalProperties:xn(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??t.allowedAdditionalProperties};if(t.target==="openApi3")return n;if(e.keyType?._def.typeName===ge.ZodString&&e.keyType._def.checks?.length){const{type:r,...i}=T9(e.keyType._def,t);return{...n,propertyNames:i}}else{if(e.keyType?._def.typeName===ge.ZodEnum)return{...n,propertyNames:{enum:e.keyType._def.values}};if(e.keyType?._def.typeName===ge.ZodBranded&&e.keyType._def.type._def.typeName===ge.ZodString&&e.keyType._def.type._def.checks?.length){const{type:r,...i}=k9(e.keyType._def,t);return{...n,propertyNames:i}}}return n}function Mwe(e,t){if(t.mapStrategy==="record")return C9(e,t);const n=xn(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||Fo(t),r=xn(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||Fo(t);return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function Owe(e){const t=e.values,r=Object.keys(e.values).filter(o=>typeof t[t[o]]!="number").map(o=>t[o]),i=Array.from(new Set(r.map(o=>typeof o)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:r}}function Nwe(e){return e.target==="openAi"?void 0:{not:Fo({...e,currentPath:[...e.currentPath,"not"]})}}function Rwe(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var Hk={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Dwe(e,t){if(t.target==="openApi3")return v4(e,t);const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in Hk&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((i,o)=>{const s=Hk[o._def.typeName];return s&&!i.includes(s)?[...i,s]:i},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((i,o)=>{const s=typeof o._def.value;switch(s){case"string":case"number":case"boolean":return[...i,s];case"bigint":return[...i,"integer"];case"object":if(o._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(r.length===n.length){const i=r.filter((o,s,a)=>a.indexOf(o)===s);return{type:i.length>1?i:i[0],enum:n.reduce((o,s)=>o.includes(s._def.value)?o:[...o,s._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,i)=>[...r,...i._def.values.filter(o=>!r.includes(o))],[])};return v4(e,t)}var v4=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,i)=>xn(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${i}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function jwe(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:Hk[e.innerType._def.typeName],nullable:!0}:{type:[Hk[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){const r=xn(e.innerType._def,{...t,currentPath:[...t.currentPath]});return r&&"$ref"in r?{allOf:[r],nullable:!0}:r&&{...r,nullable:!0}}const n=xn(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function Lwe(e,t){const n={type:"number"};if(!e.checks)return n;for(const r of e.checks)switch(r.kind){case"int":n.type="integer",r9(n,"type",r.message,t);break;case"min":t.target==="jsonSchema7"?r.inclusive?Cn(n,"minimum",r.value,r.message,t):Cn(n,"exclusiveMinimum",r.value,r.message,t):(r.inclusive||(n.exclusiveMinimum=!0),Cn(n,"minimum",r.value,r.message,t));break;case"max":t.target==="jsonSchema7"?r.inclusive?Cn(n,"maximum",r.value,r.message,t):Cn(n,"exclusiveMaximum",r.value,r.message,t):(r.inclusive||(n.exclusiveMaximum=!0),Cn(n,"maximum",r.value,r.message,t));break;case"multipleOf":Cn(n,"multipleOf",r.value,r.message,t);break}return n}function zwe(e,t){const n=t.target==="openAi",r={type:"object",properties:{}},i=[],o=e.shape();for(const a in o){let l=o[a];if(l===void 0||l._def===void 0)continue;let u=Vwe(l);u&&n&&(l._def.typeName==="ZodOptional"&&(l=l._def.innerType),l.isNullable()||(l=l.nullable()),u=!1);const d=xn(l._def,{...t,currentPath:[...t.currentPath,"properties",a],propertyPath:[...t.currentPath,"properties",a]});d!==void 0&&(r.properties[a]=d,u||i.push(a))}i.length&&(r.required=i);const s=Fwe(e,t);return s!==void 0&&(r.additionalProperties=s),r}function Fwe(e,t){if(e.catchall._def.typeName!=="ZodNever")return xn(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function Vwe(e){try{return e.isOptional()}catch{return!0}}var Bwe=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return xn(e.innerType._def,t);const n=xn(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return n?{anyOf:[{not:Fo(t)},n]}:Fo(t)},Uwe=(e,t)=>{if(t.pipeStrategy==="input")return xn(e.in._def,t);if(t.pipeStrategy==="output")return xn(e.out._def,t);const n=xn(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=xn(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(i=>i!==void 0)}};function Zwe(e,t){return xn(e.type._def,t)}function Wwe(e,t){const r={type:"array",uniqueItems:!0,items:xn(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&Cn(r,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&Cn(r,"maxItems",e.maxSize.value,e.maxSize.message,t),r}function Hwe(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>xn(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:xn(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>xn(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function qwe(e){return{not:Fo(e)}}function Jwe(e){return Fo(e)}var Kwe=(e,t)=>xn(e.innerType._def,t),Gwe=(e,t,n)=>{switch(t){case ge.ZodString:return T9(e,n);case ge.ZodNumber:return Lwe(e,n);case ge.ZodObject:return zwe(e,n);case ge.ZodBigInt:return xwe(e,n);case ge.ZodBoolean:return wwe();case ge.ZodDate:return _9(e,n);case ge.ZodUndefined:return qwe(n);case ge.ZodNull:return Rwe(n);case ge.ZodArray:return bwe(e,n);case ge.ZodUnion:case ge.ZodDiscriminatedUnion:return Dwe(e,n);case ge.ZodIntersection:return Iwe(e,n);case ge.ZodTuple:return Hwe(e,n);case ge.ZodRecord:return C9(e,n);case ge.ZodLiteral:return Awe(e,n);case ge.ZodEnum:return Cwe(e);case ge.ZodNativeEnum:return Owe(e);case ge.ZodNullable:return jwe(e,n);case ge.ZodOptional:return Bwe(e,n);case ge.ZodMap:return Mwe(e,n);case ge.ZodSet:return Wwe(e,n);case ge.ZodLazy:return()=>e.getter()._def;case ge.ZodPromise:return Zwe(e,n);case ge.ZodNaN:case ge.ZodNever:return Nwe(n);case ge.ZodEffects:return Twe(e,n);case ge.ZodAny:return Fo(n);case ge.ZodUnknown:return Jwe(n);case ge.ZodDefault:return _we(e,n);case ge.ZodBranded:return k9(e,n);case ge.ZodReadonly:return Kwe(e,n);case ge.ZodCatch:return Swe(e,n);case ge.ZodPipeline:return Uwe(e,n);case ge.ZodFunction:case ge.ZodVoid:case ge.ZodSymbol:return;default:return(r=>{})()}};function xn(e,t,n=!1){const r=t.seen.get(e);if(t.override){const a=t.override?.(e,t,r,n);if(a!==a0e)return a}if(r&&!n){const a=Ywe(r,t);if(a!==void 0)return a}const i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);const o=Gwe(e,e.typeName,t),s=typeof o=="function"?xn(o(),t):o;if(s&&Xwe(e,t,s),t.postProcess){const a=t.postProcess(s,e,t);return i.jsonSchema=s,a}return i.jsonSchema=s,s}var Ywe=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:i9(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),Fo(t)):t.$refStrategy==="seen"?Fo(t):void 0}},Xwe=(e,t,n)=>(e.description&&(n.description=e.description,t.markdownDescription&&(n.markdownDescription=e.description)),n),cE=(e,t)=>{const n=u0e(t);let r=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((l,[u,d])=>({...l,[u]:xn(d._def,{...n,currentPath:[...n.basePath,n.definitionPath,u]},!0)??Fo(n)}),{}):void 0;const i=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,o=xn(e._def,i===void 0?n:{...n,currentPath:[...n.basePath,n.definitionPath,i]},!1)??Fo(n),s=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;s!==void 0&&(o.title=s),n.flags.hasReferencedOpenAiAnyType&&(r||(r={}),r[n.openAiAnyTypeName]||(r[n.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:n.$refStrategy==="relative"?"1":[...n.basePath,n.definitionPath,n.openAiAnyTypeName].join("/")}}));const a=i===void 0?r?{...o,[n.definitionPath]:r}:o:{$ref:[...n.$refStrategy==="relative"?[]:n.basePath,n.definitionPath,i].join("/"),[n.definitionPath]:{...r,[i]:o}};return n.target==="jsonSchema7"?a.$schema="http://json-schema.org/draft-07/schema#":(n.target==="jsonSchema2019-09"||n.target==="openAi")&&(a.$schema="https://json-schema.org/draft/2019-09/schema#"),n.target==="openAi"&&("anyOf"in a||"oneOf"in a||"allOf"in a||"type"in a&&Array.isArray(a.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),a};function Qw(e){return Array.isArray(e)?e:[e]}function Qwe(e,t){if(typeof t=="function")return t(e);if(typeof t=="string"&&typeof e=="object"&&e!==null){const n=e;if(t in n)return String(n[t])}if(typeof e=="object"&&e!==null){const n=e;return String(n.title||n.label||n.name||n.id||"Unknown")}return String(e)}function eSe(e,t,n){if(t==null)return[];const r=Array.isArray(t),o=(r?t:[t]).map((s,a)=>{const l=typeof s=="object"&&s!==null&&"id"in s?String(s.id):`${e}-${a}`,u=Qwe(s,n?.labelField),d=n?.icon?typeof n.icon=="function"?n.icon(s):n.icon:void 0,f={id:l,source:n?.source||"subscription",data:s,metadata:{label:u,...d&&{icon:d},...n?.color&&{color:n.color},...n?.order!==void 0&&{order:n.order},showInChat:!0}};return n?.showInChat!==void 0&&(f.metadata.showInChat=typeof n.showInChat=="function"?n.showInChat(f):n.showInChat),f});return r?o:o[0]}var E9=(e,t)=>({chatInputContent:null,overrideInputContent:{input:null},additionalContext:{},mentionProviders:new Map,collapsingConfigs:new Map,collapsingConfigRefs:new Map,setChatInputContent:n=>{e({chatInputContent:n})},setOverrideInputContent:n=>{e({overrideInputContent:{input:n}})},addContextEntry:(n,r)=>{e(i=>{const o=i.additionalContext[n],s=o?Qw(o):[];if(s.some(u=>u.id===r.id))return i;const l=[...s,r];return{additionalContext:{...i.additionalContext,[n]:l}}})},removeContextEntry:(n,r)=>{e(i=>{const o=i.additionalContext[n];if(!o)return i;const a=Qw(o).filter(u=>u.id!==r),l=a.length===0?[]:a.length===1?a[0]:a;return{additionalContext:{...i.additionalContext,[n]:l}}})},clearContextBySource:n=>{e(r=>{const i={};return Object.entries(r.additionalContext).forEach(([o,s])=>{const l=Qw(s).filter(u=>u.source!==n);l.length===0?i[o]=[]:l.length===1&&!Array.isArray(s)?i[o]=l[0]:i[o]=l}),{additionalContext:i}})},clearMentions:()=>{t().clearContextBySource("mention")},updateAdditionalContext:n=>{e(r=>{const i={...r.additionalContext};return Object.entries(n).forEach(([o,s])=>{if(Array.isArray(s))s.length===0?i[o]=[]:i[o]=s.map(a=>({...a,source:a.source||"subscription"}));else if(s&&typeof s=="object"){const a=s;i[o]={...a,source:a.source||"subscription"}}}),{additionalContext:i}})},putAdditionalContext:(n,r,i)=>{e(o=>{const s={...o.additionalContext},a=eSe(n,r,{...i,source:"function"});return s[n]=a,{additionalContext:s}})},registerMentionProvider:n=>{e(r=>{const i=new Map(r.mentionProviders);return i.set(n.id,n),{mentionProviders:i}})},unregisterMentionProvider:n=>{e(r=>{const i=new Map(r.mentionProviders);return i.delete(n),{mentionProviders:i}})},getMentionProvidersByTrigger:n=>{const r=t().mentionProviders;return Array.from(r.values()).filter(i=>i.trigger===n)},setCollapsingConfig:(n,r,i)=>{e(o=>{const s=new Map(o.collapsingConfigs);let a;typeof r=="boolean"?a={threshold:5}:typeof r=="number"?a={threshold:r}:a=r,s.set(n,a);const l=new Map(o.collapsingConfigRefs),u=l.get(n)||new Set;return u.add(i),l.set(n,u),{collapsingConfigs:s,collapsingConfigRefs:l}})},removeCollapsingConfig:(n,r)=>{e(i=>{const o=new Map(i.collapsingConfigRefs),s=o.get(n);if(s)if(s.delete(r),s.size===0){o.delete(n);const a=new Map(i.collapsingConfigs);return a.delete(n),{collapsingConfigs:a,collapsingConfigRefs:o}}else return o.set(n,s),{collapsingConfigs:i.collapsingConfigs,collapsingConfigRefs:o};return i})},stringifyEditor:()=>{const n=t().chatInputContent;if(!n)return"";const r=i=>{let o="";if(i.type==="text"&&i.text&&(o+=i.text),i.type==="mention"&&i.attrs){const s=i.attrs.label||i.attrs.id||"mention";o+=`@${s}`}if(i.type==="choice"&&i.attrs){const s=i.attrs.selectedOption||"",a=i.attrs.options||[],l=s||(a.length>0?a[0]:"");o+=l}return i.content&&Array.isArray(i.content)&&i.content.forEach(s=>{o+=r(s)}),o};return r(n).trim()},compileStateSetters:()=>{const n=t().registeredStates,r={},i={},o={};return Object.keys(n).forEach(s=>{const a=n[s];a?.schema&&(o[s]={stateKey:s,description:a.description,schema:cE(a.schema,s)});const l=a?.stateSetters||a?.customSetters;l&&Object.entries(l).forEach(([u,d])=>{const f={name:d.name,stateKey:s,description:d.description,argsSchema:d.argsSchema?cE(d.argsSchema,d.name):void 0};r[u]=f})}),{stateSetters:r,setters:i,schemas:o}},compileAdditionalContext:()=>{const n=t().additionalContext,r={};Object.entries(n).forEach(([l,u])=>{const d=Qw(u),f=Array.isArray(u),g=d.map(m=>({data:m.data,source:m.source}));r[l]=f?g:g[0]});const i=t().compileStateSetters(),o=t().compileFrontendTools(),s={...r,...i,...Object.keys(o).length>0&&{frontendTools:o}};return Lk(s)},stringifyInputContext:()=>{const n=t(),r=n.stringifyEditor(),i=JSON.stringify(n.compileAdditionalContext());let o=`User Text: ${r}

`;return o+=`Additional Context: ${i}`,o},compileFrontendTools:()=>{const n=t().registeredTools,r={};return n.forEach((i,o)=>{r[o]={name:o,description:i.description,argsSchema:cE(i.argsSchema,o)}}),r}}),tSe={darkMode:!1,color:"#93C5FD",secondaryColor:"#1D4ED8",accentColor:"#FB923C"},I9=e=>({styling:tSe,setStyling:t=>e(n=>({styling:{...n.styling,...t}})),toggleDarkMode:()=>e(t=>({styling:{...t.styling,darkMode:!t.styling.darkMode}}))}),A9=(e,t)=>({registeredStates:{},registerState:n=>{const r={...n.customSetters||{},...n.stateSetters||{}};if(n.customSetters&&!n.stateSetters&&console.warn(`⚠️ 'customSetters' is deprecated for state "${n.key}". Use 'stateSetters' instead.`),!!t().registeredStates[n.key]){e(o=>{const s={key:n.key,value:n.value,setValue:n.setValue,stateSetters:r,customSetters:n.customSetters,description:n.description,schema:n.schema};return{registeredStates:{...o.registeredStates,[n.key]:s}}});return}e(o=>{const s={key:n.key,value:n.value,description:n.description,schema:n.schema,setValue:n.setValue,stateSetters:r,customSetters:n.customSetters};return{registeredStates:{...o.registeredStates,[n.key]:s}}})},getState:n=>t().registeredStates[n],getCedarState:n=>t().registeredStates[n]?.value,setCedarState:(n,r,i=!1)=>{if(t().getDiffHistoryState?.(n)){t().newDiffState(n,r,i);return}const s=t().registeredStates[n];if(!s){console.warn(`State with key "${n}" not found.`);return}if(!jc.isEqual(s.value,r)&&(e(a=>({registeredStates:{...a.registeredStates,[n]:{...a.registeredStates[n],value:r}}})),s.setValue))try{s.setValue(r)}catch(a){console.warn(`Error calling external setter for "${n}"`,a)}},addStateSetters:(n,r)=>t().registeredStates[n]?(e(o=>({registeredStates:{...o.registeredStates,[n]:{...o.registeredStates[n],stateSetters:{...o.registeredStates[n].stateSetters||{},...r},customSetters:{...o.registeredStates[n].customSetters||{},...r}}}})),!0):(console.info(`Creating placeholder state for "${n}" with state setters`),e(o=>({registeredStates:{...o.registeredStates,[n]:{key:n,value:"",schema:N.any(),description:"",stateSetters:{...r},customSetters:{...r}}}})),!0),addCustomSetters:(n,r)=>(console.warn(`⚠️ 'addCustomSetters' is deprecated for state "${n}". Use 'addStateSetters' instead.`),t().addStateSetters(n,r)),executeStateSetter:n=>{const{key:r,setterKey:i,options:o={},args:s}=n;if(t().getDiffHistoryState?.(r)){const m=o.isDiff??!1;t().executeDiffSetter(r,i,{isDiff:m},s);return}const l=t().registeredStates[r];if(!l){console.warn(`State with key "${r}" not found.`);return}const u=l.stateSetters||l.customSetters;if(!u||!u[i]){console.warn(`State setter "${i}" not found for state "${r}".`);return}const d=u[i],f=m=>{t().setCedarState(r,m)},g=d.argsSchema||d.schema;if(g)try{const m=g.parse(s);d.execute(l.value,f,m)}catch(m){let b=[];m instanceof N.ZodError&&(b=m.issues.map(k=>{const T={path:k.path.join(".")||"root",message:k.message,code:k.code};return"received"in k&&(T.received=k.received),"expected"in k&&(T.expected=k.expected),T}));const x=[`❌ Args validation failed for setter "${i}" on state "${r}"`,`📥 Received args: ${JSON.stringify(s,null,2)}`,`🔍 Validation errors: ${JSON.stringify(b.length>0?b:m,null,2)}`,"💡 Tip: Check your backend response format or update the setter's argsSchema"].join(`
`);console.error(x);return}else s!==void 0?d.execute(l.value,f,s):d.execute(l.value,f)},executeCustomSetter:n=>{console.warn("⚠️ 'executeCustomSetter' is deprecated. Use 'executeStateSetter' instead."),t().executeStateSetter({key:n.key,setterKey:n.setterKey,options:n.options,args:n.args})},unregisterState:n=>{e(r=>{const{[n]:i,...o}=r.registeredStates;return{registeredStates:o}})}}),Nf="default-thread",nSe=(e={})=>{const t=e.key??"cedar",n=o=>`${t}-threads-${o}`,r=(o,s)=>`${t}-thread-${o}-${s}`,i=(o,s)=>{localStorage.setItem(n(o),JSON.stringify(s))};return{type:"local",async listThreads(o){const s=localStorage.getItem(n(o));return s?JSON.parse(s):[]},async loadMessages(o,s){try{const a=localStorage.getItem(r(o,s));return a?JSON.parse(a):[]}catch{return[]}},async persistMessage(o,s,a){try{const u=[...await this.loadMessages?.(o,s)??[],a];localStorage.setItem(r(o,s),JSON.stringify(u))}catch{}return a},async createThread(o,s,a){try{const l=await this.listThreads?.(o);l&&!l.some(u=>u.id===s)&&(l.push(a),i(o,l))}catch{}return a},async updateThread(o,s,a){try{const l=await this.listThreads?.(o);if(l){const u=l.findIndex(d=>d.id===s);u===-1?l.push(a):l[u]={...l[u],...a},i(o,l)}}catch{}return a},async deleteThread(o,s){let a;try{const l=await this.listThreads?.(o);if(l){const u=l.findIndex(f=>f.id===s);u!==-1&&(a=l[u]);const d=l.filter(f=>f.id!==s);i(o,d),localStorage.removeItem(r(o,s))}}catch{}return a},async updateMessage(o,s,a){try{const u=(await this.loadMessages?.(o,s)??[]).map(d=>d.id===a.id?{...d,...a}:d);localStorage.setItem(r(o,s),JSON.stringify(u))}catch{}return a},async deleteMessage(o,s,a){let l;try{const u=await this.loadMessages?.(o,s)??[];l=u.find(f=>f.id===a);const d=u.filter(f=>f.id!==a);localStorage.setItem(r(o,s),JSON.stringify(d))}catch{}return l}}},b4=()=>({type:"none",async listThreads(){return[]},async loadMessages(){return[]},async persistMessage(e,t,n){return n}}),rSe=e=>!e||e.type==="none"?b4():e.type==="local"?nSe(e?.options):e.type==="custom"?{type:"custom",...e.adapter}:b4();function iSe(e,t){let n;const r=async(i,o=!0)=>{if(!n||!n.listThreads||!i)return null;try{let s=await n.listThreads(i);const a=t();if(s.length===0&&o&&n.createThread){const f=`thread-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,g={id:f,title:"New Thread",updatedAt:new Date().toISOString()};try{await n.createThread(i,f,g),s=await n.listThreads(i)}catch(m){console.warn("Failed to auto-create thread:",m)}}const l=a.threadMap,u={...l};if(s.forEach(f=>{if(!u[f.id])u[f.id]={id:f.id,name:f.title,lastLoaded:new Date().toISOString(),messages:[]};else{const g=u[f.id];g.name!==f.title&&(u[f.id]={...g,name:f.title})}}),(Object.keys(u).length!==Object.keys(l).length||s.some(f=>!l[f.id]||l[f.id].name!==f.title))&&e({threadMap:u}),!t().mainThreadId&&s.length>0){const f=s[0].id;return t().setMainThreadId(f),f}}catch(s){console.warn("Failed to sync threads from storage:",s)}return null};return{messageStorageAdapter:n,setMessageStorageAdapter:i=>{n=rSe(i),e({messageStorageAdapter:n})},persistMessageStorageMessage:async i=>{if(!n?.persistMessage)return;const o=Rm("userId"),s=t().mainThreadId||Poe();if(o){if(n.persistMessage&&await n.persistMessage(o,s,i),n.updateThread){const a=t().threadMap[s],l={id:s,title:a?.name||(i.content||"Chat").slice(0,40),updatedAt:new Date().toISOString()};await n.updateThread(o,s,l)}await r(o,!1)}},initializeChat:async i=>{const o=i?.userId||Rm("userId"),s=i?.threadId;let a=s;if(n?.createThread&&o){const l=await r(o,!0);a=s||l}else t().threadMap[Nf]||e(u=>({threadMap:{...u.threadMap,[Nf]:{id:Nf,name:"Main Chat",lastLoaded:new Date().toISOString(),messages:[]}}})),a=s||Nf;if(a&&t().setMainThreadId(a),wt.getState().setMessages([]),!(!n||!n.loadMessages||!o||!a))try{const l=await n.loadMessages(o,a);l.length&&wt.getState().setMessages(l)}catch(l){console.warn("Failed to load messages during initialization:",l)}}}}var VS={};i0e(VS,Lde);var yl=({text:e,state:t,payload:n})=>{const[r,i]=Xt.useState(!1),[o,s]=Xt.useState(!1),a=t==="complete",l=t==="error",u=t==="thinking",d=t==="eventWithPayload",{styling:f}=Pg(),g=f.darkMode??!1,m=g?"#475569":"#6B7280",b=g?"#FFFFFF":"#000000",x=g?"#DC2626":"#EF4444",k=.03,T=e.length*.13,$=d&&o?r?Ude:Zde:l?Hde:a?Bde:u||d?Vde:Wde,P=()=>{d&&n&&i(!r)};return O.jsxs("div",{className:"w-full",children:[O.jsxs("div",{className:"flex mx-0.5 items-center cursor-pointer",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onClick:P,"aria-label":e,tabIndex:0,role:"text",children:[O.jsx(VS.motion.span,{className:`mr-1 ${d&&n?"cursor-pointer":""}`,initial:{color:l?x:m},animate:a?{color:m}:l?{color:x}:{color:[m,m,b,m,m]},transition:a||l?void 0:{duration:T,repeat:1/0,delay:0,ease:"easeInOut"},style:{willChange:a||l?void 0:"color"},children:O.jsx($,{size:14,"aria-label":a?"completed icon":l?"error icon":u?"thinking icon":d?r?"collapse payload":"expand payload":"tool icon"})},`icon-${t}`),e.split("").map((M,R)=>O.jsx(VS.motion.span,{className:"whitespace-pre",initial:{color:l?x:m},animate:a?{color:m}:l?{color:x}:{color:[m,m,b,m,m]},transition:a||l?void 0:{duration:T,repeat:1/0,delay:(R+1)*k,ease:"easeInOut"},style:{willChange:a||l?void 0:"color"},children:M},`${t}-${R}`))]}),d&&n&&r&&O.jsx(VS.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"ml-5",children:O.jsx("pre",{className:"text-xs rounded py-2 overflow-x-auto opacity-70",children:oSe(n)})})]})};function oSe(e){if(typeof e!="object"||e===null||Array.isArray(e))throw new Error("Input must be a non-null object");const t=[];for(const[n,r]of Object.entries(e))if(r&&typeof r=="object"&&!Array.isArray(r))for(const[i,o]of Object.entries(r))t.push(`${n}.${i}: ${o}`);else t.push(`${n}: ${r}`);return t.join(`
`)}var sSe=({message:e})=>O.jsx(yl,{text:e.text,state:e.state}),aSe=sSe,lSe=({message:e})=>{const t=`Executed setState ${e.setterKey??""}`,n=e.content||t;return O.jsx(yl,{text:n,state:"complete"})},uSe=lSe,cSe=({message:e})=>{const t=`Executed action ${e.setterKey??""}`,n=e.content||t;return O.jsx(yl,{text:n,state:"complete"})},dSe=cSe,fSe=({message:e})=>{const{type:t,runId:n,payload:r}=e,i=a=>a.split("-").map(l=>l.charAt(0).toUpperCase()+l.slice(1)).join(" "),o=e.content||`Mastra ${i(t)}`,s={runId:n,...r||{}};return O.jsx(yl,{text:o,state:"eventWithPayload",payload:s})},pSe=fSe,hSe=({message:e})=>{const[t,n]=D.useState(!1),r=async a=>{if(e.resumeCallback){n(!0);try{await e.resumeCallback(a)}catch(l){console.error("Failed to resume workflow:",l)}finally{n(!1)}}},i=async()=>{if(e.cancelCallback){n(!0);try{await e.cancelCallback()}catch(a){console.error("Failed to cancel workflow:",a)}finally{n(!1)}}},o=wt(a=>a.messages),s=o[o.length-1].id===e.id;switch(e.state){case"suspended":return O.jsxs("div",{className:"human-in-the-loop-suspended",children:[O.jsx(yl,{text:e.content,state:"eventWithPayload",payload:e.suspendPayload}),s&&O.jsxs("div",{className:"actions flex gap-2 mt-3 ml-5",children:[O.jsx("button",{onClick:()=>r({approved:!0}),disabled:t,className:"py-1 px-2 bg-blue-600 text-white rounded disabled:opacity-50 disabled:cursor-not-allowed text-sm cursor-pointer hover:bg-blue-800",children:t?"Processing...":"Continue"}),O.jsx("button",{onClick:i,disabled:t,className:"py-1 text-gray-500 rounded disabled:opacity-50 disabled:cursor-not-allowed text-sm cursor-pointer hover:text-gray-700",children:t?"Processing...":"Cancel"})]})]});case"resumed":return O.jsx("div",{className:"human-in-the-loop-resumed",children:O.jsx(yl,{text:e.content,state:"complete",payload:e.resumeData})});case"cancelled":return O.jsx("div",{className:"human-in-the-loop-cancelled",children:O.jsx(yl,{text:e.content,state:"error",payload:{cancelledAt:e.cancelledAt}})});case"timeout":return O.jsx("div",{className:"human-in-the-loop-timeout",children:O.jsx(yl,{text:e.content,state:"error",payload:{reason:"Workflow timed out and was automatically cancelled"}})});default:return O.jsx("div",{className:"human-in-the-loop-unknown",children:O.jsx(yl,{text:`Unknown workflow state: ${e.state}`,state:"error",payload:{state:e.state,content:e.content,runId:e.runId}})})}},$9={type:"humanInTheLoop",namespace:"default",render:e=>O.jsx(hSe,{message:e}),validateMessage:e=>e.type==="humanInTheLoop"},P9={type:"frontendTool",render:e=>O.jsx(yl,{text:e.content,state:"eventWithPayload",payload:{toolName:e.toolName,args:e.args}}),namespace:"default",validateMessage:e=>e.type==="frontendTool"},mSe={type:"progress_update",namespace:"default",render:e=>O.jsx(aSe,{message:e}),validateMessage:e=>e.type==="progress_update"},gSe={type:"setState",namespace:"default",render:e=>O.jsx(uSe,{message:e}),validateMessage:e=>e.type==="setState"},ySe={type:"action",namespace:"default",render:e=>O.jsx(dSe,{message:e}),validateMessage:e=>e.type==="action"},vSe=["start","step-start","tool-call","tool-result","step-finish","tool-output","step-result","step-output","finish"],bSe=vSe.map(e=>({type:e,namespace:"mastra",render:t=>O.jsx(pSe,{message:t}),validateMessage:t=>t.type===e})),xSe=[mSe,gSe,ySe,$9,P9,...bSe],wSe=e=>{const t={};return e.forEach(n=>{t[n.type]||(t[n.type]=n)}),t},M9=(e,t)=>{const n=(r,i)=>{t().threadMap[r]||e(s=>({threadMap:{...s.threadMap,[r]:{id:r,name:i,lastLoaded:new Date().toISOString(),messages:[]}}}))};return{...iSe(e,t),threadMap:{},mainThreadId:"",isProcessing:!1,showChat:!1,messageRenderers:wSe(xSe),messages:[],setMessages:(r,i)=>{const o=i||t().mainThreadId;n(o),e(s=>({threadMap:{...s.threadMap,[o]:{...s.threadMap[o],messages:r,lastLoaded:new Date().toISOString()}},messages:o===s.mainThreadId?r:s.messages}))},addMessage:(r,i=!0,o)=>{const s=o||t().mainThreadId;n(s);const a={...r,id:r.id||`message-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,createdAt:new Date().toISOString()};if(e(l=>{const d=l.threadMap[s]||{id:s,lastLoaded:new Date().toISOString(),messages:[]},f=[...d.messages,a];return{...l,threadMap:{...l.threadMap,[s]:{...d,messages:f,lastLoaded:new Date().toISOString()}},messages:s===l.mainThreadId?f:l.messages}}),i)try{t().persistMessageStorageMessage(a)}catch(l){console.error("Error persisting message:",l)}return a},appendToLatestMessage:(r,i=!0,o)=>{const s=t(),a=o||s.mainThreadId;n(a);const l=s.threadMap[a]||t().threadMap[a];if(!l)return t().addMessage({role:"assistant",type:"text",content:r},i,a);const u=l.messages,d=u[u.length-1];if(d&&d.role!=="user"&&d.type==="text"){const f={...d,content:d.content+r};return t().updateMessage(d.id,f,a),f}else return t().addMessage({role:"assistant",type:"text",content:r},i,a)},updateMessage:(r,i,o)=>{const s=o||t().mainThreadId;e(a=>{const l=a.threadMap[s];if(!l)return a;const u=l.messages.map(d=>d.id===r?{...d,...i}:d);return{threadMap:{...a.threadMap,[s]:{...l,messages:u}},messages:s===a.mainThreadId?u:a.messages}})},deleteMessage:(r,i)=>{const o=i||t().mainThreadId;e(s=>{const a=s.threadMap[o];if(!a)return s;const l=a.messages.filter(u=>u.id!==r);return{threadMap:{...s.threadMap,[o]:{...a,messages:l}},messages:o===s.mainThreadId?l:s.messages}})},clearMessages:r=>{const i=r||t().mainThreadId;e(o=>({threadMap:{...o.threadMap,[i]:{...o.threadMap[i],messages:[],lastLoaded:new Date().toISOString()}},messages:i===o.mainThreadId?[]:o.messages}))},setMainThreadId:r=>{n(r);const i=t().threadMap[r]?.messages||[];e({mainThreadId:r,messages:i})},createThread:(r,i)=>{const o=r||`thread-${Date.now()}-${Math.random().toString(36).substring(2,9)}`;return e(s=>({...s,threadMap:{...s.threadMap,[o]:{id:o,name:i,lastLoaded:new Date().toISOString(),messages:[]}}})),o},deleteThread:r=>{if(r===Nf||r===t().mainThreadId){console.warn(`Cannot delete ${r===Nf?"default":"current"} thread`);return}e(i=>{const{[r]:o,...s}=i.threadMap;return{threadMap:s}})},updateThreadName:(r,i)=>{e(o=>{const s=o.threadMap[r];return s?{...o,threadMap:{...o.threadMap,[r]:{...s,name:i}}}:o})},switchThread:(r,i)=>{e(o=>{const s=o.threadMap[r],a=s||{id:r,name:i,lastLoaded:new Date().toISOString(),messages:[]};return(!s||a.messages.length===0)&&t().initializeChat({threadId:r}),{...o,threadMap:{...o.threadMap,[r]:a},mainThreadId:r,messages:a.messages}})},getThread:r=>{const i=r||t().mainThreadId;return t().threadMap[i]},getThreadMessages:r=>{const i=r||t().mainThreadId;return t().threadMap[i]?.messages||[]},getAllThreadIds:()=>Object.keys(t().threadMap),getCurrentThreadId:()=>t().mainThreadId,getMessageById:(r,i)=>{const o=i||t().mainThreadId;return t().threadMap[o]?.messages.find(s=>s.id===r)},getMessagesByRole:(r,i)=>{const o=i||t().mainThreadId;return t().threadMap[o]?.messages.filter(s=>s.role===r)||[]},setIsProcessing:r=>e({isProcessing:r}),setShowChat:r=>e({showChat:r}),registerMessageRenderer:r=>{e(i=>({messageRenderers:{...i.messageRenderers,[r.type]:r}}))},unregisterMessageRenderer:(r,i)=>{e(o=>{const s=o.messageRenderers[r];if(!s)return{};if(!i||s.namespace===i){const{[r]:a,...l}=o.messageRenderers;return{messageRenderers:l}}return{}})},getMessageRenderers:r=>t().messageRenderers[r]}},eS=e=>e.replace(/(\\n|\n)/g,`
`);async function O9(e,t){if(!e.ok||!e.body)throw new Error(`HTTP error! status: ${e.status}`);const n=e.body.getReader(),r=new TextDecoder;let i="";const o=[];let s="";const a=u=>{let d="message",f="";for(const g of u.split(`
`))g.startsWith("event:")?d=g.slice(6).trim():g.startsWith("data:")&&(f+=g.slice(5));return{eventType:d,data:f}},l=u=>{if(!(u.trim()==="[DONE]"||u.trim()==="done"))try{const d=JSON.parse(u);if(d===null||typeof d!="object"){const f=eS(String(d));s+=f,t({type:"chunk",content:f});return}if(d.choices&&d.choices[0]&&d.choices[0].delta){const f=d.choices[0].delta;if(f.content){const g=eS(f.content);s+=g,t({type:"chunk",content:g})}if((f.tool_calls||f.function_call)&&(s.trim()&&(o.push(s.trim()),s=""),t({type:"object",object:f}),o.push(f)),Object.keys(f).length===0)return}if(typeof d.content=="string"&&d.content.length>0){const f=eS(d.content);s+=f,t({type:"chunk",content:f})}if(d.type||d.object&&d.object.type){const f=d.type?d:d.object;s.trim()&&(o.push(s.trim()),s=""),t({type:"object",object:f}),o.push(f)}!d.choices&&!d.type&&!(d.object&&d.object.type)&&!d.content&&(s.trim()&&(o.push(s.trim()),s=""),t({type:"object",object:d}),o.push(d))}catch{if(u&&u!=="[DONE]"&&u!=="done"){const d=eS(u);s+=d,t({type:"chunk",content:d})}}};try{for(;;){const{value:u,done:d}=await n.read();if(d)break;i+=r.decode(u,{stream:!0});let f;for(;(f=i.indexOf(`

`))!==-1;){const g=i.slice(0,f);if(i=i.slice(f+2),!g.trim())continue;const{eventType:m,data:b}=a(g);if(m.trim()==="done"||b.trim()==="[DONE]")break;l(b)}}s.trim()&&o.push(s.trim()),t({type:"done",completedItems:o})}catch(u){throw t({type:"error",error:u}),u}}var qk={callLLM:async(e,t)=>{const{prompt:n,model:r,systemPrompt:i,temperature:o,maxTokens:s,messages:a,...l}=e,u=a||[...i?[{role:"system",content:i}]:[],{role:"user",content:n||""}],d=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.apiKey}`},body:JSON.stringify({model:r,messages:u,temperature:o,max_tokens:s,...l})});return qk.handleResponse(d)},streamLLM:(e,t,n)=>{const r=new AbortController,i=(async()=>{try{const{prompt:o,model:s,systemPrompt:a,temperature:l,maxTokens:u,messages:d,...f}=e,g=d||[...a?[{role:"system",content:a}]:[],{role:"user",content:o||""}],m=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.apiKey}`},body:JSON.stringify({model:s,messages:g,temperature:l,max_tokens:u,stream:!0,...f}),signal:r.signal});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);await O9(m,n)}catch(o){o instanceof Error&&o.name!=="AbortError"&&n({type:"error",error:o})}})();return{abort:()=>r.abort(),completion:i}},handleResponse:async e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();return{content:t.choices?.[0]?.message?.content||"",usage:t.usage?{promptTokens:t.usage.prompt_tokens,completionTokens:t.usage.completion_tokens,totalTokens:t.usage.total_tokens}:void 0,metadata:{model:t.model,id:t.id}}},callLLMStructured:async(e,t)=>{const{prompt:n,model:r,systemPrompt:i,temperature:o,maxTokens:s,schema:a,schemaName:l,schemaDescription:u,...d}=e,f=[...i?[{role:"system",content:i}]:[],{role:"user",content:n}],g={model:r,messages:f,temperature:o,max_tokens:s,...d};a&&(g.response_format={type:"json_schema",json_schema:{name:l||"response",description:u,schema:a,strict:!0}});const m=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t.apiKey}`},body:JSON.stringify(g)}),b=await qk.handleResponse(m);if(a&&b.content)try{b.object=JSON.parse(b.content)}catch{}return b},voiceLLM:async(e,t)=>{const{audioData:n,voiceSettings:r,context:i}=e,o=r.endpoint||"/voice",s=(o.startsWith("http"),o),a=new FormData;a.append("audio",n,"recording.webm"),a.append("settings",JSON.stringify(r)),i&&a.append("context",JSON.stringify(i));const l=await fetch(s,{method:"POST",headers:{Authorization:`Bearer ${t.apiKey}`},body:a});if(!l.ok)throw new Error(`Voice endpoint returned ${l.status}`);const u=l.headers.get("content-type");if(u?.includes("audio")){const d=await l.arrayBuffer();return{content:"",audioData:btoa(String.fromCharCode(...new Uint8Array(d))),audioFormat:u}}else if(u?.includes("application/json")){const d=await l.json();return{content:d.text||d.content||"",transcription:d.transcription,audioData:d.audioData,audioUrl:d.audioUrl,audioFormat:d.audioFormat,usage:d.usage,metadata:d.metadata,object:d.object}}else return{content:await l.text()}}};async function SSe(e,t){const n=e.body?.getReader();if(!n)throw new Error("Response body is not readable");const r=new TextDecoder;let i="";try{for(;;){const{done:o,value:s}=await n.read();if(o)break;const a=r.decode(s,{stream:!0});i+=a;const l=i.split(`
`);i=l.pop()||"";for(const u of l){const d=u.trim();if(!d||!d.startsWith("data: "))continue;const f=d.slice(6);try{const g=JSON.parse(f);g.type==="transcription"&&g.transcription?t({type:"transcription",transcription:g.transcription}):g.type==="audio"&&g.audioData?t({type:"audio",audioData:g.audioData,audioFormat:g.audioFormat,content:g.content}):g.type==="chunk"&&g.content?t({type:"chunk",content:g.content}):g.type==="object"&&g.object?t({type:"object",object:g.object}):g.type==="error"?t({type:"error",error:new Error(g.error||"Stream error")}):g.type==="done"&&t({type:"done",completedItems:g.completedItems||[]})}catch(g){console.warn("Failed to parse voice stream event:",g),console.warn("Problematic data length:",f.length)}}}if(i.trim()){const o=i.trim();if(o.startsWith("data: ")){const s=o.slice(6);try{const a=JSON.parse(s);a.type==="transcription"&&a.transcription?t({type:"transcription",transcription:a.transcription}):a.type==="audio"&&a.audioData?t({type:"audio",audioData:a.audioData,audioFormat:a.audioFormat,content:a.content}):a.type==="chunk"&&a.content?t({type:"chunk",content:a.content}):a.type==="object"&&a.object?t({type:"object",object:a.object}):a.type==="error"?t({type:"error",error:new Error(a.error||"Stream error")}):a.type==="done"&&t({type:"done",completedItems:a.completedItems||[]})}catch(a){console.warn("Failed to parse final voice stream event:",a)}}}}finally{n.releaseLock()}}var UA={callLLM:async(e,t)=>{const{route:n,prompt:r,systemPrompt:i,temperature:o,maxTokens:s,...a}=e,l={"Content-Type":"application/json"};t.apiKey&&(l.Authorization=`Bearer ${t.apiKey}`);const u=await fetch(`${t.baseURL}${n}`,{method:"POST",headers:l,body:JSON.stringify({prompt:r,systemPrompt:i,temperature:o,maxTokens:s,...a})});return UA.handleResponse(u)},callLLMStructured:async(e,t)=>{const{route:n,prompt:r,systemPrompt:i,temperature:o,maxTokens:s,schema:a,schemaName:l,schemaDescription:u,...d}=e,f={"Content-Type":"application/json"};t.apiKey&&(f.Authorization=`Bearer ${t.apiKey}`);const g={prompt:r,systemPrompt:i,temperature:o,maxTokens:s,...d};a&&(g.schema=a,g.schemaName=l,g.schemaDescription=u);const m=await fetch(`${t.baseURL}${n}`,{method:"POST",headers:f,body:JSON.stringify(g)});return UA.handleResponse(m)},streamLLM:(e,t,n)=>{const r=new AbortController,i=(async()=>{try{const{route:o,prompt:s,systemPrompt:a,temperature:l,maxTokens:u,...d}=e,f={"Content-Type":"application/json"};t.apiKey&&(f.Authorization=`Bearer ${t.apiKey}`);const g=await fetch(`${t.baseURL}${o}/stream`,{method:"POST",headers:f,body:JSON.stringify({prompt:s,systemPrompt:a,temperature:l,maxTokens:u,...d}),signal:r.signal});if(!g.ok)throw new Error(`HTTP error! status: ${g.status}`);await O9(g,n)}catch(o){o instanceof Error&&o.name!=="AbortError"&&n({type:"error",error:o})}})();return{abort:()=>r.abort(),completion:i}},voiceLLM:async(e,t)=>{const{audioData:n,voiceSettings:r,context:i,...o}=e,s={};t.apiKey&&(s.Authorization=`Bearer ${t.apiKey}`);const a=r.endpoint||t.voiceRoute||"/voice",l=a.startsWith("http")?a:`${t.baseURL}${a}`,u=new FormData;u.append("audio",n,"recording.webm"),u.append("settings",JSON.stringify(r)),i&&u.append("context",JSON.stringify(i));for(const[g,m]of Object.entries(o))m!=null&&(typeof m=="object"?u.append(g,JSON.stringify(m)):u.append(g,String(m)));const d=await fetch(l,{method:"POST",headers:s,body:u});if(!d.ok)throw new Error(`Voice endpoint returned ${d.status}`);const f=d.headers.get("content-type");if(f?.includes("audio")){const g=await d.arrayBuffer();return{content:"",audioData:btoa(String.fromCharCode(...new Uint8Array(g))),audioFormat:f}}else if(f?.includes("application/json")){const g=await d.json();return{content:g.text||g.content||"",transcription:g.transcription,audioData:g.audioData,audioUrl:g.audioUrl,audioFormat:g.audioFormat,usage:g.usage,metadata:g.metadata,object:g.object}}else return{content:await d.text()}},voiceStreamLLM:(e,t,n)=>{const r=new AbortController,i=(async()=>{try{const{audioData:o,voiceSettings:s,context:a,...l}=e,u={};t.apiKey&&(u.Authorization=`Bearer ${t.apiKey}`);const d=s.endpoint||t.voiceRoute||"/voice",f=d.startsWith("http")?d:`${t.baseURL}${d}`,g=f.endsWith("/stream")?f:`${f}/stream`,m=new FormData;m.append("audio",o,"recording.webm"),m.append("settings",JSON.stringify(s)),a&&m.append("context",JSON.stringify(a));for(const[x,k]of Object.entries(l))k!=null&&(typeof k=="object"?m.append(x,JSON.stringify(k)):m.append(x,String(k)));const b=await fetch(g,{method:"POST",headers:u,body:m,signal:r.signal});if(!b.ok)throw new Error(`Voice stream endpoint returned ${b.status}`);await SSe(b,n)}catch(o){o instanceof Error&&o.name!=="AbortError"&&n({type:"error",error:o})}})();return{abort:()=>r.abort(),completion:i}},handleResponse:async e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();return{content:t.text||t.content||"",usage:t.usage,metadata:{model:t.model,id:t.id},object:t.object}}},N9="vercel.ai.error",kSe=Symbol.for(N9),R9,_Se=class D9 extends Error{constructor({name:t,message:n,cause:r}){super(n),this[R9]=!0,this.name=t,this.cause=r}static isInstance(t){return D9.hasMarker(t,N9)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};R9=kSe;var Xs=_Se,j9="AI_APICallError",L9=`vercel.ai.error.${j9}`,TSe=Symbol.for(L9),z9,Mo=class extends Xs{constructor({message:e,url:t,requestBodyValues:n,statusCode:r,responseHeaders:i,responseBody:o,cause:s,isRetryable:a=r!=null&&(r===408||r===409||r===429||r>=500),data:l}){super({name:j9,message:e,cause:s}),this[z9]=!0,this.url=t,this.requestBodyValues=n,this.statusCode=r,this.responseHeaders=i,this.responseBody=o,this.isRetryable=a,this.data=l}static isInstance(e){return Xs.hasMarker(e,L9)}};z9=TSe;var F9="AI_EmptyResponseBodyError",V9=`vercel.ai.error.${F9}`,CSe=Symbol.for(V9),B9,ESe=class extends Xs{constructor({message:e="Empty response body"}={}){super({name:F9,message:e}),this[B9]=!0}static isInstance(e){return Xs.hasMarker(e,V9)}};B9=CSe;function U9(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var Z9="AI_InvalidArgumentError",W9=`vercel.ai.error.${Z9}`,ISe=Symbol.for(W9),H9,ASe=class extends Xs{constructor({message:e,cause:t,argument:n}){super({name:Z9,message:e,cause:t}),this[H9]=!0,this.argument=n}static isInstance(e){return Xs.hasMarker(e,W9)}};H9=ISe;var q9="AI_JSONParseError",J9=`vercel.ai.error.${q9}`,$Se=Symbol.for(J9),K9,Jk=class extends Xs{constructor({text:e,cause:t}){super({name:q9,message:`JSON parsing failed: Text: ${e}.
Error message: ${U9(t)}`,cause:t}),this[K9]=!0,this.text=e}static isInstance(e){return Xs.hasMarker(e,J9)}};K9=$Se;var G9="AI_NoSuchModelError",Y9=`vercel.ai.error.${G9}`,PSe=Symbol.for(Y9),X9,MSe=class extends Xs{constructor({errorName:e=G9,modelId:t,modelType:n,message:r=`No such ${n}: ${t}`}){super({name:e,message:r}),this[X9]=!0,this.modelId=t,this.modelType=n}static isInstance(e){return Xs.hasMarker(e,Y9)}};X9=PSe;var Q9="AI_TypeValidationError",eW=`vercel.ai.error.${Q9}`,OSe=Symbol.for(eW),tW,NSe=class ZA extends Xs{constructor({value:t,cause:n}){super({name:Q9,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${U9(n)}`,cause:n}),this[tW]=!0,this.value=t}static isInstance(t){return Xs.hasMarker(t,eW)}static wrap({value:t,cause:n}){return ZA.isInstance(n)&&n.value===t?n:new ZA({value:t,cause:n})}};tW=OSe;var Qb=NSe,x4=class extends Error{constructor(e,t){super(e),this.name="ParseError",this.type=t.type,this.field=t.field,this.value=t.value,this.line=t.line}};function dE(e){}function RSe(e){if(typeof e=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:t=dE,onError:n=dE,onRetry:r=dE,onComment:i}=e;let o="",s=!0,a,l="",u="";function d(x){const k=s?x.replace(/^\xEF\xBB\xBF/,""):x,[T,E]=DSe(`${o}${k}`);for(const $ of T)f($);o=E,s=!1}function f(x){if(x===""){m();return}if(x.startsWith(":")){i&&i(x.slice(x.startsWith(": ")?2:1));return}const k=x.indexOf(":");if(k!==-1){const T=x.slice(0,k),E=x[k+1]===" "?2:1,$=x.slice(k+E);g(T,$,x);return}g(x,"",x)}function g(x,k,T){switch(x){case"event":u=k;break;case"data":l=`${l}${k}
`;break;case"id":a=k.includes("\0")?void 0:k;break;case"retry":/^\d+$/.test(k)?r(parseInt(k,10)):n(new x4(`Invalid \`retry\` value: "${k}"`,{type:"invalid-retry",value:k,line:T}));break;default:n(new x4(`Unknown field "${x.length>20?`${x.slice(0,20)}…`:x}"`,{type:"unknown-field",field:x,value:k,line:T}));break}}function m(){l.length>0&&t({id:a,event:u||void 0,data:l.endsWith(`
`)?l.slice(0,-1):l}),a=void 0,l="",u=""}function b(x={}){o&&x.consume&&f(o),s=!0,a=void 0,l="",u="",o=""}return{feed:d,reset:b}}function DSe(e){const t=[];let n="",r=0;for(;r<e.length;){const i=e.indexOf("\r",r),o=e.indexOf(`
`,r);let s=-1;if(i!==-1&&o!==-1?s=Math.min(i,o):i!==-1?i===e.length-1?s=-1:s=i:o!==-1&&(s=o),s===-1){n=e.slice(r);break}else{const a=e.slice(r,s);t.push(a),r=s+1,e[r-1]==="\r"&&e[r]===`
`&&r++}}return[t,n]}var nW=class extends TransformStream{constructor({onError:e,onRetry:t,onComment:n}={}){let r;super({start(i){r=RSe({onEvent:o=>{i.enqueue(o)},onError(o){e==="terminate"?i.error(o):typeof e=="function"&&e(o)},onRetry:t,onComment:n})},transform(i){r.feed(i)}})}},S={};md(S,{$brand:()=>oW,$input:()=>_q,$output:()=>kq,NEVER:()=>iW,TimePrecision:()=>Eq,ZodAny:()=>A8,ZodArray:()=>O8,ZodBase64:()=>kN,ZodBase64URL:()=>_N,ZodBigInt:()=>j1,ZodBigIntFormat:()=>EN,ZodBoolean:()=>D1,ZodCIDRv4:()=>wN,ZodCIDRv6:()=>SN,ZodCUID:()=>hN,ZodCUID2:()=>mN,ZodCatch:()=>X8,ZodCustom:()=>V1,ZodCustomStringFormat:()=>S8,ZodDate:()=>IN,ZodDefault:()=>H8,ZodDiscriminatedUnion:()=>N8,ZodE164:()=>TN,ZodEmail:()=>cN,ZodEmoji:()=>fN,ZodEnum:()=>ix,ZodError:()=>o1e,ZodFile:()=>Z8,ZodGUID:()=>e_,ZodIPv4:()=>bN,ZodIPv6:()=>xN,ZodISODate:()=>oN,ZodISODateTime:()=>iN,ZodISODuration:()=>aN,ZodISOTime:()=>sN,ZodIntersection:()=>R8,ZodIssueCode:()=>lTe,ZodJWT:()=>CN,ZodKSUID:()=>vN,ZodLazy:()=>iJ,ZodLiteral:()=>B8,ZodMap:()=>z8,ZodNaN:()=>eJ,ZodNanoID:()=>pN,ZodNever:()=>P8,ZodNonOptional:()=>RN,ZodNull:()=>E8,ZodNullable:()=>W8,ZodNumber:()=>R1,ZodNumberFormat:()=>Eg,ZodObject:()=>z1,ZodOptional:()=>NN,ZodPipe:()=>DN,ZodPrefault:()=>J8,ZodPromise:()=>sJ,ZodReadonly:()=>tJ,ZodRealError:()=>qx,ZodRecord:()=>PN,ZodSet:()=>F8,ZodString:()=>N1,ZodStringFormat:()=>Gn,ZodSuccess:()=>Y8,ZodSymbol:()=>T8,ZodTemplateLiteral:()=>rJ,ZodTransform:()=>MN,ZodTuple:()=>j8,ZodType:()=>Wt,ZodULID:()=>gN,ZodURL:()=>dN,ZodUUID:()=>Tu,ZodUndefined:()=>C8,ZodUnion:()=>$N,ZodUnknown:()=>$8,ZodVoid:()=>M8,ZodXID:()=>yN,_ZodString:()=>uN,_default:()=>q8,any:()=>L1e,array:()=>AN,base64:()=>_1e,base64url:()=>T1e,bigint:()=>O1e,boolean:()=>_8,catch:()=>Q8,check:()=>aJ,cidrv4:()=>S1e,cidrv6:()=>k1e,clone:()=>Ml,coerce:()=>cJ,config:()=>fo,core:()=>rW,cuid:()=>m1e,cuid2:()=>g1e,custom:()=>rTe,date:()=>F1e,discriminatedUnion:()=>W1e,e164:()=>C1e,email:()=>s1e,emoji:()=>p1e,endsWith:()=>GO,enum:()=>V8,file:()=>Y1e,flattenError:()=>nO,float32:()=>A1e,float64:()=>$1e,formatError:()=>rO,function:()=>f8,getErrorMap:()=>cTe,globalRegistry:()=>Rf,gt:()=>up,gte:()=>ls,guid:()=>a1e,includes:()=>JO,instanceof:()=>iTe,int:()=>GA,int32:()=>P1e,int64:()=>N1e,intersection:()=>D8,ipv4:()=>x1e,ipv6:()=>w1e,iso:()=>p8,json:()=>sTe,jwt:()=>E1e,keyof:()=>V1e,ksuid:()=>b1e,lazy:()=>oJ,length:()=>O1,literal:()=>U8,locales:()=>xO,looseObject:()=>Z1e,lowercase:()=>HO,lt:()=>lp,lte:()=>$a,map:()=>J1e,maxLength:()=>M1,maxSize:()=>P1,mime:()=>YO,minLength:()=>lg,minSize:()=>rx,multipleOf:()=>nx,nan:()=>eTe,nanoid:()=>h1e,nativeEnum:()=>G1e,negative:()=>t8,never:()=>L1,nonnegative:()=>r8,nonoptional:()=>G8,nonpositive:()=>n8,normalize:()=>XO,null:()=>I8,nullable:()=>r_,nullish:()=>X1e,number:()=>k8,object:()=>B1e,optional:()=>n_,overwrite:()=>kp,parse:()=>b8,parseAsync:()=>x8,partialRecord:()=>q1e,pipe:()=>i_,positive:()=>e8,prefault:()=>K8,preprocess:()=>aTe,prettifyError:()=>yW,promise:()=>nTe,property:()=>i8,readonly:()=>nJ,record:()=>L8,refine:()=>lJ,regex:()=>WO,regexes:()=>lO,registry:()=>SO,safeParse:()=>w8,safeParseAsync:()=>lN,set:()=>K1e,setErrorMap:()=>uTe,size:()=>ZO,startsWith:()=>KO,strictObject:()=>U1e,string:()=>KA,stringFormat:()=>I1e,stringbool:()=>oTe,success:()=>Q1e,superRefine:()=>uJ,symbol:()=>D1e,templateLiteral:()=>tTe,toJSONSchema:()=>rN,toLowerCase:()=>eN,toUpperCase:()=>tN,transform:()=>ON,treeifyError:()=>mW,trim:()=>QO,tuple:()=>H1e,uint32:()=>M1e,uint64:()=>R1e,ulid:()=>y1e,undefined:()=>j1e,union:()=>F1,unknown:()=>t_,uppercase:()=>qO,url:()=>f1e,uuid:()=>l1e,uuidv4:()=>u1e,uuidv6:()=>c1e,uuidv7:()=>d1e,void:()=>z1e,xid:()=>v1e});var rW={};md(rW,{$ZodAny:()=>GH,$ZodArray:()=>gO,$ZodAsyncError:()=>sg,$ZodBase64:()=>LH,$ZodBase64URL:()=>FH,$ZodBigInt:()=>mO,$ZodBigIntFormat:()=>HH,$ZodBoolean:()=>hO,$ZodCIDRv4:()=>DH,$ZodCIDRv6:()=>jH,$ZodCUID:()=>TH,$ZodCUID2:()=>CH,$ZodCatch:()=>mq,$ZodCheck:()=>Er,$ZodCheckBigIntFormat:()=>tH,$ZodCheckEndsWith:()=>pH,$ZodCheckGreaterThan:()=>dO,$ZodCheckIncludes:()=>dH,$ZodCheckLengthEquals:()=>aH,$ZodCheckLessThan:()=>cO,$ZodCheckLowerCase:()=>uH,$ZodCheckMaxLength:()=>oH,$ZodCheckMaxSize:()=>nH,$ZodCheckMimeType:()=>mH,$ZodCheckMinLength:()=>sH,$ZodCheckMinSize:()=>rH,$ZodCheckMultipleOf:()=>QW,$ZodCheckNumberFormat:()=>eH,$ZodCheckOverwrite:()=>gH,$ZodCheckProperty:()=>hH,$ZodCheckRegex:()=>lH,$ZodCheckSizeEquals:()=>iH,$ZodCheckStartsWith:()=>fH,$ZodCheckStringFormat:()=>Wx,$ZodCheckUpperCase:()=>cH,$ZodCustom:()=>wq,$ZodCustomStringFormat:()=>ZH,$ZodDate:()=>QH,$ZodDefault:()=>dq,$ZodDiscriminatedUnion:()=>tq,$ZodE164:()=>VH,$ZodEmail:()=>wH,$ZodEmoji:()=>kH,$ZodEnum:()=>sq,$ZodError:()=>tO,$ZodFile:()=>lq,$ZodFunction:()=>d8,$ZodGUID:()=>bH,$ZodIPv4:()=>NH,$ZodIPv6:()=>RH,$ZodISODate:()=>PH,$ZodISODateTime:()=>$H,$ZodISODuration:()=>OH,$ZodISOTime:()=>MH,$ZodIntersection:()=>nq,$ZodJWT:()=>UH,$ZodKSUID:()=>AH,$ZodLazy:()=>xq,$ZodLiteral:()=>aq,$ZodMap:()=>iq,$ZodNaN:()=>gq,$ZodNanoID:()=>_H,$ZodNever:()=>YH,$ZodNonOptional:()=>pq,$ZodNull:()=>KH,$ZodNullable:()=>cq,$ZodNumber:()=>pO,$ZodNumberFormat:()=>WH,$ZodObject:()=>eq,$ZodOptional:()=>uq,$ZodPipe:()=>bO,$ZodPrefault:()=>fq,$ZodPromise:()=>bq,$ZodReadonly:()=>yq,$ZodRealError:()=>Zx,$ZodRecord:()=>rq,$ZodRegistry:()=>wO,$ZodSet:()=>oq,$ZodString:()=>Hx,$ZodStringFormat:()=>Wn,$ZodSuccess:()=>hq,$ZodSymbol:()=>qH,$ZodTemplateLiteral:()=>vq,$ZodTransform:()=>vO,$ZodTuple:()=>$1,$ZodType:()=>Et,$ZodULID:()=>EH,$ZodURL:()=>SH,$ZodUUID:()=>xH,$ZodUndefined:()=>JH,$ZodUnion:()=>yO,$ZodUnknown:()=>Yk,$ZodVoid:()=>XH,$ZodXID:()=>IH,$brand:()=>oW,$constructor:()=>de,$input:()=>_q,$output:()=>kq,Doc:()=>yH,JSONSchema:()=>i1e,JSONSchemaGenerator:()=>JA,NEVER:()=>iW,TimePrecision:()=>Eq,_any:()=>Jq,_array:()=>nN,_base64:()=>FO,_base64url:()=>VO,_bigint:()=>Vq,_boolean:()=>zq,_catch:()=>X_e,_cidrv4:()=>LO,_cidrv6:()=>zO,_coercedBigint:()=>Bq,_coercedBoolean:()=>Fq,_coercedDate:()=>Xq,_coercedNumber:()=>Oq,_coercedString:()=>Cq,_cuid:()=>PO,_cuid2:()=>MO,_custom:()=>a8,_date:()=>Yq,_default:()=>K_e,_discriminatedUnion:()=>L_e,_e164:()=>BO,_email:()=>kO,_emoji:()=>AO,_endsWith:()=>GO,_enum:()=>U_e,_file:()=>s8,_float32:()=>Rq,_float64:()=>Dq,_gt:()=>up,_gte:()=>ls,_guid:()=>Xk,_includes:()=>JO,_int:()=>Nq,_int32:()=>jq,_int64:()=>Uq,_intersection:()=>z_e,_ipv4:()=>DO,_ipv6:()=>jO,_isoDate:()=>Aq,_isoDateTime:()=>Iq,_isoDuration:()=>Pq,_isoTime:()=>$q,_jwt:()=>UO,_ksuid:()=>RO,_lazy:()=>n1e,_length:()=>O1,_literal:()=>W_e,_lowercase:()=>HO,_lt:()=>lp,_lte:()=>$a,_map:()=>V_e,_max:()=>$a,_maxLength:()=>M1,_maxSize:()=>P1,_mime:()=>YO,_min:()=>ls,_minLength:()=>lg,_minSize:()=>rx,_multipleOf:()=>nx,_nan:()=>Qq,_nanoid:()=>$O,_nativeEnum:()=>Z_e,_negative:()=>t8,_never:()=>Kq,_nonnegative:()=>r8,_nonoptional:()=>G_e,_nonpositive:()=>n8,_normalize:()=>XO,_null:()=>qq,_nullable:()=>J_e,_number:()=>Mq,_optional:()=>q_e,_overwrite:()=>kp,_parse:()=>iO,_parseAsync:()=>oO,_pipe:()=>Q_e,_positive:()=>e8,_promise:()=>r1e,_property:()=>i8,_readonly:()=>e1e,_record:()=>F_e,_refine:()=>l8,_regex:()=>WO,_safeParse:()=>sO,_safeParseAsync:()=>aO,_set:()=>B_e,_size:()=>ZO,_startsWith:()=>KO,_string:()=>Tq,_stringFormat:()=>c8,_stringbool:()=>u8,_success:()=>Y_e,_symbol:()=>Wq,_templateLiteral:()=>t1e,_toLowerCase:()=>eN,_toUpperCase:()=>tN,_transform:()=>H_e,_trim:()=>QO,_tuple:()=>o8,_uint32:()=>Lq,_uint64:()=>Zq,_ulid:()=>OO,_undefined:()=>Hq,_union:()=>j_e,_unknown:()=>Qk,_uppercase:()=>qO,_url:()=>IO,_uuid:()=>_O,_uuidv4:()=>TO,_uuidv6:()=>CO,_uuidv7:()=>EO,_void:()=>Gq,_xid:()=>NO,clone:()=>Ml,config:()=>fo,flattenError:()=>nO,formatError:()=>rO,function:()=>f8,globalConfig:()=>Kk,globalRegistry:()=>Rf,isValidBase64:()=>fO,isValidBase64URL:()=>zH,isValidJWT:()=>BH,locales:()=>xO,parse:()=>WA,parseAsync:()=>HA,prettifyError:()=>yW,regexes:()=>lO,registry:()=>SO,safeParse:()=>vW,safeParseAsync:()=>bW,toDotPath:()=>gW,toJSONSchema:()=>rN,treeifyError:()=>mW,util:()=>un,version:()=>vH});var iW=Object.freeze({status:"aborted"});function de(e,t,n){function r(a,l){var u;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(u=a._zod).traits??(u.traits=new Set),a._zod.traits.add(e),t(a,l);for(const d in s.prototype)d in a||Object.defineProperty(a,d,{value:s.prototype[d].bind(a)});a._zod.constr=s,a._zod.def=l}const i=n?.Parent??Object;class o extends i{}Object.defineProperty(o,"name",{value:e});function s(a){var l;const u=n?.Parent?new o:this;r(u,a),(l=u._zod).deferred??(l.deferred=[]);for(const d of u._zod.deferred)d();return u}return Object.defineProperty(s,"init",{value:r}),Object.defineProperty(s,Symbol.hasInstance,{value:a=>n?.Parent&&a instanceof n.Parent?!0:a?._zod?.traits?.has(e)}),Object.defineProperty(s,"name",{value:e}),s}var oW=Symbol("zod_brand"),sg=class extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}},Kk={};function fo(e){return e&&Object.assign(Kk,e),Kk}var un={};md(un,{BIGINT_FORMAT_RANGES:()=>fW,Class:()=>tke,NUMBER_FORMAT_RANGES:()=>dW,aborted:()=>Nm,allowsEval:()=>lW,assert:()=>VSe,assertEqual:()=>jSe,assertIs:()=>zSe,assertNever:()=>FSe,assertNotEqual:()=>LSe,assignProp:()=>QM,cached:()=>C1,captureStackTrace:()=>eO,cleanEnum:()=>eke,cleanRegex:()=>E1,clone:()=>Ml,createTransparentProxy:()=>qSe,defineLazy:()=>kn,esc:()=>lm,escapeRegex:()=>Sp,extend:()=>GSe,finalizeIssue:()=>za,floatSafeRemainder:()=>aW,getElementAtPath:()=>BSe,getEnumValues:()=>XM,getLengthableOrigin:()=>A1,getParsedType:()=>HSe,getSizableOrigin:()=>I1,isObject:()=>ex,isPlainObject:()=>tx,issue:()=>pW,joinValues:()=>Le,jsonStringifyReplacer:()=>sW,merge:()=>YSe,normalizeParams:()=>De,nullish:()=>wp,numKeys:()=>WSe,omit:()=>KSe,optionalKeys:()=>cW,partial:()=>XSe,pick:()=>JSe,prefixIssues:()=>Zs,primitiveTypes:()=>uW,promiseAllObject:()=>USe,propertyKeyTypes:()=>Gk,randomString:()=>ZSe,required:()=>QSe,stringifyPrimitive:()=>Lt,unwrapMessage:()=>Fv});function jSe(e){return e}function LSe(e){return e}function zSe(e){}function FSe(e){throw new Error}function VSe(e){}function XM(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function Le(e,t="|"){return e.map(n=>Lt(n)).join(t)}function sW(e,t){return typeof t=="bigint"?t.toString():t}function C1(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function wp(e){return e==null}function E1(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function aW(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,o=Number.parseInt(e.toFixed(i).replace(".","")),s=Number.parseInt(t.toFixed(i).replace(".",""));return o%s/10**i}function kn(e,t,n){Object.defineProperty(e,t,{get(){{const r=n();return e[t]=r,r}},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function QM(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function BSe(e,t){return t?t.reduce((n,r)=>n?.[r],e):e}function USe(e){const t=Object.keys(e),n=t.map(r=>e[r]);return Promise.all(n).then(r=>{const i={};for(let o=0;o<t.length;o++)i[t[o]]=r[o];return i})}function ZSe(e=10){const t="abcdefghijklmnopqrstuvwxyz";let n="";for(let r=0;r<e;r++)n+=t[Math.floor(Math.random()*t.length)];return n}function lm(e){return JSON.stringify(e)}var eO=Error.captureStackTrace?Error.captureStackTrace:(...e)=>{};function ex(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}var lW=C1(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function tx(e){if(ex(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(ex(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function WSe(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}var HSe=e=>{const t=typeof e;switch(t){case"undefined":return"undefined";case"string":return"string";case"number":return Number.isNaN(e)?"nan":"number";case"boolean":return"boolean";case"function":return"function";case"bigint":return"bigint";case"symbol":return"symbol";case"object":return Array.isArray(e)?"array":e===null?"null":e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?"promise":typeof Map<"u"&&e instanceof Map?"map":typeof Set<"u"&&e instanceof Set?"set":typeof Date<"u"&&e instanceof Date?"date":typeof File<"u"&&e instanceof File?"file":"object";default:throw new Error(`Unknown data type: ${t}`)}},Gk=new Set(["string","number","symbol"]),uW=new Set(["string","number","bigint","boolean","symbol","undefined"]);function Sp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ml(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n?.parent)&&(r._zod.parent=e),r}function De(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if(t?.message!==void 0){if(t?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function qSe(e){let t;return new Proxy({},{get(n,r,i){return t??(t=e()),Reflect.get(t,r,i)},set(n,r,i,o){return t??(t=e()),Reflect.set(t,r,i,o)},has(n,r){return t??(t=e()),Reflect.has(t,r)},deleteProperty(n,r){return t??(t=e()),Reflect.deleteProperty(t,r)},ownKeys(n){return t??(t=e()),Reflect.ownKeys(t)},getOwnPropertyDescriptor(n,r){return t??(t=e()),Reflect.getOwnPropertyDescriptor(t,r)},defineProperty(n,r,i){return t??(t=e()),Reflect.defineProperty(t,r,i)}})}function Lt(e){return typeof e=="bigint"?e.toString()+"n":typeof e=="string"?`"${e}"`:`${e}`}function cW(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}var dW={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]},fW={int64:[BigInt("-9223372036854775808"),BigInt("9223372036854775807")],uint64:[BigInt(0),BigInt("18446744073709551615")]};function JSe(e,t){const n={},r=e._zod.def;for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&(n[i]=r.shape[i])}return Ml(e,{...e._zod.def,shape:n,checks:[]})}function KSe(e,t){const n={...e._zod.def.shape},r=e._zod.def;for(const i in t){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);t[i]&&delete n[i]}return Ml(e,{...e._zod.def,shape:n,checks:[]})}function GSe(e,t){if(!tx(t))throw new Error("Invalid input to extend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return QM(this,"shape",r),r},checks:[]};return Ml(e,n)}function YSe(e,t){return Ml(e,{...e._zod.def,get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return QM(this,"shape",n),n},catchall:t._zod.def.catchall,checks:[]})}function XSe(e,t,n){const r=t._zod.def.shape,i={...r};if(n)for(const o in n){if(!(o in r))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=e?new e({type:"optional",innerType:r[o]}):r[o])}else for(const o in r)i[o]=e?new e({type:"optional",innerType:r[o]}):r[o];return Ml(t,{...t._zod.def,shape:i,checks:[]})}function QSe(e,t,n){const r=t._zod.def.shape,i={...r};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(i[o]=new e({type:"nonoptional",innerType:r[o]}))}else for(const o in r)i[o]=new e({type:"nonoptional",innerType:r[o]});return Ml(t,{...t._zod.def,shape:i,checks:[]})}function Nm(e,t=0){for(let n=t;n<e.issues.length;n++)if(e.issues[n]?.continue!==!0)return!0;return!1}function Zs(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Fv(e){return typeof e=="string"?e:e?.message}function za(e,t,n){const r={...e,path:e.path??[]};if(!e.message){const i=Fv(e.inst?._zod.def?.error?.(e))??Fv(t?.error?.(e))??Fv(n.customError?.(e))??Fv(n.localeError?.(e))??"Invalid input";r.message=i}return delete r.inst,delete r.continue,t?.reportInput||delete r.input,r}function I1(e){return e instanceof Set?"set":e instanceof Map?"map":e instanceof File?"file":"unknown"}function A1(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function pW(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}function eke(e){return Object.entries(e).filter(([t,n])=>Number.isNaN(Number.parseInt(t,10))).map(t=>t[1])}var tke=class{constructor(...e){}},hW=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),Object.defineProperty(e,"message",{get(){return JSON.stringify(t,sW,2)},enumerable:!0}),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},tO=de("$ZodError",hW),Zx=de("$ZodError",hW,{Parent:Error});function nO(e,t=n=>n.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function rO(e,t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(a=>i({issues:a}));else if(s.code==="invalid_key")i({issues:s.issues});else if(s.code==="invalid_element")i({issues:s.issues});else if(s.path.length===0)r._errors.push(n(s));else{let a=r,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(s))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(e),r}function mW(e,t){const n=t||function(o){return o.message},r={errors:[]},i=(o,s=[])=>{var a,l;for(const u of o.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(d=>i({issues:d},u.path));else if(u.code==="invalid_key")i({issues:u.issues},u.path);else if(u.code==="invalid_element")i({issues:u.issues},u.path);else{const d=[...s,...u.path];if(d.length===0){r.errors.push(n(u));continue}let f=r,g=0;for(;g<d.length;){const m=d[g],b=g===d.length-1;typeof m=="string"?(f.properties??(f.properties={}),(a=f.properties)[m]??(a[m]={errors:[]}),f=f.properties[m]):(f.items??(f.items=[]),(l=f.items)[m]??(l[m]={errors:[]}),f=f.items[m]),b&&f.errors.push(n(u)),g++}}};return i(e),r}function gW(e){const t=[];for(const n of e)typeof n=="number"?t.push(`[${n}]`):typeof n=="symbol"?t.push(`[${JSON.stringify(String(n))}]`):/[^\w$]/.test(n)?t.push(`[${JSON.stringify(n)}]`):(t.length&&t.push("."),t.push(n));return t.join("")}function yW(e){const t=[],n=[...e.issues].sort((r,i)=>r.path.length-i.path.length);for(const r of n)t.push(`✖ ${r.message}`),r.path?.length&&t.push(`  → at ${gW(r.path)}`);return t.join(`
`)}var iO=e=>(t,n,r,i)=>{const o=r?Object.assign(r,{async:!1}):{async:!1},s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise)throw new sg;if(s.issues.length){const a=new(i?.Err??e)(s.issues.map(l=>za(l,o,fo())));throw eO(a,i?.callee),a}return s.value},WA=iO(Zx),oO=e=>async(t,n,r,i)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const a=new(i?.Err??e)(s.issues.map(l=>za(l,o,fo())));throw eO(a,i?.callee),a}return s.value},HA=oO(Zx),sO=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},o=t._zod.run({value:n,issues:[]},i);if(o instanceof Promise)throw new sg;return o.issues.length?{success:!1,error:new(e??tO)(o.issues.map(s=>za(s,i,fo())))}:{success:!0,data:o.value}},vW=sO(Zx),aO=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(s=>za(s,i,fo())))}:{success:!0,data:o.value}},bW=aO(Zx),lO={};md(lO,{_emoji:()=>AW,base64:()=>RW,base64url:()=>uO,bigint:()=>ZW,boolean:()=>qW,browserEmail:()=>uke,cidrv4:()=>OW,cidrv6:()=>NW,cuid:()=>xW,cuid2:()=>wW,date:()=>zW,datetime:()=>BW,domain:()=>cke,duration:()=>CW,e164:()=>jW,email:()=>IW,emoji:()=>$W,extendedDuration:()=>nke,guid:()=>EW,hostname:()=>DW,html5Email:()=>ske,integer:()=>WW,ipv4:()=>PW,ipv6:()=>MW,ksuid:()=>_W,lowercase:()=>GW,nanoid:()=>TW,null:()=>JW,number:()=>HW,rfc5322Email:()=>ake,string:()=>UW,time:()=>VW,ulid:()=>SW,undefined:()=>KW,unicodeEmail:()=>lke,uppercase:()=>YW,uuid:()=>ag,uuid4:()=>rke,uuid6:()=>ike,uuid7:()=>oke,xid:()=>kW});var xW=/^[cC][^\s-]{8,}$/,wW=/^[0-9a-z]+$/,SW=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,kW=/^[0-9a-vA-V]{20}$/,_W=/^[A-Za-z0-9]{27}$/,TW=/^[a-zA-Z0-9_-]{21}$/,CW=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,nke=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,EW=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,ag=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,rke=ag(4),ike=ag(6),oke=ag(7),IW=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,ske=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ake=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,lke=/^[^\s@"]{1,64}@[^\s@]{1,255}$/u,uke=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,AW="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function $W(){return new RegExp(AW,"u")}var PW=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,MW=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,OW=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,NW=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,RW=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,uO=/^[A-Za-z0-9_-]*$/,DW=/^([a-zA-Z0-9-]+\.)*[a-zA-Z0-9-]+$/,cke=/^([a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,jW=/^\+(?:[0-9]){6,14}[0-9]$/,LW="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",zW=new RegExp(`^${LW}$`);function FW(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function VW(e){return new RegExp(`^${FW(e)}$`)}function BW(e){const t=FW({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-]\\d{2}:\\d{2})");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${LW}T(?:${r})$`)}var UW=e=>{const t=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},ZW=/^\d+n?$/,WW=/^\d+$/,HW=/^-?\d+(?:\.\d+)?/i,qW=/true|false/i,JW=/null/i,KW=/undefined/i,GW=/^[^A-Z]*$/,YW=/^[^a-z]*$/,Er=de("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),XW={number:"number",bigint:"bigint",object:"date"},cO=de("$ZodCheckLessThan",(e,t)=>{Er.init(e,t);const n=XW[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,o=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),dO=de("$ZodCheckGreaterThan",(e,t)=>{Er.init(e,t);const n=XW[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,o=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),QW=de("$ZodCheckMultipleOf",(e,t)=>{Er.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):aW(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),eH=de("$ZodCheckNumberFormat",(e,t)=>{Er.init(e,t),t.format=t.format||"float64";const n=t.format?.includes("int"),r=n?"int":"number",[i,o]=dW[t.format];e._zod.onattach.push(s=>{const a=s._zod.bag;a.format=t.format,a.minimum=i,a.maximum=o,n&&(a.pattern=WW)}),e._zod.check=s=>{const a=s.value;if(n){if(!Number.isInteger(a)){s.issues.push({expected:r,format:t.format,code:"invalid_type",input:a,inst:e});return}if(!Number.isSafeInteger(a)){a>0?s.issues.push({input:a,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):s.issues.push({input:a,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}a<i&&s.issues.push({origin:"number",input:a,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),a>o&&s.issues.push({origin:"number",input:a,code:"too_big",maximum:o,inst:e})}}),tH=de("$ZodCheckBigIntFormat",(e,t)=>{Er.init(e,t);const[n,r]=fW[t.format];e._zod.onattach.push(i=>{const o=i._zod.bag;o.format=t.format,o.minimum=n,o.maximum=r}),e._zod.check=i=>{const o=i.value;o<n&&i.issues.push({origin:"bigint",input:o,code:"too_small",minimum:n,inclusive:!0,inst:e,continue:!t.abort}),o>r&&i.issues.push({origin:"bigint",input:o,code:"too_big",maximum:r,inst:e})}}),nH=de("$ZodCheckMaxSize",(e,t)=>{var n;Er.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!wp(i)&&i.size!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const i=r.value;i.size<=t.maximum||r.issues.push({origin:I1(i),code:"too_big",maximum:t.maximum,input:i,inst:e,continue:!t.abort})}}),rH=de("$ZodCheckMinSize",(e,t)=>{var n;Er.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!wp(i)&&i.size!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const i=r.value;i.size>=t.minimum||r.issues.push({origin:I1(i),code:"too_small",minimum:t.minimum,input:i,inst:e,continue:!t.abort})}}),iH=de("$ZodCheckSizeEquals",(e,t)=>{var n;Er.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!wp(i)&&i.size!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.size,i.maximum=t.size,i.size=t.size}),e._zod.check=r=>{const i=r.value,o=i.size;if(o===t.size)return;const s=o>t.size;r.issues.push({origin:I1(i),...s?{code:"too_big",maximum:t.size}:{code:"too_small",minimum:t.size},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),oH=de("$ZodCheckMaxLength",(e,t)=>{var n;Er.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!wp(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const i=r.value;if(i.length<=t.maximum)return;const s=A1(i);r.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),sH=de("$ZodCheckMinLength",(e,t)=>{var n;Er.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!wp(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const i=r.value;if(i.length>=t.minimum)return;const s=A1(i);r.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),aH=de("$ZodCheckLengthEquals",(e,t)=>{var n;Er.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!wp(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=r=>{const i=r.value,o=i.length;if(o===t.length)return;const s=A1(i),a=o>t.length;r.issues.push({origin:s,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Wx=de("$ZodCheckStringFormat",(e,t)=>{var n,r;Er.init(e,t),e._zod.onattach.push(i=>{const o=i._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),lH=de("$ZodCheckRegex",(e,t)=>{Wx.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),uH=de("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=GW),Wx.init(e,t)}),cH=de("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=YW),Wx.init(e,t)}),dH=de("$ZodCheckIncludes",(e,t)=>{Er.init(e,t);const n=Sp(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(i=>{const o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),fH=de("$ZodCheckStartsWith",(e,t)=>{Er.init(e,t);const n=new RegExp(`^${Sp(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),pH=de("$ZodCheckEndsWith",(e,t)=>{Er.init(e,t);const n=new RegExp(`.*${Sp(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}});function w4(e,t,n){e.issues.length&&t.issues.push(...Zs(n,e.issues))}var hH=de("$ZodCheckProperty",(e,t)=>{Er.init(e,t),e._zod.check=n=>{const r=t.schema._zod.run({value:n.value[t.property],issues:[]},{});if(r instanceof Promise)return r.then(i=>w4(i,n,t.property));w4(r,n,t.property)}}),mH=de("$ZodCheckMimeType",(e,t)=>{Er.init(e,t);const n=new Set(t.mime);e._zod.onattach.push(r=>{r._zod.bag.mime=t.mime}),e._zod.check=r=>{n.has(r.value.type)||r.issues.push({code:"invalid_value",values:t.mime,input:r.value.type,inst:e})}}),gH=de("$ZodCheckOverwrite",(e,t)=>{Er.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}}),yH=class{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const n=e.split(`
`).filter(o=>o),r=Math.min(...n.map(o=>o.length-o.trimStart().length)),i=n.map(o=>o.slice(r)).map(o=>" ".repeat(this.indent*2)+o);for(const o of i)this.content.push(o)}compile(){const e=Function,t=this?.args,r=[...(this?.content??[""]).map(i=>`  ${i}`)];return new e(...t,r.join(`
`))}},vH={major:4,minor:0,patch:0},Et=de("$ZodType",(e,t)=>{var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=vH;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const i of r)for(const o of i._zod.onattach)o(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const i=(o,s,a)=>{let l=Nm(o),u;for(const d of s){if(d._zod.def.when){if(!d._zod.def.when(o))continue}else if(l)continue;const f=o.issues.length,g=d._zod.check(o);if(g instanceof Promise&&a?.async===!1)throw new sg;if(u||g instanceof Promise)u=(u??Promise.resolve()).then(async()=>{await g,o.issues.length!==f&&(l||(l=Nm(o,f)))});else{if(o.issues.length===f)continue;l||(l=Nm(o,f))}}return u?u.then(()=>o):o};e._zod.run=(o,s)=>{const a=e._zod.parse(o,s);if(a instanceof Promise){if(s.async===!1)throw new sg;return a.then(l=>i(l,r,s))}return i(a,r,s)}}e["~standard"]={validate:i=>{try{const o=vW(e,i);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return bW(e,i).then(s=>s.success?{value:s.data}:{issues:s.error?.issues})}},vendor:"zod",version:1}}),Hx=de("$ZodString",(e,t)=>{Et.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??UW(e._zod.bag),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Wn=de("$ZodStringFormat",(e,t)=>{Wx.init(e,t),Hx.init(e,t)}),bH=de("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=EW),Wn.init(e,t)}),xH=de("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=ag(r))}else t.pattern??(t.pattern=ag());Wn.init(e,t)}),wH=de("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=IW),Wn.init(e,t)}),SH=de("$ZodURL",(e,t)=>{Wn.init(e,t),e._zod.check=n=>{try{const r=n.value,i=new URL(r),o=i.href;t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:DW.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),!r.endsWith("/")&&o.endsWith("/")?n.value=o.slice(0,-1):n.value=o;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),kH=de("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=$W()),Wn.init(e,t)}),_H=de("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=TW),Wn.init(e,t)}),TH=de("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=xW),Wn.init(e,t)}),CH=de("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=wW),Wn.init(e,t)}),EH=de("$ZodULID",(e,t)=>{t.pattern??(t.pattern=SW),Wn.init(e,t)}),IH=de("$ZodXID",(e,t)=>{t.pattern??(t.pattern=kW),Wn.init(e,t)}),AH=de("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=_W),Wn.init(e,t)}),$H=de("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=BW(t)),Wn.init(e,t)}),PH=de("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=zW),Wn.init(e,t)}),MH=de("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=VW(t)),Wn.init(e,t)}),OH=de("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=CW),Wn.init(e,t)}),NH=de("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=PW),Wn.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),RH=de("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=MW),Wn.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),DH=de("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=OW),Wn.init(e,t)}),jH=de("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=NW),Wn.init(e,t),e._zod.check=n=>{const[r,i]=n.value.split("/");try{if(!i)throw new Error;const o=Number(i);if(`${o}`!==i)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function fO(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}var LH=de("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=RW),Wn.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{fO(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function zH(e){if(!uO.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return fO(n)}var FH=de("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=uO),Wn.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{zH(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),VH=de("$ZodE164",(e,t)=>{t.pattern??(t.pattern=jW),Wn.init(e,t)});function BH(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&i?.typ!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}var UH=de("$ZodJWT",(e,t)=>{Wn.init(e,t),e._zod.check=n=>{BH(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),ZH=de("$ZodCustomStringFormat",(e,t)=>{Wn.init(e,t),e._zod.check=n=>{t.fn(n.value)||n.issues.push({code:"invalid_format",format:t.format,input:n.value,inst:e,continue:!t.abort})}}),pO=de("$ZodNumber",(e,t)=>{Et.init(e,t),e._zod.pattern=e._zod.bag.pattern??HW,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const o=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...o?{received:o}:{}}),n}}),WH=de("$ZodNumber",(e,t)=>{eH.init(e,t),pO.init(e,t)}),hO=de("$ZodBoolean",(e,t)=>{Et.init(e,t),e._zod.pattern=qW,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),mO=de("$ZodBigInt",(e,t)=>{Et.init(e,t),e._zod.pattern=ZW,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=BigInt(n.value)}catch{}return typeof n.value=="bigint"||n.issues.push({expected:"bigint",code:"invalid_type",input:n.value,inst:e}),n}}),HH=de("$ZodBigInt",(e,t)=>{tH.init(e,t),mO.init(e,t)}),qH=de("$ZodSymbol",(e,t)=>{Et.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;return typeof i=="symbol"||n.issues.push({expected:"symbol",code:"invalid_type",input:i,inst:e}),n}}),JH=de("$ZodUndefined",(e,t)=>{Et.init(e,t),e._zod.pattern=KW,e._zod.values=new Set([void 0]),e._zod.optin="optional",e._zod.optout="optional",e._zod.parse=(n,r)=>{const i=n.value;return typeof i>"u"||n.issues.push({expected:"undefined",code:"invalid_type",input:i,inst:e}),n}}),KH=de("$ZodNull",(e,t)=>{Et.init(e,t),e._zod.pattern=JW,e._zod.values=new Set([null]),e._zod.parse=(n,r)=>{const i=n.value;return i===null||n.issues.push({expected:"null",code:"invalid_type",input:i,inst:e}),n}}),GH=de("$ZodAny",(e,t)=>{Et.init(e,t),e._zod.parse=n=>n}),Yk=de("$ZodUnknown",(e,t)=>{Et.init(e,t),e._zod.parse=n=>n}),YH=de("$ZodNever",(e,t)=>{Et.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)}),XH=de("$ZodVoid",(e,t)=>{Et.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;return typeof i>"u"||n.issues.push({expected:"void",code:"invalid_type",input:i,inst:e}),n}}),QH=de("$ZodDate",(e,t)=>{Et.init(e,t),e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=new Date(n.value)}catch{}const i=n.value,o=i instanceof Date;return o&&!Number.isNaN(i.getTime())||n.issues.push({expected:"date",code:"invalid_type",input:i,...o?{received:"Invalid Date"}:{},inst:e}),n}});function S4(e,t,n){e.issues.length&&t.issues.push(...Zs(n,e.issues)),t.value[n]=e.value}var gO=de("$ZodArray",(e,t)=>{Et.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const o=[];for(let s=0;s<i.length;s++){const a=i[s],l=t.element._zod.run({value:a,issues:[]},r);l instanceof Promise?o.push(l.then(u=>S4(u,n,s))):S4(l,n,s)}return o.length?Promise.all(o).then(()=>n):n}});function tS(e,t,n){e.issues.length&&t.issues.push(...Zs(n,e.issues)),t.value[n]=e.value}function k4(e,t,n,r){e.issues.length?r[n]===void 0?n in r?t.value[n]=void 0:t.value[n]=e.value:t.issues.push(...Zs(n,e.issues)):e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}var eq=de("$ZodObject",(e,t)=>{Et.init(e,t);const n=C1(()=>{const f=Object.keys(t.shape);for(const m of f)if(!(t.shape[m]instanceof Et))throw new Error(`Invalid element at key "${m}": expected a Zod schema`);const g=cW(t.shape);return{shape:t.shape,keys:f,keySet:new Set(f),numKeys:f.length,optionalKeys:new Set(g)}});kn(e._zod,"propValues",()=>{const f=t.shape,g={};for(const m in f){const b=f[m]._zod;if(b.values){g[m]??(g[m]=new Set);for(const x of b.values)g[m].add(x)}}return g});const r=f=>{const g=new yH(["shape","payload","ctx"]),m=n.value,b=E=>{const $=lm(E);return`shape[${$}]._zod.run({ value: input[${$}], issues: [] }, ctx)`};g.write("const input = payload.value;");const x=Object.create(null);let k=0;for(const E of m.keys)x[E]=`key_${k++}`;g.write("const newResult = {}");for(const E of m.keys)if(m.optionalKeys.has(E)){const $=x[E];g.write(`const ${$} = ${b(E)};`);const P=lm(E);g.write(`
        if (${$}.issues.length) {
          if (input[${P}] === undefined) {
            if (${P} in input) {
              newResult[${P}] = undefined;
            }
          } else {
            payload.issues = payload.issues.concat(
              ${$}.issues.map((iss) => ({
                ...iss,
                path: iss.path ? [${P}, ...iss.path] : [${P}],
              }))
            );
          }
        } else if (${$}.value === undefined) {
          if (${P} in input) newResult[${P}] = undefined;
        } else {
          newResult[${P}] = ${$}.value;
        }
        `)}else{const $=x[E];g.write(`const ${$} = ${b(E)};`),g.write(`
          if (${$}.issues.length) payload.issues = payload.issues.concat(${$}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${lm(E)}, ...iss.path] : [${lm(E)}]
          })));`),g.write(`newResult[${lm(E)}] = ${$}.value`)}g.write("payload.value = newResult;"),g.write("return payload;");const T=g.compile();return(E,$)=>T(f,E,$)};let i;const o=ex,s=!Kk.jitless,l=s&&lW.value,u=t.catchall;let d;e._zod.parse=(f,g)=>{d??(d=n.value);const m=f.value;if(!o(m))return f.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),f;const b=[];if(s&&l&&g?.async===!1&&g.jitless!==!0)i||(i=r(t.shape)),f=i(f,g);else{f.value={};const $=d.shape;for(const P of d.keys){const M=$[P],R=M._zod.run({value:m[P],issues:[]},g),z=M._zod.optin==="optional"&&M._zod.optout==="optional";R instanceof Promise?b.push(R.then(F=>z?k4(F,f,P,m):tS(F,f,P))):z?k4(R,f,P,m):tS(R,f,P)}}if(!u)return b.length?Promise.all(b).then(()=>f):f;const x=[],k=d.keySet,T=u._zod,E=T.def.type;for(const $ of Object.keys(m)){if(k.has($))continue;if(E==="never"){x.push($);continue}const P=T.run({value:m[$],issues:[]},g);P instanceof Promise?b.push(P.then(M=>tS(M,f,$))):tS(P,f,$)}return x.length&&f.issues.push({code:"unrecognized_keys",keys:x,input:m,inst:e}),b.length?Promise.all(b).then(()=>f):f}});function _4(e,t,n,r){for(const i of e)if(i.issues.length===0)return t.value=i.value,t;return t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(i=>i.issues.map(o=>za(o,r,fo())))}),t}var yO=de("$ZodUnion",(e,t)=>{Et.init(e,t),kn(e._zod,"optin",()=>t.options.some(n=>n._zod.optin==="optional")?"optional":void 0),kn(e._zod,"optout",()=>t.options.some(n=>n._zod.optout==="optional")?"optional":void 0),kn(e._zod,"values",()=>{if(t.options.every(n=>n._zod.values))return new Set(t.options.flatMap(n=>Array.from(n._zod.values)))}),kn(e._zod,"pattern",()=>{if(t.options.every(n=>n._zod.pattern)){const n=t.options.map(r=>r._zod.pattern);return new RegExp(`^(${n.map(r=>E1(r.source)).join("|")})$`)}}),e._zod.parse=(n,r)=>{let i=!1;const o=[];for(const s of t.options){const a=s._zod.run({value:n.value,issues:[]},r);if(a instanceof Promise)o.push(a),i=!0;else{if(a.issues.length===0)return a;o.push(a)}}return i?Promise.all(o).then(s=>_4(s,n,e,r)):_4(o,n,e,r)}}),tq=de("$ZodDiscriminatedUnion",(e,t)=>{yO.init(e,t);const n=e._zod.parse;kn(e._zod,"propValues",()=>{const i={};for(const o of t.options){const s=o._zod.propValues;if(!s||Object.keys(s).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(o)}"`);for(const[a,l]of Object.entries(s)){i[a]||(i[a]=new Set);for(const u of l)i[a].add(u)}}return i});const r=C1(()=>{const i=t.options,o=new Map;for(const s of i){const a=s._zod.propValues[t.discriminator];if(!a||a.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(s)}"`);for(const l of a){if(o.has(l))throw new Error(`Duplicate discriminator value "${String(l)}"`);o.set(l,s)}}return o});e._zod.parse=(i,o)=>{const s=i.value;if(!ex(s))return i.issues.push({code:"invalid_type",expected:"object",input:s,inst:e}),i;const a=r.value.get(s?.[t.discriminator]);return a?a._zod.run(i,o):t.unionFallback?n(i,o):(i.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",input:s,path:[t.discriminator],inst:e}),i)}}),nq=de("$ZodIntersection",(e,t)=>{Et.init(e,t),e._zod.parse=(n,r)=>{const i=n.value,o=t.left._zod.run({value:i,issues:[]},r),s=t.right._zod.run({value:i,issues:[]},r);return o instanceof Promise||s instanceof Promise?Promise.all([o,s]).then(([l,u])=>T4(n,l,u)):T4(n,o,s)}});function qA(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(tx(e)&&tx(t)){const n=Object.keys(t),r=Object.keys(e).filter(o=>n.indexOf(o)!==-1),i={...e,...t};for(const o of r){const s=qA(e[o],t[o]);if(!s.valid)return{valid:!1,mergeErrorPath:[o,...s.mergeErrorPath]};i[o]=s.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=e[r],o=t[r],s=qA(i,o);if(!s.valid)return{valid:!1,mergeErrorPath:[r,...s.mergeErrorPath]};n.push(s.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function T4(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),Nm(e))return e;const r=qA(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}var $1=de("$ZodTuple",(e,t)=>{Et.init(e,t);const n=t.items,r=n.length-[...n].reverse().findIndex(i=>i._zod.optin!=="optional");e._zod.parse=(i,o)=>{const s=i.value;if(!Array.isArray(s))return i.issues.push({input:s,inst:e,expected:"tuple",code:"invalid_type"}),i;i.value=[];const a=[];if(!t.rest){const u=s.length>n.length,d=s.length<r-1;if(u||d)return i.issues.push({input:s,inst:e,origin:"array",...u?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length}}),i}let l=-1;for(const u of n){if(l++,l>=s.length&&l>=r)continue;const d=u._zod.run({value:s[l],issues:[]},o);d instanceof Promise?a.push(d.then(f=>nS(f,i,l))):nS(d,i,l)}if(t.rest){const u=s.slice(n.length);for(const d of u){l++;const f=t.rest._zod.run({value:d,issues:[]},o);f instanceof Promise?a.push(f.then(g=>nS(g,i,l))):nS(f,i,l)}}return a.length?Promise.all(a).then(()=>i):i}});function nS(e,t,n){e.issues.length&&t.issues.push(...Zs(n,e.issues)),t.value[n]=e.value}var rq=de("$ZodRecord",(e,t)=>{Et.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!tx(i))return n.issues.push({expected:"record",code:"invalid_type",input:i,inst:e}),n;const o=[];if(t.keyType._zod.values){const s=t.keyType._zod.values;n.value={};for(const l of s)if(typeof l=="string"||typeof l=="number"||typeof l=="symbol"){const u=t.valueType._zod.run({value:i[l],issues:[]},r);u instanceof Promise?o.push(u.then(d=>{d.issues.length&&n.issues.push(...Zs(l,d.issues)),n.value[l]=d.value})):(u.issues.length&&n.issues.push(...Zs(l,u.issues)),n.value[l]=u.value)}let a;for(const l in i)s.has(l)||(a=a??[],a.push(l));a&&a.length>0&&n.issues.push({code:"unrecognized_keys",input:i,inst:e,keys:a})}else{n.value={};for(const s of Reflect.ownKeys(i)){if(s==="__proto__")continue;const a=t.keyType._zod.run({value:s,issues:[]},r);if(a instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(a.issues.length){n.issues.push({origin:"record",code:"invalid_key",issues:a.issues.map(u=>za(u,r,fo())),input:s,path:[s],inst:e}),n.value[a.value]=a.value;continue}const l=t.valueType._zod.run({value:i[s],issues:[]},r);l instanceof Promise?o.push(l.then(u=>{u.issues.length&&n.issues.push(...Zs(s,u.issues)),n.value[a.value]=u.value})):(l.issues.length&&n.issues.push(...Zs(s,l.issues)),n.value[a.value]=l.value)}}return o.length?Promise.all(o).then(()=>n):n}}),iq=de("$ZodMap",(e,t)=>{Et.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!(i instanceof Map))return n.issues.push({expected:"map",code:"invalid_type",input:i,inst:e}),n;const o=[];n.value=new Map;for(const[s,a]of i){const l=t.keyType._zod.run({value:s,issues:[]},r),u=t.valueType._zod.run({value:a,issues:[]},r);l instanceof Promise||u instanceof Promise?o.push(Promise.all([l,u]).then(([d,f])=>{C4(d,f,n,s,i,e,r)})):C4(l,u,n,s,i,e,r)}return o.length?Promise.all(o).then(()=>n):n}});function C4(e,t,n,r,i,o,s){e.issues.length&&(Gk.has(typeof r)?n.issues.push(...Zs(r,e.issues)):n.issues.push({origin:"map",code:"invalid_key",input:i,inst:o,issues:e.issues.map(a=>za(a,s,fo()))})),t.issues.length&&(Gk.has(typeof r)?n.issues.push(...Zs(r,t.issues)):n.issues.push({origin:"map",code:"invalid_element",input:i,inst:o,key:r,issues:t.issues.map(a=>za(a,s,fo()))})),n.value.set(e.value,t.value)}var oq=de("$ZodSet",(e,t)=>{Et.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!(i instanceof Set))return n.issues.push({input:i,inst:e,expected:"set",code:"invalid_type"}),n;const o=[];n.value=new Set;for(const s of i){const a=t.valueType._zod.run({value:s,issues:[]},r);a instanceof Promise?o.push(a.then(l=>E4(l,n))):E4(a,n)}return o.length?Promise.all(o).then(()=>n):n}});function E4(e,t){e.issues.length&&t.issues.push(...e.issues),t.value.add(e.value)}var sq=de("$ZodEnum",(e,t)=>{Et.init(e,t);const n=XM(t.entries);e._zod.values=new Set(n),e._zod.pattern=new RegExp(`^(${n.filter(r=>Gk.has(typeof r)).map(r=>typeof r=="string"?Sp(r):r.toString()).join("|")})$`),e._zod.parse=(r,i)=>{const o=r.value;return e._zod.values.has(o)||r.issues.push({code:"invalid_value",values:n,input:o,inst:e}),r}}),aq=de("$ZodLiteral",(e,t)=>{Et.init(e,t),e._zod.values=new Set(t.values),e._zod.pattern=new RegExp(`^(${t.values.map(n=>typeof n=="string"?Sp(n):n?n.toString():String(n)).join("|")})$`),e._zod.parse=(n,r)=>{const i=n.value;return e._zod.values.has(i)||n.issues.push({code:"invalid_value",values:t.values,input:i,inst:e}),n}}),lq=de("$ZodFile",(e,t)=>{Et.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;return i instanceof File||n.issues.push({expected:"file",code:"invalid_type",input:i,inst:e}),n}}),vO=de("$ZodTransform",(e,t)=>{Et.init(e,t),e._zod.parse=(n,r)=>{const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(n.value=s,n));if(i instanceof Promise)throw new sg;return n.value=i,n}}),uq=de("$ZodOptional",(e,t)=>{Et.init(e,t),e._zod.optin="optional",e._zod.optout="optional",kn(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),kn(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${E1(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>t.innerType._zod.optin==="optional"?t.innerType._zod.run(n,r):n.value===void 0?n:t.innerType._zod.run(n,r)}),cq=de("$ZodNullable",(e,t)=>{Et.init(e,t),kn(e._zod,"optin",()=>t.innerType._zod.optin),kn(e._zod,"optout",()=>t.innerType._zod.optout),kn(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${E1(n.source)}|null)$`):void 0}),kn(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),dq=de("$ZodDefault",(e,t)=>{Et.init(e,t),e._zod.optin="optional",kn(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>I4(o,t)):I4(i,t)}});function I4(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}var fq=de("$ZodPrefault",(e,t)=>{Et.init(e,t),e._zod.optin="optional",kn(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),pq=de("$ZodNonOptional",(e,t)=>{Et.init(e,t),kn(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>A4(o,e)):A4(i,e)}});function A4(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}var hq=de("$ZodSuccess",(e,t)=>{Et.init(e,t),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>(n.value=o.issues.length===0,n)):(n.value=i.issues.length===0,n)}}),mq=de("$ZodCatch",(e,t)=>{Et.init(e,t),e._zod.optin="optional",kn(e._zod,"optout",()=>t.innerType._zod.optout),kn(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(o=>(n.value=o.value,o.issues.length&&(n.value=t.catchValue({...n,error:{issues:o.issues.map(s=>za(s,r,fo()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(o=>za(o,r,fo()))},input:n.value}),n.issues=[]),n)}}),gq=de("$ZodNaN",(e,t)=>{Et.init(e,t),e._zod.parse=(n,r)=>((typeof n.value!="number"||!Number.isNaN(n.value))&&n.issues.push({input:n.value,inst:e,expected:"nan",code:"invalid_type"}),n)}),bO=de("$ZodPipe",(e,t)=>{Et.init(e,t),kn(e._zod,"values",()=>t.in._zod.values),kn(e._zod,"optin",()=>t.in._zod.optin),kn(e._zod,"optout",()=>t.out._zod.optout),e._zod.parse=(n,r)=>{const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(o=>$4(o,t,r)):$4(i,t,r)}});function $4(e,t,n){return Nm(e)?e:t.out._zod.run({value:e.value,issues:e.issues},n)}var yq=de("$ZodReadonly",(e,t)=>{Et.init(e,t),kn(e._zod,"propValues",()=>t.innerType._zod.propValues),kn(e._zod,"values",()=>t.innerType._zod.values),kn(e._zod,"optin",()=>t.innerType._zod.optin),kn(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(P4):P4(i)}});function P4(e){return e.value=Object.freeze(e.value),e}var vq=de("$ZodTemplateLiteral",(e,t)=>{Et.init(e,t);const n=[];for(const r of t.parts)if(r instanceof Et){if(!r._zod.pattern)throw new Error(`Invalid template literal part, no pattern found: ${[...r._zod.traits].shift()}`);const i=r._zod.pattern instanceof RegExp?r._zod.pattern.source:r._zod.pattern;if(!i)throw new Error(`Invalid template literal part: ${r._zod.traits}`);const o=i.startsWith("^")?1:0,s=i.endsWith("$")?i.length-1:i.length;n.push(i.slice(o,s))}else if(r===null||uW.has(typeof r))n.push(Sp(`${r}`));else throw new Error(`Invalid template literal part: ${r}`);e._zod.pattern=new RegExp(`^${n.join("")}$`),e._zod.parse=(r,i)=>typeof r.value!="string"?(r.issues.push({input:r.value,inst:e,expected:"template_literal",code:"invalid_type"}),r):(e._zod.pattern.lastIndex=0,e._zod.pattern.test(r.value)||r.issues.push({input:r.value,inst:e,code:"invalid_format",format:"template_literal",pattern:e._zod.pattern.source}),r)}),bq=de("$ZodPromise",(e,t)=>{Et.init(e,t),e._zod.parse=(n,r)=>Promise.resolve(n.value).then(i=>t.innerType._zod.run({value:i,issues:[]},r))}),xq=de("$ZodLazy",(e,t)=>{Et.init(e,t),kn(e._zod,"innerType",()=>t.getter()),kn(e._zod,"pattern",()=>e._zod.innerType._zod.pattern),kn(e._zod,"propValues",()=>e._zod.innerType._zod.propValues),kn(e._zod,"optin",()=>e._zod.innerType._zod.optin),kn(e._zod,"optout",()=>e._zod.innerType._zod.optout),e._zod.parse=(n,r)=>e._zod.innerType._zod.run(n,r)}),wq=de("$ZodCustom",(e,t)=>{Er.init(e,t),Et.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(o=>M4(o,n,r,e));M4(i,n,r,e)}});function M4(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(pW(i))}}var xO={};md(xO,{ar:()=>fke,az:()=>hke,be:()=>gke,ca:()=>vke,cs:()=>xke,de:()=>Ske,en:()=>Sq,eo:()=>Eke,es:()=>Ake,fa:()=>Pke,fi:()=>Oke,fr:()=>Rke,frCA:()=>jke,he:()=>zke,hu:()=>Vke,id:()=>Uke,it:()=>Wke,ja:()=>qke,kh:()=>Kke,ko:()=>Yke,mk:()=>Qke,ms:()=>t_e,nl:()=>r_e,no:()=>o_e,ota:()=>a_e,pl:()=>d_e,ps:()=>u_e,pt:()=>p_e,ru:()=>m_e,sl:()=>y_e,sv:()=>b_e,ta:()=>w_e,th:()=>k_e,tr:()=>C_e,ua:()=>I_e,ur:()=>$_e,vi:()=>M_e,zhCN:()=>N_e,zhTW:()=>D_e});var dke=()=>{const e={string:{unit:"حرف",verb:"أن يحوي"},file:{unit:"بايت",verb:"أن يحوي"},array:{unit:"عنصر",verb:"أن يحوي"},set:{unit:"عنصر",verb:"أن يحوي"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"مدخل",email:"بريد إلكتروني",url:"رابط",emoji:"إيموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاريخ ووقت بمعيار ISO",date:"تاريخ بمعيار ISO",time:"وقت بمعيار ISO",duration:"مدة بمعيار ISO",ipv4:"عنوان IPv4",ipv6:"عنوان IPv6",cidrv4:"مدى عناوين بصيغة IPv4",cidrv6:"مدى عناوين بصيغة IPv6",base64:"نَص بترميز base64-encoded",base64url:"نَص بترميز base64url-encoded",json_string:"نَص على هيئة JSON",e164:"رقم هاتف بمعيار E.164",jwt:"JWT",template_literal:"مدخل"};return i=>{switch(i.code){case"invalid_type":return`مدخلات غير مقبولة: يفترض إدخال ${i.expected}، ولكن تم إدخال ${n(i.input)}`;case"invalid_value":return i.values.length===1?`مدخلات غير مقبولة: يفترض إدخال ${Lt(i.values[0])}`:`اختيار غير مقبول: يتوقع انتقاء أحد هذه الخيارات: ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?` أكبر من اللازم: يفترض أن تكون ${i.origin??"القيمة"} ${o} ${i.maximum.toString()} ${s.unit??"عنصر"}`:`أكبر من اللازم: يفترض أن تكون ${i.origin??"القيمة"} ${o} ${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`أصغر من اللازم: يفترض لـ ${i.origin} أن يكون ${o} ${i.minimum.toString()} ${s.unit}`:`أصغر من اللازم: يفترض لـ ${i.origin} أن يكون ${o} ${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`نَص غير مقبول: يجب أن يبدأ بـ "${i.prefix}"`:o.format==="ends_with"?`نَص غير مقبول: يجب أن ينتهي بـ "${o.suffix}"`:o.format==="includes"?`نَص غير مقبول: يجب أن يتضمَّن "${o.includes}"`:o.format==="regex"?`نَص غير مقبول: يجب أن يطابق النمط ${o.pattern}`:`${r[o.format]??i.format} غير مقبول`}case"not_multiple_of":return`رقم غير مقبول: يجب أن يكون من مضاعفات ${i.divisor}`;case"unrecognized_keys":return`معرف${i.keys.length>1?"ات":""} غريب${i.keys.length>1?"ة":""}: ${Le(i.keys,"، ")}`;case"invalid_key":return`معرف غير مقبول في ${i.origin}`;case"invalid_union":return"مدخل غير مقبول";case"invalid_element":return`مدخل غير مقبول في ${i.origin}`;default:return"مدخل غير مقبول"}}};function fke(){return{localeError:dke()}}var pke=()=>{const e={string:{unit:"simvol",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"element",verb:"olmalıdır"},set:{unit:"element",verb:"olmalıdır"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Yanlış dəyər: gözlənilən ${i.expected}, daxil olan ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Yanlış dəyər: gözlənilən ${Lt(i.values[0])}`:`Yanlış seçim: aşağıdakılardan biri olmalıdır: ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`Çox böyük: gözlənilən ${i.origin??"dəyər"} ${o}${i.maximum.toString()} ${s.unit??"element"}`:`Çox böyük: gözlənilən ${i.origin??"dəyər"} ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`Çox kiçik: gözlənilən ${i.origin} ${o}${i.minimum.toString()} ${s.unit}`:`Çox kiçik: gözlənilən ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Yanlış mətn: "${o.prefix}" ilə başlamalıdır`:o.format==="ends_with"?`Yanlış mətn: "${o.suffix}" ilə bitməlidir`:o.format==="includes"?`Yanlış mətn: "${o.includes}" daxil olmalıdır`:o.format==="regex"?`Yanlış mətn: ${o.pattern} şablonuna uyğun olmalıdır`:`Yanlış ${r[o.format]??i.format}`}case"not_multiple_of":return`Yanlış ədəd: ${i.divisor} ilə bölünə bilən olmalıdır`;case"unrecognized_keys":return`Tanınmayan açar${i.keys.length>1?"lar":""}: ${Le(i.keys,", ")}`;case"invalid_key":return`${i.origin} daxilində yanlış açar`;case"invalid_union":return"Yanlış dəyər";case"invalid_element":return`${i.origin} daxilində yanlış dəyər`;default:return"Yanlış dəyər"}}};function hke(){return{localeError:pke()}}function O4(e,t,n,r){const i=Math.abs(e),o=i%10,s=i%100;return s>=11&&s<=19?r:o===1?t:o>=2&&o<=4?n:r}var mke=()=>{const e={string:{unit:{one:"сімвал",few:"сімвалы",many:"сімвалаў"},verb:"мець"},array:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},set:{unit:{one:"элемент",few:"элементы",many:"элементаў"},verb:"мець"},file:{unit:{one:"байт",few:"байты",many:"байтаў"},verb:"мець"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"лік";case"object":{if(Array.isArray(i))return"масіў";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"увод",email:"email адрас",url:"URL",emoji:"эмодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата і час",date:"ISO дата",time:"ISO час",duration:"ISO працягласць",ipv4:"IPv4 адрас",ipv6:"IPv6 адрас",cidrv4:"IPv4 дыяпазон",cidrv6:"IPv6 дыяпазон",base64:"радок у фармаце base64",base64url:"радок у фармаце base64url",json_string:"JSON радок",e164:"нумар E.164",jwt:"JWT",template_literal:"увод"};return i=>{switch(i.code){case"invalid_type":return`Няправільны ўвод: чакаўся ${i.expected}, атрымана ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Няправільны ўвод: чакалася ${Lt(i.values[0])}`:`Няправільны варыянт: чакаўся адзін з ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);if(s){const a=Number(i.maximum),l=O4(a,s.unit.one,s.unit.few,s.unit.many);return`Занадта вялікі: чакалася, што ${i.origin??"значэнне"} павінна ${s.verb} ${o}${i.maximum.toString()} ${l}`}return`Занадта вялікі: чакалася, што ${i.origin??"значэнне"} павінна быць ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);if(s){const a=Number(i.minimum),l=O4(a,s.unit.one,s.unit.few,s.unit.many);return`Занадта малы: чакалася, што ${i.origin} павінна ${s.verb} ${o}${i.minimum.toString()} ${l}`}return`Занадта малы: чакалася, што ${i.origin} павінна быць ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Няправільны радок: павінен пачынацца з "${o.prefix}"`:o.format==="ends_with"?`Няправільны радок: павінен заканчвацца на "${o.suffix}"`:o.format==="includes"?`Няправільны радок: павінен змяшчаць "${o.includes}"`:o.format==="regex"?`Няправільны радок: павінен адпавядаць шаблону ${o.pattern}`:`Няправільны ${r[o.format]??i.format}`}case"not_multiple_of":return`Няправільны лік: павінен быць кратным ${i.divisor}`;case"unrecognized_keys":return`Нераспазнаны ${i.keys.length>1?"ключы":"ключ"}: ${Le(i.keys,", ")}`;case"invalid_key":return`Няправільны ключ у ${i.origin}`;case"invalid_union":return"Няправільны ўвод";case"invalid_element":return`Няправільнае значэнне ў ${i.origin}`;default:return"Няправільны ўвод"}}};function gke(){return{localeError:mke()}}var yke=()=>{const e={string:{unit:"caràcters",verb:"contenir"},file:{unit:"bytes",verb:"contenir"},array:{unit:"elements",verb:"contenir"},set:{unit:"elements",verb:"contenir"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"entrada",email:"adreça electrònica",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i hora ISO",date:"data ISO",time:"hora ISO",duration:"durada ISO",ipv4:"adreça IPv4",ipv6:"adreça IPv6",cidrv4:"rang IPv4",cidrv6:"rang IPv6",base64:"cadena codificada en base64",base64url:"cadena codificada en base64url",json_string:"cadena JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Tipus invàlid: s'esperava ${i.expected}, s'ha rebut ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Valor invàlid: s'esperava ${Lt(i.values[0])}`:`Opció invàlida: s'esperava una de ${Le(i.values," o ")}`;case"too_big":{const o=i.inclusive?"com a màxim":"menys de",s=t(i.origin);return s?`Massa gran: s'esperava que ${i.origin??"el valor"} contingués ${o} ${i.maximum.toString()} ${s.unit??"elements"}`:`Massa gran: s'esperava que ${i.origin??"el valor"} fos ${o} ${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?"com a mínim":"més de",s=t(i.origin);return s?`Massa petit: s'esperava que ${i.origin} contingués ${o} ${i.minimum.toString()} ${s.unit}`:`Massa petit: s'esperava que ${i.origin} fos ${o} ${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Format invàlid: ha de començar amb "${o.prefix}"`:o.format==="ends_with"?`Format invàlid: ha d'acabar amb "${o.suffix}"`:o.format==="includes"?`Format invàlid: ha d'incloure "${o.includes}"`:o.format==="regex"?`Format invàlid: ha de coincidir amb el patró ${o.pattern}`:`Format invàlid per a ${r[o.format]??i.format}`}case"not_multiple_of":return`Número invàlid: ha de ser múltiple de ${i.divisor}`;case"unrecognized_keys":return`Clau${i.keys.length>1?"s":""} no reconeguda${i.keys.length>1?"s":""}: ${Le(i.keys,", ")}`;case"invalid_key":return`Clau invàlida a ${i.origin}`;case"invalid_union":return"Entrada invàlida";case"invalid_element":return`Element invàlid a ${i.origin}`;default:return"Entrada invàlida"}}};function vke(){return{localeError:yke()}}var bke=()=>{const e={string:{unit:"znaků",verb:"mít"},file:{unit:"bajtů",verb:"mít"},array:{unit:"prvků",verb:"mít"},set:{unit:"prvků",verb:"mít"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"číslo";case"string":return"řetězec";case"boolean":return"boolean";case"bigint":return"bigint";case"function":return"funkce";case"symbol":return"symbol";case"undefined":return"undefined";case"object":{if(Array.isArray(i))return"pole";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"regulární výraz",email:"e-mailová adresa",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"datum a čas ve formátu ISO",date:"datum ve formátu ISO",time:"čas ve formátu ISO",duration:"doba trvání ISO",ipv4:"IPv4 adresa",ipv6:"IPv6 adresa",cidrv4:"rozsah IPv4",cidrv6:"rozsah IPv6",base64:"řetězec zakódovaný ve formátu base64",base64url:"řetězec zakódovaný ve formátu base64url",json_string:"řetězec ve formátu JSON",e164:"číslo E.164",jwt:"JWT",template_literal:"vstup"};return i=>{switch(i.code){case"invalid_type":return`Neplatný vstup: očekáváno ${i.expected}, obdrženo ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Neplatný vstup: očekáváno ${Lt(i.values[0])}`:`Neplatná možnost: očekávána jedna z hodnot ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`Hodnota je příliš velká: ${i.origin??"hodnota"} musí mít ${o}${i.maximum.toString()} ${s.unit??"prvků"}`:`Hodnota je příliš velká: ${i.origin??"hodnota"} musí být ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`Hodnota je příliš malá: ${i.origin??"hodnota"} musí mít ${o}${i.minimum.toString()} ${s.unit??"prvků"}`:`Hodnota je příliš malá: ${i.origin??"hodnota"} musí být ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Neplatný řetězec: musí začínat na "${o.prefix}"`:o.format==="ends_with"?`Neplatný řetězec: musí končit na "${o.suffix}"`:o.format==="includes"?`Neplatný řetězec: musí obsahovat "${o.includes}"`:o.format==="regex"?`Neplatný řetězec: musí odpovídat vzoru ${o.pattern}`:`Neplatný formát ${r[o.format]??i.format}`}case"not_multiple_of":return`Neplatné číslo: musí být násobkem ${i.divisor}`;case"unrecognized_keys":return`Neznámé klíče: ${Le(i.keys,", ")}`;case"invalid_key":return`Neplatný klíč v ${i.origin}`;case"invalid_union":return"Neplatný vstup";case"invalid_element":return`Neplatná hodnota v ${i.origin}`;default:return"Neplatný vstup"}}};function xke(){return{localeError:bke()}}var wke=()=>{const e={string:{unit:"Zeichen",verb:"zu haben"},file:{unit:"Bytes",verb:"zu haben"},array:{unit:"Elemente",verb:"zu haben"},set:{unit:"Elemente",verb:"zu haben"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"Zahl";case"object":{if(Array.isArray(i))return"Array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"Eingabe",email:"E-Mail-Adresse",url:"URL",emoji:"Emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-Datum und -Uhrzeit",date:"ISO-Datum",time:"ISO-Uhrzeit",duration:"ISO-Dauer",ipv4:"IPv4-Adresse",ipv6:"IPv6-Adresse",cidrv4:"IPv4-Bereich",cidrv6:"IPv6-Bereich",base64:"Base64-codierter String",base64url:"Base64-URL-codierter String",json_string:"JSON-String",e164:"E.164-Nummer",jwt:"JWT",template_literal:"Eingabe"};return i=>{switch(i.code){case"invalid_type":return`Ungültige Eingabe: erwartet ${i.expected}, erhalten ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Ungültige Eingabe: erwartet ${Lt(i.values[0])}`:`Ungültige Option: erwartet eine von ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`Zu groß: erwartet, dass ${i.origin??"Wert"} ${o}${i.maximum.toString()} ${s.unit??"Elemente"} hat`:`Zu groß: erwartet, dass ${i.origin??"Wert"} ${o}${i.maximum.toString()} ist`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`Zu klein: erwartet, dass ${i.origin} ${o}${i.minimum.toString()} ${s.unit} hat`:`Zu klein: erwartet, dass ${i.origin} ${o}${i.minimum.toString()} ist`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Ungültiger String: muss mit "${o.prefix}" beginnen`:o.format==="ends_with"?`Ungültiger String: muss mit "${o.suffix}" enden`:o.format==="includes"?`Ungültiger String: muss "${o.includes}" enthalten`:o.format==="regex"?`Ungültiger String: muss dem Muster ${o.pattern} entsprechen`:`Ungültig: ${r[o.format]??i.format}`}case"not_multiple_of":return`Ungültige Zahl: muss ein Vielfaches von ${i.divisor} sein`;case"unrecognized_keys":return`${i.keys.length>1?"Unbekannte Schlüssel":"Unbekannter Schlüssel"}: ${Le(i.keys,", ")}`;case"invalid_key":return`Ungültiger Schlüssel in ${i.origin}`;case"invalid_union":return"Ungültige Eingabe";case"invalid_element":return`Ungültiger Wert in ${i.origin}`;default:return"Ungültige Eingabe"}}};function Ske(){return{localeError:wke()}}var kke=e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},_ke=()=>{const e={string:{unit:"characters",verb:"to have"},file:{unit:"bytes",verb:"to have"},array:{unit:"items",verb:"to have"},set:{unit:"items",verb:"to have"}};function t(r){return e[r]??null}const n={regex:"input",email:"email address",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datetime",date:"ISO date",time:"ISO time",duration:"ISO duration",ipv4:"IPv4 address",ipv6:"IPv6 address",cidrv4:"IPv4 range",cidrv6:"IPv6 range",base64:"base64-encoded string",base64url:"base64url-encoded string",json_string:"JSON string",e164:"E.164 number",jwt:"JWT",template_literal:"input"};return r=>{switch(r.code){case"invalid_type":return`Invalid input: expected ${r.expected}, received ${kke(r.input)}`;case"invalid_value":return r.values.length===1?`Invalid input: expected ${Lt(r.values[0])}`:`Invalid option: expected one of ${Le(r.values,"|")}`;case"too_big":{const i=r.inclusive?"<=":"<",o=t(r.origin);return o?`Too big: expected ${r.origin??"value"} to have ${i}${r.maximum.toString()} ${o.unit??"elements"}`:`Too big: expected ${r.origin??"value"} to be ${i}${r.maximum.toString()}`}case"too_small":{const i=r.inclusive?">=":">",o=t(r.origin);return o?`Too small: expected ${r.origin} to have ${i}${r.minimum.toString()} ${o.unit}`:`Too small: expected ${r.origin} to be ${i}${r.minimum.toString()}`}case"invalid_format":{const i=r;return i.format==="starts_with"?`Invalid string: must start with "${i.prefix}"`:i.format==="ends_with"?`Invalid string: must end with "${i.suffix}"`:i.format==="includes"?`Invalid string: must include "${i.includes}"`:i.format==="regex"?`Invalid string: must match pattern ${i.pattern}`:`Invalid ${n[i.format]??r.format}`}case"not_multiple_of":return`Invalid number: must be a multiple of ${r.divisor}`;case"unrecognized_keys":return`Unrecognized key${r.keys.length>1?"s":""}: ${Le(r.keys,", ")}`;case"invalid_key":return`Invalid key in ${r.origin}`;case"invalid_union":return"Invalid input";case"invalid_element":return`Invalid value in ${r.origin}`;default:return"Invalid input"}}};function Sq(){return{localeError:_ke()}}var Tke=e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"nombro";case"object":{if(Array.isArray(e))return"tabelo";if(e===null)return"senvalora";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},Cke=()=>{const e={string:{unit:"karaktrojn",verb:"havi"},file:{unit:"bajtojn",verb:"havi"},array:{unit:"elementojn",verb:"havi"},set:{unit:"elementojn",verb:"havi"}};function t(r){return e[r]??null}const n={regex:"enigo",email:"retadreso",url:"URL",emoji:"emoĝio",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datotempo",date:"ISO-dato",time:"ISO-tempo",duration:"ISO-daŭro",ipv4:"IPv4-adreso",ipv6:"IPv6-adreso",cidrv4:"IPv4-rango",cidrv6:"IPv6-rango",base64:"64-ume kodita karaktraro",base64url:"URL-64-ume kodita karaktraro",json_string:"JSON-karaktraro",e164:"E.164-nombro",jwt:"JWT",template_literal:"enigo"};return r=>{switch(r.code){case"invalid_type":return`Nevalida enigo: atendiĝis ${r.expected}, riceviĝis ${Tke(r.input)}`;case"invalid_value":return r.values.length===1?`Nevalida enigo: atendiĝis ${Lt(r.values[0])}`:`Nevalida opcio: atendiĝis unu el ${Le(r.values,"|")}`;case"too_big":{const i=r.inclusive?"<=":"<",o=t(r.origin);return o?`Tro granda: atendiĝis ke ${r.origin??"valoro"} havu ${i}${r.maximum.toString()} ${o.unit??"elementojn"}`:`Tro granda: atendiĝis ke ${r.origin??"valoro"} havu ${i}${r.maximum.toString()}`}case"too_small":{const i=r.inclusive?">=":">",o=t(r.origin);return o?`Tro malgranda: atendiĝis ke ${r.origin} havu ${i}${r.minimum.toString()} ${o.unit}`:`Tro malgranda: atendiĝis ke ${r.origin} estu ${i}${r.minimum.toString()}`}case"invalid_format":{const i=r;return i.format==="starts_with"?`Nevalida karaktraro: devas komenciĝi per "${i.prefix}"`:i.format==="ends_with"?`Nevalida karaktraro: devas finiĝi per "${i.suffix}"`:i.format==="includes"?`Nevalida karaktraro: devas inkluzivi "${i.includes}"`:i.format==="regex"?`Nevalida karaktraro: devas kongrui kun la modelo ${i.pattern}`:`Nevalida ${n[i.format]??r.format}`}case"not_multiple_of":return`Nevalida nombro: devas esti oblo de ${r.divisor}`;case"unrecognized_keys":return`Nekonata${r.keys.length>1?"j":""} ŝlosilo${r.keys.length>1?"j":""}: ${Le(r.keys,", ")}`;case"invalid_key":return`Nevalida ŝlosilo en ${r.origin}`;case"invalid_union":return"Nevalida enigo";case"invalid_element":return`Nevalida valoro en ${r.origin}`;default:return"Nevalida enigo"}}};function Eke(){return{localeError:Cke()}}var Ike=()=>{const e={string:{unit:"caracteres",verb:"tener"},file:{unit:"bytes",verb:"tener"},array:{unit:"elementos",verb:"tener"},set:{unit:"elementos",verb:"tener"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"número";case"object":{if(Array.isArray(i))return"arreglo";if(i===null)return"nulo";if(Object.getPrototypeOf(i)!==Object.prototype)return i.constructor.name}}return o},r={regex:"entrada",email:"dirección de correo electrónico",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"fecha y hora ISO",date:"fecha ISO",time:"hora ISO",duration:"duración ISO",ipv4:"dirección IPv4",ipv6:"dirección IPv6",cidrv4:"rango IPv4",cidrv6:"rango IPv6",base64:"cadena codificada en base64",base64url:"URL codificada en base64",json_string:"cadena JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Entrada inválida: se esperaba ${i.expected}, recibido ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Entrada inválida: se esperaba ${Lt(i.values[0])}`:`Opción inválida: se esperaba una de ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`Demasiado grande: se esperaba que ${i.origin??"valor"} tuviera ${o}${i.maximum.toString()} ${s.unit??"elementos"}`:`Demasiado grande: se esperaba que ${i.origin??"valor"} fuera ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`Demasiado pequeño: se esperaba que ${i.origin} tuviera ${o}${i.minimum.toString()} ${s.unit}`:`Demasiado pequeño: se esperaba que ${i.origin} fuera ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Cadena inválida: debe comenzar con "${o.prefix}"`:o.format==="ends_with"?`Cadena inválida: debe terminar en "${o.suffix}"`:o.format==="includes"?`Cadena inválida: debe incluir "${o.includes}"`:o.format==="regex"?`Cadena inválida: debe coincidir con el patrón ${o.pattern}`:`Inválido ${r[o.format]??i.format}`}case"not_multiple_of":return`Número inválido: debe ser múltiplo de ${i.divisor}`;case"unrecognized_keys":return`Llave${i.keys.length>1?"s":""} desconocida${i.keys.length>1?"s":""}: ${Le(i.keys,", ")}`;case"invalid_key":return`Llave inválida en ${i.origin}`;case"invalid_union":return"Entrada inválida";case"invalid_element":return`Valor inválido en ${i.origin}`;default:return"Entrada inválida"}}};function Ake(){return{localeError:Ike()}}var $ke=()=>{const e={string:{unit:"کاراکتر",verb:"داشته باشد"},file:{unit:"بایت",verb:"داشته باشد"},array:{unit:"آیتم",verb:"داشته باشد"},set:{unit:"آیتم",verb:"داشته باشد"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"عدد";case"object":{if(Array.isArray(i))return"آرایه";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"ورودی",email:"آدرس ایمیل",url:"URL",emoji:"ایموجی",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"تاریخ و زمان ایزو",date:"تاریخ ایزو",time:"زمان ایزو",duration:"مدت زمان ایزو",ipv4:"IPv4 آدرس",ipv6:"IPv6 آدرس",cidrv4:"IPv4 دامنه",cidrv6:"IPv6 دامنه",base64:"base64-encoded رشته",base64url:"base64url-encoded رشته",json_string:"JSON رشته",e164:"E.164 عدد",jwt:"JWT",template_literal:"ورودی"};return i=>{switch(i.code){case"invalid_type":return`ورودی نامعتبر: می‌بایست ${i.expected} می‌بود، ${n(i.input)} دریافت شد`;case"invalid_value":return i.values.length===1?`ورودی نامعتبر: می‌بایست ${Lt(i.values[0])} می‌بود`:`گزینه نامعتبر: می‌بایست یکی از ${Le(i.values,"|")} می‌بود`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`خیلی بزرگ: ${i.origin??"مقدار"} باید ${o}${i.maximum.toString()} ${s.unit??"عنصر"} باشد`:`خیلی بزرگ: ${i.origin??"مقدار"} باید ${o}${i.maximum.toString()} باشد`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`خیلی کوچک: ${i.origin} باید ${o}${i.minimum.toString()} ${s.unit} باشد`:`خیلی کوچک: ${i.origin} باید ${o}${i.minimum.toString()} باشد`}case"invalid_format":{const o=i;return o.format==="starts_with"?`رشته نامعتبر: باید با "${o.prefix}" شروع شود`:o.format==="ends_with"?`رشته نامعتبر: باید با "${o.suffix}" تمام شود`:o.format==="includes"?`رشته نامعتبر: باید شامل "${o.includes}" باشد`:o.format==="regex"?`رشته نامعتبر: باید با الگوی ${o.pattern} مطابقت داشته باشد`:`${r[o.format]??i.format} نامعتبر`}case"not_multiple_of":return`عدد نامعتبر: باید مضرب ${i.divisor} باشد`;case"unrecognized_keys":return`کلید${i.keys.length>1?"های":""} ناشناس: ${Le(i.keys,", ")}`;case"invalid_key":return`کلید ناشناس در ${i.origin}`;case"invalid_union":return"ورودی نامعتبر";case"invalid_element":return`مقدار نامعتبر در ${i.origin}`;default:return"ورودی نامعتبر"}}};function Pke(){return{localeError:$ke()}}var Mke=()=>{const e={string:{unit:"merkkiä",subject:"merkkijonon"},file:{unit:"tavua",subject:"tiedoston"},array:{unit:"alkiota",subject:"listan"},set:{unit:"alkiota",subject:"joukon"},number:{unit:"",subject:"luvun"},bigint:{unit:"",subject:"suuren kokonaisluvun"},int:{unit:"",subject:"kokonaisluvun"},date:{unit:"",subject:"päivämäärän"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"säännöllinen lauseke",email:"sähköpostiosoite",url:"URL-osoite",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-aikaleima",date:"ISO-päivämäärä",time:"ISO-aika",duration:"ISO-kesto",ipv4:"IPv4-osoite",ipv6:"IPv6-osoite",cidrv4:"IPv4-alue",cidrv6:"IPv6-alue",base64:"base64-koodattu merkkijono",base64url:"base64url-koodattu merkkijono",json_string:"JSON-merkkijono",e164:"E.164-luku",jwt:"JWT",template_literal:"templaattimerkkijono"};return i=>{switch(i.code){case"invalid_type":return`Virheellinen tyyppi: odotettiin ${i.expected}, oli ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Virheellinen syöte: täytyy olla ${Lt(i.values[0])}`:`Virheellinen valinta: täytyy olla yksi seuraavista: ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`Liian suuri: ${s.subject} täytyy olla ${o}${i.maximum.toString()} ${s.unit}`.trim():`Liian suuri: arvon täytyy olla ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`Liian pieni: ${s.subject} täytyy olla ${o}${i.minimum.toString()} ${s.unit}`.trim():`Liian pieni: arvon täytyy olla ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Virheellinen syöte: täytyy alkaa "${o.prefix}"`:o.format==="ends_with"?`Virheellinen syöte: täytyy loppua "${o.suffix}"`:o.format==="includes"?`Virheellinen syöte: täytyy sisältää "${o.includes}"`:o.format==="regex"?`Virheellinen syöte: täytyy vastata säännöllistä lauseketta ${o.pattern}`:`Virheellinen ${r[o.format]??i.format}`}case"not_multiple_of":return`Virheellinen luku: täytyy olla luvun ${i.divisor} monikerta`;case"unrecognized_keys":return`${i.keys.length>1?"Tuntemattomat avaimet":"Tuntematon avain"}: ${Le(i.keys,", ")}`;case"invalid_key":return"Virheellinen avain tietueessa";case"invalid_union":return"Virheellinen unioni";case"invalid_element":return"Virheellinen arvo joukossa";default:return"Virheellinen syöte"}}};function Oke(){return{localeError:Mke()}}var Nke=()=>{const e={string:{unit:"caractères",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"éléments",verb:"avoir"},set:{unit:"éléments",verb:"avoir"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"nombre";case"object":{if(Array.isArray(i))return"tableau";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"entrée",email:"adresse e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date et heure ISO",date:"date ISO",time:"heure ISO",duration:"durée ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaîne encodée en base64",base64url:"chaîne encodée en base64url",json_string:"chaîne JSON",e164:"numéro E.164",jwt:"JWT",template_literal:"entrée"};return i=>{switch(i.code){case"invalid_type":return`Entrée invalide : ${i.expected} attendu, ${n(i.input)} reçu`;case"invalid_value":return i.values.length===1?`Entrée invalide : ${Lt(i.values[0])} attendu`:`Option invalide : une valeur parmi ${Le(i.values,"|")} attendue`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`Trop grand : ${i.origin??"valeur"} doit ${s.verb} ${o}${i.maximum.toString()} ${s.unit??"élément(s)"}`:`Trop grand : ${i.origin??"valeur"} doit être ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`Trop petit : ${i.origin} doit ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`Trop petit : ${i.origin} doit être ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Chaîne invalide : doit commencer par "${o.prefix}"`:o.format==="ends_with"?`Chaîne invalide : doit se terminer par "${o.suffix}"`:o.format==="includes"?`Chaîne invalide : doit inclure "${o.includes}"`:o.format==="regex"?`Chaîne invalide : doit correspondre au modèle ${o.pattern}`:`${r[o.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit être un multiple de ${i.divisor}`;case"unrecognized_keys":return`Clé${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${Le(i.keys,", ")}`;case"invalid_key":return`Clé invalide dans ${i.origin}`;case"invalid_union":return"Entrée invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entrée invalide"}}};function Rke(){return{localeError:Nke()}}var Dke=()=>{const e={string:{unit:"caractères",verb:"avoir"},file:{unit:"octets",verb:"avoir"},array:{unit:"éléments",verb:"avoir"},set:{unit:"éléments",verb:"avoir"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"entrée",email:"adresse courriel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"date-heure ISO",date:"date ISO",time:"heure ISO",duration:"durée ISO",ipv4:"adresse IPv4",ipv6:"adresse IPv6",cidrv4:"plage IPv4",cidrv6:"plage IPv6",base64:"chaîne encodée en base64",base64url:"chaîne encodée en base64url",json_string:"chaîne JSON",e164:"numéro E.164",jwt:"JWT",template_literal:"entrée"};return i=>{switch(i.code){case"invalid_type":return`Entrée invalide : attendu ${i.expected}, reçu ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Entrée invalide : attendu ${Lt(i.values[0])}`:`Option invalide : attendu l'une des valeurs suivantes ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"≤":"<",s=t(i.origin);return s?`Trop grand : attendu que ${i.origin??"la valeur"} ait ${o}${i.maximum.toString()} ${s.unit}`:`Trop grand : attendu que ${i.origin??"la valeur"} soit ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?"≥":">",s=t(i.origin);return s?`Trop petit : attendu que ${i.origin} ait ${o}${i.minimum.toString()} ${s.unit}`:`Trop petit : attendu que ${i.origin} soit ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Chaîne invalide : doit commencer par "${o.prefix}"`:o.format==="ends_with"?`Chaîne invalide : doit se terminer par "${o.suffix}"`:o.format==="includes"?`Chaîne invalide : doit inclure "${o.includes}"`:o.format==="regex"?`Chaîne invalide : doit correspondre au motif ${o.pattern}`:`${r[o.format]??i.format} invalide`}case"not_multiple_of":return`Nombre invalide : doit être un multiple de ${i.divisor}`;case"unrecognized_keys":return`Clé${i.keys.length>1?"s":""} non reconnue${i.keys.length>1?"s":""} : ${Le(i.keys,", ")}`;case"invalid_key":return`Clé invalide dans ${i.origin}`;case"invalid_union":return"Entrée invalide";case"invalid_element":return`Valeur invalide dans ${i.origin}`;default:return"Entrée invalide"}}};function jke(){return{localeError:Dke()}}var Lke=()=>{const e={string:{unit:"אותיות",verb:"לכלול"},file:{unit:"בייטים",verb:"לכלול"},array:{unit:"פריטים",verb:"לכלול"},set:{unit:"פריטים",verb:"לכלול"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"קלט",email:"כתובת אימייל",url:"כתובת רשת",emoji:"אימוג'י",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"תאריך וזמן ISO",date:"תאריך ISO",time:"זמן ISO",duration:"משך זמן ISO",ipv4:"כתובת IPv4",ipv6:"כתובת IPv6",cidrv4:"טווח IPv4",cidrv6:"טווח IPv6",base64:"מחרוזת בבסיס 64",base64url:"מחרוזת בבסיס 64 לכתובות רשת",json_string:"מחרוזת JSON",e164:"מספר E.164",jwt:"JWT",template_literal:"קלט"};return i=>{switch(i.code){case"invalid_type":return`קלט לא תקין: צריך ${i.expected}, התקבל ${n(i.input)}`;case"invalid_value":return i.values.length===1?`קלט לא תקין: צריך ${Lt(i.values[0])}`:`קלט לא תקין: צריך אחת מהאפשרויות  ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`גדול מדי: ${i.origin??"value"} צריך להיות ${o}${i.maximum.toString()} ${s.unit??"elements"}`:`גדול מדי: ${i.origin??"value"} צריך להיות ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`קטן מדי: ${i.origin} צריך להיות ${o}${i.minimum.toString()} ${s.unit}`:`קטן מדי: ${i.origin} צריך להיות ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`מחרוזת לא תקינה: חייבת להתחיל ב"${o.prefix}"`:o.format==="ends_with"?`מחרוזת לא תקינה: חייבת להסתיים ב "${o.suffix}"`:o.format==="includes"?`מחרוזת לא תקינה: חייבת לכלול "${o.includes}"`:o.format==="regex"?`מחרוזת לא תקינה: חייבת להתאים לתבנית ${o.pattern}`:`${r[o.format]??i.format} לא תקין`}case"not_multiple_of":return`מספר לא תקין: חייב להיות מכפלה של ${i.divisor}`;case"unrecognized_keys":return`מפתח${i.keys.length>1?"ות":""} לא מזוה${i.keys.length>1?"ים":"ה"}: ${Le(i.keys,", ")}`;case"invalid_key":return`מפתח לא תקין ב${i.origin}`;case"invalid_union":return"קלט לא תקין";case"invalid_element":return`ערך לא תקין ב${i.origin}`;default:return"קלט לא תקין"}}};function zke(){return{localeError:Lke()}}var Fke=()=>{const e={string:{unit:"karakter",verb:"legyen"},file:{unit:"byte",verb:"legyen"},array:{unit:"elem",verb:"legyen"},set:{unit:"elem",verb:"legyen"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"szám";case"object":{if(Array.isArray(i))return"tömb";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"bemenet",email:"email cím",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO időbélyeg",date:"ISO dátum",time:"ISO idő",duration:"ISO időintervallum",ipv4:"IPv4 cím",ipv6:"IPv6 cím",cidrv4:"IPv4 tartomány",cidrv6:"IPv6 tartomány",base64:"base64-kódolt string",base64url:"base64url-kódolt string",json_string:"JSON string",e164:"E.164 szám",jwt:"JWT",template_literal:"bemenet"};return i=>{switch(i.code){case"invalid_type":return`Érvénytelen bemenet: a várt érték ${i.expected}, a kapott érték ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Érvénytelen bemenet: a várt érték ${Lt(i.values[0])}`:`Érvénytelen opció: valamelyik érték várt ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`Túl nagy: ${i.origin??"érték"} mérete túl nagy ${o}${i.maximum.toString()} ${s.unit??"elem"}`:`Túl nagy: a bemeneti érték ${i.origin??"érték"} túl nagy: ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`Túl kicsi: a bemeneti érték ${i.origin} mérete túl kicsi ${o}${i.minimum.toString()} ${s.unit}`:`Túl kicsi: a bemeneti érték ${i.origin} túl kicsi ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Érvénytelen string: "${o.prefix}" értékkel kell kezdődnie`:o.format==="ends_with"?`Érvénytelen string: "${o.suffix}" értékkel kell végződnie`:o.format==="includes"?`Érvénytelen string: "${o.includes}" értéket kell tartalmaznia`:o.format==="regex"?`Érvénytelen string: ${o.pattern} mintának kell megfelelnie`:`Érvénytelen ${r[o.format]??i.format}`}case"not_multiple_of":return`Érvénytelen szám: ${i.divisor} többszörösének kell lennie`;case"unrecognized_keys":return`Ismeretlen kulcs${i.keys.length>1?"s":""}: ${Le(i.keys,", ")}`;case"invalid_key":return`Érvénytelen kulcs ${i.origin}`;case"invalid_union":return"Érvénytelen bemenet";case"invalid_element":return`Érvénytelen érték: ${i.origin}`;default:return"Érvénytelen bemenet"}}};function Vke(){return{localeError:Fke()}}var Bke=()=>{const e={string:{unit:"karakter",verb:"memiliki"},file:{unit:"byte",verb:"memiliki"},array:{unit:"item",verb:"memiliki"},set:{unit:"item",verb:"memiliki"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"input",email:"alamat email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tanggal dan waktu format ISO",date:"tanggal format ISO",time:"jam format ISO",duration:"durasi format ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"rentang alamat IPv4",cidrv6:"rentang alamat IPv6",base64:"string dengan enkode base64",base64url:"string dengan enkode base64url",json_string:"string JSON",e164:"angka E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input tidak valid: diharapkan ${i.expected}, diterima ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Input tidak valid: diharapkan ${Lt(i.values[0])}`:`Pilihan tidak valid: diharapkan salah satu dari ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`Terlalu besar: diharapkan ${i.origin??"value"} memiliki ${o}${i.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: diharapkan ${i.origin??"value"} menjadi ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`Terlalu kecil: diharapkan ${i.origin} memiliki ${o}${i.minimum.toString()} ${s.unit}`:`Terlalu kecil: diharapkan ${i.origin} menjadi ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`String tidak valid: harus dimulai dengan "${o.prefix}"`:o.format==="ends_with"?`String tidak valid: harus berakhir dengan "${o.suffix}"`:o.format==="includes"?`String tidak valid: harus menyertakan "${o.includes}"`:o.format==="regex"?`String tidak valid: harus sesuai pola ${o.pattern}`:`${r[o.format]??i.format} tidak valid`}case"not_multiple_of":return`Angka tidak valid: harus kelipatan dari ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali ${i.keys.length>1?"s":""}: ${Le(i.keys,", ")}`;case"invalid_key":return`Kunci tidak valid di ${i.origin}`;case"invalid_union":return"Input tidak valid";case"invalid_element":return`Nilai tidak valid di ${i.origin}`;default:return"Input tidak valid"}}};function Uke(){return{localeError:Bke()}}var Zke=()=>{const e={string:{unit:"caratteri",verb:"avere"},file:{unit:"byte",verb:"avere"},array:{unit:"elementi",verb:"avere"},set:{unit:"elementi",verb:"avere"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"numero";case"object":{if(Array.isArray(i))return"vettore";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"input",email:"indirizzo email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e ora ISO",date:"data ISO",time:"ora ISO",duration:"durata ISO",ipv4:"indirizzo IPv4",ipv6:"indirizzo IPv6",cidrv4:"intervallo IPv4",cidrv6:"intervallo IPv6",base64:"stringa codificata in base64",base64url:"URL codificata in base64",json_string:"stringa JSON",e164:"numero E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input non valido: atteso ${i.expected}, ricevuto ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Input non valido: atteso ${Lt(i.values[0])}`:`Opzione non valida: atteso uno tra ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`Troppo grande: ${i.origin??"valore"} deve avere ${o}${i.maximum.toString()} ${s.unit??"elementi"}`:`Troppo grande: ${i.origin??"valore"} deve essere ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`Troppo piccolo: ${i.origin} deve avere ${o}${i.minimum.toString()} ${s.unit}`:`Troppo piccolo: ${i.origin} deve essere ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Stringa non valida: deve iniziare con "${o.prefix}"`:o.format==="ends_with"?`Stringa non valida: deve terminare con "${o.suffix}"`:o.format==="includes"?`Stringa non valida: deve includere "${o.includes}"`:o.format==="regex"?`Stringa non valida: deve corrispondere al pattern ${o.pattern}`:`Invalid ${r[o.format]??i.format}`}case"not_multiple_of":return`Numero non valido: deve essere un multiplo di ${i.divisor}`;case"unrecognized_keys":return`Chiav${i.keys.length>1?"i":"e"} non riconosciut${i.keys.length>1?"e":"a"}: ${Le(i.keys,", ")}`;case"invalid_key":return`Chiave non valida in ${i.origin}`;case"invalid_union":return"Input non valido";case"invalid_element":return`Valore non valido in ${i.origin}`;default:return"Input non valido"}}};function Wke(){return{localeError:Zke()}}var Hke=()=>{const e={string:{unit:"文字",verb:"である"},file:{unit:"バイト",verb:"である"},array:{unit:"要素",verb:"である"},set:{unit:"要素",verb:"である"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"数値";case"object":{if(Array.isArray(i))return"配列";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"入力値",email:"メールアドレス",url:"URL",emoji:"絵文字",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日時",date:"ISO日付",time:"ISO時刻",duration:"ISO期間",ipv4:"IPv4アドレス",ipv6:"IPv6アドレス",cidrv4:"IPv4範囲",cidrv6:"IPv6範囲",base64:"base64エンコード文字列",base64url:"base64urlエンコード文字列",json_string:"JSON文字列",e164:"E.164番号",jwt:"JWT",template_literal:"入力値"};return i=>{switch(i.code){case"invalid_type":return`無効な入力: ${i.expected}が期待されましたが、${n(i.input)}が入力されました`;case"invalid_value":return i.values.length===1?`無効な入力: ${Lt(i.values[0])}が期待されました`:`無効な選択: ${Le(i.values,"、")}のいずれかである必要があります`;case"too_big":{const o=i.inclusive?"以下である":"より小さい",s=t(i.origin);return s?`大きすぎる値: ${i.origin??"値"}は${i.maximum.toString()}${s.unit??"要素"}${o}必要があります`:`大きすぎる値: ${i.origin??"値"}は${i.maximum.toString()}${o}必要があります`}case"too_small":{const o=i.inclusive?"以上である":"より大きい",s=t(i.origin);return s?`小さすぎる値: ${i.origin}は${i.minimum.toString()}${s.unit}${o}必要があります`:`小さすぎる値: ${i.origin}は${i.minimum.toString()}${o}必要があります`}case"invalid_format":{const o=i;return o.format==="starts_with"?`無効な文字列: "${o.prefix}"で始まる必要があります`:o.format==="ends_with"?`無効な文字列: "${o.suffix}"で終わる必要があります`:o.format==="includes"?`無効な文字列: "${o.includes}"を含む必要があります`:o.format==="regex"?`無効な文字列: パターン${o.pattern}に一致する必要があります`:`無効な${r[o.format]??i.format}`}case"not_multiple_of":return`無効な数値: ${i.divisor}の倍数である必要があります`;case"unrecognized_keys":return`認識されていないキー${i.keys.length>1?"群":""}: ${Le(i.keys,"、")}`;case"invalid_key":return`${i.origin}内の無効なキー`;case"invalid_union":return"無効な入力";case"invalid_element":return`${i.origin}内の無効な値`;default:return"無効な入力"}}};function qke(){return{localeError:Hke()}}var Jke=()=>{const e={string:{unit:"តួអក្សរ",verb:"គួរមាន"},file:{unit:"បៃ",verb:"គួរមាន"},array:{unit:"ធាតុ",verb:"គួរមាន"},set:{unit:"ធាតុ",verb:"គួរមាន"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"មិនមែនជាលេខ (NaN)":"លេខ";case"object":{if(Array.isArray(i))return"អារេ (Array)";if(i===null)return"គ្មានតម្លៃ (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"ទិន្នន័យបញ្ចូល",email:"អាសយដ្ឋានអ៊ីមែល",url:"URL",emoji:"សញ្ញាអារម្មណ៍",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"កាលបរិច្ឆេទ និងម៉ោង ISO",date:"កាលបរិច្ឆេទ ISO",time:"ម៉ោង ISO",duration:"រយៈពេល ISO",ipv4:"អាសយដ្ឋាន IPv4",ipv6:"អាសយដ្ឋាន IPv6",cidrv4:"ដែនអាសយដ្ឋាន IPv4",cidrv6:"ដែនអាសយដ្ឋាន IPv6",base64:"ខ្សែអក្សរអ៊ិកូដ base64",base64url:"ខ្សែអក្សរអ៊ិកូដ base64url",json_string:"ខ្សែអក្សរ JSON",e164:"លេខ E.164",jwt:"JWT",template_literal:"ទិន្នន័យបញ្ចូល"};return i=>{switch(i.code){case"invalid_type":return`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${i.expected} ប៉ុន្តែទទួលបាន ${n(i.input)}`;case"invalid_value":return i.values.length===1?`ទិន្នន័យបញ្ចូលមិនត្រឹមត្រូវ៖ ត្រូវការ ${Lt(i.values[0])}`:`ជម្រើសមិនត្រឹមត្រូវ៖ ត្រូវជាមួយក្នុងចំណោម ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`ធំពេក៖ ត្រូវការ ${i.origin??"តម្លៃ"} ${o} ${i.maximum.toString()} ${s.unit??"ធាតុ"}`:`ធំពេក៖ ត្រូវការ ${i.origin??"តម្លៃ"} ${o} ${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`តូចពេក៖ ត្រូវការ ${i.origin} ${o} ${i.minimum.toString()} ${s.unit}`:`តូចពេក៖ ត្រូវការ ${i.origin} ${o} ${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវចាប់ផ្តើមដោយ "${o.prefix}"`:o.format==="ends_with"?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវបញ្ចប់ដោយ "${o.suffix}"`:o.format==="includes"?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវមាន "${o.includes}"`:o.format==="regex"?`ខ្សែអក្សរមិនត្រឹមត្រូវ៖ ត្រូវតែផ្គូផ្គងនឹងទម្រង់ដែលបានកំណត់ ${o.pattern}`:`មិនត្រឹមត្រូវ៖ ${r[o.format]??i.format}`}case"not_multiple_of":return`លេខមិនត្រឹមត្រូវ៖ ត្រូវតែជាពហុគុណនៃ ${i.divisor}`;case"unrecognized_keys":return`រកឃើញសោមិនស្គាល់៖ ${Le(i.keys,", ")}`;case"invalid_key":return`សោមិនត្រឹមត្រូវនៅក្នុង ${i.origin}`;case"invalid_union":return"ទិន្នន័យមិនត្រឹមត្រូវ";case"invalid_element":return`ទិន្នន័យមិនត្រឹមត្រូវនៅក្នុង ${i.origin}`;default:return"ទិន្នន័យមិនត្រឹមត្រូវ"}}};function Kke(){return{localeError:Jke()}}var Gke=()=>{const e={string:{unit:"문자",verb:"to have"},file:{unit:"바이트",verb:"to have"},array:{unit:"개",verb:"to have"},set:{unit:"개",verb:"to have"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"입력",email:"이메일 주소",url:"URL",emoji:"이모지",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 날짜시간",date:"ISO 날짜",time:"ISO 시간",duration:"ISO 기간",ipv4:"IPv4 주소",ipv6:"IPv6 주소",cidrv4:"IPv4 범위",cidrv6:"IPv6 범위",base64:"base64 인코딩 문자열",base64url:"base64url 인코딩 문자열",json_string:"JSON 문자열",e164:"E.164 번호",jwt:"JWT",template_literal:"입력"};return i=>{switch(i.code){case"invalid_type":return`잘못된 입력: 예상 타입은 ${i.expected}, 받은 타입은 ${n(i.input)}입니다`;case"invalid_value":return i.values.length===1?`잘못된 입력: 값은 ${Lt(i.values[0])} 이어야 합니다`:`잘못된 옵션: ${Le(i.values,"또는 ")} 중 하나여야 합니다`;case"too_big":{const o=i.inclusive?"이하":"미만",s=o==="미만"?"이어야 합니다":"여야 합니다",a=t(i.origin),l=a?.unit??"요소";return a?`${i.origin??"값"}이 너무 큽니다: ${i.maximum.toString()}${l} ${o}${s}`:`${i.origin??"값"}이 너무 큽니다: ${i.maximum.toString()} ${o}${s}`}case"too_small":{const o=i.inclusive?"이상":"초과",s=o==="이상"?"이어야 합니다":"여야 합니다",a=t(i.origin),l=a?.unit??"요소";return a?`${i.origin??"값"}이 너무 작습니다: ${i.minimum.toString()}${l} ${o}${s}`:`${i.origin??"값"}이 너무 작습니다: ${i.minimum.toString()} ${o}${s}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`잘못된 문자열: "${o.prefix}"(으)로 시작해야 합니다`:o.format==="ends_with"?`잘못된 문자열: "${o.suffix}"(으)로 끝나야 합니다`:o.format==="includes"?`잘못된 문자열: "${o.includes}"을(를) 포함해야 합니다`:o.format==="regex"?`잘못된 문자열: 정규식 ${o.pattern} 패턴과 일치해야 합니다`:`잘못된 ${r[o.format]??i.format}`}case"not_multiple_of":return`잘못된 숫자: ${i.divisor}의 배수여야 합니다`;case"unrecognized_keys":return`인식할 수 없는 키: ${Le(i.keys,", ")}`;case"invalid_key":return`잘못된 키: ${i.origin}`;case"invalid_union":return"잘못된 입력";case"invalid_element":return`잘못된 값: ${i.origin}`;default:return"잘못된 입력"}}};function Yke(){return{localeError:Gke()}}var Xke=()=>{const e={string:{unit:"знаци",verb:"да имаат"},file:{unit:"бајти",verb:"да имаат"},array:{unit:"ставки",verb:"да имаат"},set:{unit:"ставки",verb:"да имаат"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"број";case"object":{if(Array.isArray(i))return"низа";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"внес",email:"адреса на е-пошта",url:"URL",emoji:"емоџи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO датум и време",date:"ISO датум",time:"ISO време",duration:"ISO времетраење",ipv4:"IPv4 адреса",ipv6:"IPv6 адреса",cidrv4:"IPv4 опсег",cidrv6:"IPv6 опсег",base64:"base64-енкодирана низа",base64url:"base64url-енкодирана низа",json_string:"JSON низа",e164:"E.164 број",jwt:"JWT",template_literal:"внес"};return i=>{switch(i.code){case"invalid_type":return`Грешен внес: се очекува ${i.expected}, примено ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Invalid input: expected ${Lt(i.values[0])}`:`Грешана опција: се очекува една ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`Премногу голем: се очекува ${i.origin??"вредноста"} да има ${o}${i.maximum.toString()} ${s.unit??"елементи"}`:`Премногу голем: се очекува ${i.origin??"вредноста"} да биде ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`Премногу мал: се очекува ${i.origin} да има ${o}${i.minimum.toString()} ${s.unit}`:`Премногу мал: се очекува ${i.origin} да биде ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Неважечка низа: мора да започнува со "${o.prefix}"`:o.format==="ends_with"?`Неважечка низа: мора да завршува со "${o.suffix}"`:o.format==="includes"?`Неважечка низа: мора да вклучува "${o.includes}"`:o.format==="regex"?`Неважечка низа: мора да одгоара на патернот ${o.pattern}`:`Invalid ${r[o.format]??i.format}`}case"not_multiple_of":return`Грешен број: мора да биде делив со ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Непрепознаени клучеви":"Непрепознаен клуч"}: ${Le(i.keys,", ")}`;case"invalid_key":return`Грешен клуч во ${i.origin}`;case"invalid_union":return"Грешен внес";case"invalid_element":return`Грешна вредност во ${i.origin}`;default:return"Грешен внес"}}};function Qke(){return{localeError:Xke()}}var e_e=()=>{const e={string:{unit:"aksara",verb:"mempunyai"},file:{unit:"bait",verb:"mempunyai"},array:{unit:"elemen",verb:"mempunyai"},set:{unit:"elemen",verb:"mempunyai"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"nombor";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"input",email:"alamat e-mel",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"tarikh masa ISO",date:"tarikh ISO",time:"masa ISO",duration:"tempoh ISO",ipv4:"alamat IPv4",ipv6:"alamat IPv6",cidrv4:"julat IPv4",cidrv6:"julat IPv6",base64:"string dikodkan base64",base64url:"string dikodkan base64url",json_string:"string JSON",e164:"nombor E.164",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Input tidak sah: dijangka ${i.expected}, diterima ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Input tidak sah: dijangka ${Lt(i.values[0])}`:`Pilihan tidak sah: dijangka salah satu daripada ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`Terlalu besar: dijangka ${i.origin??"nilai"} ${s.verb} ${o}${i.maximum.toString()} ${s.unit??"elemen"}`:`Terlalu besar: dijangka ${i.origin??"nilai"} adalah ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`Terlalu kecil: dijangka ${i.origin} ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`Terlalu kecil: dijangka ${i.origin} adalah ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`String tidak sah: mesti bermula dengan "${o.prefix}"`:o.format==="ends_with"?`String tidak sah: mesti berakhir dengan "${o.suffix}"`:o.format==="includes"?`String tidak sah: mesti mengandungi "${o.includes}"`:o.format==="regex"?`String tidak sah: mesti sepadan dengan corak ${o.pattern}`:`${r[o.format]??i.format} tidak sah`}case"not_multiple_of":return`Nombor tidak sah: perlu gandaan ${i.divisor}`;case"unrecognized_keys":return`Kunci tidak dikenali: ${Le(i.keys,", ")}`;case"invalid_key":return`Kunci tidak sah dalam ${i.origin}`;case"invalid_union":return"Input tidak sah";case"invalid_element":return`Nilai tidak sah dalam ${i.origin}`;default:return"Input tidak sah"}}};function t_e(){return{localeError:e_e()}}var n_e=()=>{const e={string:{unit:"tekens"},file:{unit:"bytes"},array:{unit:"elementen"},set:{unit:"elementen"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"getal";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"invoer",email:"emailadres",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum en tijd",date:"ISO datum",time:"ISO tijd",duration:"ISO duur",ipv4:"IPv4-adres",ipv6:"IPv6-adres",cidrv4:"IPv4-bereik",cidrv6:"IPv6-bereik",base64:"base64-gecodeerde tekst",base64url:"base64 URL-gecodeerde tekst",json_string:"JSON string",e164:"E.164-nummer",jwt:"JWT",template_literal:"invoer"};return i=>{switch(i.code){case"invalid_type":return`Ongeldige invoer: verwacht ${i.expected}, ontving ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Ongeldige invoer: verwacht ${Lt(i.values[0])}`:`Ongeldige optie: verwacht één van ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`Te lang: verwacht dat ${i.origin??"waarde"} ${o}${i.maximum.toString()} ${s.unit??"elementen"} bevat`:`Te lang: verwacht dat ${i.origin??"waarde"} ${o}${i.maximum.toString()} is`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`Te kort: verwacht dat ${i.origin} ${o}${i.minimum.toString()} ${s.unit} bevat`:`Te kort: verwacht dat ${i.origin} ${o}${i.minimum.toString()} is`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Ongeldige tekst: moet met "${o.prefix}" beginnen`:o.format==="ends_with"?`Ongeldige tekst: moet op "${o.suffix}" eindigen`:o.format==="includes"?`Ongeldige tekst: moet "${o.includes}" bevatten`:o.format==="regex"?`Ongeldige tekst: moet overeenkomen met patroon ${o.pattern}`:`Ongeldig: ${r[o.format]??i.format}`}case"not_multiple_of":return`Ongeldig getal: moet een veelvoud van ${i.divisor} zijn`;case"unrecognized_keys":return`Onbekende key${i.keys.length>1?"s":""}: ${Le(i.keys,", ")}`;case"invalid_key":return`Ongeldige key in ${i.origin}`;case"invalid_union":return"Ongeldige invoer";case"invalid_element":return`Ongeldige waarde in ${i.origin}`;default:return"Ongeldige invoer"}}};function r_e(){return{localeError:n_e()}}var i_e=()=>{const e={string:{unit:"tegn",verb:"å ha"},file:{unit:"bytes",verb:"å ha"},array:{unit:"elementer",verb:"å inneholde"},set:{unit:"elementer",verb:"å inneholde"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"tall";case"object":{if(Array.isArray(i))return"liste";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"input",email:"e-postadresse",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO dato- og klokkeslett",date:"ISO-dato",time:"ISO-klokkeslett",duration:"ISO-varighet",ipv4:"IPv4-område",ipv6:"IPv6-område",cidrv4:"IPv4-spekter",cidrv6:"IPv6-spekter",base64:"base64-enkodet streng",base64url:"base64url-enkodet streng",json_string:"JSON-streng",e164:"E.164-nummer",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`Ugyldig input: forventet ${i.expected}, fikk ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Ugyldig verdi: forventet ${Lt(i.values[0])}`:`Ugyldig valg: forventet en av ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`For stor(t): forventet ${i.origin??"value"} til å ha ${o}${i.maximum.toString()} ${s.unit??"elementer"}`:`For stor(t): forventet ${i.origin??"value"} til å ha ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`For lite(n): forventet ${i.origin} til å ha ${o}${i.minimum.toString()} ${s.unit}`:`For lite(n): forventet ${i.origin} til å ha ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Ugyldig streng: må starte med "${o.prefix}"`:o.format==="ends_with"?`Ugyldig streng: må ende med "${o.suffix}"`:o.format==="includes"?`Ugyldig streng: må inneholde "${o.includes}"`:o.format==="regex"?`Ugyldig streng: må matche mønsteret ${o.pattern}`:`Ugyldig ${r[o.format]??i.format}`}case"not_multiple_of":return`Ugyldig tall: må være et multiplum av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Ukjente nøkler":"Ukjent nøkkel"}: ${Le(i.keys,", ")}`;case"invalid_key":return`Ugyldig nøkkel i ${i.origin}`;case"invalid_union":return"Ugyldig input";case"invalid_element":return`Ugyldig verdi i ${i.origin}`;default:return"Ugyldig input"}}};function o_e(){return{localeError:i_e()}}var s_e=()=>{const e={string:{unit:"harf",verb:"olmalıdır"},file:{unit:"bayt",verb:"olmalıdır"},array:{unit:"unsur",verb:"olmalıdır"},set:{unit:"unsur",verb:"olmalıdır"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"numara";case"object":{if(Array.isArray(i))return"saf";if(i===null)return"gayb";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"giren",email:"epostagâh",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO hengâmı",date:"ISO tarihi",time:"ISO zamanı",duration:"ISO müddeti",ipv4:"IPv4 nişânı",ipv6:"IPv6 nişânı",cidrv4:"IPv4 menzili",cidrv6:"IPv6 menzili",base64:"base64-şifreli metin",base64url:"base64url-şifreli metin",json_string:"JSON metin",e164:"E.164 sayısı",jwt:"JWT",template_literal:"giren"};return i=>{switch(i.code){case"invalid_type":return`Fâsit giren: umulan ${i.expected}, alınan ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Fâsit giren: umulan ${Lt(i.values[0])}`:`Fâsit tercih: mûteberler ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`Fazla büyük: ${i.origin??"value"}, ${o}${i.maximum.toString()} ${s.unit??"elements"} sahip olmalıydı.`:`Fazla büyük: ${i.origin??"value"}, ${o}${i.maximum.toString()} olmalıydı.`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`Fazla küçük: ${i.origin}, ${o}${i.minimum.toString()} ${s.unit} sahip olmalıydı.`:`Fazla küçük: ${i.origin}, ${o}${i.minimum.toString()} olmalıydı.`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Fâsit metin: "${o.prefix}" ile başlamalı.`:o.format==="ends_with"?`Fâsit metin: "${o.suffix}" ile bitmeli.`:o.format==="includes"?`Fâsit metin: "${o.includes}" ihtivâ etmeli.`:o.format==="regex"?`Fâsit metin: ${o.pattern} nakşına uymalı.`:`Fâsit ${r[o.format]??i.format}`}case"not_multiple_of":return`Fâsit sayı: ${i.divisor} katı olmalıydı.`;case"unrecognized_keys":return`Tanınmayan anahtar ${i.keys.length>1?"s":""}: ${Le(i.keys,", ")}`;case"invalid_key":return`${i.origin} için tanınmayan anahtar var.`;case"invalid_union":return"Giren tanınamadı.";case"invalid_element":return`${i.origin} için tanınmayan kıymet var.`;default:return"Kıymet tanınamadı."}}};function a_e(){return{localeError:s_e()}}var l_e=()=>{const e={string:{unit:"توکي",verb:"ولري"},file:{unit:"بایټس",verb:"ولري"},array:{unit:"توکي",verb:"ولري"},set:{unit:"توکي",verb:"ولري"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"عدد";case"object":{if(Array.isArray(i))return"ارې";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"ورودي",email:"بریښنالیک",url:"یو آر ال",emoji:"ایموجي",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"نیټه او وخت",date:"نېټه",time:"وخت",duration:"موده",ipv4:"د IPv4 پته",ipv6:"د IPv6 پته",cidrv4:"د IPv4 ساحه",cidrv6:"د IPv6 ساحه",base64:"base64-encoded متن",base64url:"base64url-encoded متن",json_string:"JSON متن",e164:"د E.164 شمېره",jwt:"JWT",template_literal:"ورودي"};return i=>{switch(i.code){case"invalid_type":return`ناسم ورودي: باید ${i.expected} وای, مګر ${n(i.input)} ترلاسه شو`;case"invalid_value":return i.values.length===1?`ناسم ورودي: باید ${Lt(i.values[0])} وای`:`ناسم انتخاب: باید یو له ${Le(i.values,"|")} څخه وای`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`ډیر لوی: ${i.origin??"ارزښت"} باید ${o}${i.maximum.toString()} ${s.unit??"عنصرونه"} ولري`:`ډیر لوی: ${i.origin??"ارزښت"} باید ${o}${i.maximum.toString()} وي`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`ډیر کوچنی: ${i.origin} باید ${o}${i.minimum.toString()} ${s.unit} ولري`:`ډیر کوچنی: ${i.origin} باید ${o}${i.minimum.toString()} وي`}case"invalid_format":{const o=i;return o.format==="starts_with"?`ناسم متن: باید د "${o.prefix}" سره پیل شي`:o.format==="ends_with"?`ناسم متن: باید د "${o.suffix}" سره پای ته ورسيږي`:o.format==="includes"?`ناسم متن: باید "${o.includes}" ولري`:o.format==="regex"?`ناسم متن: باید د ${o.pattern} سره مطابقت ولري`:`${r[o.format]??i.format} ناسم دی`}case"not_multiple_of":return`ناسم عدد: باید د ${i.divisor} مضرب وي`;case"unrecognized_keys":return`ناسم ${i.keys.length>1?"کلیډونه":"کلیډ"}: ${Le(i.keys,", ")}`;case"invalid_key":return`ناسم کلیډ په ${i.origin} کې`;case"invalid_union":return"ناسمه ورودي";case"invalid_element":return`ناسم عنصر په ${i.origin} کې`;default:return"ناسمه ورودي"}}};function u_e(){return{localeError:l_e()}}var c_e=()=>{const e={string:{unit:"znaków",verb:"mieć"},file:{unit:"bajtów",verb:"mieć"},array:{unit:"elementów",verb:"mieć"},set:{unit:"elementów",verb:"mieć"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"liczba";case"object":{if(Array.isArray(i))return"tablica";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"wyrażenie",email:"adres email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data i godzina w formacie ISO",date:"data w formacie ISO",time:"godzina w formacie ISO",duration:"czas trwania ISO",ipv4:"adres IPv4",ipv6:"adres IPv6",cidrv4:"zakres IPv4",cidrv6:"zakres IPv6",base64:"ciąg znaków zakodowany w formacie base64",base64url:"ciąg znaków zakodowany w formacie base64url",json_string:"ciąg znaków w formacie JSON",e164:"liczba E.164",jwt:"JWT",template_literal:"wejście"};return i=>{switch(i.code){case"invalid_type":return`Nieprawidłowe dane wejściowe: oczekiwano ${i.expected}, otrzymano ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Nieprawidłowe dane wejściowe: oczekiwano ${Lt(i.values[0])}`:`Nieprawidłowa opcja: oczekiwano jednej z wartości ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`Za duża wartość: oczekiwano, że ${i.origin??"wartość"} będzie mieć ${o}${i.maximum.toString()} ${s.unit??"elementów"}`:`Zbyt duż(y/a/e): oczekiwano, że ${i.origin??"wartość"} będzie wynosić ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`Za mała wartość: oczekiwano, że ${i.origin??"wartość"} będzie mieć ${o}${i.minimum.toString()} ${s.unit??"elementów"}`:`Zbyt mał(y/a/e): oczekiwano, że ${i.origin??"wartość"} będzie wynosić ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Nieprawidłowy ciąg znaków: musi zaczynać się od "${o.prefix}"`:o.format==="ends_with"?`Nieprawidłowy ciąg znaków: musi kończyć się na "${o.suffix}"`:o.format==="includes"?`Nieprawidłowy ciąg znaków: musi zawierać "${o.includes}"`:o.format==="regex"?`Nieprawidłowy ciąg znaków: musi odpowiadać wzorcowi ${o.pattern}`:`Nieprawidłow(y/a/e) ${r[o.format]??i.format}`}case"not_multiple_of":return`Nieprawidłowa liczba: musi być wielokrotnością ${i.divisor}`;case"unrecognized_keys":return`Nierozpoznane klucze${i.keys.length>1?"s":""}: ${Le(i.keys,", ")}`;case"invalid_key":return`Nieprawidłowy klucz w ${i.origin}`;case"invalid_union":return"Nieprawidłowe dane wejściowe";case"invalid_element":return`Nieprawidłowa wartość w ${i.origin}`;default:return"Nieprawidłowe dane wejściowe"}}};function d_e(){return{localeError:c_e()}}var f_e=()=>{const e={string:{unit:"caracteres",verb:"ter"},file:{unit:"bytes",verb:"ter"},array:{unit:"itens",verb:"ter"},set:{unit:"itens",verb:"ter"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"número";case"object":{if(Array.isArray(i))return"array";if(i===null)return"nulo";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"padrão",email:"endereço de e-mail",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"data e hora ISO",date:"data ISO",time:"hora ISO",duration:"duração ISO",ipv4:"endereço IPv4",ipv6:"endereço IPv6",cidrv4:"faixa de IPv4",cidrv6:"faixa de IPv6",base64:"texto codificado em base64",base64url:"URL codificada em base64",json_string:"texto JSON",e164:"número E.164",jwt:"JWT",template_literal:"entrada"};return i=>{switch(i.code){case"invalid_type":return`Tipo inválido: esperado ${i.expected}, recebido ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Entrada inválida: esperado ${Lt(i.values[0])}`:`Opção inválida: esperada uma das ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`Muito grande: esperado que ${i.origin??"valor"} tivesse ${o}${i.maximum.toString()} ${s.unit??"elementos"}`:`Muito grande: esperado que ${i.origin??"valor"} fosse ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`Muito pequeno: esperado que ${i.origin} tivesse ${o}${i.minimum.toString()} ${s.unit}`:`Muito pequeno: esperado que ${i.origin} fosse ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Texto inválido: deve começar com "${o.prefix}"`:o.format==="ends_with"?`Texto inválido: deve terminar com "${o.suffix}"`:o.format==="includes"?`Texto inválido: deve incluir "${o.includes}"`:o.format==="regex"?`Texto inválido: deve corresponder ao padrão ${o.pattern}`:`${r[o.format]??i.format} inválido`}case"not_multiple_of":return`Número inválido: deve ser múltiplo de ${i.divisor}`;case"unrecognized_keys":return`Chave${i.keys.length>1?"s":""} desconhecida${i.keys.length>1?"s":""}: ${Le(i.keys,", ")}`;case"invalid_key":return`Chave inválida em ${i.origin}`;case"invalid_union":return"Entrada inválida";case"invalid_element":return`Valor inválido em ${i.origin}`;default:return"Campo inválido"}}};function p_e(){return{localeError:f_e()}}function N4(e,t,n,r){const i=Math.abs(e),o=i%10,s=i%100;return s>=11&&s<=19?r:o===1?t:o>=2&&o<=4?n:r}var h_e=()=>{const e={string:{unit:{one:"символ",few:"символа",many:"символов"},verb:"иметь"},file:{unit:{one:"байт",few:"байта",many:"байт"},verb:"иметь"},array:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"},set:{unit:{one:"элемент",few:"элемента",many:"элементов"},verb:"иметь"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"число";case"object":{if(Array.isArray(i))return"массив";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"ввод",email:"email адрес",url:"URL",emoji:"эмодзи",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO дата и время",date:"ISO дата",time:"ISO время",duration:"ISO длительность",ipv4:"IPv4 адрес",ipv6:"IPv6 адрес",cidrv4:"IPv4 диапазон",cidrv6:"IPv6 диапазон",base64:"строка в формате base64",base64url:"строка в формате base64url",json_string:"JSON строка",e164:"номер E.164",jwt:"JWT",template_literal:"ввод"};return i=>{switch(i.code){case"invalid_type":return`Неверный ввод: ожидалось ${i.expected}, получено ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Неверный ввод: ожидалось ${Lt(i.values[0])}`:`Неверный вариант: ожидалось одно из ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);if(s){const a=Number(i.maximum),l=N4(a,s.unit.one,s.unit.few,s.unit.many);return`Слишком большое значение: ожидалось, что ${i.origin??"значение"} будет иметь ${o}${i.maximum.toString()} ${l}`}return`Слишком большое значение: ожидалось, что ${i.origin??"значение"} будет ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);if(s){const a=Number(i.minimum),l=N4(a,s.unit.one,s.unit.few,s.unit.many);return`Слишком маленькое значение: ожидалось, что ${i.origin} будет иметь ${o}${i.minimum.toString()} ${l}`}return`Слишком маленькое значение: ожидалось, что ${i.origin} будет ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Неверная строка: должна начинаться с "${o.prefix}"`:o.format==="ends_with"?`Неверная строка: должна заканчиваться на "${o.suffix}"`:o.format==="includes"?`Неверная строка: должна содержать "${o.includes}"`:o.format==="regex"?`Неверная строка: должна соответствовать шаблону ${o.pattern}`:`Неверный ${r[o.format]??i.format}`}case"not_multiple_of":return`Неверное число: должно быть кратным ${i.divisor}`;case"unrecognized_keys":return`Нераспознанн${i.keys.length>1?"ые":"ый"} ключ${i.keys.length>1?"и":""}: ${Le(i.keys,", ")}`;case"invalid_key":return`Неверный ключ в ${i.origin}`;case"invalid_union":return"Неверные входные данные";case"invalid_element":return`Неверное значение в ${i.origin}`;default:return"Неверные входные данные"}}};function m_e(){return{localeError:h_e()}}var g_e=()=>{const e={string:{unit:"znakov",verb:"imeti"},file:{unit:"bajtov",verb:"imeti"},array:{unit:"elementov",verb:"imeti"},set:{unit:"elementov",verb:"imeti"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"število";case"object":{if(Array.isArray(i))return"tabela";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"vnos",email:"e-poštni naslov",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO datum in čas",date:"ISO datum",time:"ISO čas",duration:"ISO trajanje",ipv4:"IPv4 naslov",ipv6:"IPv6 naslov",cidrv4:"obseg IPv4",cidrv6:"obseg IPv6",base64:"base64 kodiran niz",base64url:"base64url kodiran niz",json_string:"JSON niz",e164:"E.164 številka",jwt:"JWT",template_literal:"vnos"};return i=>{switch(i.code){case"invalid_type":return`Neveljaven vnos: pričakovano ${i.expected}, prejeto ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Neveljaven vnos: pričakovano ${Lt(i.values[0])}`:`Neveljavna možnost: pričakovano eno izmed ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`Preveliko: pričakovano, da bo ${i.origin??"vrednost"} imelo ${o}${i.maximum.toString()} ${s.unit??"elementov"}`:`Preveliko: pričakovano, da bo ${i.origin??"vrednost"} ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`Premajhno: pričakovano, da bo ${i.origin} imelo ${o}${i.minimum.toString()} ${s.unit}`:`Premajhno: pričakovano, da bo ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Neveljaven niz: mora se začeti z "${o.prefix}"`:o.format==="ends_with"?`Neveljaven niz: mora se končati z "${o.suffix}"`:o.format==="includes"?`Neveljaven niz: mora vsebovati "${o.includes}"`:o.format==="regex"?`Neveljaven niz: mora ustrezati vzorcu ${o.pattern}`:`Neveljaven ${r[o.format]??i.format}`}case"not_multiple_of":return`Neveljavno število: mora biti večkratnik ${i.divisor}`;case"unrecognized_keys":return`Neprepoznan${i.keys.length>1?"i ključi":" ključ"}: ${Le(i.keys,", ")}`;case"invalid_key":return`Neveljaven ključ v ${i.origin}`;case"invalid_union":return"Neveljaven vnos";case"invalid_element":return`Neveljavna vrednost v ${i.origin}`;default:return"Neveljaven vnos"}}};function y_e(){return{localeError:g_e()}}var v_e=()=>{const e={string:{unit:"tecken",verb:"att ha"},file:{unit:"bytes",verb:"att ha"},array:{unit:"objekt",verb:"att innehålla"},set:{unit:"objekt",verb:"att innehålla"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"antal";case"object":{if(Array.isArray(i))return"lista";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"reguljärt uttryck",email:"e-postadress",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO-datum och tid",date:"ISO-datum",time:"ISO-tid",duration:"ISO-varaktighet",ipv4:"IPv4-intervall",ipv6:"IPv6-intervall",cidrv4:"IPv4-spektrum",cidrv6:"IPv6-spektrum",base64:"base64-kodad sträng",base64url:"base64url-kodad sträng",json_string:"JSON-sträng",e164:"E.164-nummer",jwt:"JWT",template_literal:"mall-literal"};return i=>{switch(i.code){case"invalid_type":return`Ogiltig inmatning: förväntat ${i.expected}, fick ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Ogiltig inmatning: förväntat ${Lt(i.values[0])}`:`Ogiltigt val: förväntade en av ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`För stor(t): förväntade ${i.origin??"värdet"} att ha ${o}${i.maximum.toString()} ${s.unit??"element"}`:`För stor(t): förväntat ${i.origin??"värdet"} att ha ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`För lite(t): förväntade ${i.origin??"värdet"} att ha ${o}${i.minimum.toString()} ${s.unit}`:`För lite(t): förväntade ${i.origin??"värdet"} att ha ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Ogiltig sträng: måste börja med "${o.prefix}"`:o.format==="ends_with"?`Ogiltig sträng: måste sluta med "${o.suffix}"`:o.format==="includes"?`Ogiltig sträng: måste innehålla "${o.includes}"`:o.format==="regex"?`Ogiltig sträng: måste matcha mönstret "${o.pattern}"`:`Ogiltig(t) ${r[o.format]??i.format}`}case"not_multiple_of":return`Ogiltigt tal: måste vara en multipel av ${i.divisor}`;case"unrecognized_keys":return`${i.keys.length>1?"Okända nycklar":"Okänd nyckel"}: ${Le(i.keys,", ")}`;case"invalid_key":return`Ogiltig nyckel i ${i.origin??"värdet"}`;case"invalid_union":return"Ogiltig input";case"invalid_element":return`Ogiltigt värde i ${i.origin??"värdet"}`;default:return"Ogiltig input"}}};function b_e(){return{localeError:v_e()}}var x_e=()=>{const e={string:{unit:"எழுத்துக்கள்",verb:"கொண்டிருக்க வேண்டும்"},file:{unit:"பைட்டுகள்",verb:"கொண்டிருக்க வேண்டும்"},array:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"},set:{unit:"உறுப்புகள்",verb:"கொண்டிருக்க வேண்டும்"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"எண் அல்லாதது":"எண்";case"object":{if(Array.isArray(i))return"அணி";if(i===null)return"வெறுமை";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"உள்ளீடு",email:"மின்னஞ்சல் முகவரி",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO தேதி நேரம்",date:"ISO தேதி",time:"ISO நேரம்",duration:"ISO கால அளவு",ipv4:"IPv4 முகவரி",ipv6:"IPv6 முகவரி",cidrv4:"IPv4 வரம்பு",cidrv6:"IPv6 வரம்பு",base64:"base64-encoded சரம்",base64url:"base64url-encoded சரம்",json_string:"JSON சரம்",e164:"E.164 எண்",jwt:"JWT",template_literal:"input"};return i=>{switch(i.code){case"invalid_type":return`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${i.expected}, பெறப்பட்டது ${n(i.input)}`;case"invalid_value":return i.values.length===1?`தவறான உள்ளீடு: எதிர்பார்க்கப்பட்டது ${Lt(i.values[0])}`:`தவறான விருப்பம்: எதிர்பார்க்கப்பட்டது ${Le(i.values,"|")} இல் ஒன்று`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${i.origin??"மதிப்பு"} ${o}${i.maximum.toString()} ${s.unit??"உறுப்புகள்"} ஆக இருக்க வேண்டும்`:`மிக பெரியது: எதிர்பார்க்கப்பட்டது ${i.origin??"மதிப்பு"} ${o}${i.maximum.toString()} ஆக இருக்க வேண்டும்`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${i.origin} ${o}${i.minimum.toString()} ${s.unit} ஆக இருக்க வேண்டும்`:`மிகச் சிறியது: எதிர்பார்க்கப்பட்டது ${i.origin} ${o}${i.minimum.toString()} ஆக இருக்க வேண்டும்`}case"invalid_format":{const o=i;return o.format==="starts_with"?`தவறான சரம்: "${o.prefix}" இல் தொடங்க வேண்டும்`:o.format==="ends_with"?`தவறான சரம்: "${o.suffix}" இல் முடிவடைய வேண்டும்`:o.format==="includes"?`தவறான சரம்: "${o.includes}" ஐ உள்ளடக்க வேண்டும்`:o.format==="regex"?`தவறான சரம்: ${o.pattern} முறைபாட்டுடன் பொருந்த வேண்டும்`:`தவறான ${r[o.format]??i.format}`}case"not_multiple_of":return`தவறான எண்: ${i.divisor} இன் பலமாக இருக்க வேண்டும்`;case"unrecognized_keys":return`அடையாளம் தெரியாத விசை${i.keys.length>1?"கள்":""}: ${Le(i.keys,", ")}`;case"invalid_key":return`${i.origin} இல் தவறான விசை`;case"invalid_union":return"தவறான உள்ளீடு";case"invalid_element":return`${i.origin} இல் தவறான மதிப்பு`;default:return"தவறான உள்ளீடு"}}};function w_e(){return{localeError:x_e()}}var S_e=()=>{const e={string:{unit:"ตัวอักษร",verb:"ควรมี"},file:{unit:"ไบต์",verb:"ควรมี"},array:{unit:"รายการ",verb:"ควรมี"},set:{unit:"รายการ",verb:"ควรมี"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"ไม่ใช่ตัวเลข (NaN)":"ตัวเลข";case"object":{if(Array.isArray(i))return"อาร์เรย์ (Array)";if(i===null)return"ไม่มีค่า (null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"ข้อมูลที่ป้อน",email:"ที่อยู่อีเมล",url:"URL",emoji:"อิโมจิ",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"วันที่เวลาแบบ ISO",date:"วันที่แบบ ISO",time:"เวลาแบบ ISO",duration:"ช่วงเวลาแบบ ISO",ipv4:"ที่อยู่ IPv4",ipv6:"ที่อยู่ IPv6",cidrv4:"ช่วง IP แบบ IPv4",cidrv6:"ช่วง IP แบบ IPv6",base64:"ข้อความแบบ Base64",base64url:"ข้อความแบบ Base64 สำหรับ URL",json_string:"ข้อความแบบ JSON",e164:"เบอร์โทรศัพท์ระหว่างประเทศ (E.164)",jwt:"โทเคน JWT",template_literal:"ข้อมูลที่ป้อน"};return i=>{switch(i.code){case"invalid_type":return`ประเภทข้อมูลไม่ถูกต้อง: ควรเป็น ${i.expected} แต่ได้รับ ${n(i.input)}`;case"invalid_value":return i.values.length===1?`ค่าไม่ถูกต้อง: ควรเป็น ${Lt(i.values[0])}`:`ตัวเลือกไม่ถูกต้อง: ควรเป็นหนึ่งใน ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"ไม่เกิน":"น้อยกว่า",s=t(i.origin);return s?`เกินกำหนด: ${i.origin??"ค่า"} ควรมี${o} ${i.maximum.toString()} ${s.unit??"รายการ"}`:`เกินกำหนด: ${i.origin??"ค่า"} ควรมี${o} ${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?"อย่างน้อย":"มากกว่า",s=t(i.origin);return s?`น้อยกว่ากำหนด: ${i.origin} ควรมี${o} ${i.minimum.toString()} ${s.unit}`:`น้อยกว่ากำหนด: ${i.origin} ควรมี${o} ${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`รูปแบบไม่ถูกต้อง: ข้อความต้องขึ้นต้นด้วย "${o.prefix}"`:o.format==="ends_with"?`รูปแบบไม่ถูกต้อง: ข้อความต้องลงท้ายด้วย "${o.suffix}"`:o.format==="includes"?`รูปแบบไม่ถูกต้อง: ข้อความต้องมี "${o.includes}" อยู่ในข้อความ`:o.format==="regex"?`รูปแบบไม่ถูกต้อง: ต้องตรงกับรูปแบบที่กำหนด ${o.pattern}`:`รูปแบบไม่ถูกต้อง: ${r[o.format]??i.format}`}case"not_multiple_of":return`ตัวเลขไม่ถูกต้อง: ต้องเป็นจำนวนที่หารด้วย ${i.divisor} ได้ลงตัว`;case"unrecognized_keys":return`พบคีย์ที่ไม่รู้จัก: ${Le(i.keys,", ")}`;case"invalid_key":return`คีย์ไม่ถูกต้องใน ${i.origin}`;case"invalid_union":return"ข้อมูลไม่ถูกต้อง: ไม่ตรงกับรูปแบบยูเนียนที่กำหนดไว้";case"invalid_element":return`ข้อมูลไม่ถูกต้องใน ${i.origin}`;default:return"ข้อมูลไม่ถูกต้อง"}}};function k_e(){return{localeError:S_e()}}var __e=e=>{const t=typeof e;switch(t){case"number":return Number.isNaN(e)?"NaN":"number";case"object":{if(Array.isArray(e))return"array";if(e===null)return"null";if(Object.getPrototypeOf(e)!==Object.prototype&&e.constructor)return e.constructor.name}}return t},T_e=()=>{const e={string:{unit:"karakter",verb:"olmalı"},file:{unit:"bayt",verb:"olmalı"},array:{unit:"öğe",verb:"olmalı"},set:{unit:"öğe",verb:"olmalı"}};function t(r){return e[r]??null}const n={regex:"girdi",email:"e-posta adresi",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO tarih ve saat",date:"ISO tarih",time:"ISO saat",duration:"ISO süre",ipv4:"IPv4 adresi",ipv6:"IPv6 adresi",cidrv4:"IPv4 aralığı",cidrv6:"IPv6 aralığı",base64:"base64 ile şifrelenmiş metin",base64url:"base64url ile şifrelenmiş metin",json_string:"JSON dizesi",e164:"E.164 sayısı",jwt:"JWT",template_literal:"Şablon dizesi"};return r=>{switch(r.code){case"invalid_type":return`Geçersiz değer: beklenen ${r.expected}, alınan ${__e(r.input)}`;case"invalid_value":return r.values.length===1?`Geçersiz değer: beklenen ${Lt(r.values[0])}`:`Geçersiz seçenek: aşağıdakilerden biri olmalı: ${Le(r.values,"|")}`;case"too_big":{const i=r.inclusive?"<=":"<",o=t(r.origin);return o?`Çok büyük: beklenen ${r.origin??"değer"} ${i}${r.maximum.toString()} ${o.unit??"öğe"}`:`Çok büyük: beklenen ${r.origin??"değer"} ${i}${r.maximum.toString()}`}case"too_small":{const i=r.inclusive?">=":">",o=t(r.origin);return o?`Çok küçük: beklenen ${r.origin} ${i}${r.minimum.toString()} ${o.unit}`:`Çok küçük: beklenen ${r.origin} ${i}${r.minimum.toString()}`}case"invalid_format":{const i=r;return i.format==="starts_with"?`Geçersiz metin: "${i.prefix}" ile başlamalı`:i.format==="ends_with"?`Geçersiz metin: "${i.suffix}" ile bitmeli`:i.format==="includes"?`Geçersiz metin: "${i.includes}" içermeli`:i.format==="regex"?`Geçersiz metin: ${i.pattern} desenine uymalı`:`Geçersiz ${n[i.format]??r.format}`}case"not_multiple_of":return`Geçersiz sayı: ${r.divisor} ile tam bölünebilmeli`;case"unrecognized_keys":return`Tanınmayan anahtar${r.keys.length>1?"lar":""}: ${Le(r.keys,", ")}`;case"invalid_key":return`${r.origin} içinde geçersiz anahtar`;case"invalid_union":return"Geçersiz değer";case"invalid_element":return`${r.origin} içinde geçersiz değer`;default:return"Geçersiz değer"}}};function C_e(){return{localeError:T_e()}}var E_e=()=>{const e={string:{unit:"символів",verb:"матиме"},file:{unit:"байтів",verb:"матиме"},array:{unit:"елементів",verb:"матиме"},set:{unit:"елементів",verb:"матиме"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"число";case"object":{if(Array.isArray(i))return"масив";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"вхідні дані",email:"адреса електронної пошти",url:"URL",emoji:"емодзі",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"дата та час ISO",date:"дата ISO",time:"час ISO",duration:"тривалість ISO",ipv4:"адреса IPv4",ipv6:"адреса IPv6",cidrv4:"діапазон IPv4",cidrv6:"діапазон IPv6",base64:"рядок у кодуванні base64",base64url:"рядок у кодуванні base64url",json_string:"рядок JSON",e164:"номер E.164",jwt:"JWT",template_literal:"вхідні дані"};return i=>{switch(i.code){case"invalid_type":return`Неправильні вхідні дані: очікується ${i.expected}, отримано ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Неправильні вхідні дані: очікується ${Lt(i.values[0])}`:`Неправильна опція: очікується одне з ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`Занадто велике: очікується, що ${i.origin??"значення"} ${s.verb} ${o}${i.maximum.toString()} ${s.unit??"елементів"}`:`Занадто велике: очікується, що ${i.origin??"значення"} буде ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`Занадто мале: очікується, що ${i.origin} ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`Занадто мале: очікується, що ${i.origin} буде ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Неправильний рядок: повинен починатися з "${o.prefix}"`:o.format==="ends_with"?`Неправильний рядок: повинен закінчуватися на "${o.suffix}"`:o.format==="includes"?`Неправильний рядок: повинен містити "${o.includes}"`:o.format==="regex"?`Неправильний рядок: повинен відповідати шаблону ${o.pattern}`:`Неправильний ${r[o.format]??i.format}`}case"not_multiple_of":return`Неправильне число: повинно бути кратним ${i.divisor}`;case"unrecognized_keys":return`Нерозпізнаний ключ${i.keys.length>1?"і":""}: ${Le(i.keys,", ")}`;case"invalid_key":return`Неправильний ключ у ${i.origin}`;case"invalid_union":return"Неправильні вхідні дані";case"invalid_element":return`Неправильне значення у ${i.origin}`;default:return"Неправильні вхідні дані"}}};function I_e(){return{localeError:E_e()}}var A_e=()=>{const e={string:{unit:"حروف",verb:"ہونا"},file:{unit:"بائٹس",verb:"ہونا"},array:{unit:"آئٹمز",verb:"ہونا"},set:{unit:"آئٹمز",verb:"ہونا"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"نمبر";case"object":{if(Array.isArray(i))return"آرے";if(i===null)return"نل";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"ان پٹ",email:"ای میل ایڈریس",url:"یو آر ایل",emoji:"ایموجی",uuid:"یو یو آئی ڈی",uuidv4:"یو یو آئی ڈی وی 4",uuidv6:"یو یو آئی ڈی وی 6",nanoid:"نینو آئی ڈی",guid:"جی یو آئی ڈی",cuid:"سی یو آئی ڈی",cuid2:"سی یو آئی ڈی 2",ulid:"یو ایل آئی ڈی",xid:"ایکس آئی ڈی",ksuid:"کے ایس یو آئی ڈی",datetime:"آئی ایس او ڈیٹ ٹائم",date:"آئی ایس او تاریخ",time:"آئی ایس او وقت",duration:"آئی ایس او مدت",ipv4:"آئی پی وی 4 ایڈریس",ipv6:"آئی پی وی 6 ایڈریس",cidrv4:"آئی پی وی 4 رینج",cidrv6:"آئی پی وی 6 رینج",base64:"بیس 64 ان کوڈڈ سٹرنگ",base64url:"بیس 64 یو آر ایل ان کوڈڈ سٹرنگ",json_string:"جے ایس او این سٹرنگ",e164:"ای 164 نمبر",jwt:"جے ڈبلیو ٹی",template_literal:"ان پٹ"};return i=>{switch(i.code){case"invalid_type":return`غلط ان پٹ: ${i.expected} متوقع تھا، ${n(i.input)} موصول ہوا`;case"invalid_value":return i.values.length===1?`غلط ان پٹ: ${Lt(i.values[0])} متوقع تھا`:`غلط آپشن: ${Le(i.values,"|")} میں سے ایک متوقع تھا`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`بہت بڑا: ${i.origin??"ویلیو"} کے ${o}${i.maximum.toString()} ${s.unit??"عناصر"} ہونے متوقع تھے`:`بہت بڑا: ${i.origin??"ویلیو"} کا ${o}${i.maximum.toString()} ہونا متوقع تھا`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`بہت چھوٹا: ${i.origin} کے ${o}${i.minimum.toString()} ${s.unit} ہونے متوقع تھے`:`بہت چھوٹا: ${i.origin} کا ${o}${i.minimum.toString()} ہونا متوقع تھا`}case"invalid_format":{const o=i;return o.format==="starts_with"?`غلط سٹرنگ: "${o.prefix}" سے شروع ہونا چاہیے`:o.format==="ends_with"?`غلط سٹرنگ: "${o.suffix}" پر ختم ہونا چاہیے`:o.format==="includes"?`غلط سٹرنگ: "${o.includes}" شامل ہونا چاہیے`:o.format==="regex"?`غلط سٹرنگ: پیٹرن ${o.pattern} سے میچ ہونا چاہیے`:`غلط ${r[o.format]??i.format}`}case"not_multiple_of":return`غلط نمبر: ${i.divisor} کا مضاعف ہونا چاہیے`;case"unrecognized_keys":return`غیر تسلیم شدہ کی${i.keys.length>1?"ز":""}: ${Le(i.keys,"، ")}`;case"invalid_key":return`${i.origin} میں غلط کی`;case"invalid_union":return"غلط ان پٹ";case"invalid_element":return`${i.origin} میں غلط ویلیو`;default:return"غلط ان پٹ"}}};function $_e(){return{localeError:A_e()}}var P_e=()=>{const e={string:{unit:"ký tự",verb:"có"},file:{unit:"byte",verb:"có"},array:{unit:"phần tử",verb:"có"},set:{unit:"phần tử",verb:"có"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"số";case"object":{if(Array.isArray(i))return"mảng";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"đầu vào",email:"địa chỉ email",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ngày giờ ISO",date:"ngày ISO",time:"giờ ISO",duration:"khoảng thời gian ISO",ipv4:"địa chỉ IPv4",ipv6:"địa chỉ IPv6",cidrv4:"dải IPv4",cidrv6:"dải IPv6",base64:"chuỗi mã hóa base64",base64url:"chuỗi mã hóa base64url",json_string:"chuỗi JSON",e164:"số E.164",jwt:"JWT",template_literal:"đầu vào"};return i=>{switch(i.code){case"invalid_type":return`Đầu vào không hợp lệ: mong đợi ${i.expected}, nhận được ${n(i.input)}`;case"invalid_value":return i.values.length===1?`Đầu vào không hợp lệ: mong đợi ${Lt(i.values[0])}`:`Tùy chọn không hợp lệ: mong đợi một trong các giá trị ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`Quá lớn: mong đợi ${i.origin??"giá trị"} ${s.verb} ${o}${i.maximum.toString()} ${s.unit??"phần tử"}`:`Quá lớn: mong đợi ${i.origin??"giá trị"} ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`Quá nhỏ: mong đợi ${i.origin} ${s.verb} ${o}${i.minimum.toString()} ${s.unit}`:`Quá nhỏ: mong đợi ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`Chuỗi không hợp lệ: phải bắt đầu bằng "${o.prefix}"`:o.format==="ends_with"?`Chuỗi không hợp lệ: phải kết thúc bằng "${o.suffix}"`:o.format==="includes"?`Chuỗi không hợp lệ: phải bao gồm "${o.includes}"`:o.format==="regex"?`Chuỗi không hợp lệ: phải khớp với mẫu ${o.pattern}`:`${r[o.format]??i.format} không hợp lệ`}case"not_multiple_of":return`Số không hợp lệ: phải là bội số của ${i.divisor}`;case"unrecognized_keys":return`Khóa không được nhận dạng: ${Le(i.keys,", ")}`;case"invalid_key":return`Khóa không hợp lệ trong ${i.origin}`;case"invalid_union":return"Đầu vào không hợp lệ";case"invalid_element":return`Giá trị không hợp lệ trong ${i.origin}`;default:return"Đầu vào không hợp lệ"}}};function M_e(){return{localeError:P_e()}}var O_e=()=>{const e={string:{unit:"字符",verb:"包含"},file:{unit:"字节",verb:"包含"},array:{unit:"项",verb:"包含"},set:{unit:"项",verb:"包含"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"非数字(NaN)":"数字";case"object":{if(Array.isArray(i))return"数组";if(i===null)return"空值(null)";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"输入",email:"电子邮件",url:"URL",emoji:"表情符号",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO日期时间",date:"ISO日期",time:"ISO时间",duration:"ISO时长",ipv4:"IPv4地址",ipv6:"IPv6地址",cidrv4:"IPv4网段",cidrv6:"IPv6网段",base64:"base64编码字符串",base64url:"base64url编码字符串",json_string:"JSON字符串",e164:"E.164号码",jwt:"JWT",template_literal:"输入"};return i=>{switch(i.code){case"invalid_type":return`无效输入：期望 ${i.expected}，实际接收 ${n(i.input)}`;case"invalid_value":return i.values.length===1?`无效输入：期望 ${Lt(i.values[0])}`:`无效选项：期望以下之一 ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`数值过大：期望 ${i.origin??"值"} ${o}${i.maximum.toString()} ${s.unit??"个元素"}`:`数值过大：期望 ${i.origin??"值"} ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`数值过小：期望 ${i.origin} ${o}${i.minimum.toString()} ${s.unit}`:`数值过小：期望 ${i.origin} ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`无效字符串：必须以 "${o.prefix}" 开头`:o.format==="ends_with"?`无效字符串：必须以 "${o.suffix}" 结尾`:o.format==="includes"?`无效字符串：必须包含 "${o.includes}"`:o.format==="regex"?`无效字符串：必须满足正则表达式 ${o.pattern}`:`无效${r[o.format]??i.format}`}case"not_multiple_of":return`无效数字：必须是 ${i.divisor} 的倍数`;case"unrecognized_keys":return`出现未知的键(key): ${Le(i.keys,", ")}`;case"invalid_key":return`${i.origin} 中的键(key)无效`;case"invalid_union":return"无效输入";case"invalid_element":return`${i.origin} 中包含无效值(value)`;default:return"无效输入"}}};function N_e(){return{localeError:O_e()}}var R_e=()=>{const e={string:{unit:"字元",verb:"擁有"},file:{unit:"位元組",verb:"擁有"},array:{unit:"項目",verb:"擁有"},set:{unit:"項目",verb:"擁有"}};function t(i){return e[i]??null}const n=i=>{const o=typeof i;switch(o){case"number":return Number.isNaN(i)?"NaN":"number";case"object":{if(Array.isArray(i))return"array";if(i===null)return"null";if(Object.getPrototypeOf(i)!==Object.prototype&&i.constructor)return i.constructor.name}}return o},r={regex:"輸入",email:"郵件地址",url:"URL",emoji:"emoji",uuid:"UUID",uuidv4:"UUIDv4",uuidv6:"UUIDv6",nanoid:"nanoid",guid:"GUID",cuid:"cuid",cuid2:"cuid2",ulid:"ULID",xid:"XID",ksuid:"KSUID",datetime:"ISO 日期時間",date:"ISO 日期",time:"ISO 時間",duration:"ISO 期間",ipv4:"IPv4 位址",ipv6:"IPv6 位址",cidrv4:"IPv4 範圍",cidrv6:"IPv6 範圍",base64:"base64 編碼字串",base64url:"base64url 編碼字串",json_string:"JSON 字串",e164:"E.164 數值",jwt:"JWT",template_literal:"輸入"};return i=>{switch(i.code){case"invalid_type":return`無效的輸入值：預期為 ${i.expected}，但收到 ${n(i.input)}`;case"invalid_value":return i.values.length===1?`無效的輸入值：預期為 ${Lt(i.values[0])}`:`無效的選項：預期為以下其中之一 ${Le(i.values,"|")}`;case"too_big":{const o=i.inclusive?"<=":"<",s=t(i.origin);return s?`數值過大：預期 ${i.origin??"值"} 應為 ${o}${i.maximum.toString()} ${s.unit??"個元素"}`:`數值過大：預期 ${i.origin??"值"} 應為 ${o}${i.maximum.toString()}`}case"too_small":{const o=i.inclusive?">=":">",s=t(i.origin);return s?`數值過小：預期 ${i.origin} 應為 ${o}${i.minimum.toString()} ${s.unit}`:`數值過小：預期 ${i.origin} 應為 ${o}${i.minimum.toString()}`}case"invalid_format":{const o=i;return o.format==="starts_with"?`無效的字串：必須以 "${o.prefix}" 開頭`:o.format==="ends_with"?`無效的字串：必須以 "${o.suffix}" 結尾`:o.format==="includes"?`無效的字串：必須包含 "${o.includes}"`:o.format==="regex"?`無效的字串：必須符合格式 ${o.pattern}`:`無效的 ${r[o.format]??i.format}`}case"not_multiple_of":return`無效的數字：必須為 ${i.divisor} 的倍數`;case"unrecognized_keys":return`無法識別的鍵值${i.keys.length>1?"們":""}：${Le(i.keys,"、")}`;case"invalid_key":return`${i.origin} 中有無效的鍵值`;case"invalid_union":return"無效的輸入值";case"invalid_element":return`${i.origin} 中有無效的值`;default:return"無效的輸入值"}}};function D_e(){return{localeError:R_e()}}var kq=Symbol("ZodOutput"),_q=Symbol("ZodInput"),wO=class{constructor(){this._map=new Map,this._idmap=new Map}add(e,...t){const n=t[0];if(this._map.set(e,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&typeof t=="object"&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const n={...this.get(t)??{}};return delete n.id,{...n,...this._map.get(e)}}return this._map.get(e)}has(e){return this._map.has(e)}};function SO(){return new wO}var Rf=SO();function Tq(e,t){return new e({type:"string",...De(t)})}function Cq(e,t){return new e({type:"string",coerce:!0,...De(t)})}function kO(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...De(t)})}function Xk(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...De(t)})}function _O(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...De(t)})}function TO(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...De(t)})}function CO(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...De(t)})}function EO(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...De(t)})}function IO(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...De(t)})}function AO(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...De(t)})}function $O(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...De(t)})}function PO(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...De(t)})}function MO(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...De(t)})}function OO(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...De(t)})}function NO(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...De(t)})}function RO(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...De(t)})}function DO(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...De(t)})}function jO(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...De(t)})}function LO(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...De(t)})}function zO(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...De(t)})}function FO(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...De(t)})}function VO(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...De(t)})}function BO(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...De(t)})}function UO(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...De(t)})}var Eq={Any:null,Minute:-1,Second:0,Millisecond:3,Microsecond:6};function Iq(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...De(t)})}function Aq(e,t){return new e({type:"string",format:"date",check:"string_format",...De(t)})}function $q(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...De(t)})}function Pq(e,t){return new e({type:"string",format:"duration",check:"string_format",...De(t)})}function Mq(e,t){return new e({type:"number",checks:[],...De(t)})}function Oq(e,t){return new e({type:"number",coerce:!0,checks:[],...De(t)})}function Nq(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...De(t)})}function Rq(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float32",...De(t)})}function Dq(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"float64",...De(t)})}function jq(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"int32",...De(t)})}function Lq(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"uint32",...De(t)})}function zq(e,t){return new e({type:"boolean",...De(t)})}function Fq(e,t){return new e({type:"boolean",coerce:!0,...De(t)})}function Vq(e,t){return new e({type:"bigint",...De(t)})}function Bq(e,t){return new e({type:"bigint",coerce:!0,...De(t)})}function Uq(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"int64",...De(t)})}function Zq(e,t){return new e({type:"bigint",check:"bigint_format",abort:!1,format:"uint64",...De(t)})}function Wq(e,t){return new e({type:"symbol",...De(t)})}function Hq(e,t){return new e({type:"undefined",...De(t)})}function qq(e,t){return new e({type:"null",...De(t)})}function Jq(e){return new e({type:"any"})}function Qk(e){return new e({type:"unknown"})}function Kq(e,t){return new e({type:"never",...De(t)})}function Gq(e,t){return new e({type:"void",...De(t)})}function Yq(e,t){return new e({type:"date",...De(t)})}function Xq(e,t){return new e({type:"date",coerce:!0,...De(t)})}function Qq(e,t){return new e({type:"nan",...De(t)})}function lp(e,t){return new cO({check:"less_than",...De(t),value:e,inclusive:!1})}function $a(e,t){return new cO({check:"less_than",...De(t),value:e,inclusive:!0})}function up(e,t){return new dO({check:"greater_than",...De(t),value:e,inclusive:!1})}function ls(e,t){return new dO({check:"greater_than",...De(t),value:e,inclusive:!0})}function e8(e){return up(0,e)}function t8(e){return lp(0,e)}function n8(e){return $a(0,e)}function r8(e){return ls(0,e)}function nx(e,t){return new QW({check:"multiple_of",...De(t),value:e})}function P1(e,t){return new nH({check:"max_size",...De(t),maximum:e})}function rx(e,t){return new rH({check:"min_size",...De(t),minimum:e})}function ZO(e,t){return new iH({check:"size_equals",...De(t),size:e})}function M1(e,t){return new oH({check:"max_length",...De(t),maximum:e})}function lg(e,t){return new sH({check:"min_length",...De(t),minimum:e})}function O1(e,t){return new aH({check:"length_equals",...De(t),length:e})}function WO(e,t){return new lH({check:"string_format",format:"regex",...De(t),pattern:e})}function HO(e){return new uH({check:"string_format",format:"lowercase",...De(e)})}function qO(e){return new cH({check:"string_format",format:"uppercase",...De(e)})}function JO(e,t){return new dH({check:"string_format",format:"includes",...De(t),includes:e})}function KO(e,t){return new fH({check:"string_format",format:"starts_with",...De(t),prefix:e})}function GO(e,t){return new pH({check:"string_format",format:"ends_with",...De(t),suffix:e})}function i8(e,t,n){return new hH({check:"property",property:e,schema:t,...De(n)})}function YO(e,t){return new mH({check:"mime_type",mime:e,...De(t)})}function kp(e){return new gH({check:"overwrite",tx:e})}function XO(e){return kp(t=>t.normalize(e))}function QO(){return kp(e=>e.trim())}function eN(){return kp(e=>e.toLowerCase())}function tN(){return kp(e=>e.toUpperCase())}function nN(e,t,n){return new e({type:"array",element:t,...De(n)})}function j_e(e,t,n){return new e({type:"union",options:t,...De(n)})}function L_e(e,t,n,r){return new e({type:"union",options:n,discriminator:t,...De(r)})}function z_e(e,t,n){return new e({type:"intersection",left:t,right:n})}function o8(e,t,n,r){const i=n instanceof Et,o=i?r:n,s=i?n:null;return new e({type:"tuple",items:t,rest:s,...De(o)})}function F_e(e,t,n,r){return new e({type:"record",keyType:t,valueType:n,...De(r)})}function V_e(e,t,n,r){return new e({type:"map",keyType:t,valueType:n,...De(r)})}function B_e(e,t,n){return new e({type:"set",valueType:t,...De(n)})}function U_e(e,t,n){const r=Array.isArray(t)?Object.fromEntries(t.map(i=>[i,i])):t;return new e({type:"enum",entries:r,...De(n)})}function Z_e(e,t,n){return new e({type:"enum",entries:t,...De(n)})}function W_e(e,t,n){return new e({type:"literal",values:Array.isArray(t)?t:[t],...De(n)})}function s8(e,t){return new e({type:"file",...De(t)})}function H_e(e,t){return new e({type:"transform",transform:t})}function q_e(e,t){return new e({type:"optional",innerType:t})}function J_e(e,t){return new e({type:"nullable",innerType:t})}function K_e(e,t,n){return new e({type:"default",innerType:t,get defaultValue(){return typeof n=="function"?n():n}})}function G_e(e,t,n){return new e({type:"nonoptional",innerType:t,...De(n)})}function Y_e(e,t){return new e({type:"success",innerType:t})}function X_e(e,t,n){return new e({type:"catch",innerType:t,catchValue:typeof n=="function"?n:()=>n})}function Q_e(e,t,n){return new e({type:"pipe",in:t,out:n})}function e1e(e,t){return new e({type:"readonly",innerType:t})}function t1e(e,t,n){return new e({type:"template_literal",parts:t,...De(n)})}function n1e(e,t){return new e({type:"lazy",getter:t})}function r1e(e,t){return new e({type:"promise",innerType:t})}function a8(e,t,n){const r=De(n);return r.abort??(r.abort=!0),new e({type:"custom",check:"custom",fn:t,...r})}function l8(e,t,n){return new e({type:"custom",check:"custom",fn:t,...De(n)})}function u8(e,t){const n=De(t);let r=n.truthy??["true","1","yes","on","y","enabled"],i=n.falsy??["false","0","no","off","n","disabled"];n.case!=="sensitive"&&(r=r.map(b=>typeof b=="string"?b.toLowerCase():b),i=i.map(b=>typeof b=="string"?b.toLowerCase():b));const o=new Set(r),s=new Set(i),a=e.Pipe??bO,l=e.Boolean??hO,u=e.String??Hx,d=e.Transform??vO,f=new d({type:"transform",transform:(b,x)=>{let k=b;return n.case!=="sensitive"&&(k=k.toLowerCase()),o.has(k)?!0:s.has(k)?!1:(x.issues.push({code:"invalid_value",expected:"stringbool",values:[...o,...s],input:x.value,inst:f}),{})},error:n.error}),g=new a({type:"pipe",in:new u({type:"string",error:n.error}),out:f,error:n.error});return new a({type:"pipe",in:g,out:new l({type:"boolean",error:n.error}),error:n.error})}function c8(e,t,n,r={}){const i=De(r),o={...De(r),check:"string_format",type:"string",format:t,fn:typeof n=="function"?n:a=>n.test(a),...i};return n instanceof RegExp&&(o.pattern=n),new e(o)}var d8=class{constructor(e){this._def=e,this.def=e}implement(e){if(typeof e!="function")throw new Error("implement() must be called with a function");const t=(...n)=>{const r=this._def.input?WA(this._def.input,n,void 0,{callee:t}):n;if(!Array.isArray(r))throw new Error("Invalid arguments schema: not an array or tuple schema.");const i=e(...r);return this._def.output?WA(this._def.output,i,void 0,{callee:t}):i};return t}implementAsync(e){if(typeof e!="function")throw new Error("implement() must be called with a function");const t=async(...n)=>{const r=this._def.input?await HA(this._def.input,n,void 0,{callee:t}):n;if(!Array.isArray(r))throw new Error("Invalid arguments schema: not an array or tuple schema.");const i=await e(...r);return this._def.output?HA(this._def.output,i,void 0,{callee:t}):i};return t}input(...e){const t=this.constructor;return Array.isArray(e[0])?new t({type:"function",input:new $1({type:"tuple",items:e[0],rest:e[1]}),output:this._def.output}):new t({type:"function",input:e[0],output:this._def.output})}output(e){const t=this.constructor;return new t({type:"function",input:this._def.input,output:e})}};function f8(e){return new d8({type:"function",input:Array.isArray(e?.input)?o8($1,e?.input):e?.input??nN(gO,Qk(Yk)),output:e?.output??Qk(Yk)})}var JA=class{constructor(e){this.counter=0,this.metadataRegistry=e?.metadata??Rf,this.target=e?.target??"draft-2020-12",this.unrepresentable=e?.unrepresentable??"throw",this.override=e?.override??(()=>{}),this.io=e?.io??"output",this.seen=new Map}process(e,t={path:[],schemaPath:[]}){var n;const r=e._zod.def,i={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},o=this.seen.get(e);if(o)return o.count++,t.schemaPath.includes(e)&&(o.cycle=t.path),o.schema;const s={schema:{},count:1,cycle:void 0,path:t.path};this.seen.set(e,s);const a=e._zod.toJSONSchema?.();if(a)s.schema=a;else{const d={...t,schemaPath:[...t.schemaPath,e],path:t.path},f=e._zod.parent;if(f)s.ref=f,this.process(f,d),this.seen.get(f).isParent=!0;else{const g=s.schema;switch(r.type){case"string":{const m=g;m.type="string";const{minimum:b,maximum:x,format:k,patterns:T,contentEncoding:E}=e._zod.bag;if(typeof b=="number"&&(m.minLength=b),typeof x=="number"&&(m.maxLength=x),k&&(m.format=i[k]??k,m.format===""&&delete m.format),E&&(m.contentEncoding=E),T&&T.size>0){const $=[...T];$.length===1?m.pattern=$[0].source:$.length>1&&(s.schema.allOf=[...$.map(P=>({...this.target==="draft-7"?{type:"string"}:{},pattern:P.source}))])}break}case"number":{const m=g,{minimum:b,maximum:x,format:k,multipleOf:T,exclusiveMaximum:E,exclusiveMinimum:$}=e._zod.bag;typeof k=="string"&&k.includes("int")?m.type="integer":m.type="number",typeof $=="number"&&(m.exclusiveMinimum=$),typeof b=="number"&&(m.minimum=b,typeof $=="number"&&($>=b?delete m.minimum:delete m.exclusiveMinimum)),typeof E=="number"&&(m.exclusiveMaximum=E),typeof x=="number"&&(m.maximum=x,typeof E=="number"&&(E<=x?delete m.maximum:delete m.exclusiveMaximum)),typeof T=="number"&&(m.multipleOf=T);break}case"boolean":{const m=g;m.type="boolean";break}case"bigint":{if(this.unrepresentable==="throw")throw new Error("BigInt cannot be represented in JSON Schema");break}case"symbol":{if(this.unrepresentable==="throw")throw new Error("Symbols cannot be represented in JSON Schema");break}case"null":{g.type="null";break}case"any":break;case"unknown":break;case"undefined":{if(this.unrepresentable==="throw")throw new Error("Undefined cannot be represented in JSON Schema");break}case"void":{if(this.unrepresentable==="throw")throw new Error("Void cannot be represented in JSON Schema");break}case"never":{g.not={};break}case"date":{if(this.unrepresentable==="throw")throw new Error("Date cannot be represented in JSON Schema");break}case"array":{const m=g,{minimum:b,maximum:x}=e._zod.bag;typeof b=="number"&&(m.minItems=b),typeof x=="number"&&(m.maxItems=x),m.type="array",m.items=this.process(r.element,{...d,path:[...d.path,"items"]});break}case"object":{const m=g;m.type="object",m.properties={};const b=r.shape;for(const T in b)m.properties[T]=this.process(b[T],{...d,path:[...d.path,"properties",T]});const x=new Set(Object.keys(b)),k=new Set([...x].filter(T=>{const E=r.shape[T]._zod;return this.io==="input"?E.optin===void 0:E.optout===void 0}));k.size>0&&(m.required=Array.from(k)),r.catchall?._zod.def.type==="never"?m.additionalProperties=!1:r.catchall?r.catchall&&(m.additionalProperties=this.process(r.catchall,{...d,path:[...d.path,"additionalProperties"]})):this.io==="output"&&(m.additionalProperties=!1);break}case"union":{const m=g;m.anyOf=r.options.map((b,x)=>this.process(b,{...d,path:[...d.path,"anyOf",x]}));break}case"intersection":{const m=g,b=this.process(r.left,{...d,path:[...d.path,"allOf",0]}),x=this.process(r.right,{...d,path:[...d.path,"allOf",1]}),k=E=>"allOf"in E&&Object.keys(E).length===1,T=[...k(b)?b.allOf:[b],...k(x)?x.allOf:[x]];m.allOf=T;break}case"tuple":{const m=g;m.type="array";const b=r.items.map((T,E)=>this.process(T,{...d,path:[...d.path,"prefixItems",E]}));if(this.target==="draft-2020-12"?m.prefixItems=b:m.items=b,r.rest){const T=this.process(r.rest,{...d,path:[...d.path,"items"]});this.target==="draft-2020-12"?m.items=T:m.additionalItems=T}r.rest&&(m.items=this.process(r.rest,{...d,path:[...d.path,"items"]}));const{minimum:x,maximum:k}=e._zod.bag;typeof x=="number"&&(m.minItems=x),typeof k=="number"&&(m.maxItems=k);break}case"record":{const m=g;m.type="object",m.propertyNames=this.process(r.keyType,{...d,path:[...d.path,"propertyNames"]}),m.additionalProperties=this.process(r.valueType,{...d,path:[...d.path,"additionalProperties"]});break}case"map":{if(this.unrepresentable==="throw")throw new Error("Map cannot be represented in JSON Schema");break}case"set":{if(this.unrepresentable==="throw")throw new Error("Set cannot be represented in JSON Schema");break}case"enum":{const m=g,b=XM(r.entries);b.every(x=>typeof x=="number")&&(m.type="number"),b.every(x=>typeof x=="string")&&(m.type="string"),m.enum=b;break}case"literal":{const m=g,b=[];for(const x of r.values)if(x===void 0){if(this.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof x=="bigint"){if(this.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");b.push(Number(x))}else b.push(x);if(b.length!==0)if(b.length===1){const x=b[0];m.type=x===null?"null":typeof x,m.const=x}else b.every(x=>typeof x=="number")&&(m.type="number"),b.every(x=>typeof x=="string")&&(m.type="string"),b.every(x=>typeof x=="boolean")&&(m.type="string"),b.every(x=>x===null)&&(m.type="null"),m.enum=b;break}case"file":{const m=g,b={type:"string",format:"binary",contentEncoding:"binary"},{minimum:x,maximum:k,mime:T}=e._zod.bag;x!==void 0&&(b.minLength=x),k!==void 0&&(b.maxLength=k),T?T.length===1?(b.contentMediaType=T[0],Object.assign(m,b)):m.anyOf=T.map(E=>({...b,contentMediaType:E})):Object.assign(m,b);break}case"transform":{if(this.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema");break}case"nullable":{const m=this.process(r.innerType,d);g.anyOf=[m,{type:"null"}];break}case"nonoptional":{this.process(r.innerType,d),s.ref=r.innerType;break}case"success":{const m=g;m.type="boolean";break}case"default":{this.process(r.innerType,d),s.ref=r.innerType,g.default=JSON.parse(JSON.stringify(r.defaultValue));break}case"prefault":{this.process(r.innerType,d),s.ref=r.innerType,this.io==="input"&&(g._prefault=JSON.parse(JSON.stringify(r.defaultValue)));break}case"catch":{this.process(r.innerType,d),s.ref=r.innerType;let m;try{m=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}g.default=m;break}case"nan":{if(this.unrepresentable==="throw")throw new Error("NaN cannot be represented in JSON Schema");break}case"template_literal":{const m=g,b=e._zod.pattern;if(!b)throw new Error("Pattern not found in template literal");m.type="string",m.pattern=b.source;break}case"pipe":{const m=this.io==="input"?r.in._zod.def.type==="transform"?r.out:r.in:r.out;this.process(m,d),s.ref=m;break}case"readonly":{this.process(r.innerType,d),s.ref=r.innerType,g.readOnly=!0;break}case"promise":{this.process(r.innerType,d),s.ref=r.innerType;break}case"optional":{this.process(r.innerType,d),s.ref=r.innerType;break}case"lazy":{const m=e._zod.innerType;this.process(m,d),s.ref=m;break}case"custom":{if(this.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema");break}}}}const l=this.metadataRegistry.get(e);return l&&Object.assign(s.schema,l),this.io==="input"&&Br(e)&&(delete s.schema.examples,delete s.schema.default),this.io==="input"&&s.schema._prefault&&((n=s.schema).default??(n.default=s.schema._prefault)),delete s.schema._prefault,this.seen.get(e).schema}emit(e,t){const n={cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0},r=this.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const i=u=>{const d=this.target==="draft-2020-12"?"$defs":"definitions";if(n.external){const b=n.external.registry.get(u[0])?.id,x=n.external.uri??(T=>T);if(b)return{ref:x(b)};const k=u[1].defId??u[1].schema.id??`schema${this.counter++}`;return u[1].defId=k,{defId:k,ref:`${x("__shared")}#/${d}/${k}`}}if(u[1]===r)return{ref:"#"};const g=`#/${d}/`,m=u[1].schema.id??`__schema${this.counter++}`;return{defId:m,ref:g+m}},o=u=>{if(u[1].schema.$ref)return;const d=u[1],{ref:f,defId:g}=i(u);d.def={...d.schema},g&&(d.defId=g);const m=d.schema;for(const b in m)delete m[b];m.$ref=f};if(n.cycles==="throw")for(const u of this.seen.entries()){const d=u[1];if(d.cycle)throw new Error(`Cycle detected: #/${d.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const u of this.seen.entries()){const d=u[1];if(e===u[0]){o(u);continue}if(n.external){const g=n.external.registry.get(u[0])?.id;if(e!==u[0]&&g){o(u);continue}}if(this.metadataRegistry.get(u[0])?.id){o(u);continue}if(d.cycle){o(u);continue}if(d.count>1&&n.reused==="ref"){o(u);continue}}const s=(u,d)=>{const f=this.seen.get(u),g=f.def??f.schema,m={...g};if(f.ref===null)return;const b=f.ref;if(f.ref=null,b){s(b,d);const x=this.seen.get(b).schema;x.$ref&&d.target==="draft-7"?(g.allOf=g.allOf??[],g.allOf.push(x)):(Object.assign(g,x),Object.assign(g,m))}f.isParent||this.override({zodSchema:u,jsonSchema:g,path:f.path??[]})};for(const u of[...this.seen.entries()].reverse())s(u[0],{target:this.target});const a={};if(this.target==="draft-2020-12"?a.$schema="https://json-schema.org/draft/2020-12/schema":this.target==="draft-7"?a.$schema="http://json-schema.org/draft-07/schema#":console.warn(`Invalid target: ${this.target}`),n.external?.uri){const u=n.external.registry.get(e)?.id;if(!u)throw new Error("Schema is missing an `id` property");a.$id=n.external.uri(u)}Object.assign(a,r.def);const l=n.external?.defs??{};for(const u of this.seen.entries()){const d=u[1];d.def&&d.defId&&(l[d.defId]=d.def)}n.external||Object.keys(l).length>0&&(this.target==="draft-2020-12"?a.$defs=l:a.definitions=l);try{return JSON.parse(JSON.stringify(a))}catch{throw new Error("Error converting schema to JSON.")}}};function rN(e,t){if(e instanceof wO){const r=new JA(t),i={};for(const a of e._idmap.entries()){const[l,u]=a;r.process(u)}const o={},s={registry:e,uri:t?.uri,defs:i};for(const a of e._idmap.entries()){const[l,u]=a;o[l]=r.emit(u,{...t,external:s})}if(Object.keys(i).length>0){const a=r.target==="draft-2020-12"?"$defs":"definitions";o.__shared={[a]:i}}return{schemas:o}}const n=new JA(t);return n.process(e),n.emit(e,t)}function Br(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const i=e._zod.def;switch(i.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":return!1;case"array":return Br(i.element,n);case"object":{for(const o in i.shape)if(Br(i.shape[o],n))return!0;return!1}case"union":{for(const o of i.options)if(Br(o,n))return!0;return!1}case"intersection":return Br(i.left,n)||Br(i.right,n);case"tuple":{for(const o of i.items)if(Br(o,n))return!0;return!!(i.rest&&Br(i.rest,n))}case"record":return Br(i.keyType,n)||Br(i.valueType,n);case"map":return Br(i.keyType,n)||Br(i.valueType,n);case"set":return Br(i.valueType,n);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":return Br(i.innerType,n);case"lazy":return Br(i.getter(),n);case"default":return Br(i.innerType,n);case"prefault":return Br(i.innerType,n);case"custom":return!1;case"transform":return!0;case"pipe":return Br(i.in,n)||Br(i.out,n);case"success":return!1;case"catch":return!1}throw new Error(`Unknown schema type: ${i.type}`)}var i1e={},p8={};md(p8,{ZodISODate:()=>oN,ZodISODateTime:()=>iN,ZodISODuration:()=>aN,ZodISOTime:()=>sN,date:()=>m8,datetime:()=>h8,duration:()=>y8,time:()=>g8});var iN=de("ZodISODateTime",(e,t)=>{$H.init(e,t),Gn.init(e,t)});function h8(e){return Iq(iN,e)}var oN=de("ZodISODate",(e,t)=>{PH.init(e,t),Gn.init(e,t)});function m8(e){return Aq(oN,e)}var sN=de("ZodISOTime",(e,t)=>{MH.init(e,t),Gn.init(e,t)});function g8(e){return $q(sN,e)}var aN=de("ZodISODuration",(e,t)=>{OH.init(e,t),Gn.init(e,t)});function y8(e){return Pq(aN,e)}var v8=(e,t)=>{tO.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>rO(e,n)},flatten:{value:n=>nO(e,n)},addIssue:{value:n=>e.issues.push(n)},addIssues:{value:n=>e.issues.push(...n)},isEmpty:{get(){return e.issues.length===0}}})},o1e=de("ZodError",v8),qx=de("ZodError",v8,{Parent:Error}),b8=iO(qx),x8=oO(qx),w8=sO(qx),lN=aO(qx),Wt=de("ZodType",(e,t)=>(Et.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>Ml(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>b8(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>w8(e,n,r),e.parseAsync=async(n,r)=>x8(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>lN(e,n,r),e.spa=e.safeParseAsync,e.refine=(n,r)=>e.check(lJ(n,r)),e.superRefine=n=>e.check(uJ(n)),e.overwrite=n=>e.check(kp(n)),e.optional=()=>n_(e),e.nullable=()=>r_(e),e.nullish=()=>n_(r_(e)),e.nonoptional=n=>G8(e,n),e.array=()=>AN(e),e.or=n=>F1([e,n]),e.and=n=>D8(e,n),e.transform=n=>i_(e,ON(n)),e.default=n=>q8(e,n),e.prefault=n=>K8(e,n),e.catch=n=>Q8(e,n),e.pipe=n=>i_(e,n),e.readonly=()=>nJ(e),e.describe=n=>{const r=e.clone();return Rf.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){return Rf.get(e)?.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Rf.get(e);const r=e.clone();return Rf.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),uN=de("_ZodString",(e,t)=>{Hx.init(e,t),Wt.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(WO(...r)),e.includes=(...r)=>e.check(JO(...r)),e.startsWith=(...r)=>e.check(KO(...r)),e.endsWith=(...r)=>e.check(GO(...r)),e.min=(...r)=>e.check(lg(...r)),e.max=(...r)=>e.check(M1(...r)),e.length=(...r)=>e.check(O1(...r)),e.nonempty=(...r)=>e.check(lg(1,...r)),e.lowercase=r=>e.check(HO(r)),e.uppercase=r=>e.check(qO(r)),e.trim=()=>e.check(QO()),e.normalize=(...r)=>e.check(XO(...r)),e.toLowerCase=()=>e.check(eN()),e.toUpperCase=()=>e.check(tN())}),N1=de("ZodString",(e,t)=>{Hx.init(e,t),uN.init(e,t),e.email=n=>e.check(kO(cN,n)),e.url=n=>e.check(IO(dN,n)),e.jwt=n=>e.check(UO(CN,n)),e.emoji=n=>e.check(AO(fN,n)),e.guid=n=>e.check(Xk(e_,n)),e.uuid=n=>e.check(_O(Tu,n)),e.uuidv4=n=>e.check(TO(Tu,n)),e.uuidv6=n=>e.check(CO(Tu,n)),e.uuidv7=n=>e.check(EO(Tu,n)),e.nanoid=n=>e.check($O(pN,n)),e.guid=n=>e.check(Xk(e_,n)),e.cuid=n=>e.check(PO(hN,n)),e.cuid2=n=>e.check(MO(mN,n)),e.ulid=n=>e.check(OO(gN,n)),e.base64=n=>e.check(FO(kN,n)),e.base64url=n=>e.check(VO(_N,n)),e.xid=n=>e.check(NO(yN,n)),e.ksuid=n=>e.check(RO(vN,n)),e.ipv4=n=>e.check(DO(bN,n)),e.ipv6=n=>e.check(jO(xN,n)),e.cidrv4=n=>e.check(LO(wN,n)),e.cidrv6=n=>e.check(zO(SN,n)),e.e164=n=>e.check(BO(TN,n)),e.datetime=n=>e.check(h8(n)),e.date=n=>e.check(m8(n)),e.time=n=>e.check(g8(n)),e.duration=n=>e.check(y8(n))});function KA(e){return Tq(N1,e)}var Gn=de("ZodStringFormat",(e,t)=>{Wn.init(e,t),uN.init(e,t)}),cN=de("ZodEmail",(e,t)=>{wH.init(e,t),Gn.init(e,t)});function s1e(e){return kO(cN,e)}var e_=de("ZodGUID",(e,t)=>{bH.init(e,t),Gn.init(e,t)});function a1e(e){return Xk(e_,e)}var Tu=de("ZodUUID",(e,t)=>{xH.init(e,t),Gn.init(e,t)});function l1e(e){return _O(Tu,e)}function u1e(e){return TO(Tu,e)}function c1e(e){return CO(Tu,e)}function d1e(e){return EO(Tu,e)}var dN=de("ZodURL",(e,t)=>{SH.init(e,t),Gn.init(e,t)});function f1e(e){return IO(dN,e)}var fN=de("ZodEmoji",(e,t)=>{kH.init(e,t),Gn.init(e,t)});function p1e(e){return AO(fN,e)}var pN=de("ZodNanoID",(e,t)=>{_H.init(e,t),Gn.init(e,t)});function h1e(e){return $O(pN,e)}var hN=de("ZodCUID",(e,t)=>{TH.init(e,t),Gn.init(e,t)});function m1e(e){return PO(hN,e)}var mN=de("ZodCUID2",(e,t)=>{CH.init(e,t),Gn.init(e,t)});function g1e(e){return MO(mN,e)}var gN=de("ZodULID",(e,t)=>{EH.init(e,t),Gn.init(e,t)});function y1e(e){return OO(gN,e)}var yN=de("ZodXID",(e,t)=>{IH.init(e,t),Gn.init(e,t)});function v1e(e){return NO(yN,e)}var vN=de("ZodKSUID",(e,t)=>{AH.init(e,t),Gn.init(e,t)});function b1e(e){return RO(vN,e)}var bN=de("ZodIPv4",(e,t)=>{NH.init(e,t),Gn.init(e,t)});function x1e(e){return DO(bN,e)}var xN=de("ZodIPv6",(e,t)=>{RH.init(e,t),Gn.init(e,t)});function w1e(e){return jO(xN,e)}var wN=de("ZodCIDRv4",(e,t)=>{DH.init(e,t),Gn.init(e,t)});function S1e(e){return LO(wN,e)}var SN=de("ZodCIDRv6",(e,t)=>{jH.init(e,t),Gn.init(e,t)});function k1e(e){return zO(SN,e)}var kN=de("ZodBase64",(e,t)=>{LH.init(e,t),Gn.init(e,t)});function _1e(e){return FO(kN,e)}var _N=de("ZodBase64URL",(e,t)=>{FH.init(e,t),Gn.init(e,t)});function T1e(e){return VO(_N,e)}var TN=de("ZodE164",(e,t)=>{VH.init(e,t),Gn.init(e,t)});function C1e(e){return BO(TN,e)}var CN=de("ZodJWT",(e,t)=>{UH.init(e,t),Gn.init(e,t)});function E1e(e){return UO(CN,e)}var S8=de("ZodCustomStringFormat",(e,t)=>{ZH.init(e,t),Gn.init(e,t)});function I1e(e,t,n={}){return c8(S8,e,t,n)}var R1=de("ZodNumber",(e,t)=>{pO.init(e,t),Wt.init(e,t),e.gt=(r,i)=>e.check(up(r,i)),e.gte=(r,i)=>e.check(ls(r,i)),e.min=(r,i)=>e.check(ls(r,i)),e.lt=(r,i)=>e.check(lp(r,i)),e.lte=(r,i)=>e.check($a(r,i)),e.max=(r,i)=>e.check($a(r,i)),e.int=r=>e.check(GA(r)),e.safe=r=>e.check(GA(r)),e.positive=r=>e.check(up(0,r)),e.nonnegative=r=>e.check(ls(0,r)),e.negative=r=>e.check(lp(0,r)),e.nonpositive=r=>e.check($a(0,r)),e.multipleOf=(r,i)=>e.check(nx(r,i)),e.step=(r,i)=>e.check(nx(r,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function k8(e){return Mq(R1,e)}var Eg=de("ZodNumberFormat",(e,t)=>{WH.init(e,t),R1.init(e,t)});function GA(e){return Nq(Eg,e)}function A1e(e){return Rq(Eg,e)}function $1e(e){return Dq(Eg,e)}function P1e(e){return jq(Eg,e)}function M1e(e){return Lq(Eg,e)}var D1=de("ZodBoolean",(e,t)=>{hO.init(e,t),Wt.init(e,t)});function _8(e){return zq(D1,e)}var j1=de("ZodBigInt",(e,t)=>{mO.init(e,t),Wt.init(e,t),e.gte=(r,i)=>e.check(ls(r,i)),e.min=(r,i)=>e.check(ls(r,i)),e.gt=(r,i)=>e.check(up(r,i)),e.gte=(r,i)=>e.check(ls(r,i)),e.min=(r,i)=>e.check(ls(r,i)),e.lt=(r,i)=>e.check(lp(r,i)),e.lte=(r,i)=>e.check($a(r,i)),e.max=(r,i)=>e.check($a(r,i)),e.positive=r=>e.check(up(BigInt(0),r)),e.negative=r=>e.check(lp(BigInt(0),r)),e.nonpositive=r=>e.check($a(BigInt(0),r)),e.nonnegative=r=>e.check(ls(BigInt(0),r)),e.multipleOf=(r,i)=>e.check(nx(r,i));const n=e._zod.bag;e.minValue=n.minimum??null,e.maxValue=n.maximum??null,e.format=n.format??null});function O1e(e){return Vq(j1,e)}var EN=de("ZodBigIntFormat",(e,t)=>{HH.init(e,t),j1.init(e,t)});function N1e(e){return Uq(EN,e)}function R1e(e){return Zq(EN,e)}var T8=de("ZodSymbol",(e,t)=>{qH.init(e,t),Wt.init(e,t)});function D1e(e){return Wq(T8,e)}var C8=de("ZodUndefined",(e,t)=>{JH.init(e,t),Wt.init(e,t)});function j1e(e){return Hq(C8,e)}var E8=de("ZodNull",(e,t)=>{KH.init(e,t),Wt.init(e,t)});function I8(e){return qq(E8,e)}var A8=de("ZodAny",(e,t)=>{GH.init(e,t),Wt.init(e,t)});function L1e(){return Jq(A8)}var $8=de("ZodUnknown",(e,t)=>{Yk.init(e,t),Wt.init(e,t)});function t_(){return Qk($8)}var P8=de("ZodNever",(e,t)=>{YH.init(e,t),Wt.init(e,t)});function L1(e){return Kq(P8,e)}var M8=de("ZodVoid",(e,t)=>{XH.init(e,t),Wt.init(e,t)});function z1e(e){return Gq(M8,e)}var IN=de("ZodDate",(e,t)=>{QH.init(e,t),Wt.init(e,t),e.min=(r,i)=>e.check(ls(r,i)),e.max=(r,i)=>e.check($a(r,i));const n=e._zod.bag;e.minDate=n.minimum?new Date(n.minimum):null,e.maxDate=n.maximum?new Date(n.maximum):null});function F1e(e){return Yq(IN,e)}var O8=de("ZodArray",(e,t)=>{gO.init(e,t),Wt.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(lg(n,r)),e.nonempty=n=>e.check(lg(1,n)),e.max=(n,r)=>e.check(M1(n,r)),e.length=(n,r)=>e.check(O1(n,r)),e.unwrap=()=>e.element});function AN(e,t){return nN(O8,e,t)}function V1e(e){const t=e._zod.def.shape;return U8(Object.keys(t))}var z1=de("ZodObject",(e,t)=>{eq.init(e,t),Wt.init(e,t),un.defineLazy(e,"shape",()=>t.shape),e.keyof=()=>V8(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:t_()}),e.loose=()=>e.clone({...e._zod.def,catchall:t_()}),e.strict=()=>e.clone({...e._zod.def,catchall:L1()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>un.extend(e,n),e.merge=n=>un.merge(e,n),e.pick=n=>un.pick(e,n),e.omit=n=>un.omit(e,n),e.partial=(...n)=>un.partial(NN,e,n[0]),e.required=(...n)=>un.required(RN,e,n[0])});function B1e(e,t){const n={type:"object",get shape(){return un.assignProp(this,"shape",{...e}),this.shape},...un.normalizeParams(t)};return new z1(n)}function U1e(e,t){return new z1({type:"object",get shape(){return un.assignProp(this,"shape",{...e}),this.shape},catchall:L1(),...un.normalizeParams(t)})}function Z1e(e,t){return new z1({type:"object",get shape(){return un.assignProp(this,"shape",{...e}),this.shape},catchall:t_(),...un.normalizeParams(t)})}var $N=de("ZodUnion",(e,t)=>{yO.init(e,t),Wt.init(e,t),e.options=t.options});function F1(e,t){return new $N({type:"union",options:e,...un.normalizeParams(t)})}var N8=de("ZodDiscriminatedUnion",(e,t)=>{$N.init(e,t),tq.init(e,t)});function W1e(e,t,n){return new N8({type:"union",options:t,discriminator:e,...un.normalizeParams(n)})}var R8=de("ZodIntersection",(e,t)=>{nq.init(e,t),Wt.init(e,t)});function D8(e,t){return new R8({type:"intersection",left:e,right:t})}var j8=de("ZodTuple",(e,t)=>{$1.init(e,t),Wt.init(e,t),e.rest=n=>e.clone({...e._zod.def,rest:n})});function H1e(e,t,n){const r=t instanceof Et,i=r?n:t,o=r?t:null;return new j8({type:"tuple",items:e,rest:o,...un.normalizeParams(i)})}var PN=de("ZodRecord",(e,t)=>{rq.init(e,t),Wt.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function L8(e,t,n){return new PN({type:"record",keyType:e,valueType:t,...un.normalizeParams(n)})}function q1e(e,t,n){return new PN({type:"record",keyType:F1([e,L1()]),valueType:t,...un.normalizeParams(n)})}var z8=de("ZodMap",(e,t)=>{iq.init(e,t),Wt.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});function J1e(e,t,n){return new z8({type:"map",keyType:e,valueType:t,...un.normalizeParams(n)})}var F8=de("ZodSet",(e,t)=>{oq.init(e,t),Wt.init(e,t),e.min=(...n)=>e.check(rx(...n)),e.nonempty=n=>e.check(rx(1,n)),e.max=(...n)=>e.check(P1(...n)),e.size=(...n)=>e.check(ZO(...n))});function K1e(e,t){return new F8({type:"set",valueType:e,...un.normalizeParams(t)})}var ix=de("ZodEnum",(e,t)=>{sq.init(e,t),Wt.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,i)=>{const o={};for(const s of r)if(n.has(s))o[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new ix({...t,checks:[],...un.normalizeParams(i),entries:o})},e.exclude=(r,i)=>{const o={...t.entries};for(const s of r)if(n.has(s))delete o[s];else throw new Error(`Key ${s} not found in enum`);return new ix({...t,checks:[],...un.normalizeParams(i),entries:o})}});function V8(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new ix({type:"enum",entries:n,...un.normalizeParams(t)})}function G1e(e,t){return new ix({type:"enum",entries:e,...un.normalizeParams(t)})}var B8=de("ZodLiteral",(e,t)=>{aq.init(e,t),Wt.init(e,t),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function U8(e,t){return new B8({type:"literal",values:Array.isArray(e)?e:[e],...un.normalizeParams(t)})}var Z8=de("ZodFile",(e,t)=>{lq.init(e,t),Wt.init(e,t),e.min=(n,r)=>e.check(rx(n,r)),e.max=(n,r)=>e.check(P1(n,r)),e.mime=(n,r)=>e.check(YO(Array.isArray(n)?n:[n],r))});function Y1e(e){return s8(Z8,e)}var MN=de("ZodTransform",(e,t)=>{vO.init(e,t),Wt.init(e,t),e._zod.parse=(n,r)=>{n.addIssue=o=>{if(typeof o=="string")n.issues.push(un.issue(o,n.value,t));else{const s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=n.value),s.inst??(s.inst=e),s.continue??(s.continue=!0),n.issues.push(un.issue(s))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(o=>(n.value=o,n)):(n.value=i,n)}});function ON(e){return new MN({type:"transform",transform:e})}var NN=de("ZodOptional",(e,t)=>{uq.init(e,t),Wt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function n_(e){return new NN({type:"optional",innerType:e})}var W8=de("ZodNullable",(e,t)=>{cq.init(e,t),Wt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function r_(e){return new W8({type:"nullable",innerType:e})}function X1e(e){return n_(r_(e))}var H8=de("ZodDefault",(e,t)=>{dq.init(e,t),Wt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function q8(e,t){return new H8({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}var J8=de("ZodPrefault",(e,t)=>{fq.init(e,t),Wt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function K8(e,t){return new J8({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():t}})}var RN=de("ZodNonOptional",(e,t)=>{pq.init(e,t),Wt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function G8(e,t){return new RN({type:"nonoptional",innerType:e,...un.normalizeParams(t)})}var Y8=de("ZodSuccess",(e,t)=>{hq.init(e,t),Wt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function Q1e(e){return new Y8({type:"success",innerType:e})}var X8=de("ZodCatch",(e,t)=>{mq.init(e,t),Wt.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function Q8(e,t){return new X8({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}var eJ=de("ZodNaN",(e,t)=>{gq.init(e,t),Wt.init(e,t)});function eTe(e){return Qq(eJ,e)}var DN=de("ZodPipe",(e,t)=>{bO.init(e,t),Wt.init(e,t),e.in=t.in,e.out=t.out});function i_(e,t){return new DN({type:"pipe",in:e,out:t})}var tJ=de("ZodReadonly",(e,t)=>{yq.init(e,t),Wt.init(e,t)});function nJ(e){return new tJ({type:"readonly",innerType:e})}var rJ=de("ZodTemplateLiteral",(e,t)=>{vq.init(e,t),Wt.init(e,t)});function tTe(e,t){return new rJ({type:"template_literal",parts:e,...un.normalizeParams(t)})}var iJ=de("ZodLazy",(e,t)=>{xq.init(e,t),Wt.init(e,t),e.unwrap=()=>e._zod.def.getter()});function oJ(e){return new iJ({type:"lazy",getter:e})}var sJ=de("ZodPromise",(e,t)=>{bq.init(e,t),Wt.init(e,t),e.unwrap=()=>e._zod.def.innerType});function nTe(e){return new sJ({type:"promise",innerType:e})}var V1=de("ZodCustom",(e,t)=>{wq.init(e,t),Wt.init(e,t)});function aJ(e){const t=new Er({check:"custom"});return t._zod.check=e,t}function rTe(e,t){return a8(V1,e??(()=>!0),t)}function lJ(e,t={}){return l8(V1,e,t)}function uJ(e){const t=aJ(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(un.issue(r,n.value,t._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(un.issue(i))}},e(n.value,n)));return t}function iTe(e,t={error:`Input not instance of ${e.name}`}){const n=new V1({type:"custom",check:"custom",fn:r=>r instanceof e,abort:!0,...un.normalizeParams(t)});return n._zod.bag.Class=e,n}var oTe=(...e)=>u8({Pipe:DN,Boolean:D1,String:N1,Transform:MN},...e);function sTe(e){const t=oJ(()=>F1([KA(e),k8(),_8(),I8(),AN(t),L8(KA(),t)]));return t}function aTe(e,t){return i_(ON(e),t)}var lTe={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function uTe(e){fo({customError:e})}function cTe(){return fo().customError}var cJ={};md(cJ,{bigint:()=>hTe,boolean:()=>pTe,date:()=>mTe,number:()=>fTe,string:()=>dTe});function dTe(e){return Cq(N1,e)}function fTe(e){return Oq(R1,e)}function pTe(e){return Fq(D1,e)}function hTe(e){return Bq(j1,e)}function mTe(e){return Xq(IN,e)}fo(Sq());function YA(...e){return e.reduce((t,n)=>({...t,...n??{}}),{})}function Jx(e){return Object.fromEntries([...e.headers])}function dJ(e=globalThis){var t,n,r;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(r=(n=e.process)==null?void 0:n.versions)!=null&&r.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function gTe(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>n!=null))}function fJ(e,...t){const n=gTe(e??{}),r=new Headers(n),i=r.get("user-agent")||"";return r.set("user-agent",[i,...t].filter(Boolean).join(" ")),Object.fromEntries(r)}var yTe=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const i=()=>{const o=n.length,s=new Array(t);for(let a=0;a<t;a++)s[a]=n[Math.random()*o|0];return s.join("")};if(e==null)return i;if(n.includes(r))throw new ASe({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return()=>`${e}${r}${i()}`};yTe();function ox(e){return(e instanceof Error||e instanceof DOMException)&&(e.name==="AbortError"||e.name==="ResponseAborted"||e.name==="TimeoutError")}var vTe=["fetch failed","failed to fetch"];function pJ({error:e,url:t,requestBodyValues:n}){if(ox(e))return e;if(e instanceof TypeError&&vTe.includes(e.message.toLowerCase())){const r=e.cause;if(r!=null)return new Mo({message:`Cannot connect to API: ${r.message}`,cause:r,url:t,requestBodyValues:n,isRetryable:!0})}return e}var hJ="3.0.9",bTe=()=>globalThis.fetch,xTe=async({url:e,headers:t={},successfulResponseHandler:n,failedResponseHandler:r,abortSignal:i,fetch:o=bTe()})=>{try{const s=await o(e,{method:"GET",headers:fJ(t,`ai-sdk/provider-utils/${hJ}`,dJ()),signal:i}),a=Jx(s);if(!s.ok){let l;try{l=await r({response:s,url:e,requestBodyValues:{}})}catch(u){throw ox(u)||Mo.isInstance(u)?u:new Mo({message:"Failed to process error response",cause:u,statusCode:s.status,url:e,responseHeaders:a,requestBodyValues:{}})}throw l.value}try{return await n({response:s,url:e,requestBodyValues:{}})}catch(l){throw l instanceof Error&&(ox(l)||Mo.isInstance(l))?l:new Mo({message:"Failed to process successful response",cause:l,statusCode:s.status,url:e,responseHeaders:a,requestBodyValues:{}})}}catch(s){throw pJ({error:s,url:e,requestBodyValues:{}})}};function BS({settingValue:e,environmentVariableName:t}){if(typeof e=="string")return e;if(!(e!=null||typeof process>"u")&&(e=_1[t],!(e==null||typeof e!="string")))return e}var wTe=/"__proto__"\s*:/,STe=/"constructor"\s*:/;function kTe(e){const t=JSON.parse(e);return t===null||typeof t!="object"||wTe.test(e)===!1&&STe.test(e)===!1?t:_Te(t)}function _Te(e){let t=[e];for(;t.length;){const n=t;t=[];for(const r of n){if(Object.prototype.hasOwnProperty.call(r,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(r,"constructor")&&Object.prototype.hasOwnProperty.call(r.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const i in r){const o=r[i];o&&typeof o=="object"&&t.push(o)}}}return e}function mJ(e){const{stackTraceLimit:t}=Error;Error.stackTraceLimit=0;try{return kTe(e)}finally{Error.stackTraceLimit=t}}var XA=Symbol.for("vercel.ai.validator");function TTe(e){return{[XA]:!0,validate:e}}function CTe(e){return typeof e=="object"&&e!==null&&XA in e&&e[XA]===!0&&"validate"in e}function ETe(e){return CTe(e)?e:ITe(e)}function ITe(e){return TTe(async t=>{const n=await e["~standard"].validate(t);return n.issues==null?{success:!0,value:n.value}:{success:!1,error:new Qb({value:t,cause:n.issues})}})}async function ATe({value:e,schema:t}){const n=await gJ({value:e,schema:t});if(!n.success)throw Qb.wrap({value:e,cause:n.error});return n.value}async function gJ({value:e,schema:t}){const n=ETe(t);try{if(n.validate==null)return{success:!0,value:e,rawValue:e};const r=await n.validate(e);return r.success?{success:!0,value:r.value,rawValue:e}:{success:!1,error:Qb.wrap({value:e,cause:r.error}),rawValue:e}}catch(r){return{success:!1,error:Qb.wrap({value:e,cause:r}),rawValue:e}}}async function $Te({text:e,schema:t}){try{const n=mJ(e);return t==null?n:ATe({value:n,schema:t})}catch(n){throw Jk.isInstance(n)||Qb.isInstance(n)?n:new Jk({text:e,cause:n})}}async function yJ({text:e,schema:t}){try{const n=mJ(e);return t==null?{success:!0,value:n,rawValue:n}:await gJ({value:n,schema:t})}catch(n){return{success:!1,error:Jk.isInstance(n)?n:new Jk({text:e,cause:n}),rawValue:void 0}}}function PTe({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new nW).pipeThrough(new TransformStream({async transform({data:n},r){n!=="[DONE]"&&r.enqueue(await yJ({text:n,schema:t}))}}))}var MTe=()=>globalThis.fetch,QA=async({url:e,headers:t,body:n,failedResponseHandler:r,successfulResponseHandler:i,abortSignal:o,fetch:s})=>OTe({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(n),values:n},failedResponseHandler:r,successfulResponseHandler:i,abortSignal:o,fetch:s}),OTe=async({url:e,headers:t={},body:n,successfulResponseHandler:r,failedResponseHandler:i,abortSignal:o,fetch:s=MTe()})=>{try{const a=await s(e,{method:"POST",headers:fJ(t,`ai-sdk/provider-utils/${hJ}`,dJ()),body:n.content,signal:o}),l=Jx(a);if(!a.ok){let u;try{u=await i({response:a,url:e,requestBodyValues:n.values})}catch(d){throw ox(d)||Mo.isInstance(d)?d:new Mo({message:"Failed to process error response",cause:d,statusCode:a.status,url:e,responseHeaders:l,requestBodyValues:n.values})}throw u.value}try{return await r({response:a,url:e,requestBodyValues:n.values})}catch(u){throw u instanceof Error&&(ox(u)||Mo.isInstance(u))?u:new Mo({message:"Failed to process successful response",cause:u,statusCode:a.status,url:e,responseHeaders:l,requestBodyValues:n.values})}}catch(a){throw pJ({error:a,url:e,requestBodyValues:n.values})}};async function Df(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var o_=({errorSchema:e,errorToMessage:t,isRetryable:n})=>async({response:r,url:i,requestBodyValues:o})=>{const s=await r.text(),a=Jx(r);if(s.trim()==="")return{responseHeaders:a,value:new Mo({message:r.statusText,url:i,requestBodyValues:o,statusCode:r.status,responseHeaders:a,responseBody:s,isRetryable:n?.(r)})};try{const l=await $Te({text:s,schema:e});return{responseHeaders:a,value:new Mo({message:t(l),url:i,requestBodyValues:o,statusCode:r.status,responseHeaders:a,responseBody:s,data:l,isRetryable:n?.(r,l)})}}catch{return{responseHeaders:a,value:new Mo({message:r.statusText,url:i,requestBodyValues:o,statusCode:r.status,responseHeaders:a,responseBody:s,isRetryable:n?.(r)})}}},NTe=e=>async({response:t})=>{const n=Jx(t);if(t.body==null)throw new ESe({});return{responseHeaders:n,value:PTe({stream:t.body,schema:e})}},jN=e=>async({response:t,url:n,requestBodyValues:r})=>{const i=await t.text(),o=await yJ({text:i,schema:e}),s=Jx(t);if(!o.success)throw new Mo({message:"Invalid JSON response",cause:o.error,statusCode:t.status,responseHeaders:s,responseBody:i,url:n,requestBodyValues:r});return{responseHeaders:s,value:o.value,rawValue:o.rawValue}};new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function RTe(e){return e?.replace(/\/$/,"")}var DTe="vercel.ai.gateway.error",fE=Symbol.for(DTe),R4,D4,fs=class vJ extends(D4=Error,R4=fE,D4){constructor({message:t,statusCode:n=500,cause:r}){super(t),this[R4]=!0,this.statusCode=n,this.cause=r}static isInstance(t){return vJ.hasMarker(t)}static hasMarker(t){return typeof t=="object"&&t!==null&&fE in t&&t[fE]===!0}},bJ="GatewayAuthenticationError",jTe=`vercel.ai.gateway.error.${bJ}`,j4=Symbol.for(jTe),L4,z4,B1=class xJ extends(z4=fs,L4=j4,z4){constructor({message:t="Authentication failed",statusCode:n=401,cause:r}={}){super({message:t,statusCode:n,cause:r}),this[L4]=!0,this.name=bJ,this.type="authentication_error"}static isInstance(t){return fs.hasMarker(t)&&j4 in t}static createContextualError({apiKeyProvided:t,oidcTokenProvided:n,message:r="Authentication failed",statusCode:i=401,cause:o}){let s;return t?s=`AI Gateway authentication failed: Invalid API key provided.

The token is expected to be provided via the 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.`:n?s=`AI Gateway authentication failed: Invalid OIDC token provided.

The token is expected to be provided via the 'VERCEL_OIDC_TOKEN' environment variable. It expires every 12 hours.
- make sure your Vercel project settings have OIDC enabled
- if running locally with 'vercel dev', the token is automatically obtained and refreshed
- if running locally with your own dev server, run 'vercel env pull' to fetch the token
- in production/preview, the token is automatically obtained and refreshed

Alternative: Provide an API key via 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.`:s=`AI Gateway authentication failed: No authentication provided.

Provide either an API key or OIDC token.

API key instructions:

The token is expected to be provided via the 'apiKey' option or 'AI_GATEWAY_API_KEY' environment variable.

OIDC token instructions:

The token is expected to be provided via the 'VERCEL_OIDC_TOKEN' environment variable. It expires every 12 hours.
- make sure your Vercel project settings have OIDC enabled
- if running locally with 'vercel dev', the token is automatically obtained and refreshed
- if running locally with your own dev server, run 'vercel env pull' to fetch the token
- in production/preview, the token is automatically obtained and refreshed`,new xJ({message:s,statusCode:i,cause:o})}},wJ="GatewayInvalidRequestError",LTe=`vercel.ai.gateway.error.${wJ}`,F4=Symbol.for(LTe),V4,B4,zTe=class extends(B4=fs,V4=F4,B4){constructor({message:e="Invalid request",statusCode:t=400,cause:n}={}){super({message:e,statusCode:t,cause:n}),this[V4]=!0,this.name=wJ,this.type="invalid_request_error"}static isInstance(e){return fs.hasMarker(e)&&F4 in e}},SJ="GatewayRateLimitError",FTe=`vercel.ai.gateway.error.${SJ}`,U4=Symbol.for(FTe),Z4,W4,VTe=class extends(W4=fs,Z4=U4,W4){constructor({message:e="Rate limit exceeded",statusCode:t=429,cause:n}={}){super({message:e,statusCode:t,cause:n}),this[Z4]=!0,this.name=SJ,this.type="rate_limit_exceeded"}static isInstance(e){return fs.hasMarker(e)&&U4 in e}},kJ="GatewayModelNotFoundError",BTe=`vercel.ai.gateway.error.${kJ}`,H4=Symbol.for(BTe),UTe=S.object({modelId:S.string()}),q4,J4,_J=class extends(J4=fs,q4=H4,J4){constructor({message:e="Model not found",statusCode:t=404,modelId:n,cause:r}={}){super({message:e,statusCode:t,cause:r}),this[q4]=!0,this.name=kJ,this.type="model_not_found",this.modelId=n}static isInstance(e){return fs.hasMarker(e)&&H4 in e}},TJ="GatewayInternalServerError",ZTe=`vercel.ai.gateway.error.${TJ}`,K4=Symbol.for(ZTe),G4,Y4,X4=class extends(Y4=fs,G4=K4,Y4){constructor({message:e="Internal server error",statusCode:t=500,cause:n}={}){super({message:e,statusCode:t,cause:n}),this[G4]=!0,this.name=TJ,this.type="internal_server_error"}static isInstance(e){return fs.hasMarker(e)&&K4 in e}},CJ="GatewayResponseError",WTe=`vercel.ai.gateway.error.${CJ}`,Q4=Symbol.for(WTe),eF,tF,HTe=class extends(tF=fs,eF=Q4,tF){constructor({message:e="Invalid response from Gateway",statusCode:t=502,response:n,validationError:r,cause:i}={}){super({message:e,statusCode:t,cause:i}),this[eF]=!0,this.name=CJ,this.type="response_error",this.response=n,this.validationError=r}static isInstance(e){return fs.hasMarker(e)&&Q4 in e}};function nF({response:e,statusCode:t,defaultMessage:n="Gateway request failed",cause:r,authMethod:i}){const o=qTe.safeParse(e);if(!o.success)return new HTe({message:`Invalid error response format: ${n}`,statusCode:t,response:e,validationError:o.error,cause:r});const s=o.data,a=s.error.type,l=s.error.message;switch(a){case"authentication_error":return B1.createContextualError({apiKeyProvided:i==="api-key",oidcTokenProvided:i==="oidc",statusCode:t,cause:r});case"invalid_request_error":return new zTe({message:l,statusCode:t,cause:r});case"rate_limit_exceeded":return new VTe({message:l,statusCode:t,cause:r});case"model_not_found":{const u=UTe.safeParse(s.error.param);return new _J({message:l,statusCode:t,modelId:u.success?u.data.modelId:void 0,cause:r})}case"internal_server_error":return new X4({message:l,statusCode:t,cause:r});default:return new X4({message:l,statusCode:t,cause:r})}}var qTe=S.object({error:S.object({message:S.string(),type:S.string().nullish(),param:S.unknown().nullish(),code:S.union([S.string(),S.number()]).nullish()})});function sx(e,t){var n;return fs.isInstance(e)?e:Mo.isInstance(e)?nF({response:JTe(e),statusCode:(n=e.statusCode)!=null?n:500,defaultMessage:"Gateway request failed",cause:e,authMethod:t}):nF({response:{},statusCode:500,defaultMessage:e instanceof Error?`Gateway request failed: ${e.message}`:"Unknown Gateway error",cause:e,authMethod:t})}function JTe(e){if(e.data!==void 0)return e.data;if(e.responseBody!=null)try{return JSON.parse(e.responseBody)}catch{return e.responseBody}return{}}var EJ="ai-gateway-auth-method";function s_(e){const t=KTe.safeParse(e[EJ]);return t.success?t.data:void 0}var KTe=S.union([S.literal("api-key"),S.literal("oidc")]),GTe=class{constructor(e){this.config=e}async getAvailableModels(){try{const{value:e}=await xTe({url:`${this.config.baseURL}/config`,headers:await Df(this.config.headers()),successfulResponseHandler:jN(eCe),failedResponseHandler:o_({errorSchema:S.any(),errorToMessage:t=>t}),fetch:this.config.fetch});return e}catch(e){throw sx(e)}}},YTe=S.object({specificationVersion:S.literal("v2"),provider:S.string(),modelId:S.string()}),XTe=S.object({input:S.string(),output:S.string(),input_cache_read:S.string().nullish(),input_cache_write:S.string().nullish()}).transform(({input:e,output:t,input_cache_read:n,input_cache_write:r})=>({input:e,output:t,...n?{cachedInputTokens:n}:{},...r?{cacheCreationInputTokens:r}:{}})),QTe=S.object({id:S.string(),name:S.string(),description:S.string().nullish(),pricing:XTe.nullish(),specification:YTe,modelType:S.enum(["language","embedding","image"]).nullish()}),eCe=S.object({models:S.array(QTe)}),tCe=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.supportedUrls={"*/*":[/.*/]}}get provider(){return this.config.provider}async getArgs(e){const{abortSignal:t,...n}=e;return{args:this.maybeEncodeFileParts(n),warnings:[]}}async doGenerate(e){const{args:t,warnings:n}=await this.getArgs(e),{abortSignal:r}=e,i=await Df(this.config.headers());try{const{responseHeaders:o,value:s,rawValue:a}=await QA({url:this.getUrl(),headers:YA(i,e.headers,this.getModelConfigHeaders(this.modelId,!1),await Df(this.config.o11yHeaders)),body:t,successfulResponseHandler:jN(S.any()),failedResponseHandler:o_({errorSchema:S.any(),errorToMessage:l=>l}),...r&&{abortSignal:r},fetch:this.config.fetch});return{...s,request:{body:t},response:{headers:o,body:a},warnings:n}}catch(o){throw sx(o,s_(i))}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),{abortSignal:r}=e,i=await Df(this.config.headers());try{const{value:o,responseHeaders:s}=await QA({url:this.getUrl(),headers:YA(i,e.headers,this.getModelConfigHeaders(this.modelId,!0),await Df(this.config.o11yHeaders)),body:t,successfulResponseHandler:NTe(S.any()),failedResponseHandler:o_({errorSchema:S.any(),errorToMessage:a=>a}),...r&&{abortSignal:r},fetch:this.config.fetch});return{stream:o.pipeThrough(new TransformStream({start(a){n.length>0&&a.enqueue({type:"stream-start",warnings:n})},transform(a,l){if(a.success){const u=a.value;if(u.type==="raw"&&!e.includeRawChunks)return;u.type==="response-metadata"&&u.timestamp&&typeof u.timestamp=="string"&&(u.timestamp=new Date(u.timestamp)),l.enqueue(u)}else l.error(a.error)}})),request:{body:t},response:{headers:s}}}catch(o){throw sx(o,s_(i))}}isFilePart(e){return e&&typeof e=="object"&&"type"in e&&e.type==="file"}maybeEncodeFileParts(e){for(const t of e.prompt)for(const n of t.content)if(this.isFilePart(n)){const r=n;if(r.data instanceof Uint8Array){const i=Uint8Array.from(r.data),o=Buffer.from(i).toString("base64");r.data=new URL(`data:${r.mediaType||"application/octet-stream"};base64,${o}`)}}return e}getUrl(){return`${this.config.baseURL}/language-model`}getModelConfigHeaders(e,t){return{"ai-language-model-specification-version":"2","ai-language-model-id":e,"ai-language-model-streaming":String(t)}}},nCe=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0}get provider(){return this.config.provider}async doEmbed({values:e,headers:t,abortSignal:n,providerOptions:r}){var i;const o=await Df(this.config.headers());try{const{responseHeaders:s,value:a,rawValue:l}=await QA({url:this.getUrl(),headers:YA(o,t??{},this.getModelConfigHeaders(),await Df(this.config.o11yHeaders)),body:{input:e.length===1?e[0]:e,...r?{providerOptions:r}:{}},successfulResponseHandler:jN(rCe),failedResponseHandler:o_({errorSchema:S.any(),errorToMessage:u=>u}),...n&&{abortSignal:n},fetch:this.config.fetch});return{embeddings:a.embeddings,usage:(i=a.usage)!=null?i:void 0,providerMetadata:a.providerMetadata,response:{headers:s,body:l}}}catch(s){throw sx(s,s_(o))}}getUrl(){return`${this.config.baseURL}/embedding-model`}getModelConfigHeaders(){return{"ai-embedding-model-specification-version":"2","ai-model-id":this.modelId}}},rCe=S.object({embeddings:S.array(S.array(S.number())),usage:S.object({tokens:S.number()}).nullish(),providerMetadata:S.record(S.string(),S.record(S.string(),S.unknown())).optional()});async function iCe(){var e,t;const n=(t=(e=IJ().headers)==null?void 0:e["x-vercel-oidc-token"])!=null?t:_1.VERCEL_OIDC_TOKEN;if(!n)throw new B1({message:"OIDC token not available",statusCode:401});return n}async function oCe(){var e;return(e=IJ().headers)==null?void 0:e["x-vercel-id"]}var sCe=Symbol.for("@vercel/request-context");function IJ(){var e,t,n;return(n=(t=(e=globalThis[sCe])==null?void 0:e.get)==null?void 0:t.call(e))!=null?n:{}}var aCe="0.0.1";function lCe(e={}){var t,n;let r=null,i=null;const o=(t=e.metadataCacheRefreshMillis)!=null?t:1e3*60*5;let s=0;const a=(n=RTe(e.baseURL))!=null?n:"https://ai-gateway.vercel.sh/v1/ai",l=async()=>{const m=await cCe(e);if(m)return{Authorization:`Bearer ${m.token}`,"ai-gateway-protocol-version":aCe,[EJ]:m.authMethod,...e.headers};throw B1.createContextualError({apiKeyProvided:!1,oidcTokenProvided:!1,statusCode:401})},u=()=>{const m=BS({settingValue:void 0,environmentVariableName:"VERCEL_DEPLOYMENT_ID"}),b=BS({settingValue:void 0,environmentVariableName:"VERCEL_ENV"}),x=BS({settingValue:void 0,environmentVariableName:"VERCEL_REGION"});return async()=>{const k=await oCe();return{...m&&{"ai-o11y-deployment-id":m},...b&&{"ai-o11y-environment":b},...x&&{"ai-o11y-region":x},...k&&{"ai-o11y-request-id":k}}}},d=m=>new tCe(m,{provider:"gateway",baseURL:a,headers:l,fetch:e.fetch,o11yHeaders:u()}),f=async()=>{var m,b,x;const k=(x=(b=(m=e._internal)==null?void 0:m.currentDate)==null?void 0:b.call(m).getTime())!=null?x:Date.now();return(!r||k-s>o)&&(s=k,r=new GTe({baseURL:a,headers:l,fetch:e.fetch}).getAvailableModels().then(T=>(i=T,T)).catch(async T=>{throw sx(T,s_(await l()))})),i?Promise.resolve(i):r},g=function(m){if(new.target)throw new Error("The Gateway Provider model function cannot be called with the new keyword.");return d(m)};return g.getAvailableModels=f,g.imageModel=m=>{throw new MSe({modelId:m,modelType:"imageModel"})},g.languageModel=d,g.textEmbeddingModel=m=>new nCe(m,{provider:"gateway",baseURL:a,headers:l,fetch:e.fetch,o11yHeaders:u()}),g}var uCe=lCe();async function cCe(e){const t=BS({settingValue:e.apiKey,environmentVariableName:"AI_GATEWAY_API_KEY"});if(t)return{token:t,authMethod:"api-key"};try{return{token:await iCe(),authMethod:"oidc"}}catch{return null}}var AJ="vercel.ai.error",dCe=Symbol.for(AJ),$J,fCe=class PJ extends Error{constructor({name:t,message:n,cause:r}){super(n),this[$J]=!0,this.name=t,this.cause=r}static isInstance(t){return PJ.hasMarker(t,AJ)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};$J=dCe;var Zt=fCe,MJ="AI_APICallError",OJ=`vercel.ai.error.${MJ}`,pCe=Symbol.for(OJ),NJ,hCe=class extends Zt{constructor({message:e,url:t,requestBodyValues:n,statusCode:r,responseHeaders:i,responseBody:o,cause:s,isRetryable:a=r!=null&&(r===408||r===409||r===429||r>=500),data:l}){super({name:MJ,message:e,cause:s}),this[NJ]=!0,this.url=t,this.requestBodyValues=n,this.statusCode=r,this.responseHeaders=i,this.responseBody=o,this.isRetryable=a,this.data=l}static isInstance(e){return Zt.hasMarker(e,OJ)}};NJ=pCe;function Ig(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var RJ="AI_InvalidArgumentError",DJ=`vercel.ai.error.${RJ}`,mCe=Symbol.for(DJ),jJ,gCe=class extends Zt{constructor({message:e,cause:t,argument:n}){super({name:RJ,message:e,cause:t}),this[jJ]=!0,this.argument=n}static isInstance(e){return Zt.hasMarker(e,DJ)}};jJ=mCe;var LJ="AI_InvalidPromptError",zJ=`vercel.ai.error.${LJ}`,yCe=Symbol.for(zJ),FJ,Xh=class extends Zt{constructor({prompt:e,message:t,cause:n}){super({name:LJ,message:`Invalid prompt: ${t}`,cause:n}),this[FJ]=!0,this.prompt=e}static isInstance(e){return Zt.hasMarker(e,zJ)}};FJ=yCe;var VJ="AI_JSONParseError",BJ=`vercel.ai.error.${VJ}`,vCe=Symbol.for(BJ),UJ,e$=class extends Zt{constructor({text:e,cause:t}){super({name:VJ,message:`JSON parsing failed: Text: ${e}.
Error message: ${Ig(t)}`,cause:t}),this[UJ]=!0,this.text=e}static isInstance(e){return Zt.hasMarker(e,BJ)}};UJ=vCe;var ZJ="AI_TypeValidationError",WJ=`vercel.ai.error.${ZJ}`,bCe=Symbol.for(WJ),HJ,xCe=class t$ extends Zt{constructor({value:t,cause:n}){super({name:ZJ,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${Ig(n)}`,cause:n}),this[HJ]=!0,this.value=t}static isInstance(t){return Zt.hasMarker(t,WJ)}static wrap({value:t,cause:n}){return t$.isInstance(n)&&n.value===t?n:new t$({value:t,cause:n})}};HJ=bCe;var Ca=xCe,qJ="AI_UnsupportedFunctionalityError",JJ=`vercel.ai.error.${qJ}`,wCe=Symbol.for(JJ),KJ,LN=class extends Zt{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:qJ,message:t}),this[KJ]=!0,this.functionality=e}static isInstance(e){return Zt.hasMarker(e,JJ)}};KJ=wCe;function a_(e){return e===null||typeof e=="string"||typeof e=="number"||typeof e=="boolean"?!0:Array.isArray(e)?e.every(a_):typeof e=="object"?Object.entries(e).every(([t,n])=>typeof t=="string"&&a_(n)):!1}function rF(e){return Array.isArray(e)&&e.every(a_)}function l_(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,n])=>typeof t=="string"&&a_(n))}async function SCe(e,t){if(e==null)return Promise.resolve();const n=t?.abortSignal;return new Promise((r,i)=>{if(n?.aborted){i(iF());return}const o=setTimeout(()=>{s(),r()},e),s=()=>{clearTimeout(o),n?.removeEventListener("abort",a)},a=()=>{s(),i(iF())};n?.addEventListener("abort",a)})}function iF(){return new DOMException("Delay was aborted","AbortError")}function kCe(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>n!=null))}function U1(e,...t){const n=kCe(e??{}),r=new Headers(n),i=r.get("user-agent")||"";return r.set("user-agent",[i,...t].filter(Boolean).join(" ")),Object.fromEntries(r)}var Kx=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const i=()=>{const o=n.length,s=new Array(t);for(let a=0;a<t;a++)s[a]=n[Math.random()*o|0];return s.join("")};if(e==null)return i;if(n.includes(r))throw new gCe({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return()=>`${e}${r}${i()}`},_Ce=Kx();function zN(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}function GJ(e){return(e instanceof Error||e instanceof DOMException)&&(e.name==="AbortError"||e.name==="ResponseAborted"||e.name==="TimeoutError")}function TCe({mediaType:e,url:t,supportedUrls:n}){return t=t.toLowerCase(),e=e.toLowerCase(),Object.entries(n).map(([r,i])=>{const o=r.toLowerCase();return o==="*"||o==="*/*"?{mediaTypePrefix:"",regexes:i}:{mediaTypePrefix:o.replace(/\*/,""),regexes:i}}).filter(({mediaTypePrefix:r})=>e.startsWith(r)).flatMap(({regexes:r})=>r).some(r=>r.test(t))}var CCe=/"__proto__"\s*:/,ECe=/"constructor"\s*:/;function ICe(e){const t=JSON.parse(e);return t===null||typeof t!="object"||CCe.test(e)===!1&&ECe.test(e)===!1?t:ACe(t)}function ACe(e){let t=[e];for(;t.length;){const n=t;t=[];for(const r of n){if(Object.prototype.hasOwnProperty.call(r,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(r,"constructor")&&Object.prototype.hasOwnProperty.call(r.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const i in r){const o=r[i];o&&typeof o=="object"&&t.push(o)}}}return e}function $Ce(e){const{stackTraceLimit:t}=Error;Error.stackTraceLimit=0;try{return ICe(e)}finally{Error.stackTraceLimit=t}}var u_=Symbol.for("vercel.ai.validator");function PCe(e){return{[u_]:!0,validate:e}}function MCe(e){return typeof e=="object"&&e!==null&&u_ in e&&e[u_]===!0&&"validate"in e}function OCe(e){return MCe(e)?e:NCe(e)}function NCe(e){return PCe(async t=>{const n=await e["~standard"].validate(t);return n.issues==null?{success:!0,value:n.value}:{success:!1,error:new Ca({value:t,cause:n.issues})}})}async function oF({value:e,schema:t}){const n=await od({value:e,schema:t});if(!n.success)throw Ca.wrap({value:e,cause:n.error});return n.value}async function od({value:e,schema:t}){const n=OCe(t);try{if(n.validate==null)return{success:!0,value:e,rawValue:e};const r=await n.validate(e);return r.success?{success:!0,value:r.value,rawValue:e}:{success:!1,error:Ca.wrap({value:e,cause:r.error}),rawValue:e}}catch(r){return{success:!1,error:Ca.wrap({value:e,cause:r}),rawValue:e}}}async function ug({text:e,schema:t}){try{const n=$Ce(e);return t==null?{success:!0,value:n,rawValue:n}:await od({value:n,schema:t})}catch(n){return{success:!1,error:e$.isInstance(n)?n:new e$({text:e,cause:n}),rawValue:void 0}}}var RCe=(e,t)=>{let n=0;for(;n<e.length&&n<t.length&&e[n]===t[n];n++);return[(e.length-n).toString(),...t.slice(n)].join("/")},DCe=Symbol("Let zodToJsonSchema decide on which parser to use"),sF={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},jCe=e=>typeof e=="string"?{...sF,name:e}:{...sF,...e};function ps(){return{}}function LCe(e,t){var n,r,i;const o={type:"array"};return(n=e.type)!=null&&n._def&&((i=(r=e.type)==null?void 0:r._def)==null?void 0:i.typeName)!==ge.ZodAny&&(o.items=En(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(o.minItems=e.minLength.value),e.maxLength&&(o.maxItems=e.maxLength.value),e.exactLength&&(o.minItems=e.exactLength.value,o.maxItems=e.exactLength.value),o}function zCe(e){const t={type:"integer",format:"int64"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function FCe(){return{type:"boolean"}}function YJ(e,t){return En(e.type._def,t)}var VCe=(e,t)=>En(e.innerType._def,t);function XJ(e,t,n){const r=n??t.dateStrategy;if(Array.isArray(r))return{anyOf:r.map((i,o)=>XJ(e,t,i))};switch(r){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return BCe(e)}}var BCe=e=>{const t={type:"integer",format:"unix-time"};for(const n of e.checks)switch(n.kind){case"min":t.minimum=n.value;break;case"max":t.maximum=n.value;break}return t};function UCe(e,t){return{...En(e.innerType._def,t),default:e.defaultValue()}}function ZCe(e,t){return t.effectStrategy==="input"?En(e.schema._def,t):ps()}function WCe(e){return{type:"string",enum:Array.from(e.values)}}var HCe=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function qCe(e,t){const n=[En(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),En(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(i=>!!i),r=[];return n.forEach(i=>{if(HCe(i))r.push(...i.allOf);else{let o=i;if("additionalProperties"in i&&i.additionalProperties===!1){const{additionalProperties:s,...a}=i;o=a}r.push(o)}}),r.length?{allOf:r}:void 0}function JCe(e){const t=typeof e.value;return t!=="bigint"&&t!=="number"&&t!=="boolean"&&t!=="string"?{type:Array.isArray(e.value)?"array":"object"}:{type:t==="bigint"?"integer":t,const:e.value}}var pE=void 0,wa={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(pE===void 0&&(pE=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),pE),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function QJ(e,t){const n={type:"string"};if(e.checks)for(const r of e.checks)switch(r.kind){case"min":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value;break;case"max":n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"email":switch(t.emailStrategy){case"format:email":Sa(n,"email",r.message,t);break;case"format:idn-email":Sa(n,"idn-email",r.message,t);break;case"pattern:zod":Qi(n,wa.email,r.message,t);break}break;case"url":Sa(n,"uri",r.message,t);break;case"uuid":Sa(n,"uuid",r.message,t);break;case"regex":Qi(n,r.regex,r.message,t);break;case"cuid":Qi(n,wa.cuid,r.message,t);break;case"cuid2":Qi(n,wa.cuid2,r.message,t);break;case"startsWith":Qi(n,RegExp(`^${hE(r.value,t)}`),r.message,t);break;case"endsWith":Qi(n,RegExp(`${hE(r.value,t)}$`),r.message,t);break;case"datetime":Sa(n,"date-time",r.message,t);break;case"date":Sa(n,"date",r.message,t);break;case"time":Sa(n,"time",r.message,t);break;case"duration":Sa(n,"duration",r.message,t);break;case"length":n.minLength=typeof n.minLength=="number"?Math.max(n.minLength,r.value):r.value,n.maxLength=typeof n.maxLength=="number"?Math.min(n.maxLength,r.value):r.value;break;case"includes":{Qi(n,RegExp(hE(r.value,t)),r.message,t);break}case"ip":{r.version!=="v6"&&Sa(n,"ipv4",r.message,t),r.version!=="v4"&&Sa(n,"ipv6",r.message,t);break}case"base64url":Qi(n,wa.base64url,r.message,t);break;case"jwt":Qi(n,wa.jwt,r.message,t);break;case"cidr":{r.version!=="v6"&&Qi(n,wa.ipv4Cidr,r.message,t),r.version!=="v4"&&Qi(n,wa.ipv6Cidr,r.message,t);break}case"emoji":Qi(n,wa.emoji(),r.message,t);break;case"ulid":{Qi(n,wa.ulid,r.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Sa(n,"binary",r.message,t);break}case"contentEncoding:base64":{n.contentEncoding="base64";break}case"pattern:zod":{Qi(n,wa.base64,r.message,t);break}}break}case"nanoid":Qi(n,wa.nanoid,r.message,t)}return n}function hE(e,t){return t.patternStrategy==="escape"?GCe(e):e}var KCe=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function GCe(e){let t="";for(let n=0;n<e.length;n++)KCe.has(e[n])||(t+="\\"),t+=e[n];return t}function Sa(e,t,n,r){var i;e.format||(i=e.anyOf)!=null&&i.some(o=>o.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format}),delete e.format),e.anyOf.push({format:t,...n&&r.errorMessages&&{errorMessage:{format:n}}})):e.format=t}function Qi(e,t,n,r){var i;e.pattern||(i=e.allOf)!=null&&i.some(o=>o.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern}),delete e.pattern),e.allOf.push({pattern:aF(t,r),...n&&r.errorMessages&&{errorMessage:{pattern:n}}})):e.pattern=aF(t,r)}function aF(e,t){var n;if(!t.applyRegexFlags||!e.flags)return e.source;const r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},i=r.i?e.source.toLowerCase():e.source;let o="",s=!1,a=!1,l=!1;for(let u=0;u<i.length;u++){if(s){o+=i[u],s=!1;continue}if(r.i){if(a){if(i[u].match(/[a-z]/)){l?(o+=i[u],o+=`${i[u-2]}-${i[u]}`.toUpperCase(),l=!1):i[u+1]==="-"&&((n=i[u+2])!=null&&n.match(/[a-z]/))?(o+=i[u],l=!0):o+=`${i[u]}${i[u].toUpperCase()}`;continue}}else if(i[u].match(/[a-z]/)){o+=`[${i[u]}${i[u].toUpperCase()}]`;continue}}if(r.m){if(i[u]==="^"){o+=`(^|(?<=[\r
]))`;continue}else if(i[u]==="$"){o+=`($|(?=[\r
]))`;continue}}if(r.s&&i[u]==="."){o+=a?`${i[u]}\r
`:`[${i[u]}\r
]`;continue}o+=i[u],i[u]==="\\"?s=!0:a&&i[u]==="]"?a=!1:!a&&i[u]==="["&&(a=!0)}try{new RegExp(o)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return o}function eK(e,t){var n,r,i,o,s,a;const l={type:"object",additionalProperties:(n=En(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]}))!=null?n:t.allowedAdditionalProperties};if(((r=e.keyType)==null?void 0:r._def.typeName)===ge.ZodString&&((i=e.keyType._def.checks)!=null&&i.length)){const{type:u,...d}=QJ(e.keyType._def,t);return{...l,propertyNames:d}}else{if(((o=e.keyType)==null?void 0:o._def.typeName)===ge.ZodEnum)return{...l,propertyNames:{enum:e.keyType._def.values}};if(((s=e.keyType)==null?void 0:s._def.typeName)===ge.ZodBranded&&e.keyType._def.type._def.typeName===ge.ZodString&&((a=e.keyType._def.type._def.checks)!=null&&a.length)){const{type:u,...d}=YJ(e.keyType._def,t);return{...l,propertyNames:d}}}return l}function YCe(e,t){if(t.mapStrategy==="record")return eK(e,t);const n=En(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||ps(),r=En(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||ps();return{type:"array",maxItems:125,items:{type:"array",items:[n,r],minItems:2,maxItems:2}}}function XCe(e){const t=e.values,r=Object.keys(e.values).filter(o=>typeof t[t[o]]!="number").map(o=>t[o]),i=Array.from(new Set(r.map(o=>typeof o)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:r}}function QCe(){return{not:ps()}}function eEe(){return{type:"null"}}var n$={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function tEe(e,t){const n=e.options instanceof Map?Array.from(e.options.values()):e.options;if(n.every(r=>r._def.typeName in n$&&(!r._def.checks||!r._def.checks.length))){const r=n.reduce((i,o)=>{const s=n$[o._def.typeName];return s&&!i.includes(s)?[...i,s]:i},[]);return{type:r.length>1?r:r[0]}}else if(n.every(r=>r._def.typeName==="ZodLiteral"&&!r.description)){const r=n.reduce((i,o)=>{const s=typeof o._def.value;switch(s){case"string":case"number":case"boolean":return[...i,s];case"bigint":return[...i,"integer"];case"object":if(o._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(r.length===n.length){const i=r.filter((o,s,a)=>a.indexOf(o)===s);return{type:i.length>1?i:i[0],enum:n.reduce((o,s)=>o.includes(s._def.value)?o:[...o,s._def.value],[])}}}else if(n.every(r=>r._def.typeName==="ZodEnum"))return{type:"string",enum:n.reduce((r,i)=>[...r,...i._def.values.filter(o=>!r.includes(o))],[])};return nEe(e,t)}var nEe=(e,t)=>{const n=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((r,i)=>En(r._def,{...t,currentPath:[...t.currentPath,"anyOf",`${i}`]})).filter(r=>!!r&&(!t.strictUnions||typeof r=="object"&&Object.keys(r).length>0));return n.length?{anyOf:n}:void 0};function rEe(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return{type:[n$[e.innerType._def.typeName],"null"]};const n=En(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return n&&{anyOf:[n,{type:"null"}]}}function iEe(e){const t={type:"number"};if(!e.checks)return t;for(const n of e.checks)switch(n.kind){case"int":t.type="integer";break;case"min":n.inclusive?t.minimum=n.value:t.exclusiveMinimum=n.value;break;case"max":n.inclusive?t.maximum=n.value:t.exclusiveMaximum=n.value;break;case"multipleOf":t.multipleOf=n.value;break}return t}function oEe(e,t){const n={type:"object",properties:{}},r=[],i=e.shape();for(const s in i){let a=i[s];if(a===void 0||a._def===void 0)continue;const l=aEe(a),u=En(a._def,{...t,currentPath:[...t.currentPath,"properties",s],propertyPath:[...t.currentPath,"properties",s]});u!==void 0&&(n.properties[s]=u,l||r.push(s))}r.length&&(n.required=r);const o=sEe(e,t);return o!==void 0&&(n.additionalProperties=o),n}function sEe(e,t){if(e.catchall._def.typeName!=="ZodNever")return En(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]});switch(e.unknownKeys){case"passthrough":return t.allowedAdditionalProperties;case"strict":return t.rejectedAdditionalProperties;case"strip":return t.removeAdditionalStrategy==="strict"?t.allowedAdditionalProperties:t.rejectedAdditionalProperties}}function aEe(e){try{return e.isOptional()}catch{return!0}}var lEe=(e,t)=>{var n;if(t.currentPath.toString()===((n=t.propertyPath)==null?void 0:n.toString()))return En(e.innerType._def,t);const r=En(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:ps()},r]}:ps()},uEe=(e,t)=>{if(t.pipeStrategy==="input")return En(e.in._def,t);if(t.pipeStrategy==="output")return En(e.out._def,t);const n=En(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),r=En(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",n?"1":"0"]});return{allOf:[n,r].filter(i=>i!==void 0)}};function cEe(e,t){return En(e.type._def,t)}function dEe(e,t){const r={type:"array",uniqueItems:!0,items:En(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(r.minItems=e.minSize.value),e.maxSize&&(r.maxItems=e.maxSize.value),r}function fEe(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((n,r)=>En(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[]),additionalItems:En(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((n,r)=>En(n._def,{...t,currentPath:[...t.currentPath,"items",`${r}`]})).reduce((n,r)=>r===void 0?n:[...n,r],[])}}function pEe(){return{not:ps()}}function hEe(){return ps()}var mEe=(e,t)=>En(e.innerType._def,t),gEe=(e,t,n)=>{switch(t){case ge.ZodString:return QJ(e,n);case ge.ZodNumber:return iEe(e);case ge.ZodObject:return oEe(e,n);case ge.ZodBigInt:return zCe(e);case ge.ZodBoolean:return FCe();case ge.ZodDate:return XJ(e,n);case ge.ZodUndefined:return pEe();case ge.ZodNull:return eEe();case ge.ZodArray:return LCe(e,n);case ge.ZodUnion:case ge.ZodDiscriminatedUnion:return tEe(e,n);case ge.ZodIntersection:return qCe(e,n);case ge.ZodTuple:return fEe(e,n);case ge.ZodRecord:return eK(e,n);case ge.ZodLiteral:return JCe(e);case ge.ZodEnum:return WCe(e);case ge.ZodNativeEnum:return XCe(e);case ge.ZodNullable:return rEe(e,n);case ge.ZodOptional:return lEe(e,n);case ge.ZodMap:return YCe(e,n);case ge.ZodSet:return dEe(e,n);case ge.ZodLazy:return()=>e.getter()._def;case ge.ZodPromise:return cEe(e,n);case ge.ZodNaN:case ge.ZodNever:return QCe();case ge.ZodEffects:return ZCe(e,n);case ge.ZodAny:return ps();case ge.ZodUnknown:return hEe();case ge.ZodDefault:return UCe(e,n);case ge.ZodBranded:return YJ(e,n);case ge.ZodReadonly:return mEe(e,n);case ge.ZodCatch:return VCe(e,n);case ge.ZodPipeline:return uEe(e,n);case ge.ZodFunction:case ge.ZodVoid:case ge.ZodSymbol:return;default:return(r=>{})()}};function En(e,t,n=!1){var r;const i=t.seen.get(e);if(t.override){const l=(r=t.override)==null?void 0:r.call(t,e,t,i,n);if(l!==DCe)return l}if(i&&!n){const l=yEe(i,t);if(l!==void 0)return l}const o={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,o);const s=gEe(e,e.typeName,t),a=typeof s=="function"?En(s(),t):s;if(a&&vEe(e,t,a),t.postProcess){const l=t.postProcess(a,e,t);return o.jsonSchema=a,l}return o.jsonSchema=a,a}var yEe=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:RCe(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((n,r)=>t.currentPath[r]===n)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),ps()):t.$refStrategy==="seen"?ps():void 0}},vEe=(e,t,n)=>(e.description&&(n.description=e.description),n),bEe=e=>{const t=jCe(e),n=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:n,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([r,i])=>[i._def,{def:i._def,path:[...t.basePath,t.definitionPath,r],jsonSchema:void 0}]))}},xEe=(e,t)=>{var n;const r=bEe(t);let i=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((u,[d,f])=>{var g;return{...u,[d]:(g=En(f._def,{...r,currentPath:[...r.basePath,r.definitionPath,d]},!0))!=null?g:ps()}},{}):void 0;const o=typeof t=="string"?t:t?.nameStrategy==="title"?void 0:t?.name,s=(n=En(e._def,o===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,o]},!1))!=null?n:ps(),a=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;a!==void 0&&(s.title=a);const l=o===void 0?i?{...s,[r.definitionPath]:i}:s:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,o].join("/"),[r.definitionPath]:{...i,[o]:s}};return l.$schema="http://json-schema.org/draft-07/schema#",l},wEe=xEe;function SEe(e,t){var n;const r=(n=void 0)!=null?n:!1;return FN(wEe(e,{$refStrategy:r?"root":"none"}),{validate:async i=>{const o=await e.safeParseAsync(i);return o.success?{success:!0,value:o.data}:{success:!1,error:o.error}}})}function kEe(e,t){var n;const r=(n=void 0)!=null?n:!1,i=rN(e,{target:"draft-7",io:"output",reused:r?"ref":"inline"});return FN(i,{validate:async o=>{const s=await lN(e,o);return s.success?{success:!0,value:s.data}:{success:!1,error:s.error}}})}function _Ee(e){return"_zod"in e}function TEe(e,t){return _Ee(e)?kEe(e):SEe(e)}var r$=Symbol.for("vercel.ai.schema");function FN(e,{validate:t}={}){return{[r$]:!0,_type:void 0,[u_]:!0,jsonSchema:e,validate:t}}function CEe(e){return typeof e=="object"&&e!==null&&r$ in e&&e[r$]===!0&&"jsonSchema"in e&&"validate"in e}function cg(e){return e==null?FN({properties:{},additionalProperties:!1}):CEe(e)?e:TEe(e)}var{btoa:EEe,atob:IEe}=globalThis;function VN(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=IEe(t);return Uint8Array.from(n,r=>r.codePointAt(0))}function i$(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return EEe(t)}function AEe(e){return e!=null&&typeof e[Symbol.asyncIterator]=="function"}async function*tK({execute:e,input:t,options:n}){const r=e(t,n);if(AEe(r)){let i;for await(const o of r)i=o,yield{type:"preliminary",output:o};yield{type:"final",output:i}}else yield{type:"final",output:await r}}var $Ee=typeof globalThis=="object"?globalThis:global,jf="1.9.0",lF=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function PEe(e){var t=new Set([e]),n=new Set,r=e.match(lF);if(!r)return function(){return!1};var i={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(i.prerelease!=null)return function(l){return l===e};function o(a){return n.add(a),!1}function s(a){return t.add(a),!0}return function(l){if(t.has(l))return!0;if(n.has(l))return!1;var u=l.match(lF);if(!u)return o(l);var d={major:+u[1],minor:+u[2],patch:+u[3],prerelease:u[4]};return d.prerelease!=null||i.major!==d.major?o(l):i.major===0?i.minor===d.minor&&i.patch<=d.patch?s(l):o(l):i.minor<=d.minor?s(l):o(l)}}var MEe=PEe(jf),OEe=jf.split(".")[0],ax=Symbol.for("opentelemetry.js.api."+OEe),lx=$Ee;function BN(e,t,n,r){var i;r===void 0&&(r=!1);var o=lx[ax]=(i=lx[ax])!==null&&i!==void 0?i:{version:jf};if(!r&&o[e]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(s.stack||s.message),!1}if(o.version!==jf){var s=new Error("@opentelemetry/api: Registration of version v"+o.version+" for "+e+" does not match previously registered API v"+jf);return n.error(s.stack||s.message),!1}return o[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+jf+"."),!0}function ux(e){var t,n,r=(t=lx[ax])===null||t===void 0?void 0:t.version;if(!(!r||!MEe(r)))return(n=lx[ax])===null||n===void 0?void 0:n[e]}function UN(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+jf+".");var n=lx[ax];n&&delete n[e]}var NEe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},REe=function(e,t,n){if(arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},DEe=(function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return hv("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return hv("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return hv("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return hv("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return hv("verbose",this._namespace,t)},e})();function hv(e,t,n){var r=ux("diag");if(r)return n.unshift(t),r[e].apply(r,REe([],NEe(n),!1))}var as;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(as||(as={}));function jEe(e,t){e<as.NONE?e=as.NONE:e>as.ALL&&(e=as.ALL),t=t||{};function n(r,i){var o=t[r];return typeof o=="function"&&e>=i?o.bind(t):function(){}}return{error:n("error",as.ERROR),warn:n("warn",as.WARN),info:n("info",as.INFO),debug:n("debug",as.DEBUG),verbose:n("verbose",as.VERBOSE)}}var LEe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},zEe=function(e,t,n){if(arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},FEe="diag",c_=(function(){function e(){function t(i){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=ux("diag");if(a)return a[i].apply(a,zEe([],LEe(o),!1))}}var n=this,r=function(i,o){var s,a,l;if(o===void 0&&(o={logLevel:as.INFO}),i===n){var u=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((s=u.stack)!==null&&s!==void 0?s:u.message),!1}typeof o=="number"&&(o={logLevel:o});var d=ux("diag"),f=jEe((a=o.logLevel)!==null&&a!==void 0?a:as.INFO,i);if(d&&!o.suppressOverrideMessage){var g=(l=new Error().stack)!==null&&l!==void 0?l:"<failed to generate stacktrace>";d.warn("Current logger will be overwritten from "+g),f.warn("Current logger will overwrite one already registered from "+g)}return BN("diag",f,n,!0)};n.setLogger=r,n.disable=function(){UN(FEe,n)},n.createComponentLogger=function(i){return new DEe(i)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e})();function VEe(e){return Symbol.for(e)}var BEe=(function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,i){var o=new e(n._currentContext);return o._currentContext.set(r,i),o},n.deleteValue=function(r){var i=new e(n._currentContext);return i._currentContext.delete(r),i}}return e})(),UEe=new BEe,ZEe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},WEe=function(e,t,n){if(arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},HEe=(function(){function e(){}return e.prototype.active=function(){return UEe},e.prototype.with=function(t,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return n.call.apply(n,WEe([r],ZEe(i),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e})(),qEe=function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},JEe=function(e,t,n){if(arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},mE="context",KEe=new HEe,nK=(function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return BN(mE,t,c_.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(i=this._getContextManager()).with.apply(i,JEe([t,n,r],qEe(o),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return ux(mE)||KEe},e.prototype.disable=function(){this._getContextManager().disable(),UN(mE,c_.instance())},e})(),o$;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(o$||(o$={}));var rK="0000000000000000",iK="00000000000000000000000000000000",GEe={traceId:iK,spanId:rK,traceFlags:o$.NONE},rb=(function(){function e(t){t===void 0&&(t=GEe),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e})(),ZN=VEe("OpenTelemetry Context Key SPAN");function WN(e){return e.getValue(ZN)||void 0}function YEe(){return WN(nK.getInstance().active())}function HN(e,t){return e.setValue(ZN,t)}function XEe(e){return e.deleteValue(ZN)}function QEe(e,t){return HN(e,new rb(t))}function oK(e){var t;return(t=WN(e))===null||t===void 0?void 0:t.spanContext()}var eIe=/^([0-9a-f]{32})$/i,tIe=/^[0-9a-f]{16}$/i;function nIe(e){return eIe.test(e)&&e!==iK}function rIe(e){return tIe.test(e)&&e!==rK}function sK(e){return nIe(e.traceId)&&rIe(e.spanId)}function iIe(e){return new rb(e)}var gE=nK.getInstance(),aK=(function(){function e(){}return e.prototype.startSpan=function(t,n,r){r===void 0&&(r=gE.active());var i=!!n?.root;if(i)return new rb;var o=r&&oK(r);return oIe(o)&&sK(o)?new rb(o):new rb},e.prototype.startActiveSpan=function(t,n,r,i){var o,s,a;if(!(arguments.length<2)){arguments.length===2?a=n:arguments.length===3?(o=n,a=r):(o=n,s=r,a=i);var l=s??gE.active(),u=this.startSpan(t,o,l),d=HN(l,u);return gE.with(d,a,void 0,u)}},e})();function oIe(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var sIe=new aK,aIe=(function(){function e(t,n,r,i){this._provider=t,this.name=n,this.version=r,this.options=i}return e.prototype.startSpan=function(t,n,r){return this._getTracer().startSpan(t,n,r)},e.prototype.startActiveSpan=function(t,n,r,i){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):sIe},e})(),lIe=(function(){function e(){}return e.prototype.getTracer=function(t,n,r){return new aK},e})(),uIe=new lIe,uF=(function(){function e(){}return e.prototype.getTracer=function(t,n,r){var i;return(i=this.getDelegateTracer(t,n,r))!==null&&i!==void 0?i:new aIe(this,t,n,r)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:uIe},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,r){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,n,r)},e})(),d_;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(d_||(d_={}));var yE="trace",cIe=(function(){function e(){this._proxyTracerProvider=new uF,this.wrapSpanContext=iIe,this.isSpanContextValid=sK,this.deleteSpan=XEe,this.getSpan=WN,this.getActiveSpan=YEe,this.getSpanContext=oK,this.setSpan=HN,this.setSpanContext=QEe}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=BN(yE,this._proxyTracerProvider,c_.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return ux(yE)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){UN(yE,c_.instance()),this._proxyTracerProvider=new uF},e})(),dIe=cIe.getInstance(),fIe=Object.defineProperty,pIe=(e,t)=>{for(var n in t)fIe(e,n,{get:t[n],enumerable:!0})},lK="AI_NoOutputSpecifiedError",uK=`vercel.ai.error.${lK}`,hIe=Symbol.for(uK),cK,dK=class extends Zt{constructor({message:e="No output specified."}={}){super({name:lK,message:e}),this[cK]=!0}static isInstance(e){return Zt.hasMarker(e,uK)}};cK=hIe;function mIe(e){const t="AI SDK Warning:";switch(e.type){case"unsupported-setting":{let n=`${t} The "${e.setting}" setting is not supported by this model`;return e.details&&(n+=` - ${e.details}`),n}case"unsupported-tool":{const n="name"in e.tool?e.tool.name:"unknown tool";let r=`${t} The tool "${n}" is not supported by this model`;return e.details&&(r+=` - ${e.details}`),r}case"other":return`${t} ${e.message}`;default:return`${t} ${JSON.stringify(e,null,2)}`}}var gIe="AI SDK Warning System: To turn off warning logging, set the AI_SDK_LOG_WARNINGS global to false.",cF=!1,Gx=e=>{if(e.length===0)return;const t=globalThis.AI_SDK_LOG_WARNINGS;if(t!==!1){if(typeof t=="function"){t(e);return}cF||(cF=!0,console.info(gIe));for(const n of e)console.warn(mIe(n))}},fK="AI_InvalidArgumentError",pK=`vercel.ai.error.${fK}`,yIe=Symbol.for(pK),hK,er=class extends Zt{constructor({parameter:e,value:t,message:n}){super({name:fK,message:`Invalid argument for parameter ${e}: ${n}`}),this[hK]=!0,this.parameter=e,this.value=t}static isInstance(e){return Zt.hasMarker(e,pK)}};hK=yIe;var mK="AI_InvalidToolInputError",gK=`vercel.ai.error.${mK}`,vIe=Symbol.for(gK),yK,vK=class extends Zt{constructor({toolInput:e,toolName:t,cause:n,message:r=`Invalid input for tool ${t}: ${Ig(n)}`}){super({name:mK,message:r,cause:n}),this[yK]=!0,this.toolInput=e,this.toolName=t}static isInstance(e){return Zt.hasMarker(e,gK)}};yK=vIe;var bK="AI_NoObjectGeneratedError",xK=`vercel.ai.error.${bK}`,bIe=Symbol.for(xK),wK,cp=class extends Zt{constructor({message:e="No object generated.",cause:t,text:n,response:r,usage:i,finishReason:o}){super({name:bK,message:e,cause:t}),this[wK]=!0,this.text=n,this.response=r,this.usage=i,this.finishReason=o}static isInstance(e){return Zt.hasMarker(e,xK)}};wK=bIe;var SK="AI_NoOutputGeneratedError",kK=`vercel.ai.error.${SK}`,xIe=Symbol.for(kK),_K,wIe=class extends Zt{constructor({message:e="No output generated.",cause:t}={}){super({name:SK,message:e,cause:t}),this[_K]=!0}static isInstance(e){return Zt.hasMarker(e,kK)}};_K=xIe;var TK="AI_NoSuchToolError",CK=`vercel.ai.error.${TK}`,SIe=Symbol.for(CK),EK,s$=class extends Zt{constructor({toolName:e,availableTools:t=void 0,message:n=`Model tried to call unavailable tool '${e}'. ${t===void 0?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:TK,message:n}),this[EK]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return Zt.hasMarker(e,CK)}};EK=SIe;var IK="AI_ToolCallRepairError",AK=`vercel.ai.error.${IK}`,kIe=Symbol.for(AK),$K,_Ie=class extends Zt{constructor({cause:e,originalError:t,message:n=`Error repairing tool call: ${Ig(e)}`}){super({name:IK,message:n,cause:e}),this[$K]=!0,this.originalError=t}static isInstance(e){return Zt.hasMarker(e,AK)}};$K=kIe;var qN=class extends Zt{constructor(e){super({name:"AI_UnsupportedModelVersionError",message:`Unsupported model version ${e.version} for provider "${e.provider}" and model "${e.modelId}". AI SDK 5 only supports models that implement specification version "v2".`}),this.version=e.version,this.provider=e.provider,this.modelId=e.modelId}},PK="AI_InvalidDataContentError",MK=`vercel.ai.error.${PK}`,TIe=Symbol.for(MK),OK,dF=class extends Zt{constructor({content:e,cause:t,message:n=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:PK,message:n,cause:t}),this[OK]=!0,this.content=e}static isInstance(e){return Zt.hasMarker(e,MK)}};OK=TIe;var NK="AI_InvalidMessageRoleError",RK=`vercel.ai.error.${NK}`,CIe=Symbol.for(RK),DK,EIe=class extends Zt{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:NK,message:t}),this[DK]=!0,this.role=e}static isInstance(e){return Zt.hasMarker(e,RK)}};DK=CIe;var jK="AI_DownloadError",LK=`vercel.ai.error.${jK}`,IIe=Symbol.for(LK),zK,vE=class extends Zt{constructor({url:e,statusCode:t,statusText:n,cause:r,message:i=r==null?`Failed to download ${e}: ${t} ${n}`:`Failed to download ${e}: ${r}`}){super({name:jK,message:i,cause:r}),this[zK]=!0,this.url=e,this.statusCode=t,this.statusText=n}static isInstance(e){return Zt.hasMarker(e,LK)}};zK=IIe;var FK="AI_RetryError",VK=`vercel.ai.error.${FK}`,AIe=Symbol.for(VK),BK,fF=class extends Zt{constructor({message:e,reason:t,errors:n}){super({name:FK,message:e}),this[BK]=!0,this.reason=t,this.errors=n,this.lastError=n[n.length-1]}static isInstance(e){return Zt.hasMarker(e,VK)}};BK=AIe;function cx(e){if(typeof e!="string"){if(e.specificationVersion!=="v2")throw new qN({version:e.specificationVersion,provider:e.provider,modelId:e.modelId});return e}return $Ie().languageModel(e)}function $Ie(){var e;return(e=globalThis.AI_SDK_DEFAULT_PROVIDER)!=null?e:uCe}var PIe=[{mediaType:"image/gif",bytesPrefix:[71,73,70],base64Prefix:"R0lG"},{mediaType:"image/png",bytesPrefix:[137,80,78,71],base64Prefix:"iVBORw"},{mediaType:"image/jpeg",bytesPrefix:[255,216],base64Prefix:"/9j/"},{mediaType:"image/webp",bytesPrefix:[82,73,70,70],base64Prefix:"UklGRg"},{mediaType:"image/bmp",bytesPrefix:[66,77],base64Prefix:"Qk"},{mediaType:"image/tiff",bytesPrefix:[73,73,42,0],base64Prefix:"SUkqAA"},{mediaType:"image/tiff",bytesPrefix:[77,77,0,42],base64Prefix:"TU0AKg"},{mediaType:"image/avif",bytesPrefix:[0,0,0,32,102,116,121,112,97,118,105,102],base64Prefix:"AAAAIGZ0eXBhdmlm"},{mediaType:"image/heic",bytesPrefix:[0,0,0,32,102,116,121,112,104,101,105,99],base64Prefix:"AAAAIGZ0eXBoZWlj"}],UK=[{mediaType:"audio/mpeg",bytesPrefix:[255,251],base64Prefix:"//s="},{mediaType:"audio/mpeg",bytesPrefix:[255,250],base64Prefix:"//o="},{mediaType:"audio/mpeg",bytesPrefix:[255,243],base64Prefix:"//M="},{mediaType:"audio/mpeg",bytesPrefix:[255,242],base64Prefix:"//I="},{mediaType:"audio/mpeg",bytesPrefix:[255,227],base64Prefix:"/+M="},{mediaType:"audio/mpeg",bytesPrefix:[255,226],base64Prefix:"/+I="},{mediaType:"audio/wav",bytesPrefix:[82,73,70,70],base64Prefix:"UklGR"},{mediaType:"audio/ogg",bytesPrefix:[79,103,103,83],base64Prefix:"T2dnUw"},{mediaType:"audio/flac",bytesPrefix:[102,76,97,67],base64Prefix:"ZkxhQw"},{mediaType:"audio/aac",bytesPrefix:[64,21,0,0],base64Prefix:"QBUA"},{mediaType:"audio/mp4",bytesPrefix:[102,116,121,112],base64Prefix:"ZnR5cA"},{mediaType:"audio/webm",bytesPrefix:[26,69,223,163],base64Prefix:"GkXf"}],MIe=e=>{const t=typeof e=="string"?VN(e):e,n=(t[6]&127)<<21|(t[7]&127)<<14|(t[8]&127)<<7|t[9]&127;return t.slice(n+10)};function OIe(e){return typeof e=="string"&&e.startsWith("SUQz")||typeof e!="string"&&e.length>10&&e[0]===73&&e[1]===68&&e[2]===51?MIe(e):e}function JN({data:e,signatures:t}){const n=OIe(e);for(const r of t)if(typeof n=="string"?n.startsWith(r.base64Prefix):n.length>=r.bytesPrefix.length&&r.bytesPrefix.every((i,o)=>n[o]===i))return r.mediaType}var ZK=async({url:e})=>{var t;const n=e.toString();try{const r=await fetch(n);if(!r.ok)throw new vE({url:n,statusCode:r.status,statusText:r.statusText});return{data:new Uint8Array(await r.arrayBuffer()),mediaType:(t=r.headers.get("content-type"))!=null?t:void 0}}catch(r){throw vE.isInstance(r)?r:new vE({url:n,cause:r})}},NIe=(e=ZK)=>t=>Promise.all(t.map(async n=>n.isUrlSupportedByModel?null:e(n)));function RIe(e){try{const[t,n]=e.split(",");return{mediaType:t.split(";")[0].split(":")[1],base64Content:n}}catch{return{mediaType:void 0,base64Content:void 0}}}var WK=S.union([S.string(),S.instanceof(Uint8Array),S.instanceof(ArrayBuffer),S.custom(e=>{var t,n;return(n=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?n:!1},{message:"Must be a Buffer"})]);function HK(e){if(e instanceof Uint8Array)return{data:e,mediaType:void 0};if(e instanceof ArrayBuffer)return{data:new Uint8Array(e),mediaType:void 0};if(typeof e=="string")try{e=new URL(e)}catch{}if(e instanceof URL&&e.protocol==="data:"){const{mediaType:t,base64Content:n}=RIe(e.toString());if(t==null||n==null)throw new Zt({name:"InvalidDataContentError",message:`Invalid data URL format in content ${e.toString()}`});return{data:n,mediaType:t}}return{data:e,mediaType:void 0}}function DIe(e){return typeof e=="string"?e:e instanceof ArrayBuffer?i$(new Uint8Array(e)):i$(e)}function jIe(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")try{return VN(e)}catch(t){throw new dF({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new dF({content:e})}async function KN({prompt:e,supportedUrls:t,download:n=NIe()}){const r=await zIe(e.messages,n,t);return[...e.system!=null?[{role:"system",content:e.system}]:[],...e.messages.map(i=>LIe({message:i,downloadedAssets:r}))]}function LIe({message:e,downloadedAssets:t}){const n=e.role;switch(n){case"system":return{role:"system",content:e.content,providerOptions:e.providerOptions};case"user":return typeof e.content=="string"?{role:"user",content:[{type:"text",text:e.content}],providerOptions:e.providerOptions}:{role:"user",content:e.content.map(r=>FIe(r,t)).filter(r=>r.type!=="text"||r.text!==""),providerOptions:e.providerOptions};case"assistant":return typeof e.content=="string"?{role:"assistant",content:[{type:"text",text:e.content}],providerOptions:e.providerOptions}:{role:"assistant",content:e.content.filter(r=>r.type!=="text"||r.text!=="").map(r=>{const i=r.providerOptions;switch(r.type){case"file":{const{data:o,mediaType:s}=HK(r.data);return{type:"file",data:o,filename:r.filename,mediaType:s??r.mediaType,providerOptions:i}}case"reasoning":return{type:"reasoning",text:r.text,providerOptions:i};case"text":return{type:"text",text:r.text,providerOptions:i};case"tool-call":return{type:"tool-call",toolCallId:r.toolCallId,toolName:r.toolName,input:r.input,providerExecuted:r.providerExecuted,providerOptions:i};case"tool-result":return{type:"tool-result",toolCallId:r.toolCallId,toolName:r.toolName,output:r.output,providerOptions:i}}}),providerOptions:e.providerOptions};case"tool":return{role:"tool",content:e.content.map(r=>({type:"tool-result",toolCallId:r.toolCallId,toolName:r.toolName,output:r.output,providerOptions:r.providerOptions})),providerOptions:e.providerOptions};default:{const r=n;throw new EIe({role:r})}}}async function zIe(e,t,n){const r=e.filter(o=>o.role==="user").map(o=>o.content).filter(o=>Array.isArray(o)).flat().filter(o=>o.type==="image"||o.type==="file").map(o=>{var s;const a=(s=o.mediaType)!=null?s:o.type==="image"?"image/*":void 0;let l=o.type==="image"?o.image:o.data;if(typeof l=="string")try{l=new URL(l)}catch{}return{mediaType:a,data:l}}).filter(o=>o.data instanceof URL).map(o=>({url:o.data,isUrlSupportedByModel:o.mediaType!=null&&TCe({url:o.data.toString(),mediaType:o.mediaType,supportedUrls:n})})),i=await t(r);return Object.fromEntries(i.filter(o=>o?.data!=null).map(({data:o,mediaType:s},a)=>[r[a].url.toString(),{data:o,mediaType:s}]))}function FIe(e,t){var n;if(e.type==="text")return{type:"text",text:e.text,providerOptions:e.providerOptions};let r;const i=e.type;switch(i){case"image":r=e.image;break;case"file":r=e.data;break;default:throw new Error(`Unsupported part type: ${i}`)}const{data:o,mediaType:s}=HK(r);let a=s??e.mediaType,l=o;if(l instanceof URL){const u=t[l.toString()];u&&(l=u.data,a??(a=u.mediaType))}switch(i){case"image":return(l instanceof Uint8Array||typeof l=="string")&&(a=(n=JN({data:l,signatures:PIe}))!=null?n:a),{type:"file",mediaType:a??"image/*",filename:void 0,data:l,providerOptions:e.providerOptions};case"file":{if(a==null)throw new Error("Media type is missing for file part");return{type:"file",mediaType:a,filename:e.filename,data:l,providerOptions:e.providerOptions}}}}function dx({maxOutputTokens:e,temperature:t,topP:n,topK:r,presencePenalty:i,frequencyPenalty:o,seed:s,stopSequences:a}){if(e!=null){if(!Number.isInteger(e))throw new er({parameter:"maxOutputTokens",value:e,message:"maxOutputTokens must be an integer"});if(e<1)throw new er({parameter:"maxOutputTokens",value:e,message:"maxOutputTokens must be >= 1"})}if(t!=null&&typeof t!="number")throw new er({parameter:"temperature",value:t,message:"temperature must be a number"});if(n!=null&&typeof n!="number")throw new er({parameter:"topP",value:n,message:"topP must be a number"});if(r!=null&&typeof r!="number")throw new er({parameter:"topK",value:r,message:"topK must be a number"});if(i!=null&&typeof i!="number")throw new er({parameter:"presencePenalty",value:i,message:"presencePenalty must be a number"});if(o!=null&&typeof o!="number")throw new er({parameter:"frequencyPenalty",value:o,message:"frequencyPenalty must be a number"});if(s!=null&&!Number.isInteger(s))throw new er({parameter:"seed",value:s,message:"seed must be an integer"});return{maxOutputTokens:e,temperature:t,topP:n,topK:r,presencePenalty:i,frequencyPenalty:o,stopSequences:a,seed:s}}function VIe(e){return e!=null&&Object.keys(e).length>0}function qK({tools:e,toolChoice:t,activeTools:n}){return VIe(e)?{tools:(n!=null?Object.entries(e).filter(([i])=>n.includes(i)):Object.entries(e)).map(([i,o])=>{const s=o.type;switch(s){case void 0:case"dynamic":case"function":return{type:"function",name:i,description:o.description,inputSchema:cg(o.inputSchema).jsonSchema,providerOptions:o.providerOptions};case"provider-defined":return{type:"provider-defined",name:i,id:o.id,args:o.args};default:{const a=s;throw new Error(`Unsupported tool type: ${a}`)}}}),toolChoice:t==null?{type:"auto"}:typeof t=="string"?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}var fx=S.lazy(()=>S.union([S.null(),S.string(),S.number(),S.boolean(),S.record(S.string(),fx),S.array(fx)])),pn=S.record(S.string(),S.record(S.string(),fx)),JK=S.object({type:S.literal("text"),text:S.string(),providerOptions:pn.optional()}),BIe=S.object({type:S.literal("image"),image:S.union([WK,S.instanceof(URL)]),mediaType:S.string().optional(),providerOptions:pn.optional()}),KK=S.object({type:S.literal("file"),data:S.union([WK,S.instanceof(URL)]),filename:S.string().optional(),mediaType:S.string(),providerOptions:pn.optional()}),UIe=S.object({type:S.literal("reasoning"),text:S.string(),providerOptions:pn.optional()}),ZIe=S.object({type:S.literal("tool-call"),toolCallId:S.string(),toolName:S.string(),input:S.unknown(),providerOptions:pn.optional(),providerExecuted:S.boolean().optional()}),WIe=S.discriminatedUnion("type",[S.object({type:S.literal("text"),value:S.string()}),S.object({type:S.literal("json"),value:fx}),S.object({type:S.literal("error-text"),value:S.string()}),S.object({type:S.literal("error-json"),value:fx}),S.object({type:S.literal("content"),value:S.array(S.union([S.object({type:S.literal("text"),text:S.string()}),S.object({type:S.literal("media"),data:S.string(),mediaType:S.string()})]))})]),GK=S.object({type:S.literal("tool-result"),toolCallId:S.string(),toolName:S.string(),output:WIe,providerOptions:pn.optional()}),HIe=S.object({role:S.literal("system"),content:S.string(),providerOptions:pn.optional()}),qIe=S.object({role:S.literal("user"),content:S.union([S.string(),S.array(S.union([JK,BIe,KK]))]),providerOptions:pn.optional()}),JIe=S.object({role:S.literal("assistant"),content:S.union([S.string(),S.array(S.union([JK,KK,UIe,ZIe,GK]))]),providerOptions:pn.optional()}),KIe=S.object({role:S.literal("tool"),content:S.array(GK),providerOptions:pn.optional()}),GIe=S.union([HIe,qIe,JIe,KIe]);async function GN(e){if(e.prompt==null&&e.messages==null)throw new Xh({prompt:e,message:"prompt or messages must be defined"});if(e.prompt!=null&&e.messages!=null)throw new Xh({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(e.system!=null&&typeof e.system!="string")throw new Xh({prompt:e,message:"system must be a string"});let t;if(e.prompt!=null&&typeof e.prompt=="string")t=[{role:"user",content:e.prompt}];else if(e.prompt!=null&&Array.isArray(e.prompt))t=e.prompt;else if(e.messages!=null)t=e.messages;else throw new Xh({prompt:e,message:"prompt or messages must be defined"});if(t.length===0)throw new Xh({prompt:e,message:"messages must not be empty"});const n=await od({value:t,schema:S.array(GIe)});if(!n.success)throw new Xh({prompt:e,message:"The messages must be a ModelMessage[]. If you have passed a UIMessage[], you can use convertToModelMessages to convert them.",cause:n.error});return{messages:t,system:e.system}}function YN(e){return B1.isInstance(e)||_J.isInstance(e)?new Zt({name:"GatewayError",message:"Vercel AI Gateway access failed. If you want to use AI SDK providers directly, use the providers, e.g. @ai-sdk/openai, or register a different global default provider.",cause:e}):e}function sd({operationId:e,telemetry:t}){return{"operation.name":`${e}${t?.functionId!=null?` ${t.functionId}`:""}`,"resource.name":t?.functionId,"ai.operationId":e,"ai.telemetry.functionId":t?.functionId}}function XN({model:e,settings:t,telemetry:n,headers:r}){var i;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((o,[s,a])=>(o[`ai.settings.${s}`]=a,o),{}),...Object.entries((i=n?.metadata)!=null?i:{}).reduce((o,[s,a])=>(o[`ai.telemetry.metadata.${s}`]=a,o),{}),...Object.entries(r??{}).reduce((o,[s,a])=>(a!==void 0&&(o[`ai.request.headers.${s}`]=a),o),{})}}var YIe={startSpan(){return rS},startActiveSpan(e,t,n,r){if(typeof t=="function")return t(rS);if(typeof n=="function")return n(rS);if(typeof r=="function")return r(rS)}},rS={spanContext(){return XIe},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},XIe={traceId:"",spanId:"",traceFlags:0};function QN({isEnabled:e=!1,tracer:t}={}){return e?t||dIe.getTracer("ai"):YIe}function ad({name:e,tracer:t,attributes:n,fn:r,endWhenDone:i=!0}){return t.startActiveSpan(e,{attributes:n},async o=>{try{const s=await r(o);return i&&o.end(),s}catch(s){try{eR(o,s)}finally{o.end()}throw s}})}function eR(e,t){t instanceof Error?(e.recordException({name:t.name,message:t.message,stack:t.stack}),e.setStatus({code:d_.ERROR,message:t.message})):e.setStatus({code:d_.ERROR})}function Ri({telemetry:e,attributes:t}){return e?.isEnabled!==!0?{}:Object.entries(t).reduce((n,[r,i])=>{if(i==null)return n;if(typeof i=="object"&&"input"in i&&typeof i.input=="function"){if(e?.recordInputs===!1)return n;const o=i.input();return o==null?n:{...n,[r]:o}}if(typeof i=="object"&&"output"in i&&typeof i.output=="function"){if(e?.recordOutputs===!1)return n;const o=i.output();return o==null?n:{...n,[r]:o}}return{...n,[r]:i}},{})}function tR(e){return JSON.stringify(e.map(t=>({...t,content:typeof t.content=="string"?t.content:t.content.map(n=>n.type==="file"?{...n,data:n.data instanceof Uint8Array?DIe(n.data):n.data}:n)})))}function YK(e,t){return{inputTokens:mv(e.inputTokens,t.inputTokens),outputTokens:mv(e.outputTokens,t.outputTokens),totalTokens:mv(e.totalTokens,t.totalTokens),reasoningTokens:mv(e.reasoningTokens,t.reasoningTokens),cachedInputTokens:mv(e.cachedInputTokens,t.cachedInputTokens)}}function mv(e,t){return e==null&&t==null?void 0:(e??0)+(t??0)}function a$(e){return e===void 0?[]:Array.isArray(e)?e:[e]}function QIe({error:e,exponentialBackoffDelay:t}){const n=e.responseHeaders;if(!n)return t;let r;const i=n["retry-after-ms"];if(i){const s=parseFloat(i);Number.isNaN(s)||(r=s)}const o=n["retry-after"];if(o&&r===void 0){const s=parseFloat(o);Number.isNaN(s)?r=Date.parse(o)-Date.now():r=s*1e3}return r!=null&&!Number.isNaN(r)&&0<=r&&(r<60*1e3||r<t)?r:t}var eAe=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:n=2,abortSignal:r}={})=>async i=>XK(i,{maxRetries:e,delayInMs:t,backoffFactor:n,abortSignal:r});async function XK(e,{maxRetries:t,delayInMs:n,backoffFactor:r,abortSignal:i},o=[]){try{return await e()}catch(s){if(GJ(s)||t===0)throw s;const a=zN(s),l=[...o,s],u=l.length;if(u>t)throw new fF({message:`Failed after ${u} attempts. Last error: ${a}`,reason:"maxRetriesExceeded",errors:l});if(s instanceof Error&&hCe.isInstance(s)&&s.isRetryable===!0&&u<=t)return await SCe(QIe({error:s,exponentialBackoffDelay:n}),{abortSignal:i}),XK(e,{maxRetries:t,delayInMs:r*n,backoffFactor:r,abortSignal:i},l);throw u===1?s:new fF({message:`Failed after ${u} attempts with non-retryable error: '${a}'`,reason:"errorNotRetryable",errors:l})}}function Yx({maxRetries:e,abortSignal:t}){if(e!=null){if(!Number.isInteger(e))throw new er({parameter:"maxRetries",value:e,message:"maxRetries must be an integer"});if(e<0)throw new er({parameter:"maxRetries",value:e,message:"maxRetries must be >= 0"})}const n=e??2;return{maxRetries:n,retry:eAe({maxRetries:n,abortSignal:t})}}function l$(e){const t=e.filter(n=>n.type==="text");if(t.length!==0)return t.map(n=>n.text).join("")}var nR=class{constructor({data:e,mediaType:t}){const n=e instanceof Uint8Array;this.base64Data=n?void 0:e,this.uint8ArrayData=n?e:void 0,this.mediaType=t}get base64(){return this.base64Data==null&&(this.base64Data=i$(this.uint8ArrayData)),this.base64Data}get uint8Array(){return this.uint8ArrayData==null&&(this.uint8ArrayData=VN(this.base64Data)),this.uint8ArrayData}},tAe=class extends nR{constructor(e){super(e),this.type="file"}};async function QK({toolCall:e,tools:t,repairToolCall:n,system:r,messages:i}){try{if(t==null)throw new s$({toolName:e.toolName});try{return await pF({toolCall:e,tools:t})}catch(o){if(n==null||!(s$.isInstance(o)||vK.isInstance(o)))throw o;let s=null;try{s=await n({toolCall:e,tools:t,inputSchema:({toolName:a})=>{const{inputSchema:l}=t[a];return cg(l).jsonSchema},system:r,messages:i,error:o})}catch(a){throw new _Ie({cause:a,originalError:o})}if(s==null)throw o;return await pF({toolCall:s,tools:t})}}catch(o){const s=await ug({text:e.input}),a=s.success?s.value:e.input;return{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:a,dynamic:!0,invalid:!0,error:o}}}async function pF({toolCall:e,tools:t}){const n=e.toolName,r=t[n];if(r==null)throw new s$({toolName:e.toolName,availableTools:Object.keys(t)});const i=cg(r.inputSchema),o=e.input.trim()===""?await od({value:{},schema:i}):await ug({text:e.input,schema:i});if(o.success===!1)throw new vK({toolName:n,toolInput:e.input,cause:o.error});return r.type==="dynamic"?{type:"tool-call",toolCallId:e.toolCallId,toolName:e.toolName,input:o.value,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata,dynamic:!0}:{type:"tool-call",toolCallId:e.toolCallId,toolName:n,input:o.value,providerExecuted:e.providerExecuted,providerMetadata:e.providerMetadata}}var eG=class{constructor({content:e,finishReason:t,usage:n,warnings:r,request:i,response:o,providerMetadata:s}){this.content=e,this.finishReason=t,this.usage=n,this.warnings=r,this.request=i,this.response=o,this.providerMetadata=s}get text(){return this.content.filter(e=>e.type==="text").map(e=>e.text).join("")}get reasoning(){return this.content.filter(e=>e.type==="reasoning")}get reasoningText(){return this.reasoning.length===0?void 0:this.reasoning.map(e=>e.text).join("")}get files(){return this.content.filter(e=>e.type==="file").map(e=>e.file)}get sources(){return this.content.filter(e=>e.type==="source")}get toolCalls(){return this.content.filter(e=>e.type==="tool-call")}get staticToolCalls(){return this.toolCalls.filter(e=>e.dynamic===!1)}get dynamicToolCalls(){return this.toolCalls.filter(e=>e.dynamic===!0)}get toolResults(){return this.content.filter(e=>e.type==="tool-result")}get staticToolResults(){return this.toolResults.filter(e=>e.dynamic===!1)}get dynamicToolResults(){return this.toolResults.filter(e=>e.dynamic===!0)}};function tG(e){return({steps:t})=>t.length===e}async function nG({stopConditions:e,steps:t}){return(await Promise.all(e.map(n=>n({steps:t})))).some(n=>n)}function bE({output:e,tool:t,errorMode:n}){return n==="text"?{type:"error-text",value:Ig(e)}:n==="json"?{type:"error-json",value:hF(e)}:t?.toModelOutput?t.toModelOutput(e):typeof e=="string"?{type:"text",value:e}:{type:"json",value:hF(e)}}function hF(e){return e===void 0?null:e}function u$({content:e,tools:t}){const n=[],r=e.filter(o=>o.type!=="source").filter(o=>(o.type!=="tool-result"||o.providerExecuted)&&(o.type!=="tool-error"||o.providerExecuted)).filter(o=>o.type!=="text"||o.text.length>0).map(o=>{switch(o.type){case"text":return{type:"text",text:o.text,providerOptions:o.providerMetadata};case"reasoning":return{type:"reasoning",text:o.text,providerOptions:o.providerMetadata};case"file":return{type:"file",data:o.file.base64,mediaType:o.file.mediaType,providerOptions:o.providerMetadata};case"tool-call":return{type:"tool-call",toolCallId:o.toolCallId,toolName:o.toolName,input:o.input,providerExecuted:o.providerExecuted,providerOptions:o.providerMetadata};case"tool-result":return{type:"tool-result",toolCallId:o.toolCallId,toolName:o.toolName,output:bE({tool:t?.[o.toolName],output:o.output,errorMode:"none"}),providerExecuted:!0,providerOptions:o.providerMetadata};case"tool-error":return{type:"tool-result",toolCallId:o.toolCallId,toolName:o.toolName,output:bE({tool:t?.[o.toolName],output:o.error,errorMode:"json"}),providerOptions:o.providerMetadata}}});r.length>0&&n.push({role:"assistant",content:r});const i=e.filter(o=>o.type==="tool-result"||o.type==="tool-error").filter(o=>!o.providerExecuted).map(o=>({type:"tool-result",toolCallId:o.toolCallId,toolName:o.toolName,output:bE({tool:t?.[o.toolName],output:o.type==="tool-result"?o.output:o.error,errorMode:o.type==="tool-error"?"text":"none"})}));return i.length>0&&n.push({role:"tool",content:i}),n}var Z1="5.0.43",nAe=Kx({prefix:"aitxt",size:24});async function mF({model:e,tools:t,toolChoice:n,system:r,prompt:i,messages:o,maxRetries:s,abortSignal:a,headers:l,stopWhen:u=tG(1),experimental_output:d,experimental_telemetry:f,providerOptions:g,experimental_activeTools:m,activeTools:b=m,experimental_prepareStep:x,prepareStep:k=x,experimental_repairToolCall:T,experimental_download:E,experimental_context:$,_internal:{generateId:P=nAe,currentDate:M=()=>new Date}={},onStepFinish:R,...z}){const F=cx(e),q=a$(u),{maxRetries:Z,retry:re}=Yx({maxRetries:s,abortSignal:a}),ee=dx(z),ne=U1(l??{},`ai/${Z1}`),se=XN({model:F,telemetry:f,headers:ne,settings:{...ee,maxRetries:Z}}),ue=await GN({system:r,prompt:i,messages:o}),me=QN(f);try{return await ad({name:"ai.generateText",attributes:Ri({telemetry:f,attributes:{...sd({operationId:"ai.generateText",telemetry:f}),...se,"ai.model.provider":F.provider,"ai.model.id":F.modelId,"ai.prompt":{input:()=>JSON.stringify({system:r,prompt:i,messages:o})}}}),tracer:me,fn:async ie=>{var J,le,B,G,H,W,Ie;const Ce=dx(z);let Ae,$e=[],je=[];const Xe=[],Pt=[];do{const _n=[...ue.messages,...Xe],tn=await k?.({model:F,steps:Pt,stepNumber:Pt.length,messages:_n}),kt=await KN({prompt:{system:(J=tn?.system)!=null?J:ue.system,messages:(le=tn?.messages)!=null?le:_n},supportedUrls:await F.supportedUrls,download:E}),st=cx((B=tn?.model)!=null?B:F),{toolChoice:Kt,tools:lt}=qK({tools:t,toolChoice:(G=tn?.toolChoice)!=null?G:n,activeTools:(H=tn?.activeTools)!=null?H:b});Ae=await re(()=>{var Ht;return ad({name:"ai.generateText.doGenerate",attributes:Ri({telemetry:f,attributes:{...sd({operationId:"ai.generateText.doGenerate",telemetry:f}),...se,"ai.model.provider":st.provider,"ai.model.id":st.modelId,"ai.prompt.messages":{input:()=>tR(kt)},"ai.prompt.tools":{input:()=>lt?.map(Ir=>JSON.stringify(Ir))},"ai.prompt.toolChoice":{input:()=>Kt!=null?JSON.stringify(Kt):void 0},"gen_ai.system":st.provider,"gen_ai.request.model":st.modelId,"gen_ai.request.frequency_penalty":z.frequencyPenalty,"gen_ai.request.max_tokens":z.maxOutputTokens,"gen_ai.request.presence_penalty":z.presencePenalty,"gen_ai.request.stop_sequences":z.stopSequences,"gen_ai.request.temperature":(Ht=z.temperature)!=null?Ht:void 0,"gen_ai.request.top_k":z.topK,"gen_ai.request.top_p":z.topP}}),tracer:me,fn:async Ir=>{var ms,xi,ye,_e,nt,ht,_t,In;const vn=await st.doGenerate({...Ce,tools:lt,toolChoice:Kt,responseFormat:d?.responseFormat,prompt:kt,providerOptions:g,abortSignal:a,headers:ne}),Ln={id:(xi=(ms=vn.response)==null?void 0:ms.id)!=null?xi:P(),timestamp:(_e=(ye=vn.response)==null?void 0:ye.timestamp)!=null?_e:M(),modelId:(ht=(nt=vn.response)==null?void 0:nt.modelId)!=null?ht:st.modelId,headers:(_t=vn.response)==null?void 0:_t.headers,body:(In=vn.response)==null?void 0:In.body};return Ir.setAttributes(Ri({telemetry:f,attributes:{"ai.response.finishReason":vn.finishReason,"ai.response.text":{output:()=>l$(vn.content)},"ai.response.toolCalls":{output:()=>{const Zr=gF(vn.content);return Zr==null?void 0:JSON.stringify(Zr)}},"ai.response.id":Ln.id,"ai.response.model":Ln.modelId,"ai.response.timestamp":Ln.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(vn.providerMetadata),"ai.usage.promptTokens":vn.usage.inputTokens,"ai.usage.completionTokens":vn.usage.outputTokens,"gen_ai.response.finish_reasons":[vn.finishReason],"gen_ai.response.id":Ln.id,"gen_ai.response.model":Ln.modelId,"gen_ai.usage.input_tokens":vn.usage.inputTokens,"gen_ai.usage.output_tokens":vn.usage.outputTokens}})),{...vn,response:Ln}}})});const jn=await Promise.all(Ae.content.filter(Ht=>Ht.type==="tool-call").map(Ht=>QK({toolCall:Ht,tools:t,repairToolCall:T,system:r,messages:_n})));for(const Ht of jn){if(Ht.invalid)continue;const Ir=t[Ht.toolName];Ir?.onInputAvailable!=null&&await Ir.onInputAvailable({input:Ht.input,toolCallId:Ht.toolCallId,messages:_n,abortSignal:a,experimental_context:$})}const Ue=jn.filter(Ht=>Ht.invalid&&Ht.dynamic);je=[];for(const Ht of Ue)je.push({type:"tool-error",toolCallId:Ht.toolCallId,toolName:Ht.toolName,input:Ht.input,error:zN(Ht.error),dynamic:!0});$e=jn.filter(Ht=>!Ht.providerExecuted),t!=null&&je.push(...await rAe({toolCalls:$e.filter(Ht=>!Ht.invalid),tools:t,tracer:me,telemetry:f,messages:_n,abortSignal:a,experimental_context:$}));const Gt=oAe({content:Ae.content,toolCalls:jn,toolOutputs:je});Xe.push(...u$({content:Gt,tools:t}));const Tn=new eG({content:Gt,finishReason:Ae.finishReason,usage:Ae.usage,warnings:Ae.warnings,providerMetadata:Ae.providerMetadata,request:(W=Ae.request)!=null?W:{},response:{...Ae.response,messages:structuredClone(Xe)}});Gx((Ie=Ae.warnings)!=null?Ie:[]),Pt.push(Tn),await R?.(Tn)}while($e.length>0&&je.length===$e.length&&!await nG({stopConditions:q,steps:Pt}));ie.setAttributes(Ri({telemetry:f,attributes:{"ai.response.finishReason":Ae.finishReason,"ai.response.text":{output:()=>l$(Ae.content)},"ai.response.toolCalls":{output:()=>{const _n=gF(Ae.content);return _n==null?void 0:JSON.stringify(_n)}},"ai.response.providerMetadata":JSON.stringify(Ae.providerMetadata),"ai.usage.promptTokens":Ae.usage.inputTokens,"ai.usage.completionTokens":Ae.usage.outputTokens}}));const en=Pt[Pt.length-1];return new iAe({steps:Pt,resolvedOutput:await d?.parseOutput({text:en.text},{response:en.response,usage:en.usage,finishReason:en.finishReason})})}})}catch(ie){throw YN(ie)}}async function rAe({toolCalls:e,tools:t,tracer:n,telemetry:r,messages:i,abortSignal:o,experimental_context:s}){return(await Promise.all(e.map(async({toolCallId:l,toolName:u,input:d})=>{const f=t[u];if(f?.execute!=null)return ad({name:"ai.toolCall",attributes:Ri({telemetry:r,attributes:{...sd({operationId:"ai.toolCall",telemetry:r}),"ai.toolCall.name":u,"ai.toolCall.id":l,"ai.toolCall.args":{output:()=>JSON.stringify(d)}}}),tracer:n,fn:async g=>{try{const m=tK({execute:f.execute.bind(f),input:d,options:{toolCallId:l,messages:i,abortSignal:o,experimental_context:s}});let b;for await(const x of m)x.type==="final"&&(b=x.output);try{g.setAttributes(Ri({telemetry:r,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(b)}}}))}catch{}return{type:"tool-result",toolCallId:l,toolName:u,input:d,output:b,dynamic:f.type==="dynamic"}}catch(m){return eR(g,m),{type:"tool-error",toolCallId:l,toolName:u,input:d,error:m,dynamic:f.type==="dynamic"}}}})}))).filter(l=>l!=null)}var iAe=class{constructor(e){this.steps=e.steps,this.resolvedOutput=e.resolvedOutput}get finalStep(){return this.steps[this.steps.length-1]}get content(){return this.finalStep.content}get text(){return this.finalStep.text}get files(){return this.finalStep.files}get reasoningText(){return this.finalStep.reasoningText}get reasoning(){return this.finalStep.reasoning}get toolCalls(){return this.finalStep.toolCalls}get staticToolCalls(){return this.finalStep.staticToolCalls}get dynamicToolCalls(){return this.finalStep.dynamicToolCalls}get toolResults(){return this.finalStep.toolResults}get staticToolResults(){return this.finalStep.staticToolResults}get dynamicToolResults(){return this.finalStep.dynamicToolResults}get sources(){return this.finalStep.sources}get finishReason(){return this.finalStep.finishReason}get warnings(){return this.finalStep.warnings}get providerMetadata(){return this.finalStep.providerMetadata}get response(){return this.finalStep.response}get request(){return this.finalStep.request}get usage(){return this.finalStep.usage}get totalUsage(){return this.steps.reduce((e,t)=>YK(e,t.usage),{inputTokens:void 0,outputTokens:void 0,totalTokens:void 0,reasoningTokens:void 0,cachedInputTokens:void 0})}get experimental_output(){if(this.resolvedOutput==null)throw new dK;return this.resolvedOutput}};function gF(e){const t=e.filter(n=>n.type==="tool-call");if(t.length!==0)return t.map(n=>({toolCallId:n.toolCallId,toolName:n.toolName,input:n.input}))}function oAe({content:e,toolCalls:t,toolOutputs:n}){return[...e.map(r=>{switch(r.type){case"text":case"reasoning":case"source":return r;case"file":return{type:"file",file:new nR(r)};case"tool-call":return t.find(i=>i.toolCallId===r.toolCallId);case"tool-result":{const i=t.find(o=>o.toolCallId===r.toolCallId);if(i==null)throw new Error(`Tool call ${r.toolCallId} not found.`);return r.isError?{type:"tool-error",toolCallId:r.toolCallId,toolName:r.toolName,input:i.input,error:r.result,providerExecuted:!0,dynamic:i.dynamic}:{type:"tool-result",toolCallId:r.toolCallId,toolName:r.toolName,input:i.input,output:r.result,providerExecuted:!0,dynamic:i.dynamic}}}}),...n]}function Xx(e,t){const n=new Headers(e??{});for(const[r,i]of Object.entries(t))n.has(r)||n.set(r,i);return n}function sAe({status:e,statusText:t,headers:n,textStream:r}){return new Response(r.pipeThrough(new TextEncoderStream),{status:e??200,statusText:t,headers:Xx(n,{"content-type":"text/plain; charset=utf-8"})})}function rG({response:e,status:t,statusText:n,headers:r,stream:i}){e.writeHead(t??200,n,r);const o=i.getReader();(async()=>{try{for(;;){const{done:a,value:l}=await o.read();if(a)break;e.write(l)}}catch(a){throw a}finally{e.end()}})()}function aAe({response:e,status:t,statusText:n,headers:r,textStream:i}){rG({response:e,status:t,statusText:n,headers:Object.fromEntries(Xx(r,{"content-type":"text/plain; charset=utf-8"}).entries()),stream:i.pipeThrough(new TextEncoderStream)})}var iG=class extends TransformStream{constructor(){super({transform(e,t){t.enqueue(`data: ${JSON.stringify(e)}

`)},flush(e){e.enqueue(`data: [DONE]

`)}})}},oG={"content-type":"text/event-stream","cache-control":"no-cache",connection:"keep-alive","x-vercel-ai-ui-message-stream":"v1","x-accel-buffering":"no"};function lAe({status:e,statusText:t,headers:n,stream:r,consumeSseStream:i}){let o=r.pipeThrough(new iG);if(i){const[s,a]=o.tee();o=s,i({stream:a})}return new Response(o.pipeThrough(new TextEncoderStream),{status:e,statusText:t,headers:Xx(n,oG)})}function uAe({originalMessages:e,responseMessageId:t}){if(e==null)return;const n=e[e.length-1];return n?.role==="assistant"?n.id:typeof t=="function"?t():t}S.union([S.strictObject({type:S.literal("text-start"),id:S.string(),providerMetadata:pn.optional()}),S.strictObject({type:S.literal("text-delta"),id:S.string(),delta:S.string(),providerMetadata:pn.optional()}),S.strictObject({type:S.literal("text-end"),id:S.string(),providerMetadata:pn.optional()}),S.strictObject({type:S.literal("error"),errorText:S.string()}),S.strictObject({type:S.literal("tool-input-start"),toolCallId:S.string(),toolName:S.string(),providerExecuted:S.boolean().optional(),dynamic:S.boolean().optional()}),S.strictObject({type:S.literal("tool-input-delta"),toolCallId:S.string(),inputTextDelta:S.string()}),S.strictObject({type:S.literal("tool-input-available"),toolCallId:S.string(),toolName:S.string(),input:S.unknown(),providerExecuted:S.boolean().optional(),providerMetadata:pn.optional(),dynamic:S.boolean().optional()}),S.strictObject({type:S.literal("tool-input-error"),toolCallId:S.string(),toolName:S.string(),input:S.unknown(),providerExecuted:S.boolean().optional(),providerMetadata:pn.optional(),dynamic:S.boolean().optional(),errorText:S.string()}),S.strictObject({type:S.literal("tool-output-available"),toolCallId:S.string(),output:S.unknown(),providerExecuted:S.boolean().optional(),dynamic:S.boolean().optional(),preliminary:S.boolean().optional()}),S.strictObject({type:S.literal("tool-output-error"),toolCallId:S.string(),errorText:S.string(),providerExecuted:S.boolean().optional(),dynamic:S.boolean().optional()}),S.strictObject({type:S.literal("reasoning"),text:S.string(),providerMetadata:pn.optional()}),S.strictObject({type:S.literal("reasoning-start"),id:S.string(),providerMetadata:pn.optional()}),S.strictObject({type:S.literal("reasoning-delta"),id:S.string(),delta:S.string(),providerMetadata:pn.optional()}),S.strictObject({type:S.literal("reasoning-end"),id:S.string(),providerMetadata:pn.optional()}),S.strictObject({type:S.literal("reasoning-part-finish")}),S.strictObject({type:S.literal("source-url"),sourceId:S.string(),url:S.string(),title:S.string().optional(),providerMetadata:pn.optional()}),S.strictObject({type:S.literal("source-document"),sourceId:S.string(),mediaType:S.string(),title:S.string(),filename:S.string().optional(),providerMetadata:pn.optional()}),S.strictObject({type:S.literal("file"),url:S.string(),mediaType:S.string(),providerMetadata:pn.optional()}),S.strictObject({type:S.string().startsWith("data-"),id:S.string().optional(),data:S.unknown(),transient:S.boolean().optional()}),S.strictObject({type:S.literal("start-step")}),S.strictObject({type:S.literal("finish-step")}),S.strictObject({type:S.literal("start"),messageId:S.string().optional(),messageMetadata:S.unknown().optional()}),S.strictObject({type:S.literal("finish"),messageMetadata:S.unknown().optional()}),S.strictObject({type:S.literal("abort")}),S.strictObject({type:S.literal("message-metadata"),messageMetadata:S.unknown()})]);function cAe(e){return e.type.startsWith("data-")}function sG(e,t){if(e===void 0&&t===void 0)return;if(e===void 0)return t;if(t===void 0)return e;const n={...e};for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)){const i=t[r];if(i===void 0)continue;const o=r in e?e[r]:void 0,s=i!==null&&typeof i=="object"&&!Array.isArray(i)&&!(i instanceof Date)&&!(i instanceof RegExp),a=o!=null&&typeof o=="object"&&!Array.isArray(o)&&!(o instanceof Date)&&!(o instanceof RegExp);s&&a?n[r]=sG(o,i):n[r]=i}return n}function dAe(e){const t=["ROOT"];let n=-1,r=null;function i(l,u,d){switch(l){case'"':{n=u,t.pop(),t.push(d),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{n=u,r=u,t.pop(),t.push(d),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(d),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=u,t.pop(),t.push(d),t.push("INSIDE_NUMBER");break}case"{":{n=u,t.pop(),t.push(d),t.push("INSIDE_OBJECT_START");break}case"[":{n=u,t.pop(),t.push(d),t.push("INSIDE_ARRAY_START");break}}}function o(l,u){switch(l){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=u,t.pop();break}}}function s(l,u){switch(l){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=u,t.pop();break}}}for(let l=0;l<e.length;l++){const u=e[l];switch(t[t.length-1]){case"ROOT":i(u,l,"FINISH");break;case"INSIDE_OBJECT_START":{switch(u){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{n=l,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(u){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(u){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(u){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{i(u,l,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{o(u,l);break}case"INSIDE_STRING":{switch(u){case'"':{t.pop(),n=l;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=l}break}case"INSIDE_ARRAY_START":{switch(u){case"]":{n=l,t.pop();break}default:{n=l,i(u,l,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(u){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{n=l,t.pop();break}default:{n=l;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{i(u,l,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),n=l;break}case"INSIDE_NUMBER":{switch(u){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=l;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&s(u,l),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&o(u,l);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&o(u,l);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&s(u,l);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{const f=e.substring(r,l+1);!"false".startsWith(f)&&!"true".startsWith(f)&&!"null".startsWith(f)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?o(u,l):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&s(u,l)):n=l;break}}}let a=e.slice(0,n+1);for(let l=t.length-1;l>=0;l--)switch(t[l]){case"INSIDE_STRING":{a+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{a+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{a+="]";break}case"INSIDE_LITERAL":{const d=e.substring(r,e.length);"true".startsWith(d)?a+="true".slice(d.length):"false".startsWith(d)?a+="false".slice(d.length):"null".startsWith(d)&&(a+="null".slice(d.length))}}return a}async function aG(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=await ug({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=await ug({text:dAe(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}function xE(e){return e.type.startsWith("tool-")}function yF(e){return e.type.split("-").slice(1).join("-")}function fAe({lastMessage:e,messageId:t}){return{message:e?.role==="assistant"?e:{id:t,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function pAe({stream:e,messageMetadataSchema:t,dataPartSchemas:n,runUpdateMessageJob:r,onError:i,onToolCall:o,onData:s}){return e.pipeThrough(new TransformStream({async transform(a,l){await r(async({state:u,write:d})=>{var f,g,m,b;function x(P){const R=u.message.parts.filter(xE).find(z=>z.toolCallId===P);if(R==null)throw new Error("tool-output-error must be preceded by a tool-input-available");return R}function k(P){const R=u.message.parts.filter(z=>z.type==="dynamic-tool").find(z=>z.toolCallId===P);if(R==null)throw new Error("tool-output-error must be preceded by a tool-input-available");return R}function T(P){var M;const R=u.message.parts.find(q=>xE(q)&&q.toolCallId===P.toolCallId),z=P,F=R;R!=null?(R.state=P.state,F.input=z.input,F.output=z.output,F.errorText=z.errorText,F.rawInput=z.rawInput,F.preliminary=z.preliminary,F.providerExecuted=(M=z.providerExecuted)!=null?M:R.providerExecuted,z.providerMetadata!=null&&R.state==="input-available"&&(R.callProviderMetadata=z.providerMetadata)):u.message.parts.push({type:`tool-${P.toolName}`,toolCallId:P.toolCallId,state:P.state,input:z.input,output:z.output,rawInput:z.rawInput,errorText:z.errorText,providerExecuted:z.providerExecuted,preliminary:z.preliminary,...z.providerMetadata!=null?{callProviderMetadata:z.providerMetadata}:{}})}function E(P){var M;const R=u.message.parts.find(q=>q.type==="dynamic-tool"&&q.toolCallId===P.toolCallId),z=P,F=R;R!=null?(R.state=P.state,F.toolName=P.toolName,F.input=z.input,F.output=z.output,F.errorText=z.errorText,F.rawInput=(M=z.rawInput)!=null?M:F.rawInput,F.preliminary=z.preliminary,z.providerMetadata!=null&&R.state==="input-available"&&(R.callProviderMetadata=z.providerMetadata)):u.message.parts.push({type:"dynamic-tool",toolName:P.toolName,toolCallId:P.toolCallId,state:P.state,input:z.input,output:z.output,errorText:z.errorText,preliminary:z.preliminary,...z.providerMetadata!=null?{callProviderMetadata:z.providerMetadata}:{}})}async function $(P){if(P!=null){const M=u.message.metadata!=null?sG(u.message.metadata,P):P;t!=null&&await oF({value:M,schema:t}),u.message.metadata=M}}switch(a.type){case"text-start":{const P={type:"text",text:"",providerMetadata:a.providerMetadata,state:"streaming"};u.activeTextParts[a.id]=P,u.message.parts.push(P),d();break}case"text-delta":{const P=u.activeTextParts[a.id];P.text+=a.delta,P.providerMetadata=(f=a.providerMetadata)!=null?f:P.providerMetadata,d();break}case"text-end":{const P=u.activeTextParts[a.id];P.state="done",P.providerMetadata=(g=a.providerMetadata)!=null?g:P.providerMetadata,delete u.activeTextParts[a.id],d();break}case"reasoning-start":{const P={type:"reasoning",text:"",providerMetadata:a.providerMetadata,state:"streaming"};u.activeReasoningParts[a.id]=P,u.message.parts.push(P),d();break}case"reasoning-delta":{const P=u.activeReasoningParts[a.id];P.text+=a.delta,P.providerMetadata=(m=a.providerMetadata)!=null?m:P.providerMetadata,d();break}case"reasoning-end":{const P=u.activeReasoningParts[a.id];P.providerMetadata=(b=a.providerMetadata)!=null?b:P.providerMetadata,P.state="done",delete u.activeReasoningParts[a.id],d();break}case"file":{u.message.parts.push({type:"file",mediaType:a.mediaType,url:a.url}),d();break}case"source-url":{u.message.parts.push({type:"source-url",sourceId:a.sourceId,url:a.url,title:a.title,providerMetadata:a.providerMetadata}),d();break}case"source-document":{u.message.parts.push({type:"source-document",sourceId:a.sourceId,mediaType:a.mediaType,title:a.title,filename:a.filename,providerMetadata:a.providerMetadata}),d();break}case"tool-input-start":{const P=u.message.parts.filter(xE);u.partialToolCalls[a.toolCallId]={text:"",toolName:a.toolName,index:P.length,dynamic:a.dynamic},a.dynamic?E({toolCallId:a.toolCallId,toolName:a.toolName,state:"input-streaming",input:void 0}):T({toolCallId:a.toolCallId,toolName:a.toolName,state:"input-streaming",input:void 0,providerExecuted:a.providerExecuted}),d();break}case"tool-input-delta":{const P=u.partialToolCalls[a.toolCallId];P.text+=a.inputTextDelta;const{value:M}=await aG(P.text);P.dynamic?E({toolCallId:a.toolCallId,toolName:P.toolName,state:"input-streaming",input:M}):T({toolCallId:a.toolCallId,toolName:P.toolName,state:"input-streaming",input:M}),d();break}case"tool-input-available":{a.dynamic?E({toolCallId:a.toolCallId,toolName:a.toolName,state:"input-available",input:a.input,providerMetadata:a.providerMetadata}):T({toolCallId:a.toolCallId,toolName:a.toolName,state:"input-available",input:a.input,providerExecuted:a.providerExecuted,providerMetadata:a.providerMetadata}),d(),o&&!a.providerExecuted&&await o({toolCall:a});break}case"tool-input-error":{a.dynamic?E({toolCallId:a.toolCallId,toolName:a.toolName,state:"output-error",input:a.input,errorText:a.errorText,providerMetadata:a.providerMetadata}):T({toolCallId:a.toolCallId,toolName:a.toolName,state:"output-error",input:void 0,rawInput:a.input,errorText:a.errorText,providerExecuted:a.providerExecuted,providerMetadata:a.providerMetadata}),d();break}case"tool-output-available":{if(a.dynamic){const P=k(a.toolCallId);E({toolCallId:a.toolCallId,toolName:P.toolName,state:"output-available",input:P.input,output:a.output,preliminary:a.preliminary})}else{const P=x(a.toolCallId);T({toolCallId:a.toolCallId,toolName:yF(P),state:"output-available",input:P.input,output:a.output,providerExecuted:a.providerExecuted,preliminary:a.preliminary})}d();break}case"tool-output-error":{if(a.dynamic){const P=k(a.toolCallId);E({toolCallId:a.toolCallId,toolName:P.toolName,state:"output-error",input:P.input,errorText:a.errorText})}else{const P=x(a.toolCallId);T({toolCallId:a.toolCallId,toolName:yF(P),state:"output-error",input:P.input,rawInput:P.rawInput,errorText:a.errorText})}d();break}case"start-step":{u.message.parts.push({type:"step-start"});break}case"finish-step":{u.activeTextParts={},u.activeReasoningParts={};break}case"start":{a.messageId!=null&&(u.message.id=a.messageId),await $(a.messageMetadata),(a.messageId!=null||a.messageMetadata!=null)&&d();break}case"finish":{await $(a.messageMetadata),a.messageMetadata!=null&&d();break}case"message-metadata":{await $(a.messageMetadata),a.messageMetadata!=null&&d();break}case"error":{i?.(new Error(a.errorText));break}default:if(cAe(a)){n?.[a.type]!=null&&await oF({value:a.data,schema:n[a.type]});const P=a;if(P.transient){s?.(P);break}const M=P.id!=null?u.message.parts.find(R=>P.type===R.type&&P.id===R.id):void 0;M!=null?M.data=P.data:u.message.parts.push(P),s?.(P),d()}}l.enqueue(a)})}}))}function hAe({messageId:e,originalMessages:t=[],onFinish:n,onError:r,stream:i}){let o=t?.[t.length-1];o?.role!=="assistant"?o=void 0:e=o.id;let s=!1;const a=i.pipeThrough(new TransformStream({transform(g,m){if(g.type==="start"){const b=g;b.messageId==null&&e!=null&&(b.messageId=e)}g.type==="abort"&&(s=!0),m.enqueue(g)}}));if(n==null)return a;const l=fAe({lastMessage:o?structuredClone(o):void 0,messageId:e??""}),u=async g=>{await g({state:l,write:()=>{}})};let d=!1;const f=async()=>{if(d||!n)return;d=!0;const g=l.message.id===o?.id;await n({isAborted:s,isContinuation:g,responseMessage:l.message,messages:[...g?t.slice(0,-1):t,l.message]})};return pAe({stream:a,runUpdateMessageJob:u,onError:r}).pipeThrough(new TransformStream({transform(g,m){m.enqueue(g)},async cancel(){await f()},async flush(){await f()}}))}function mAe({response:e,status:t,statusText:n,headers:r,stream:i,consumeSseStream:o}){let s=i.pipeThrough(new iG);if(o){const[a,l]=s.tee();s=a,o({stream:l})}rG({response:e,status:t,statusText:n,headers:Object.fromEntries(Xx(r,oG).entries()),stream:s.pipeThrough(new TextEncoderStream)})}function Vv(e){const t=e.pipeThrough(new TransformStream);return t[Symbol.asyncIterator]=function(){const n=this.getReader();let r=!1;async function i(o){var s;r=!0;try{o&&await((s=n.cancel)==null?void 0:s.call(n))}finally{try{n.releaseLock()}catch{}}}return{async next(){if(r)return{done:!0,value:void 0};const{done:o,value:s}=await n.read();return o?(await i(!0),{done:!0,value:void 0}):{done:!1,value:s}},async return(){return await i(!0),{done:!0,value:void 0}},async throw(o){throw await i(!0),o}}},t}async function gAe({stream:e,onError:t}){const n=e.getReader();try{for(;;){const{done:r}=await n.read();if(r)break}}catch(r){t?.(r)}finally{n.releaseLock()}}function vF(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function yAe(){let e=[],t=null,n=!1,r=vF();const i=()=>{n=!0,r.resolve(),e.forEach(s=>s.cancel()),e=[],t?.close()},o=async()=>{if(n&&e.length===0){t?.close();return}if(e.length===0)return r=vF(),await r.promise,o();try{const{value:s,done:a}=await e[0].read();a?(e.shift(),e.length>0?await o():n&&t?.close()):t?.enqueue(s)}catch(s){t?.error(s),e.shift(),i()}};return{stream:new ReadableStream({start(s){t=s},pull:o,async cancel(){for(const s of e)await s.cancel();e=[],n=!0}}),addStream:s=>{if(n)throw new Error("Cannot add inner stream: outer stream is closed");e.push(s.getReader()),r.resolve()},close:()=>{n=!0,r.resolve(),e.length===0&&t?.close()},terminate:i}}var iS=class{constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get promise(){return this._promise?this._promise:(this._promise=new Promise((e,t)=>{this.status.type==="resolved"?e(this.status.value):this.status.type==="rejected"&&t(this.status.error),this._resolve=e,this._reject=t}),this._promise)}resolve(e){var t;this.status={type:"resolved",value:e},this._promise&&((t=this._resolve)==null||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this._promise&&((t=this._reject)==null||t.call(this,e))}};function vAe(){var e,t;return(t=(e=globalThis?.performance)==null?void 0:e.now())!=null?t:Date.now()}function bAe({tools:e,generatorStream:t,tracer:n,telemetry:r,system:i,messages:o,abortSignal:s,repairToolCall:a,experimental_context:l}){let u=null;const d=new ReadableStream({start(T){u=T}}),f=new Set,g=new Map;let m=!1,b;function x(){m&&f.size===0&&(b!=null&&u.enqueue(b),u.close())}const k=new TransformStream({async transform(T,E){const $=T.type;switch($){case"stream-start":case"text-start":case"text-delta":case"text-end":case"reasoning-start":case"reasoning-delta":case"reasoning-end":case"tool-input-start":case"tool-input-delta":case"tool-input-end":case"source":case"response-metadata":case"error":case"raw":{E.enqueue(T);break}case"file":{E.enqueue({type:"file",file:new tAe({data:T.data,mediaType:T.mediaType})});break}case"finish":{b={type:"finish",finishReason:T.finishReason,usage:T.usage,providerMetadata:T.providerMetadata};break}case"tool-call":{try{const P=await QK({toolCall:T,tools:e,repairToolCall:a,system:i,messages:o});if(E.enqueue(P),P.invalid){u.enqueue({type:"tool-error",toolCallId:P.toolCallId,toolName:P.toolName,input:P.input,error:zN(P.error),dynamic:!0});break}const M=e[P.toolName];if(g.set(P.toolCallId,P.input),M.onInputAvailable!=null&&await M.onInputAvailable({input:P.input,toolCallId:P.toolCallId,messages:o,abortSignal:s,experimental_context:l}),M.execute!=null&&P.providerExecuted!==!0){const R=_Ce();f.add(R),ad({name:"ai.toolCall",attributes:Ri({telemetry:r,attributes:{...sd({operationId:"ai.toolCall",telemetry:r}),"ai.toolCall.name":P.toolName,"ai.toolCall.id":P.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(P.input)}}}),tracer:n,fn:async z=>{let F;try{const q=tK({execute:M.execute.bind(M),input:P.input,options:{toolCallId:P.toolCallId,messages:o,abortSignal:s,experimental_context:l}});for await(const Z of q)u.enqueue({...P,type:"tool-result",output:Z.output,...Z.type==="preliminary"&&{preliminary:!0}}),Z.type==="final"&&(F=Z.output)}catch(q){eR(z,q),u.enqueue({...P,type:"tool-error",error:q}),f.delete(R),x();return}f.delete(R),x();try{z.setAttributes(Ri({telemetry:r,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(F)}}}))}catch{}}})}}catch(P){u.enqueue({type:"error",error:P})}break}case"tool-result":{const P=T.toolName;T.isError?u.enqueue({type:"tool-error",toolCallId:T.toolCallId,toolName:P,input:g.get(T.toolCallId),providerExecuted:T.providerExecuted,error:T.result}):E.enqueue({type:"tool-result",toolCallId:T.toolCallId,toolName:P,input:g.get(T.toolCallId),output:T.result,providerExecuted:T.providerExecuted});break}default:{const P=$;throw new Error(`Unhandled chunk type: ${P}`)}}},flush(){m=!0,x()}});return new ReadableStream({async start(T){return Promise.all([t.pipeThrough(k).pipeTo(new WritableStream({write(E){T.enqueue(E)},close(){}})),d.pipeTo(new WritableStream({write(E){T.enqueue(E)},close(){T.close()}}))])}})}var xAe=Kx({prefix:"aitxt",size:24});function wAe({model:e,tools:t,toolChoice:n,system:r,prompt:i,messages:o,maxRetries:s,abortSignal:a,headers:l,stopWhen:u=tG(1),experimental_output:d,experimental_telemetry:f,prepareStep:g,providerOptions:m,experimental_activeTools:b,activeTools:x=b,experimental_repairToolCall:k,experimental_transform:T,experimental_download:E,includeRawChunks:$=!1,onChunk:P,onError:M=({error:se})=>{console.error(se)},onFinish:R,onAbort:z,onStepFinish:F,experimental_context:q,_internal:{now:Z=vAe,generateId:re=xAe,currentDate:ee=()=>new Date}={},...ne}){return new kAe({model:cx(e),telemetry:f,headers:l,settings:ne,maxRetries:s,abortSignal:a,system:r,prompt:i,messages:o,tools:t,toolChoice:n,transforms:a$(T),activeTools:x,repairToolCall:k,stopConditions:a$(u),output:d,providerOptions:m,prepareStep:g,includeRawChunks:$,onChunk:P,onError:M,onFinish:R,onAbort:z,onStepFinish:F,now:Z,currentDate:ee,generateId:re,experimental_context:q,download:E})}function SAe(e){if(!e)return new TransformStream({transform(s,a){a.enqueue({part:s,partialOutput:void 0})}});let t,n="",r="",i="";function o({controller:s,partialOutput:a=void 0}){s.enqueue({part:{type:"text-delta",id:t,text:r},partialOutput:a}),r=""}return new TransformStream({async transform(s,a){if(s.type==="finish-step"&&r.length>0&&o({controller:a}),s.type!=="text-delta"&&s.type!=="text-start"&&s.type!=="text-end"){a.enqueue({part:s,partialOutput:void 0});return}if(t==null)t=s.id;else if(s.id!==t){a.enqueue({part:s,partialOutput:void 0});return}if(s.type==="text-start"){a.enqueue({part:s,partialOutput:void 0});return}if(s.type==="text-end"){r.length>0&&o({controller:a}),a.enqueue({part:s,partialOutput:void 0});return}n+=s.text,r+=s.text;const l=await e.parsePartial({text:n});if(l!=null){const u=JSON.stringify(l.partial);u!==i&&(o({controller:a,partialOutput:l.partial}),i=u)}}})}var kAe=class{constructor({model:e,telemetry:t,headers:n,settings:r,maxRetries:i,abortSignal:o,system:s,prompt:a,messages:l,tools:u,toolChoice:d,transforms:f,activeTools:g,repairToolCall:m,stopConditions:b,output:x,providerOptions:k,prepareStep:T,includeRawChunks:E,now:$,currentDate:P,generateId:M,onChunk:R,onError:z,onFinish:F,onAbort:q,onStepFinish:Z,experimental_context:re,download:ee}){this._totalUsage=new iS,this._finishReason=new iS,this._steps=new iS,this.output=x,this.includeRawChunks=E,this.tools=u;let ne,se=[];const ue=[];let me,ie,J={},le=[];const B=[];let G,H={},W={};const Ie=new TransformStream({async transform(kt,st){var Kt,lt,jn;st.enqueue(kt);const{part:Ue}=kt;if((Ue.type==="text-delta"||Ue.type==="reasoning-delta"||Ue.type==="source"||Ue.type==="tool-call"||Ue.type==="tool-result"||Ue.type==="tool-input-start"||Ue.type==="tool-input-delta"||Ue.type==="raw")&&await R?.({chunk:Ue}),Ue.type==="error"&&await z({error:YN(Ue.error)}),Ue.type==="text-start"&&(H[Ue.id]={type:"text",text:"",providerMetadata:Ue.providerMetadata},se.push(H[Ue.id])),Ue.type==="text-delta"){const Gt=H[Ue.id];if(Gt==null){st.enqueue({part:{type:"error",error:`text part ${Ue.id} not found`},partialOutput:void 0});return}Gt.text+=Ue.text,Gt.providerMetadata=(Kt=Ue.providerMetadata)!=null?Kt:Gt.providerMetadata}if(Ue.type==="text-end"&&delete H[Ue.id],Ue.type==="reasoning-start"&&(W[Ue.id]={type:"reasoning",text:"",providerMetadata:Ue.providerMetadata},se.push(W[Ue.id])),Ue.type==="reasoning-delta"){const Gt=W[Ue.id];if(Gt==null){st.enqueue({part:{type:"error",error:`reasoning part ${Ue.id} not found`},partialOutput:void 0});return}Gt.text+=Ue.text,Gt.providerMetadata=(lt=Ue.providerMetadata)!=null?lt:Gt.providerMetadata}if(Ue.type==="reasoning-end"){const Gt=W[Ue.id];if(Gt==null){st.enqueue({part:{type:"error",error:`reasoning part ${Ue.id} not found`},partialOutput:void 0});return}Gt.providerMetadata=(jn=Ue.providerMetadata)!=null?jn:Gt.providerMetadata,delete W[Ue.id]}if(Ue.type==="file"&&se.push({type:"file",file:Ue.file}),Ue.type==="source"&&se.push(Ue),Ue.type==="tool-call"&&se.push(Ue),Ue.type==="tool-result"&&!Ue.preliminary&&se.push(Ue),Ue.type==="tool-error"&&se.push(Ue),Ue.type==="start-step"&&(J=Ue.request,le=Ue.warnings),Ue.type==="finish-step"){const Gt=u$({content:se,tools:u}),Tn=new eG({content:se,finishReason:Ue.finishReason,usage:Ue.usage,warnings:le,request:J,response:{...Ue.response,messages:[...ue,...Gt]},providerMetadata:Ue.providerMetadata});await Z?.(Tn),Gx(le),B.push(Tn),se=[],W={},H={},ue.push(...Gt),ne.resolve()}Ue.type==="finish"&&(ie=Ue.totalUsage,me=Ue.finishReason)},async flush(kt){try{if(B.length===0){const jn=new wIe({message:"No output generated. Check the stream for errors."});tn._finishReason.reject(jn),tn._totalUsage.reject(jn),tn._steps.reject(jn);return}const st=me??"unknown",Kt=ie??{inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};tn._finishReason.resolve(st),tn._totalUsage.resolve(Kt),tn._steps.resolve(B);const lt=B[B.length-1];await F?.({finishReason:st,totalUsage:Kt,usage:lt.usage,content:lt.content,text:lt.text,reasoningText:lt.reasoningText,reasoning:lt.reasoning,files:lt.files,sources:lt.sources,toolCalls:lt.toolCalls,staticToolCalls:lt.staticToolCalls,dynamicToolCalls:lt.dynamicToolCalls,toolResults:lt.toolResults,staticToolResults:lt.staticToolResults,dynamicToolResults:lt.dynamicToolResults,request:lt.request,response:lt.response,warnings:lt.warnings,providerMetadata:lt.providerMetadata,steps:B}),G.setAttributes(Ri({telemetry:t,attributes:{"ai.response.finishReason":st,"ai.response.text":{output:()=>lt.text},"ai.response.toolCalls":{output:()=>{var jn;return(jn=lt.toolCalls)!=null&&jn.length?JSON.stringify(lt.toolCalls):void 0}},"ai.response.providerMetadata":JSON.stringify(lt.providerMetadata),"ai.usage.inputTokens":Kt.inputTokens,"ai.usage.outputTokens":Kt.outputTokens,"ai.usage.totalTokens":Kt.totalTokens,"ai.usage.reasoningTokens":Kt.reasoningTokens,"ai.usage.cachedInputTokens":Kt.cachedInputTokens}}))}catch(st){kt.error(st)}finally{G.end()}}}),Ce=yAe();this.addStream=Ce.addStream,this.closeStream=Ce.close;const Ae=Ce.stream.getReader();let $e=new ReadableStream({async start(kt){kt.enqueue({type:"start"})},async pull(kt){function st(){q?.({steps:B}),kt.enqueue({type:"abort"}),kt.close()}try{const{done:Kt,value:lt}=await Ae.read();if(Kt){kt.close();return}if(o?.aborted){st();return}kt.enqueue(lt)}catch(Kt){GJ(Kt)&&o?.aborted?st():kt.error(Kt)}},cancel(kt){return Ce.stream.cancel(kt)}});for(const kt of f)$e=$e.pipeThrough(kt({tools:u,stopStream(){Ce.terminate()}}));this.baseStream=$e.pipeThrough(SAe(x)).pipeThrough(Ie);const{maxRetries:je,retry:Xe}=Yx({maxRetries:i,abortSignal:o}),Pt=QN(t),en=dx(r),_n=XN({model:e,telemetry:t,headers:n,settings:{...en,maxRetries:je}}),tn=this;ad({name:"ai.streamText",attributes:Ri({telemetry:t,attributes:{...sd({operationId:"ai.streamText",telemetry:t}),..._n,"ai.prompt":{input:()=>JSON.stringify({system:s,prompt:a,messages:l})}}}),tracer:Pt,endWhenDone:!1,fn:async kt=>{G=kt;async function st({currentStep:Kt,responseMessages:lt,usage:jn}){var Ue,Gt,Tn,Ht,Ir;const ms=tn.includeRawChunks;ne=new iS;const xi=await GN({system:s,prompt:a,messages:l}),ye=[...xi.messages,...lt],_e=await T?.({model:e,steps:B,stepNumber:B.length,messages:ye}),nt=await KN({prompt:{system:(Ue=_e?.system)!=null?Ue:xi.system,messages:(Gt=_e?.messages)!=null?Gt:ye},supportedUrls:await e.supportedUrls,download:ee}),ht=cx((Tn=_e?.model)!=null?Tn:e),{toolChoice:_t,tools:In}=qK({tools:u,toolChoice:(Ht=_e?.toolChoice)!=null?Ht:d,activeTools:(Ir=_e?.activeTools)!=null?Ir:g}),{result:{stream:vn,response:Ln,request:Zr},doStreamSpan:Wr,startTimestampMs:Yn}=await Xe(()=>ad({name:"ai.streamText.doStream",attributes:Ri({telemetry:t,attributes:{...sd({operationId:"ai.streamText.doStream",telemetry:t}),..._n,"ai.model.provider":ht.provider,"ai.model.id":ht.modelId,"ai.prompt.messages":{input:()=>tR(nt)},"ai.prompt.tools":{input:()=>In?.map(ct=>JSON.stringify(ct))},"ai.prompt.toolChoice":{input:()=>_t!=null?JSON.stringify(_t):void 0},"gen_ai.system":ht.provider,"gen_ai.request.model":ht.modelId,"gen_ai.request.frequency_penalty":en.frequencyPenalty,"gen_ai.request.max_tokens":en.maxOutputTokens,"gen_ai.request.presence_penalty":en.presencePenalty,"gen_ai.request.stop_sequences":en.stopSequences,"gen_ai.request.temperature":en.temperature,"gen_ai.request.top_k":en.topK,"gen_ai.request.top_p":en.topP}}),tracer:Pt,endWhenDone:!1,fn:async ct=>({startTimestampMs:$(),doStreamSpan:ct,result:await ht.doStream({...en,tools:In,toolChoice:_t,responseFormat:x?.responseFormat,prompt:nt,providerOptions:k,abortSignal:o,headers:n,includeRawChunks:ms})})})),wi=bAe({tools:u,generatorStream:vn,tracer:Pt,telemetry:t,system:s,messages:ye,repairToolCall:m,abortSignal:o,experimental_context:re}),oi=Zr??{},Va=[],Nl=[];let Bo;const Uo={};let ta="unknown",Si={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},Uu,vd=!0,ki={id:M(),timestamp:P(),modelId:e.modelId},Zu="";tn.addStream(wi.pipeThrough(new TransformStream({async transform(ct,Hn){var Zo,Wo,Ba,si;if(ct.type==="stream-start"){Bo=ct.warnings;return}if(vd){const cr=$()-Yn;vd=!1,Wr.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":cr}),Wr.setAttributes({"ai.response.msToFirstChunk":cr}),Hn.enqueue({type:"start-step",request:oi,warnings:Bo??[]})}const Rl=ct.type;switch(Rl){case"text-start":case"text-end":{Hn.enqueue(ct);break}case"text-delta":{ct.delta.length>0&&(Hn.enqueue({type:"text-delta",id:ct.id,text:ct.delta,providerMetadata:ct.providerMetadata}),Zu+=ct.delta);break}case"reasoning-start":case"reasoning-end":{Hn.enqueue(ct);break}case"reasoning-delta":{Hn.enqueue({type:"reasoning-delta",id:ct.id,text:ct.delta,providerMetadata:ct.providerMetadata});break}case"tool-call":{Hn.enqueue(ct),Va.push(ct);break}case"tool-result":{Hn.enqueue(ct),ct.preliminary||Nl.push(ct);break}case"tool-error":{Hn.enqueue(ct),Nl.push(ct);break}case"response-metadata":{ki={id:(Zo=ct.id)!=null?Zo:ki.id,timestamp:(Wo=ct.timestamp)!=null?Wo:ki.timestamp,modelId:(Ba=ct.modelId)!=null?Ba:ki.modelId};break}case"finish":{Si=ct.usage,ta=ct.finishReason,Uu=ct.providerMetadata;const cr=$()-Yn;Wr.addEvent("ai.stream.finish"),Wr.setAttributes({"ai.response.msToFinish":cr,"ai.response.avgOutputTokensPerSecond":1e3*((si=Si.outputTokens)!=null?si:0)/cr});break}case"file":{Hn.enqueue(ct);break}case"source":{Hn.enqueue(ct);break}case"tool-input-start":{Uo[ct.id]=ct.toolName;const cr=u?.[ct.toolName];cr?.onInputStart!=null&&await cr.onInputStart({toolCallId:ct.id,messages:ye,abortSignal:o,experimental_context:re}),Hn.enqueue({...ct,dynamic:cr?.type==="dynamic"});break}case"tool-input-end":{delete Uo[ct.id],Hn.enqueue(ct);break}case"tool-input-delta":{const cr=Uo[ct.id],Dl=u?.[cr];Dl?.onInputDelta!=null&&await Dl.onInputDelta({inputTextDelta:ct.delta,toolCallId:ct.id,messages:ye,abortSignal:o,experimental_context:re}),Hn.enqueue(ct);break}case"error":{Hn.enqueue(ct),ta="error";break}case"raw":{ms&&Hn.enqueue(ct);break}default:{const cr=Rl;throw new Error(`Unknown chunk type: ${cr}`)}}},async flush(ct){const Hn=Va.length>0?JSON.stringify(Va):void 0;try{Wr.setAttributes(Ri({telemetry:t,attributes:{"ai.response.finishReason":ta,"ai.response.text":{output:()=>Zu},"ai.response.toolCalls":{output:()=>Hn},"ai.response.id":ki.id,"ai.response.model":ki.modelId,"ai.response.timestamp":ki.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(Uu),"ai.usage.inputTokens":Si.inputTokens,"ai.usage.outputTokens":Si.outputTokens,"ai.usage.totalTokens":Si.totalTokens,"ai.usage.reasoningTokens":Si.reasoningTokens,"ai.usage.cachedInputTokens":Si.cachedInputTokens,"gen_ai.response.finish_reasons":[ta],"gen_ai.response.id":ki.id,"gen_ai.response.model":ki.modelId,"gen_ai.usage.input_tokens":Si.inputTokens,"gen_ai.usage.output_tokens":Si.outputTokens}}))}catch{}finally{Wr.end()}ct.enqueue({type:"finish-step",finishReason:ta,usage:Si,providerMetadata:Uu,response:{...ki,headers:Ln?.headers}});const Zo=YK(jn,Si);await ne.promise;const Wo=Va.filter(si=>si.providerExecuted!==!0),Ba=Nl.filter(si=>si.providerExecuted!==!0);if(Wo.length>0&&Ba.length===Wo.length&&!await nG({stopConditions:b,steps:B})){lt.push(...u$({content:B[B.length-1].content,tools:u}));try{await st({currentStep:Kt+1,responseMessages:lt,usage:Zo})}catch(si){ct.enqueue({type:"error",error:si}),tn.closeStream()}}else ct.enqueue({type:"finish",finishReason:ta,totalUsage:Zo}),tn.closeStream()}})))}await st({currentStep:0,responseMessages:[],usage:{inputTokens:void 0,outputTokens:void 0,totalTokens:void 0}})}}).catch(kt=>{tn.addStream(new ReadableStream({start(st){st.enqueue({type:"error",error:kt}),st.close()}})),tn.closeStream()})}get steps(){return this.consumeStream(),this._steps.promise}get finalStep(){return this.steps.then(e=>e[e.length-1])}get content(){return this.finalStep.then(e=>e.content)}get warnings(){return this.finalStep.then(e=>e.warnings)}get providerMetadata(){return this.finalStep.then(e=>e.providerMetadata)}get text(){return this.finalStep.then(e=>e.text)}get reasoningText(){return this.finalStep.then(e=>e.reasoningText)}get reasoning(){return this.finalStep.then(e=>e.reasoning)}get sources(){return this.finalStep.then(e=>e.sources)}get files(){return this.finalStep.then(e=>e.files)}get toolCalls(){return this.finalStep.then(e=>e.toolCalls)}get staticToolCalls(){return this.finalStep.then(e=>e.staticToolCalls)}get dynamicToolCalls(){return this.finalStep.then(e=>e.dynamicToolCalls)}get toolResults(){return this.finalStep.then(e=>e.toolResults)}get staticToolResults(){return this.finalStep.then(e=>e.staticToolResults)}get dynamicToolResults(){return this.finalStep.then(e=>e.dynamicToolResults)}get usage(){return this.finalStep.then(e=>e.usage)}get request(){return this.finalStep.then(e=>e.request)}get response(){return this.finalStep.then(e=>e.response)}get totalUsage(){return this.consumeStream(),this._totalUsage.promise}get finishReason(){return this.consumeStream(),this._finishReason.promise}teeStream(){const[e,t]=this.baseStream.tee();return this.baseStream=t,e}get textStream(){return Vv(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){e.type==="text-delta"&&t.enqueue(e.text)}})))}get fullStream(){return Vv(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){t.enqueue(e)}})))}async consumeStream(e){var t;try{await gAe({stream:this.fullStream,onError:e?.onError})}catch(n){(t=e?.onError)==null||t.call(e,n)}}get experimental_partialOutputStream(){if(this.output==null)throw new dK;return Vv(this.teeStream().pipeThrough(new TransformStream({transform({partialOutput:e},t){e!=null&&t.enqueue(e)}})))}toUIMessageStream({originalMessages:e,generateMessageId:t,onFinish:n,messageMetadata:r,sendReasoning:i=!0,sendSources:o=!1,sendStart:s=!0,sendFinish:a=!0,onError:l=Ig}={}){const u=t!=null?uAe({originalMessages:e,responseMessageId:t}):void 0,d={},f=m=>{var b,x;const k=d[m];return((x=(b=this.tools)==null?void 0:b[k])==null?void 0:x.type)==="dynamic"?!0:void 0},g=this.fullStream.pipeThrough(new TransformStream({transform:async(m,b)=>{const x=r?.({part:m}),k=m.type;switch(k){case"text-start":{b.enqueue({type:"text-start",id:m.id,...m.providerMetadata!=null?{providerMetadata:m.providerMetadata}:{}});break}case"text-delta":{b.enqueue({type:"text-delta",id:m.id,delta:m.text,...m.providerMetadata!=null?{providerMetadata:m.providerMetadata}:{}});break}case"text-end":{b.enqueue({type:"text-end",id:m.id,...m.providerMetadata!=null?{providerMetadata:m.providerMetadata}:{}});break}case"reasoning-start":{b.enqueue({type:"reasoning-start",id:m.id,...m.providerMetadata!=null?{providerMetadata:m.providerMetadata}:{}});break}case"reasoning-delta":{i&&b.enqueue({type:"reasoning-delta",id:m.id,delta:m.text,...m.providerMetadata!=null?{providerMetadata:m.providerMetadata}:{}});break}case"reasoning-end":{b.enqueue({type:"reasoning-end",id:m.id,...m.providerMetadata!=null?{providerMetadata:m.providerMetadata}:{}});break}case"file":{b.enqueue({type:"file",mediaType:m.file.mediaType,url:`data:${m.file.mediaType};base64,${m.file.base64}`});break}case"source":{o&&m.sourceType==="url"&&b.enqueue({type:"source-url",sourceId:m.id,url:m.url,title:m.title,...m.providerMetadata!=null?{providerMetadata:m.providerMetadata}:{}}),o&&m.sourceType==="document"&&b.enqueue({type:"source-document",sourceId:m.id,mediaType:m.mediaType,title:m.title,filename:m.filename,...m.providerMetadata!=null?{providerMetadata:m.providerMetadata}:{}});break}case"tool-input-start":{d[m.id]=m.toolName;const T=f(m.id);b.enqueue({type:"tool-input-start",toolCallId:m.id,toolName:m.toolName,...m.providerExecuted!=null?{providerExecuted:m.providerExecuted}:{},...T!=null?{dynamic:T}:{}});break}case"tool-input-delta":{b.enqueue({type:"tool-input-delta",toolCallId:m.id,inputTextDelta:m.delta});break}case"tool-call":{d[m.toolCallId]=m.toolName;const T=f(m.toolCallId);m.invalid?b.enqueue({type:"tool-input-error",toolCallId:m.toolCallId,toolName:m.toolName,input:m.input,...m.providerExecuted!=null?{providerExecuted:m.providerExecuted}:{},...m.providerMetadata!=null?{providerMetadata:m.providerMetadata}:{},...T!=null?{dynamic:T}:{},errorText:l(m.error)}):b.enqueue({type:"tool-input-available",toolCallId:m.toolCallId,toolName:m.toolName,input:m.input,...m.providerExecuted!=null?{providerExecuted:m.providerExecuted}:{},...m.providerMetadata!=null?{providerMetadata:m.providerMetadata}:{},...T!=null?{dynamic:T}:{}});break}case"tool-result":{const T=f(m.toolCallId);b.enqueue({type:"tool-output-available",toolCallId:m.toolCallId,output:m.output,...m.providerExecuted!=null?{providerExecuted:m.providerExecuted}:{},...m.preliminary!=null?{preliminary:m.preliminary}:{},...T!=null?{dynamic:T}:{}});break}case"tool-error":{const T=f(m.toolCallId);b.enqueue({type:"tool-output-error",toolCallId:m.toolCallId,errorText:l(m.error),...m.providerExecuted!=null?{providerExecuted:m.providerExecuted}:{},...T!=null?{dynamic:T}:{}});break}case"error":{b.enqueue({type:"error",errorText:l(m.error)});break}case"start-step":{b.enqueue({type:"start-step"});break}case"finish-step":{b.enqueue({type:"finish-step"});break}case"start":{s&&b.enqueue({type:"start",...x!=null?{messageMetadata:x}:{},...u!=null?{messageId:u}:{}});break}case"finish":{a&&b.enqueue({type:"finish",...x!=null?{messageMetadata:x}:{}});break}case"abort":{b.enqueue(m);break}case"tool-input-end":break;case"raw":break;default:{const T=k;throw new Error(`Unknown chunk type: ${T}`)}}x!=null&&k!=="start"&&k!=="finish"&&b.enqueue({type:"message-metadata",messageMetadata:x})}}));return Vv(hAe({stream:g,messageId:u??t?.(),originalMessages:e,onFinish:n,onError:l}))}pipeUIMessageStreamToResponse(e,{originalMessages:t,generateMessageId:n,onFinish:r,messageMetadata:i,sendReasoning:o,sendSources:s,sendFinish:a,sendStart:l,onError:u,...d}={}){mAe({response:e,stream:this.toUIMessageStream({originalMessages:t,generateMessageId:n,onFinish:r,messageMetadata:i,sendReasoning:o,sendSources:s,sendFinish:a,sendStart:l,onError:u}),...d})}pipeTextStreamToResponse(e,t){aAe({response:e,textStream:this.textStream,...t})}toUIMessageStreamResponse({originalMessages:e,generateMessageId:t,onFinish:n,messageMetadata:r,sendReasoning:i,sendSources:o,sendFinish:s,sendStart:a,onError:l,...u}={}){return lAe({stream:this.toUIMessageStream({originalMessages:e,generateMessageId:t,onFinish:n,messageMetadata:r,sendReasoning:i,sendSources:o,sendFinish:s,sendStart:a,onError:l}),...u})}toTextStreamResponse(e){return sAe({textStream:this.textStream,...e})}};function _Ae(e){const t=e.filter(n=>n.type==="reasoning");return t.length===0?void 0:t.map(n=>n.text).join(`
`)}var TAe={type:"no-schema",jsonSchema:void 0,async validatePartialResult({value:e,textDelta:t}){return{success:!0,value:{partial:e,textDelta:t}}},async validateFinalResult(e,t){return e===void 0?{success:!1,error:new cp({message:"No object generated: response did not match schema.",text:t.text,response:t.response,usage:t.usage,finishReason:t.finishReason})}:{success:!0,value:e}},createElementStream(){throw new LN({functionality:"element streams in no-schema mode"})}},CAe=e=>({type:"object",jsonSchema:e.jsonSchema,async validatePartialResult({value:t,textDelta:n}){return{success:!0,value:{partial:t,textDelta:n}}},async validateFinalResult(t){return od({value:t,schema:e})},createElementStream(){throw new LN({functionality:"element streams in object mode"})}}),EAe=e=>{const{$schema:t,...n}=e.jsonSchema;return{type:"enum",jsonSchema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{elements:{type:"array",items:n}},required:["elements"],additionalProperties:!1},async validatePartialResult({value:r,latestObject:i,isFirstDelta:o,isFinalDelta:s}){var a;if(!l_(r)||!rF(r.elements))return{success:!1,error:new Ca({value:r,cause:"value must be an object that contains an array of elements"})};const l=r.elements,u=[];for(let g=0;g<l.length;g++){const m=l[g],b=await od({value:m,schema:e});if(!(g===l.length-1&&!s)){if(!b.success)return b;u.push(b.value)}}const d=(a=i?.length)!=null?a:0;let f="";return o&&(f+="["),d>0&&(f+=","),f+=u.slice(d).map(g=>JSON.stringify(g)).join(","),s&&(f+="]"),{success:!0,value:{partial:u,textDelta:f}}},async validateFinalResult(r){if(!l_(r)||!rF(r.elements))return{success:!1,error:new Ca({value:r,cause:"value must be an object that contains an array of elements"})};const i=r.elements;for(const o of i){const s=await od({value:o,schema:e});if(!s.success)return s}return{success:!0,value:i}},createElementStream(r){let i=0;return Vv(r.pipeThrough(new TransformStream({transform(o,s){switch(o.type){case"object":{const a=o.object;for(;i<a.length;i++)s.enqueue(a[i]);break}case"text-delta":case"finish":case"error":break;default:{const a=o;throw new Error(`Unsupported chunk type: ${a}`)}}}})))}}},IAe=e=>({type:"enum",jsonSchema:{$schema:"http://json-schema.org/draft-07/schema#",type:"object",properties:{result:{type:"string",enum:e}},required:["result"],additionalProperties:!1},async validateFinalResult(t){if(!l_(t)||typeof t.result!="string")return{success:!1,error:new Ca({value:t,cause:'value must be an object that contains a string in the "result" property.'})};const n=t.result;return e.includes(n)?{success:!0,value:n}:{success:!1,error:new Ca({value:t,cause:"value must be a string in the enum"})}},async validatePartialResult({value:t,textDelta:n}){if(!l_(t)||typeof t.result!="string")return{success:!1,error:new Ca({value:t,cause:'value must be an object that contains a string in the "result" property.'})};const r=t.result,i=e.filter(o=>o.startsWith(r));return t.result.length===0||i.length===0?{success:!1,error:new Ca({value:t,cause:"value must be a string in the enum"})}:{success:!0,value:{partial:i.length>1?r:i[0],textDelta:n}}},createElementStream(){throw new LN({functionality:"element streams in enum mode"})}});function AAe({output:e,schema:t,enumValues:n}){switch(e){case"object":return CAe(cg(t));case"array":return EAe(cg(t));case"enum":return IAe(n);case"no-schema":return TAe;default:{const r=e;throw new Error(`Unsupported output: ${r}`)}}}async function bF(e,t,n){const r=await ug({text:e});if(!r.success)throw new cp({message:"No object generated: could not parse the response.",cause:r.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});const i=await t.validateFinalResult(r.value,{text:e,response:n.response,usage:n.usage});if(!i.success)throw new cp({message:"No object generated: response did not match schema.",cause:i.error,text:e,response:n.response,usage:n.usage,finishReason:n.finishReason});return i.value}async function $Ae(e,t,n,r){try{return await bF(e,t,r)}catch(i){if(n!=null&&cp.isInstance(i)&&(e$.isInstance(i.cause)||Ca.isInstance(i.cause))){const o=await n({text:e,error:i.cause});if(o===null)throw i;return await bF(o,t,r)}throw i}}function PAe({output:e,schema:t,schemaName:n,schemaDescription:r,enumValues:i}){if(e!=null&&e!=="object"&&e!=="array"&&e!=="enum"&&e!=="no-schema")throw new er({parameter:"output",value:e,message:"Invalid output type."});if(e==="no-schema"){if(t!=null)throw new er({parameter:"schema",value:t,message:"Schema is not supported for no-schema output."});if(r!=null)throw new er({parameter:"schemaDescription",value:r,message:"Schema description is not supported for no-schema output."});if(n!=null)throw new er({parameter:"schemaName",value:n,message:"Schema name is not supported for no-schema output."});if(i!=null)throw new er({parameter:"enumValues",value:i,message:"Enum values are not supported for no-schema output."})}if(e==="object"){if(t==null)throw new er({parameter:"schema",value:t,message:"Schema is required for object output."});if(i!=null)throw new er({parameter:"enumValues",value:i,message:"Enum values are not supported for object output."})}if(e==="array"){if(t==null)throw new er({parameter:"schema",value:t,message:"Element schema is required for array output."});if(i!=null)throw new er({parameter:"enumValues",value:i,message:"Enum values are not supported for array output."})}if(e==="enum"){if(t!=null)throw new er({parameter:"schema",value:t,message:"Schema is not supported for enum output."});if(r!=null)throw new er({parameter:"schemaDescription",value:r,message:"Schema description is not supported for enum output."});if(n!=null)throw new er({parameter:"schemaName",value:n,message:"Schema name is not supported for enum output."});if(i==null)throw new er({parameter:"enumValues",value:i,message:"Enum values are required for enum output."});for(const o of i)if(typeof o!="string")throw new er({parameter:"enumValues",value:o,message:"Enum values must be strings."})}}var MAe=Kx({prefix:"aiobj",size:24});async function OAe(e){const{model:t,output:n="object",system:r,prompt:i,messages:o,maxRetries:s,abortSignal:a,headers:l,experimental_repairText:u,experimental_telemetry:d,experimental_download:f,providerOptions:g,_internal:{generateId:m=MAe,currentDate:b=()=>new Date}={},...x}=e,k=cx(t),T="enum"in e?e.enum:void 0,{schema:E,schemaDescription:$,schemaName:P}="schema"in e?e:{};PAe({output:n,schema:E,schemaName:P,schemaDescription:$,enumValues:T});const{maxRetries:M,retry:R}=Yx({maxRetries:s,abortSignal:a}),z=AAe({output:n,schema:E,enumValues:T}),F=dx(x),q=U1(l??{},`ai/${Z1}`),Z=XN({model:k,telemetry:d,headers:q,settings:{...F,maxRetries:M}}),re=QN(d);try{return await ad({name:"ai.generateObject",attributes:Ri({telemetry:d,attributes:{...sd({operationId:"ai.generateObject",telemetry:d}),...Z,"ai.prompt":{input:()=>JSON.stringify({system:r,prompt:i,messages:o})},"ai.schema":z.jsonSchema!=null?{input:()=>JSON.stringify(z.jsonSchema)}:void 0,"ai.schema.name":P,"ai.schema.description":$,"ai.settings.output":z.type}}),tracer:re,fn:async ee=>{var ne;let se,ue,me,ie,J,le,B,G;const H=await GN({system:r,prompt:i,messages:o}),W=await KN({prompt:H,supportedUrls:await k.supportedUrls,download:f}),Ie=await R(()=>ad({name:"ai.generateObject.doGenerate",attributes:Ri({telemetry:d,attributes:{...sd({operationId:"ai.generateObject.doGenerate",telemetry:d}),...Z,"ai.prompt.messages":{input:()=>tR(W)},"gen_ai.system":k.provider,"gen_ai.request.model":k.modelId,"gen_ai.request.frequency_penalty":F.frequencyPenalty,"gen_ai.request.max_tokens":F.maxOutputTokens,"gen_ai.request.presence_penalty":F.presencePenalty,"gen_ai.request.temperature":F.temperature,"gen_ai.request.top_k":F.topK,"gen_ai.request.top_p":F.topP}}),tracer:re,fn:async Ae=>{var $e,je,Xe,Pt,en,_n,tn,kt;const st=await k.doGenerate({responseFormat:{type:"json",schema:z.jsonSchema,name:P,description:$},...dx(x),prompt:W,providerOptions:g,abortSignal:a,headers:q}),Kt={id:(je=($e=st.response)==null?void 0:$e.id)!=null?je:m(),timestamp:(Pt=(Xe=st.response)==null?void 0:Xe.timestamp)!=null?Pt:b(),modelId:(_n=(en=st.response)==null?void 0:en.modelId)!=null?_n:k.modelId,headers:(tn=st.response)==null?void 0:tn.headers,body:(kt=st.response)==null?void 0:kt.body},lt=l$(st.content),jn=_Ae(st.content);if(lt===void 0)throw new cp({message:"No object generated: the model did not return a response.",response:Kt,usage:st.usage,finishReason:st.finishReason});return Ae.setAttributes(Ri({telemetry:d,attributes:{"ai.response.finishReason":st.finishReason,"ai.response.object":{output:()=>lt},"ai.response.id":Kt.id,"ai.response.model":Kt.modelId,"ai.response.timestamp":Kt.timestamp.toISOString(),"ai.response.providerMetadata":JSON.stringify(st.providerMetadata),"ai.usage.promptTokens":st.usage.inputTokens,"ai.usage.completionTokens":st.usage.outputTokens,"gen_ai.response.finish_reasons":[st.finishReason],"gen_ai.response.id":Kt.id,"gen_ai.response.model":Kt.modelId,"gen_ai.usage.input_tokens":st.usage.inputTokens,"gen_ai.usage.output_tokens":st.usage.outputTokens}})),{...st,objectText:lt,reasoning:jn,responseData:Kt}}}));se=Ie.objectText,ue=Ie.finishReason,me=Ie.usage,ie=Ie.warnings,B=Ie.providerMetadata,le=(ne=Ie.request)!=null?ne:{},J=Ie.responseData,G=Ie.reasoning,Gx(ie);const Ce=await $Ae(se,z,u,{response:J,usage:me,finishReason:ue});return ee.setAttributes(Ri({telemetry:d,attributes:{"ai.response.finishReason":ue,"ai.response.object":{output:()=>JSON.stringify(Ce)},"ai.response.providerMetadata":JSON.stringify(B),"ai.usage.promptTokens":me.inputTokens,"ai.usage.completionTokens":me.outputTokens}})),new NAe({object:Ce,reasoning:G,finishReason:ue,usage:me,warnings:ie,request:le,response:J,providerMetadata:B})}})}catch(ee){throw YN(ee)}}var NAe=class{constructor(e){this.object=e.object,this.finishReason=e.finishReason,this.usage=e.usage,this.warnings=e.warnings,this.providerMetadata=e.providerMetadata,this.response=e.response,this.request=e.request,this.reasoning=e.reasoning}toJsonResponse(e){var t;return new Response(JSON.stringify(this.object),{status:(t=e?.status)!=null?t:200,headers:Xx(e?.headers,{"content-type":"application/json; charset=utf-8"})})}};Kx({prefix:"aiobj",size:24});var RAe=class extends Zt{constructor(e){super({name:"AI_NoSpeechGeneratedError",message:"No speech audio generated."}),this.responses=e.responses}},DAe=class extends nR{constructor({data:e,mediaType:t}){super({data:e,mediaType:t});let n="mp3";if(t){const r=t.split("/");r.length===2&&t!=="audio/mpeg"&&(n=r[1])}if(!n)throw new Error("Audio format must be provided or determinable from media type");this.format=n}};async function jAe({model:e,text:t,voice:n,outputFormat:r,instructions:i,speed:o,language:s,providerOptions:a={},maxRetries:l,abortSignal:u,headers:d}){var f;if(e.specificationVersion!=="v2")throw new qN({version:e.specificationVersion,provider:e.provider,modelId:e.modelId});const g=U1(d??{},`ai/${Z1}`),{retry:m}=Yx({maxRetries:l,abortSignal:u}),b=await m(()=>e.doGenerate({text:t,voice:n,outputFormat:r,instructions:i,speed:o,language:s,abortSignal:u,headers:g,providerOptions:a}));if(!b.audio||b.audio.length===0)throw new RAe({responses:[b.response]});return Gx(b.warnings),new LAe({audio:new DAe({data:b.audio,mediaType:(f=JN({data:b.audio,signatures:UK}))!=null?f:"audio/mp3"}),warnings:b.warnings,responses:[b.response],providerMetadata:b.providerMetadata})}var LAe=class{constructor(e){var t;this.audio=e.audio,this.warnings=e.warnings,this.responses=e.responses,this.providerMetadata=(t=e.providerMetadata)!=null?t:{}}},zAe={};pIe(zAe,{object:()=>VAe,text:()=>FAe});var FAe=()=>({type:"text",responseFormat:{type:"text"},async parsePartial({text:e}){return{partial:e}},async parseOutput({text:e}){return e}}),VAe=({schema:e})=>{const t=cg(e);return{type:"object",responseFormat:{type:"json",schema:t.jsonSchema},async parsePartial({text:n}){const r=await aG(n);switch(r.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:r.value};default:{const i=r.state;throw new Error(`Unsupported parse state: ${i}`)}}},async parseOutput({text:n},r){const i=await ug({text:n});if(!i.success)throw new cp({message:"No object generated: could not parse the response.",cause:i.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});const o=await od({value:i.value,schema:t});if(!o.success)throw new cp({message:"No object generated: response did not match schema.",cause:o.error,text:n,response:r.response,usage:r.usage,finishReason:r.finishReason});return o.value}}},BAe=S.looseObject({name:S.string(),version:S.string()}),rR=S.looseObject({_meta:S.optional(S.object({}).loose())}),px=rR,UAe=S.object({method:S.string(),params:S.optional(rR)}),ZAe=S.looseObject({experimental:S.optional(S.object({}).loose()),logging:S.optional(S.object({}).loose()),prompts:S.optional(S.looseObject({listChanged:S.optional(S.boolean())})),resources:S.optional(S.looseObject({subscribe:S.optional(S.boolean()),listChanged:S.optional(S.boolean())})),tools:S.optional(S.looseObject({listChanged:S.optional(S.boolean())}))});px.extend({protocolVersion:S.string(),capabilities:ZAe,serverInfo:BAe,instructions:S.optional(S.string())});var WAe=px.extend({nextCursor:S.optional(S.string())}),HAe=S.object({name:S.string(),description:S.optional(S.string()),inputSchema:S.object({type:S.literal("object"),properties:S.optional(S.object({}).loose())}).loose()}).loose();WAe.extend({tools:S.array(HAe)});var qAe=S.object({type:S.literal("text"),text:S.string()}).loose(),JAe=S.object({type:S.literal("image"),data:S.base64(),mimeType:S.string()}).loose(),lG=S.object({uri:S.string(),mimeType:S.optional(S.string())}).loose(),KAe=lG.extend({text:S.string()}),GAe=lG.extend({blob:S.base64()}),YAe=S.object({type:S.literal("resource"),resource:S.union([KAe,GAe])}).loose();px.extend({content:S.array(S.union([qAe,JAe,YAe])),isError:S.boolean().default(!1).optional()}).or(px.extend({toolResult:S.unknown()}));var W1="2.0",XAe=S.object({jsonrpc:S.literal(W1),id:S.union([S.string(),S.number().int()])}).merge(UAe).strict(),QAe=S.object({jsonrpc:S.literal(W1),id:S.union([S.string(),S.number().int()]),result:px}).strict(),e$e=S.object({jsonrpc:S.literal(W1),id:S.union([S.string(),S.number().int()]),error:S.object({code:S.number().int(),message:S.string(),data:S.optional(S.unknown())})}).strict(),t$e=S.object({jsonrpc:S.literal(W1)}).merge(S.object({method:S.string(),params:S.optional(rR)})).strict();S.union([XAe,t$e,QAe,e$e]);var n$e=class extends Zt{constructor(e){super({name:"AI_NoTranscriptGeneratedError",message:"No transcript generated."}),this.responses=e.responses}};async function r$e({model:e,audio:t,providerOptions:n={},maxRetries:r,abortSignal:i,headers:o}){if(e.specificationVersion!=="v2")throw new qN({version:e.specificationVersion,provider:e.provider,modelId:e.modelId});const{retry:s}=Yx({maxRetries:r,abortSignal:i}),a=U1(o??{},`ai/${Z1}`),l=t instanceof URL?(await ZK({url:t})).data:jIe(t),u=await s(()=>{var d;return e.doGenerate({audio:l,abortSignal:i,headers:a,providerOptions:n,mediaType:(d=JN({data:l,signatures:UK}))!=null?d:"audio/wav"})});if(Gx(u.warnings),!u.text)throw new n$e({responses:[u.response]});return new i$e({text:u.text,segments:u.segments,language:u.language,durationInSeconds:u.durationInSeconds,warnings:u.warnings,responses:[u.response],providerMetadata:u.providerMetadata})}var i$e=class{constructor(e){var t;this.text=e.text,this.segments=e.segments,this.language=e.language,this.durationInSeconds=e.durationInSeconds,this.warnings=e.warnings,this.responses=e.responses,this.providerMetadata=(t=e.providerMetadata)!=null?t:{}}},o$e=S.object({type:S.literal("text"),text:S.string(),state:S.enum(["streaming","done"]).optional(),providerMetadata:pn.optional()}),s$e=S.object({type:S.literal("reasoning"),text:S.string(),state:S.enum(["streaming","done"]).optional(),providerMetadata:pn.optional()}),a$e=S.object({type:S.literal("source-url"),sourceId:S.string(),url:S.string(),title:S.string().optional(),providerMetadata:pn.optional()}),l$e=S.object({type:S.literal("source-document"),sourceId:S.string(),mediaType:S.string(),title:S.string(),filename:S.string().optional(),providerMetadata:pn.optional()}),u$e=S.object({type:S.literal("file"),mediaType:S.string(),filename:S.string().optional(),url:S.string(),providerMetadata:pn.optional()}),c$e=S.object({type:S.literal("step-start")}),d$e=S.object({type:S.string().startsWith("data-"),id:S.string().optional(),data:S.unknown()}),f$e=[S.object({type:S.literal("dynamic-tool"),toolName:S.string(),toolCallId:S.string(),state:S.literal("input-streaming"),input:S.unknown().optional(),output:S.never().optional(),errorText:S.never().optional()}),S.object({type:S.literal("dynamic-tool"),toolName:S.string(),toolCallId:S.string(),state:S.literal("input-available"),input:S.unknown(),output:S.never().optional(),errorText:S.never().optional(),callProviderMetadata:pn.optional()}),S.object({type:S.literal("dynamic-tool"),toolName:S.string(),toolCallId:S.string(),state:S.literal("output-available"),input:S.unknown(),output:S.unknown(),errorText:S.never().optional(),callProviderMetadata:pn.optional(),preliminary:S.boolean().optional()}),S.object({type:S.literal("dynamic-tool"),toolName:S.string(),toolCallId:S.string(),state:S.literal("output-error"),input:S.unknown(),output:S.never().optional(),errorText:S.string(),callProviderMetadata:pn.optional()})],p$e=[S.object({type:S.string().startsWith("tool-"),toolCallId:S.string(),state:S.literal("input-streaming"),providerExecuted:S.boolean().optional(),input:S.unknown().optional(),output:S.never().optional(),errorText:S.never().optional()}),S.object({type:S.string().startsWith("tool-"),toolCallId:S.string(),state:S.literal("input-available"),providerExecuted:S.boolean().optional(),input:S.unknown(),output:S.never().optional(),errorText:S.never().optional(),callProviderMetadata:pn.optional()}),S.object({type:S.string().startsWith("tool-"),toolCallId:S.string(),state:S.literal("output-available"),providerExecuted:S.boolean().optional(),input:S.unknown(),output:S.unknown(),errorText:S.never().optional(),callProviderMetadata:pn.optional(),preliminary:S.boolean().optional()}),S.object({type:S.string().startsWith("tool-"),toolCallId:S.string(),state:S.literal("output-error"),providerExecuted:S.boolean().optional(),input:S.unknown(),output:S.never().optional(),errorText:S.string(),callProviderMetadata:pn.optional()})];S.object({id:S.string(),role:S.enum(["system","user","assistant"]),metadata:S.unknown().optional(),parts:S.array(S.union([o$e,s$e,a$e,l$e,u$e,c$e,d$e,...f$e,...p$e]))});var uG="vercel.ai.error",h$e=Symbol.for(uG),cG,m$e=class dG extends Error{constructor({name:t,message:n,cause:r}){super(n),this[cG]=!0,this.name=t,this.cause=r}static isInstance(t){return dG.hasMarker(t,uG)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};cG=h$e;var Or=m$e,fG="AI_APICallError",pG=`vercel.ai.error.${fG}`,g$e=Symbol.for(pG),hG,Ws=class extends Or{constructor({message:e,url:t,requestBodyValues:n,statusCode:r,responseHeaders:i,responseBody:o,cause:s,isRetryable:a=r!=null&&(r===408||r===409||r===429||r>=500),data:l}){super({name:fG,message:e,cause:s}),this[hG]=!0,this.url=t,this.requestBodyValues=n,this.statusCode=r,this.responseHeaders=i,this.responseBody=o,this.isRetryable=a,this.data=l}static isInstance(e){return Or.hasMarker(e,pG)}};hG=g$e;var mG="AI_EmptyResponseBodyError",gG=`vercel.ai.error.${mG}`,y$e=Symbol.for(gG),yG,v$e=class extends Or{constructor({message:e="Empty response body"}={}){super({name:mG,message:e}),this[yG]=!0}static isInstance(e){return Or.hasMarker(e,gG)}};yG=y$e;function vG(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var bG="AI_InvalidArgumentError",xG=`vercel.ai.error.${bG}`,b$e=Symbol.for(xG),wG,SG=class extends Or{constructor({message:e,cause:t,argument:n}){super({name:bG,message:e,cause:t}),this[wG]=!0,this.argument=n}static isInstance(e){return Or.hasMarker(e,xG)}};wG=b$e;var kG="AI_InvalidPromptError",_G=`vercel.ai.error.${kG}`,x$e=Symbol.for(_G),TG,w$e=class extends Or{constructor({prompt:e,message:t,cause:n}){super({name:kG,message:`Invalid prompt: ${t}`,cause:n}),this[TG]=!0,this.prompt=e}static isInstance(e){return Or.hasMarker(e,_G)}};TG=x$e;var CG="AI_InvalidResponseDataError",EG=`vercel.ai.error.${CG}`,S$e=Symbol.for(EG),IG,wE=class extends Or{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:CG,message:t}),this[IG]=!0,this.data=e}static isInstance(e){return Or.hasMarker(e,EG)}};IG=S$e;var AG="AI_JSONParseError",$G=`vercel.ai.error.${AG}`,k$e=Symbol.for($G),PG,f_=class extends Or{constructor({text:e,cause:t}){super({name:AG,message:`JSON parsing failed: Text: ${e}.
Error message: ${vG(t)}`,cause:t}),this[PG]=!0,this.text=e}static isInstance(e){return Or.hasMarker(e,$G)}};PG=k$e;var MG="AI_LoadAPIKeyError",OG=`vercel.ai.error.${MG}`,_$e=Symbol.for(OG),NG,oS=class extends Or{constructor({message:e}){super({name:MG,message:e}),this[NG]=!0}static isInstance(e){return Or.hasMarker(e,OG)}};NG=_$e;var RG="AI_TooManyEmbeddingValuesForCallError",DG=`vercel.ai.error.${RG}`,T$e=Symbol.for(DG),jG,C$e=class extends Or{constructor(e){super({name:RG,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[jG]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return Or.hasMarker(e,DG)}};jG=T$e;var LG="AI_TypeValidationError",zG=`vercel.ai.error.${LG}`,E$e=Symbol.for(zG),FG,I$e=class c$ extends Or{constructor({value:t,cause:n}){super({name:LG,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${vG(n)}`,cause:n}),this[FG]=!0,this.value=t}static isInstance(t){return Or.hasMarker(t,zG)}static wrap({value:t,cause:n}){return c$.isInstance(n)&&n.value===t?n:new c$({value:t,cause:n})}};FG=E$e;var hx=I$e,VG="AI_UnsupportedFunctionalityError",BG=`vercel.ai.error.${VG}`,A$e=Symbol.for(BG),UG,Cu=class extends Or{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:VG,message:t}),this[UG]=!0,this.functionality=e}static isInstance(e){return Or.hasMarker(e,BG)}};UG=A$e;function Tl(...e){return e.reduce((t,n)=>({...t,...n??{}}),{})}function Qx(e){return Object.fromEntries([...e.headers])}function $$e(e=globalThis){var t,n,r;return e.window?"runtime/browser":(t=e.navigator)!=null&&t.userAgent?`runtime/${e.navigator.userAgent.toLowerCase()}`:(r=(n=e.process)==null?void 0:n.versions)!=null&&r.node?`runtime/node.js/${e.process.version.substring(0)}`:e.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function P$e(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>n!=null))}function M$e(e,...t){const n=P$e(e??{}),r=new Headers(n),i=r.get("user-agent")||"";return r.set("user-agent",[i,...t].filter(Boolean).join(" ")),Object.fromEntries(r)}var O$e=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const i=()=>{const o=n.length,s=new Array(t);for(let a=0;a<t;a++)s[a]=n[Math.random()*o|0];return s.join("")};if(e==null)return i;if(n.includes(r))throw new SG({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return()=>`${e}${r}${i()}`},Su=O$e();function d$(e){return(e instanceof Error||e instanceof DOMException)&&(e.name==="AbortError"||e.name==="ResponseAborted"||e.name==="TimeoutError")}var N$e=["fetch failed","failed to fetch"];function R$e({error:e,url:t,requestBodyValues:n}){if(d$(e))return e;if(e instanceof TypeError&&N$e.includes(e.message.toLowerCase())){const r=e.cause;if(r!=null)return new Ws({message:`Cannot connect to API: ${r.message}`,cause:r,url:t,requestBodyValues:n,isRetryable:!0})}return e}var D$e="3.0.9";function j$e({apiKey:e,environmentVariableName:t,apiKeyParameterName:n="apiKey",description:r}){if(typeof e=="string")return e;if(e!=null)throw new oS({message:`${r} API key must be a string.`});if(typeof process>"u")throw new oS({message:`${r} API key is missing. Pass it using the '${n}' parameter. Environment variables is not supported in this environment.`});if(e=_1[t],e==null)throw new oS({message:`${r} API key is missing. Pass it using the '${n}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new oS({message:`${r} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}function L$e(e){var t;const[n,r=""]=e.toLowerCase().split("/");return(t={mpeg:"mp3","x-wav":"wav",opus:"ogg",mp4:"m4a","x-m4a":"m4a"}[r])!=null?t:r}var z$e=/"__proto__"\s*:/,F$e=/"constructor"\s*:/;function V$e(e){const t=JSON.parse(e);return t===null||typeof t!="object"||z$e.test(e)===!1&&F$e.test(e)===!1?t:B$e(t)}function B$e(e){let t=[e];for(;t.length;){const n=t;t=[];for(const r of n){if(Object.prototype.hasOwnProperty.call(r,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(r,"constructor")&&Object.prototype.hasOwnProperty.call(r.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const i in r){const o=r[i];o&&typeof o=="object"&&t.push(o)}}}return e}function iR(e){const{stackTraceLimit:t}=Error;Error.stackTraceLimit=0;try{return V$e(e)}finally{Error.stackTraceLimit=t}}var f$=Symbol.for("vercel.ai.validator");function U$e(e){return{[f$]:!0,validate:e}}function Z$e(e){return typeof e=="object"&&e!==null&&f$ in e&&e[f$]===!0&&"validate"in e}function W$e(e){return Z$e(e)?e:H$e(e)}function H$e(e){return U$e(async t=>{const n=await e["~standard"].validate(t);return n.issues==null?{success:!0,value:n.value}:{success:!1,error:new hx({value:t,cause:n.issues})}})}async function q$e({value:e,schema:t}){const n=await oR({value:e,schema:t});if(!n.success)throw hx.wrap({value:e,cause:n.error});return n.value}async function oR({value:e,schema:t}){const n=W$e(t);try{if(n.validate==null)return{success:!0,value:e,rawValue:e};const r=await n.validate(e);return r.success?{success:!0,value:r.value,rawValue:e}:{success:!1,error:hx.wrap({value:e,cause:r.error}),rawValue:e}}catch(r){return{success:!1,error:hx.wrap({value:e,cause:r}),rawValue:e}}}async function J$e({text:e,schema:t}){try{const n=iR(e);return t==null?n:q$e({value:n,schema:t})}catch(n){throw f_.isInstance(n)||hx.isInstance(n)?n:new f_({text:e,cause:n})}}async function ZG({text:e,schema:t}){try{const n=iR(e);return t==null?{success:!0,value:n,rawValue:n}:await oR({value:n,schema:t})}catch(n){return{success:!1,error:f_.isInstance(n)?n:new f_({text:e,cause:n}),rawValue:void 0}}}function xF(e){try{return iR(e),!0}catch{return!1}}function K$e({stream:e,schema:t}){return e.pipeThrough(new TextDecoderStream).pipeThrough(new nW).pipeThrough(new TransformStream({async transform({data:n},r){n!=="[DONE]"&&r.enqueue(await ZG({text:n,schema:t}))}}))}async function ld({provider:e,providerOptions:t,schema:n}){if(t?.[e]==null)return;const r=await oR({value:t[e],schema:n});if(!r.success)throw new SG({argument:"providerOptions",message:`invalid ${e} provider options`,cause:r.error});return r.value}var G$e=()=>globalThis.fetch,Du=async({url:e,headers:t,body:n,failedResponseHandler:r,successfulResponseHandler:i,abortSignal:o,fetch:s})=>WG({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(n),values:n},failedResponseHandler:r,successfulResponseHandler:i,abortSignal:o,fetch:s}),Y$e=async({url:e,headers:t,formData:n,failedResponseHandler:r,successfulResponseHandler:i,abortSignal:o,fetch:s})=>WG({url:e,headers:t,body:{content:n,values:Object.fromEntries(n.entries())},failedResponseHandler:r,successfulResponseHandler:i,abortSignal:o,fetch:s}),WG=async({url:e,headers:t={},body:n,successfulResponseHandler:r,failedResponseHandler:i,abortSignal:o,fetch:s=G$e()})=>{try{const a=await s(e,{method:"POST",headers:M$e(t,`ai-sdk/provider-utils/${D$e}`,$$e()),body:n.content,signal:o}),l=Qx(a);if(!a.ok){let u;try{u=await i({response:a,url:e,requestBodyValues:n.values})}catch(d){throw d$(d)||Ws.isInstance(d)?d:new Ws({message:"Failed to process error response",cause:d,statusCode:a.status,url:e,responseHeaders:l,requestBodyValues:n.values})}throw u.value}try{return await r({response:a,url:e,requestBodyValues:n.values})}catch(u){throw u instanceof Error&&(d$(u)||Ws.isInstance(u))?u:new Ws({message:"Failed to process successful response",cause:u,statusCode:a.status,url:e,responseHeaders:l,requestBodyValues:n.values})}}catch(a){throw R$e({error:a,url:e,requestBodyValues:n.values})}};function sR({id:e,name:t,inputSchema:n}){return({execute:r,outputSchema:i,toModelOutput:o,onInputStart:s,onInputDelta:a,onInputAvailable:l,...u})=>({type:"provider-defined",id:e,name:t,args:u,inputSchema:n,outputSchema:i,execute:r,toModelOutput:o,onInputStart:s,onInputDelta:a,onInputAvailable:l})}function X$e({id:e,name:t,inputSchema:n,outputSchema:r}){return({execute:i,toModelOutput:o,onInputStart:s,onInputDelta:a,onInputAvailable:l,...u})=>({type:"provider-defined",id:e,name:t,args:u,inputSchema:n,outputSchema:r,execute:i,toModelOutput:o,onInputStart:s,onInputDelta:a,onInputAvailable:l})}var Q$e=({errorSchema:e,errorToMessage:t,isRetryable:n})=>async({response:r,url:i,requestBodyValues:o})=>{const s=await r.text(),a=Qx(r);if(s.trim()==="")return{responseHeaders:a,value:new Ws({message:r.statusText,url:i,requestBodyValues:o,statusCode:r.status,responseHeaders:a,responseBody:s,isRetryable:n?.(r)})};try{const l=await J$e({text:s,schema:e});return{responseHeaders:a,value:new Ws({message:t(l),url:i,requestBodyValues:o,statusCode:r.status,responseHeaders:a,responseBody:s,data:l,isRetryable:n?.(r,l)})}}catch{return{responseHeaders:a,value:new Ws({message:r.statusText,url:i,requestBodyValues:o,statusCode:r.status,responseHeaders:a,responseBody:s,isRetryable:n?.(r)})}}},aR=e=>async({response:t})=>{const n=Qx(t);if(t.body==null)throw new v$e({});return{responseHeaders:n,value:K$e({stream:t.body,schema:e})}},Ag=e=>async({response:t,url:n,requestBodyValues:r})=>{const i=await t.text(),o=await ZG({text:i,schema:e}),s=Qx(t);if(!o.success)throw new Ws({message:"Invalid JSON response",cause:o.error,statusCode:t.status,responseHeaders:s,responseBody:i,url:n,requestBodyValues:r});return{responseHeaders:s,value:o.value,rawValue:o.rawValue}},ePe=()=>async({response:e,url:t,requestBodyValues:n})=>{const r=Qx(e);if(!e.body)throw new Ws({message:"Response body is empty",url:t,requestBodyValues:n,statusCode:e.status,responseHeaders:r,responseBody:void 0});try{const i=await e.arrayBuffer();return{responseHeaders:r,value:new Uint8Array(i)}}catch(i){throw new Ws({message:"Failed to read response as array buffer",url:t,requestBodyValues:n,statusCode:e.status,responseHeaders:r,responseBody:void 0,cause:i})}};new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");var{btoa:tPe,atob:nPe}=globalThis;function rPe(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=nPe(t);return Uint8Array.from(n,r=>r.codePointAt(0))}function iPe(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return tPe(t)}function Sm(e){return e instanceof Uint8Array?iPe(e):e}function oPe(e){return e?.replace(/\/$/,"")}var lR=S.object({error:S.object({message:S.string(),type:S.string().nullish(),param:S.any().nullish(),code:S.union([S.string(),S.number()]).nullish()})}),Cl=Q$e({errorSchema:lR,errorToMessage:e=>e.error.message});function sPe({prompt:e,systemMessageMode:t="system"}){const n=[],r=[];for(const{role:i,content:o}of e)switch(i){case"system":{switch(t){case"system":{n.push({role:"system",content:o});break}case"developer":{n.push({role:"developer",content:o});break}case"remove":{r.push({type:"other",message:"system messages are removed for this model"});break}default:{const s=t;throw new Error(`Unsupported system message mode: ${s}`)}}break}case"user":{if(o.length===1&&o[0].type==="text"){n.push({role:"user",content:o[0].text});break}n.push({role:"user",content:o.map((s,a)=>{var l,u,d;switch(s.type){case"text":return{type:"text",text:s.text};case"file":if(s.mediaType.startsWith("image/")){const f=s.mediaType==="image/*"?"image/jpeg":s.mediaType;return{type:"image_url",image_url:{url:s.data instanceof URL?s.data.toString():`data:${f};base64,${Sm(s.data)}`,detail:(u=(l=s.providerOptions)==null?void 0:l.openai)==null?void 0:u.imageDetail}}}else if(s.mediaType.startsWith("audio/")){if(s.data instanceof URL)throw new Cu({functionality:"audio file parts with URLs"});switch(s.mediaType){case"audio/wav":return{type:"input_audio",input_audio:{data:Sm(s.data),format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:Sm(s.data),format:"mp3"}};default:throw new Cu({functionality:`audio content parts with media type ${s.mediaType}`})}}else if(s.mediaType==="application/pdf"){if(s.data instanceof URL)throw new Cu({functionality:"PDF file parts with URLs"});return{type:"file",file:typeof s.data=="string"&&s.data.startsWith("file-")?{file_id:s.data}:{filename:(d=s.filename)!=null?d:`part-${a}.pdf`,file_data:`data:application/pdf;base64,${Sm(s.data)}`}}}else throw new Cu({functionality:`file part media type ${s.mediaType}`})}})});break}case"assistant":{let s="";const a=[];for(const l of o)switch(l.type){case"text":{s+=l.text;break}case"tool-call":{a.push({id:l.toolCallId,type:"function",function:{name:l.toolName,arguments:JSON.stringify(l.input)}});break}}n.push({role:"assistant",content:s,tool_calls:a.length>0?a:void 0});break}case"tool":{for(const s of o){const a=s.output;let l;switch(a.type){case"text":case"error-text":l=a.value;break;case"content":case"json":case"error-json":l=JSON.stringify(a.value);break}n.push({role:"tool",tool_call_id:s.toolCallId,content:l})}break}default:{const s=i;throw new Error(`Unsupported role: ${s}`)}}return{messages:n,warnings:r}}function wF({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n!=null?new Date(n*1e3):void 0}}function SF(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var aPe=S.object({logitBias:S.record(S.coerce.number(),S.number()).optional(),logprobs:S.union([S.boolean(),S.number()]).optional(),parallelToolCalls:S.boolean().optional(),user:S.string().optional(),reasoningEffort:S.enum(["minimal","low","medium","high"]).optional(),maxCompletionTokens:S.number().optional(),store:S.boolean().optional(),metadata:S.record(S.string().max(64),S.string().max(512)).optional(),prediction:S.record(S.string(),S.any()).optional(),structuredOutputs:S.boolean().optional(),serviceTier:S.enum(["auto","flex","priority"]).optional(),strictJsonSchema:S.boolean().optional(),textVerbosity:S.enum(["low","medium","high"]).optional(),promptCacheKey:S.string().optional(),safetyIdentifier:S.string().optional()}),HG=S.object({key:S.string(),type:S.enum(["eq","ne","gt","gte","lt","lte"]),value:S.union([S.string(),S.number(),S.boolean()])}),qG=S.object({type:S.enum(["and","or"]),filters:S.array(S.union([HG,S.lazy(()=>qG)]))}),lPe=S.union([HG,qG]),JG=S.object({vectorStoreIds:S.array(S.string()).optional(),maxNumResults:S.number().optional(),ranking:S.object({ranker:S.enum(["auto","default-2024-08-21"]).optional()}).optional(),filters:lPe.optional()}),uPe=sR({id:"openai.file_search",name:"file_search",inputSchema:S.object({query:S.string()})}),KG=S.object({searchContextSize:S.enum(["low","medium","high"]).optional(),userLocation:S.object({type:S.literal("approximate"),country:S.string().optional(),city:S.string().optional(),region:S.string().optional(),timezone:S.string().optional()}).optional()}),cPe=sR({id:"openai.web_search_preview",name:"web_search_preview",inputSchema:S.object({action:S.discriminatedUnion("type",[S.object({type:S.literal("search"),query:S.string().nullish()}),S.object({type:S.literal("open_page"),url:S.string()}),S.object({type:S.literal("find"),url:S.string(),pattern:S.string()})]).nullish()})});function dPe({tools:e,toolChoice:t,structuredOutputs:n,strictJsonSchema:r}){e=e?.length?e:void 0;const i=[];if(e==null)return{tools:void 0,toolChoice:void 0,toolWarnings:i};const o=[];for(const a of e)switch(a.type){case"function":o.push({type:"function",function:{name:a.name,description:a.description,parameters:a.inputSchema,strict:n?r:void 0}});break;case"provider-defined":switch(a.id){case"openai.file_search":{const l=JG.parse(a.args);o.push({type:"file_search",vector_store_ids:l.vectorStoreIds,max_num_results:l.maxNumResults,ranking_options:l.ranking?{ranker:l.ranking.ranker}:void 0,filters:l.filters});break}case"openai.web_search_preview":{const l=KG.parse(a.args);o.push({type:"web_search_preview",search_context_size:l.searchContextSize,user_location:l.userLocation});break}default:i.push({type:"unsupported-tool",tool:a});break}break;default:i.push({type:"unsupported-tool",tool:a});break}if(t==null)return{tools:o,toolChoice:void 0,toolWarnings:i};const s=t.type;switch(s){case"auto":case"none":case"required":return{tools:o,toolChoice:s,toolWarnings:i};case"tool":return{tools:o,toolChoice:{type:"function",function:{name:t.toolName}},toolWarnings:i};default:{const a=s;throw new Cu({functionality:`tool choice type: ${a}`})}}}var fPe=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs({prompt:e,maxOutputTokens:t,temperature:n,topP:r,topK:i,frequencyPenalty:o,presencePenalty:s,stopSequences:a,responseFormat:l,seed:u,tools:d,toolChoice:f,providerOptions:g}){var m,b,x,k;const T=[],E=(m=await ld({provider:"openai",providerOptions:g,schema:aPe}))!=null?m:{},$=(b=E.structuredOutputs)!=null?b:!0;i!=null&&T.push({type:"unsupported-setting",setting:"topK"}),l?.type==="json"&&l.schema!=null&&!$&&T.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});const{messages:P,warnings:M}=sPe({prompt:e,systemMessageMode:yPe(this.modelId)});T.push(...M);const R=(x=E.strictJsonSchema)!=null?x:!1,z={model:this.modelId,logit_bias:E.logitBias,logprobs:E.logprobs===!0||typeof E.logprobs=="number"?!0:void 0,top_logprobs:typeof E.logprobs=="number"?E.logprobs:typeof E.logprobs=="boolean"&&E.logprobs?0:void 0,user:E.user,parallel_tool_calls:E.parallelToolCalls,max_tokens:t,temperature:n,top_p:r,frequency_penalty:o,presence_penalty:s,response_format:l?.type==="json"?$&&l.schema!=null?{type:"json_schema",json_schema:{schema:l.schema,strict:R,name:(k=l.name)!=null?k:"response",description:l.description}}:{type:"json_object"}:void 0,stop:a,seed:u,verbosity:E.textVerbosity,max_completion_tokens:E.maxCompletionTokens,store:E.store,metadata:E.metadata,prediction:E.prediction,reasoning_effort:E.reasoningEffort,service_tier:E.serviceTier,prompt_cache_key:E.promptCacheKey,safety_identifier:E.safetyIdentifier,messages:P};YG(this.modelId)?(z.temperature!=null&&(z.temperature=void 0,T.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),z.top_p!=null&&(z.top_p=void 0,T.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),z.frequency_penalty!=null&&(z.frequency_penalty=void 0,T.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),z.presence_penalty!=null&&(z.presence_penalty=void 0,T.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),z.logit_bias!=null&&(z.logit_bias=void 0,T.push({type:"other",message:"logitBias is not supported for reasoning models"})),z.logprobs!=null&&(z.logprobs=void 0,T.push({type:"other",message:"logprobs is not supported for reasoning models"})),z.top_logprobs!=null&&(z.top_logprobs=void 0,T.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),z.max_tokens!=null&&(z.max_completion_tokens==null&&(z.max_completion_tokens=z.max_tokens),z.max_tokens=void 0)):(this.modelId.startsWith("gpt-4o-search-preview")||this.modelId.startsWith("gpt-4o-mini-search-preview"))&&z.temperature!=null&&(z.temperature=void 0,T.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for the search preview models and has been removed."})),E.serviceTier==="flex"&&!mPe(this.modelId)&&(T.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),z.service_tier=void 0),E.serviceTier==="priority"&&!gPe(this.modelId)&&(T.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),z.service_tier=void 0);const{tools:F,toolChoice:q,toolWarnings:Z}=dPe({tools:d,toolChoice:f,structuredOutputs:$,strictJsonSchema:R});return{args:{...z,tools:F,tool_choice:q},warnings:[...T,...Z]}}async doGenerate(e){var t,n,r,i,o,s,a,l,u,d,f,g,m,b;const{args:x,warnings:k}=await this.getArgs(e),{responseHeaders:T,value:E,rawValue:$}=await Du({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:Tl(this.config.headers(),e.headers),body:x,failedResponseHandler:Cl,successfulResponseHandler:Ag(pPe),abortSignal:e.abortSignal,fetch:this.config.fetch}),P=E.choices[0],M=[],R=P.message.content;R!=null&&R.length>0&&M.push({type:"text",text:R});for(const Z of(t=P.message.tool_calls)!=null?t:[])M.push({type:"tool-call",toolCallId:(n=Z.id)!=null?n:Su(),toolName:Z.function.name,input:Z.function.arguments});for(const Z of(r=P.message.annotations)!=null?r:[])M.push({type:"source",sourceType:"url",id:Su(),url:Z.url,title:Z.title});const z=(i=E.usage)==null?void 0:i.completion_tokens_details,F=(o=E.usage)==null?void 0:o.prompt_tokens_details,q={openai:{}};return z?.accepted_prediction_tokens!=null&&(q.openai.acceptedPredictionTokens=z?.accepted_prediction_tokens),z?.rejected_prediction_tokens!=null&&(q.openai.rejectedPredictionTokens=z?.rejected_prediction_tokens),((s=P.logprobs)==null?void 0:s.content)!=null&&(q.openai.logprobs=P.logprobs.content),{content:M,finishReason:SF(P.finish_reason),usage:{inputTokens:(l=(a=E.usage)==null?void 0:a.prompt_tokens)!=null?l:void 0,outputTokens:(d=(u=E.usage)==null?void 0:u.completion_tokens)!=null?d:void 0,totalTokens:(g=(f=E.usage)==null?void 0:f.total_tokens)!=null?g:void 0,reasoningTokens:(m=z?.reasoning_tokens)!=null?m:void 0,cachedInputTokens:(b=F?.cached_tokens)!=null?b:void 0},request:{body:x},response:{...wF(E),headers:T,body:$},warnings:k,providerMetadata:q}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),r={...t,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:i,value:o}=await Du({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:Tl(this.config.headers(),e.headers),body:r,failedResponseHandler:Cl,successfulResponseHandler:aR(hPe),abortSignal:e.abortSignal,fetch:this.config.fetch}),s=[];let a="unknown";const l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};let u=!0,d=!1;const f={openai:{}};return{stream:o.pipeThrough(new TransformStream({start(g){g.enqueue({type:"stream-start",warnings:n})},transform(g,m){var b,x,k,T,E,$,P,M,R,z,F,q,Z,re,ee,ne,se,ue,me,ie,J,le,B,G;if(e.includeRawChunks&&m.enqueue({type:"raw",rawValue:g.rawValue}),!g.success){a="error",m.enqueue({type:"error",error:g.error});return}const H=g.value;if("error"in H){a="error",m.enqueue({type:"error",error:H.error});return}u&&(u=!1,m.enqueue({type:"response-metadata",...wF(H)})),H.usage!=null&&(l.inputTokens=(b=H.usage.prompt_tokens)!=null?b:void 0,l.outputTokens=(x=H.usage.completion_tokens)!=null?x:void 0,l.totalTokens=(k=H.usage.total_tokens)!=null?k:void 0,l.reasoningTokens=(E=(T=H.usage.completion_tokens_details)==null?void 0:T.reasoning_tokens)!=null?E:void 0,l.cachedInputTokens=(P=($=H.usage.prompt_tokens_details)==null?void 0:$.cached_tokens)!=null?P:void 0,((M=H.usage.completion_tokens_details)==null?void 0:M.accepted_prediction_tokens)!=null&&(f.openai.acceptedPredictionTokens=(R=H.usage.completion_tokens_details)==null?void 0:R.accepted_prediction_tokens),((z=H.usage.completion_tokens_details)==null?void 0:z.rejected_prediction_tokens)!=null&&(f.openai.rejectedPredictionTokens=(F=H.usage.completion_tokens_details)==null?void 0:F.rejected_prediction_tokens));const W=H.choices[0];if(W?.finish_reason!=null&&(a=SF(W.finish_reason)),((q=W?.logprobs)==null?void 0:q.content)!=null&&(f.openai.logprobs=W.logprobs.content),W?.delta==null)return;const Ie=W.delta;if(Ie.content!=null&&(d||(m.enqueue({type:"text-start",id:"0"}),d=!0),m.enqueue({type:"text-delta",id:"0",delta:Ie.content})),Ie.tool_calls!=null)for(const Ce of Ie.tool_calls){const Ae=Ce.index;if(s[Ae]==null){if(Ce.type!=="function")throw new wE({data:Ce,message:"Expected 'function' type."});if(Ce.id==null)throw new wE({data:Ce,message:"Expected 'id' to be a string."});if(((Z=Ce.function)==null?void 0:Z.name)==null)throw new wE({data:Ce,message:"Expected 'function.name' to be a string."});m.enqueue({type:"tool-input-start",id:Ce.id,toolName:Ce.function.name}),s[Ae]={id:Ce.id,type:"function",function:{name:Ce.function.name,arguments:(re=Ce.function.arguments)!=null?re:""},hasFinished:!1};const je=s[Ae];((ee=je.function)==null?void 0:ee.name)!=null&&((ne=je.function)==null?void 0:ne.arguments)!=null&&(je.function.arguments.length>0&&m.enqueue({type:"tool-input-delta",id:je.id,delta:je.function.arguments}),xF(je.function.arguments)&&(m.enqueue({type:"tool-input-end",id:je.id}),m.enqueue({type:"tool-call",toolCallId:(se=je.id)!=null?se:Su(),toolName:je.function.name,input:je.function.arguments}),je.hasFinished=!0));continue}const $e=s[Ae];$e.hasFinished||(((ue=Ce.function)==null?void 0:ue.arguments)!=null&&($e.function.arguments+=(ie=(me=Ce.function)==null?void 0:me.arguments)!=null?ie:""),m.enqueue({type:"tool-input-delta",id:$e.id,delta:(J=Ce.function.arguments)!=null?J:""}),((le=$e.function)==null?void 0:le.name)!=null&&((B=$e.function)==null?void 0:B.arguments)!=null&&xF($e.function.arguments)&&(m.enqueue({type:"tool-input-end",id:$e.id}),m.enqueue({type:"tool-call",toolCallId:(G=$e.id)!=null?G:Su(),toolName:$e.function.name,input:$e.function.arguments}),$e.hasFinished=!0))}if(Ie.annotations!=null)for(const Ce of Ie.annotations)m.enqueue({type:"source",sourceType:"url",id:Su(),url:Ce.url,title:Ce.title})},flush(g){d&&g.enqueue({type:"text-end",id:"0"}),g.enqueue({type:"finish",finishReason:a,usage:l,...f!=null?{providerMetadata:f}:{}})}})),request:{body:r},response:{headers:i}}}},GG=S.object({prompt_tokens:S.number().nullish(),completion_tokens:S.number().nullish(),total_tokens:S.number().nullish(),prompt_tokens_details:S.object({cached_tokens:S.number().nullish()}).nullish(),completion_tokens_details:S.object({reasoning_tokens:S.number().nullish(),accepted_prediction_tokens:S.number().nullish(),rejected_prediction_tokens:S.number().nullish()}).nullish()}).nullish(),pPe=S.object({id:S.string().nullish(),created:S.number().nullish(),model:S.string().nullish(),choices:S.array(S.object({message:S.object({role:S.literal("assistant").nullish(),content:S.string().nullish(),tool_calls:S.array(S.object({id:S.string().nullish(),type:S.literal("function"),function:S.object({name:S.string(),arguments:S.string()})})).nullish(),annotations:S.array(S.object({type:S.literal("url_citation"),start_index:S.number(),end_index:S.number(),url:S.string(),title:S.string()})).nullish()}),index:S.number(),logprobs:S.object({content:S.array(S.object({token:S.string(),logprob:S.number(),top_logprobs:S.array(S.object({token:S.string(),logprob:S.number()}))})).nullish()}).nullish(),finish_reason:S.string().nullish()})),usage:GG}),hPe=S.union([S.object({id:S.string().nullish(),created:S.number().nullish(),model:S.string().nullish(),choices:S.array(S.object({delta:S.object({role:S.enum(["assistant"]).nullish(),content:S.string().nullish(),tool_calls:S.array(S.object({index:S.number(),id:S.string().nullish(),type:S.literal("function").nullish(),function:S.object({name:S.string().nullish(),arguments:S.string().nullish()})})).nullish(),annotations:S.array(S.object({type:S.literal("url_citation"),start_index:S.number(),end_index:S.number(),url:S.string(),title:S.string()})).nullish()}).nullish(),logprobs:S.object({content:S.array(S.object({token:S.string(),logprob:S.number(),top_logprobs:S.array(S.object({token:S.string(),logprob:S.number()}))})).nullish()}).nullish(),finish_reason:S.string().nullish(),index:S.number()})),usage:GG}),lR]);function YG(e){return(e.startsWith("o")||e.startsWith("gpt-5"))&&!e.startsWith("gpt-5-chat")}function mPe(e){return e.startsWith("o3")||e.startsWith("o4-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-chat")}function gPe(e){return e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")&&!e.startsWith("gpt-5-chat")||e.startsWith("o3")||e.startsWith("o4-mini")}function yPe(e){var t,n;return YG(e)?(n=(t=vPe[e])==null?void 0:t.systemMessageMode)!=null?n:"developer":"system"}var vPe={"o1-mini":{systemMessageMode:"remove"},"o1-mini-2024-09-12":{systemMessageMode:"remove"},"o1-preview":{systemMessageMode:"remove"},"o1-preview-2024-09-12":{systemMessageMode:"remove"},o3:{systemMessageMode:"developer"},"o3-2025-04-16":{systemMessageMode:"developer"},"o3-mini":{systemMessageMode:"developer"},"o3-mini-2025-01-31":{systemMessageMode:"developer"},"o4-mini":{systemMessageMode:"developer"},"o4-mini-2025-04-16":{systemMessageMode:"developer"}};function bPe({prompt:e,user:t="user",assistant:n="assistant"}){let r="";e[0].role==="system"&&(r+=`${e[0].content}

`,e=e.slice(1));for(const{role:i,content:o}of e)switch(i){case"system":throw new w$e({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{const s=o.map(a=>{switch(a.type){case"text":return a.text}}).filter(Boolean).join("");r+=`${t}:
${s}

`;break}case"assistant":{const s=o.map(a=>{switch(a.type){case"text":return a.text;case"tool-call":throw new Cu({functionality:"tool-call messages"})}}).join("");r+=`${n}:
${s}

`;break}case"tool":throw new Cu({functionality:"tool messages"});default:{const s=i;throw new Error(`Unsupported role: ${s}`)}}return r+=`${n}:
`,{prompt:r,stopSequences:[`
${t}:`]}}function kF({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n!=null?new Date(n*1e3):void 0}}function _F(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var TF=S.object({echo:S.boolean().optional(),logitBias:S.record(S.string(),S.number()).optional(),suffix:S.string().optional(),user:S.string().optional(),logprobs:S.union([S.boolean(),S.number()]).optional()}),xPe=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={},this.modelId=e,this.config=t}get providerOptionsName(){return this.config.provider.split(".")[0].trim()}get provider(){return this.config.provider}async getArgs({prompt:e,maxOutputTokens:t,temperature:n,topP:r,topK:i,frequencyPenalty:o,presencePenalty:s,stopSequences:a,responseFormat:l,tools:u,toolChoice:d,seed:f,providerOptions:g}){const m=[],b={...await ld({provider:"openai",providerOptions:g,schema:TF}),...await ld({provider:this.providerOptionsName,providerOptions:g,schema:TF})};i!=null&&m.push({type:"unsupported-setting",setting:"topK"}),u?.length&&m.push({type:"unsupported-setting",setting:"tools"}),d!=null&&m.push({type:"unsupported-setting",setting:"toolChoice"}),l!=null&&l.type!=="text"&&m.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:x,stopSequences:k}=bPe({prompt:e}),T=[...k??[],...a??[]];return{args:{model:this.modelId,echo:b.echo,logit_bias:b.logitBias,logprobs:b?.logprobs===!0?0:b?.logprobs===!1?void 0:b?.logprobs,suffix:b.suffix,user:b.user,max_tokens:t,temperature:n,top_p:r,frequency_penalty:o,presence_penalty:s,seed:f,prompt:x,stop:T.length>0?T:void 0},warnings:m}}async doGenerate(e){var t,n,r;const{args:i,warnings:o}=await this.getArgs(e),{responseHeaders:s,value:a,rawValue:l}=await Du({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:Tl(this.config.headers(),e.headers),body:i,failedResponseHandler:Cl,successfulResponseHandler:Ag(wPe),abortSignal:e.abortSignal,fetch:this.config.fetch}),u=a.choices[0],d={openai:{}};return u.logprobs!=null&&(d.openai.logprobs=u.logprobs),{content:[{type:"text",text:u.text}],usage:{inputTokens:(t=a.usage)==null?void 0:t.prompt_tokens,outputTokens:(n=a.usage)==null?void 0:n.completion_tokens,totalTokens:(r=a.usage)==null?void 0:r.total_tokens},finishReason:_F(u.finish_reason),request:{body:i},response:{...kF(a),headers:s,body:l},providerMetadata:d,warnings:o}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),r={...t,stream:!0,stream_options:{include_usage:!0}},{responseHeaders:i,value:o}=await Du({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:Tl(this.config.headers(),e.headers),body:r,failedResponseHandler:Cl,successfulResponseHandler:aR(SPe),abortSignal:e.abortSignal,fetch:this.config.fetch});let s="unknown";const a={openai:{}},l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0};let u=!0;return{stream:o.pipeThrough(new TransformStream({start(d){d.enqueue({type:"stream-start",warnings:n})},transform(d,f){if(e.includeRawChunks&&f.enqueue({type:"raw",rawValue:d.rawValue}),!d.success){s="error",f.enqueue({type:"error",error:d.error});return}const g=d.value;if("error"in g){s="error",f.enqueue({type:"error",error:g.error});return}u&&(u=!1,f.enqueue({type:"response-metadata",...kF(g)}),f.enqueue({type:"text-start",id:"0"})),g.usage!=null&&(l.inputTokens=g.usage.prompt_tokens,l.outputTokens=g.usage.completion_tokens,l.totalTokens=g.usage.total_tokens);const m=g.choices[0];m?.finish_reason!=null&&(s=_F(m.finish_reason)),m?.logprobs!=null&&(a.openai.logprobs=m.logprobs),m?.text!=null&&m.text.length>0&&f.enqueue({type:"text-delta",id:"0",delta:m.text})},flush(d){u||d.enqueue({type:"text-end",id:"0"}),d.enqueue({type:"finish",finishReason:s,providerMetadata:a,usage:l})}})),request:{body:r},response:{headers:i}}}},XG=S.object({prompt_tokens:S.number(),completion_tokens:S.number(),total_tokens:S.number()}),wPe=S.object({id:S.string().nullish(),created:S.number().nullish(),model:S.string().nullish(),choices:S.array(S.object({text:S.string(),finish_reason:S.string(),logprobs:S.object({tokens:S.array(S.string()),token_logprobs:S.array(S.number()),top_logprobs:S.array(S.record(S.string(),S.number())).nullish()}).nullish()})),usage:XG.nullish()}),SPe=S.union([S.object({id:S.string().nullish(),created:S.number().nullish(),model:S.string().nullish(),choices:S.array(S.object({text:S.string(),finish_reason:S.string().nullish(),index:S.number(),logprobs:S.object({tokens:S.array(S.string()),token_logprobs:S.array(S.number()),top_logprobs:S.array(S.record(S.string(),S.number())).nullish()}).nullish()})),usage:XG.nullish()}),lR]),kPe=S.object({dimensions:S.number().optional(),user:S.string().optional()}),_Pe=class{constructor(e,t){this.specificationVersion="v2",this.maxEmbeddingsPerCall=2048,this.supportsParallelCalls=!0,this.modelId=e,this.config=t}get provider(){return this.config.provider}async doEmbed({values:e,headers:t,abortSignal:n,providerOptions:r}){var i;if(e.length>this.maxEmbeddingsPerCall)throw new C$e({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const o=(i=await ld({provider:"openai",providerOptions:r,schema:kPe}))!=null?i:{},{responseHeaders:s,value:a,rawValue:l}=await Du({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:Tl(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:o.dimensions,user:o.user},failedResponseHandler:Cl,successfulResponseHandler:Ag(TPe),abortSignal:n,fetch:this.config.fetch});return{embeddings:a.data.map(u=>u.embedding),usage:a.usage?{tokens:a.usage.prompt_tokens}:void 0,response:{headers:s,body:l}}}},TPe=S.object({data:S.array(S.object({embedding:S.array(S.number())})),usage:S.object({prompt_tokens:S.number()}).nullish()}),CPe={"dall-e-3":1,"dall-e-2":10,"gpt-image-1":10},EPe=new Set(["gpt-image-1"]),IPe=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get maxImagesPerCall(){var e;return(e=CPe[this.modelId])!=null?e:1}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:n,aspectRatio:r,seed:i,providerOptions:o,headers:s,abortSignal:a}){var l,u,d,f;const g=[];r!=null&&g.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),i!=null&&g.push({type:"unsupported-setting",setting:"seed"});const m=(d=(u=(l=this.config._internal)==null?void 0:l.currentDate)==null?void 0:u.call(l))!=null?d:new Date,{value:b,responseHeaders:x}=await Du({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:Tl(this.config.headers(),s),body:{model:this.modelId,prompt:e,n:t,size:n,...(f=o.openai)!=null?f:{},...EPe.has(this.modelId)?{}:{response_format:"b64_json"}},failedResponseHandler:Cl,successfulResponseHandler:Ag(APe),abortSignal:a,fetch:this.config.fetch});return{images:b.data.map(k=>k.b64_json),warnings:g,response:{timestamp:m,modelId:this.modelId,headers:x},providerMetadata:{openai:{images:b.data.map(k=>k.revised_prompt?{revisedPrompt:k.revised_prompt}:null)}}}}},APe=S.object({data:S.array(S.object({b64_json:S.string(),revised_prompt:S.string().optional()}))}),$Pe=S.object({code:S.string().nullish(),containerId:S.string()}),PPe=S.object({outputs:S.array(S.discriminatedUnion("type",[S.object({type:S.literal("logs"),logs:S.string()}),S.object({type:S.literal("image"),url:S.string()})])).nullish()}),MPe=S.object({container:S.union([S.string(),S.object({fileIds:S.array(S.string()).optional()})]).optional()}),OPe=X$e({id:"openai.code_interpreter",name:"code_interpreter",inputSchema:$Pe,outputSchema:PPe}),NPe=(e={})=>OPe(e),RPe=S.object({filters:S.object({allowedDomains:S.array(S.string()).optional()}).optional(),searchContextSize:S.enum(["low","medium","high"]).optional(),userLocation:S.object({type:S.literal("approximate"),country:S.string().optional(),city:S.string().optional(),region:S.string().optional(),timezone:S.string().optional()}).optional()}),DPe=sR({id:"openai.web_search",name:"web_search",inputSchema:S.object({action:S.discriminatedUnion("type",[S.object({type:S.literal("search"),query:S.string().nullish()}),S.object({type:S.literal("open_page"),url:S.string()}),S.object({type:S.literal("find"),url:S.string(),pattern:S.string()})]).nullish()})}),jPe=(e={})=>DPe(e),LPe={codeInterpreter:NPe,fileSearch:uPe,webSearchPreview:cPe,webSearch:jPe};function CF(e,t){return t?t.some(n=>e.startsWith(n)):!1}async function zPe({prompt:e,systemMessageMode:t,fileIdPrefixes:n}){var r,i,o,s,a,l;const u=[],d=[];for(const{role:f,content:g}of e)switch(f){case"system":{switch(t){case"system":{u.push({role:"system",content:g});break}case"developer":{u.push({role:"developer",content:g});break}case"remove":{d.push({type:"other",message:"system messages are removed for this model"});break}default:{const m=t;throw new Error(`Unsupported system message mode: ${m}`)}}break}case"user":{u.push({role:"user",content:g.map((m,b)=>{var x,k,T;switch(m.type){case"text":return{type:"input_text",text:m.text};case"file":if(m.mediaType.startsWith("image/")){const E=m.mediaType==="image/*"?"image/jpeg":m.mediaType;return{type:"input_image",...m.data instanceof URL?{image_url:m.data.toString()}:typeof m.data=="string"&&CF(m.data,n)?{file_id:m.data}:{image_url:`data:${E};base64,${Sm(m.data)}`},detail:(k=(x=m.providerOptions)==null?void 0:x.openai)==null?void 0:k.imageDetail}}else{if(m.mediaType==="application/pdf")return m.data instanceof URL?{type:"input_file",file_url:m.data.toString()}:{type:"input_file",...typeof m.data=="string"&&CF(m.data,n)?{file_id:m.data}:{filename:(T=m.filename)!=null?T:`part-${b}.pdf`,file_data:`data:application/pdf;base64,${Sm(m.data)}`}};throw new Cu({functionality:`file part media type ${m.mediaType}`})}}})});break}case"assistant":{const m={},b={};for(const x of g)switch(x.type){case"text":{u.push({role:"assistant",content:[{type:"output_text",text:x.text}],id:(o=(i=(r=x.providerOptions)==null?void 0:r.openai)==null?void 0:i.itemId)!=null?o:void 0});break}case"tool-call":{if(b[x.toolCallId]=x,x.providerExecuted)break;u.push({type:"function_call",call_id:x.toolCallId,name:x.toolName,arguments:JSON.stringify(x.input),id:(l=(a=(s=x.providerOptions)==null?void 0:s.openai)==null?void 0:a.itemId)!=null?l:void 0});break}case"tool-result":{d.push({type:"other",message:"tool result parts in assistant messages are not supported for OpenAI responses"});break}case"reasoning":{const k=await ld({provider:"openai",providerOptions:x.providerOptions,schema:FPe}),T=k?.itemId;if(T!=null){const E=m[T],$=[];x.text.length>0?$.push({type:"summary_text",text:x.text}):E!==void 0&&d.push({type:"other",message:`Cannot append empty reasoning part to existing reasoning sequence. Skipping reasoning part: ${JSON.stringify(x)}.`}),E===void 0?(m[T]={type:"reasoning",id:T,encrypted_content:k?.reasoningEncryptedContent,summary:$},u.push(m[T])):E.summary.push(...$)}else d.push({type:"other",message:`Non-OpenAI reasoning parts are not supported. Skipping reasoning part: ${JSON.stringify(x)}.`});break}}break}case"tool":{for(const m of g){const b=m.output;let x;switch(b.type){case"text":case"error-text":x=b.value;break;case"content":case"json":case"error-json":x=JSON.stringify(b.value);break}u.push({type:"function_call_output",call_id:m.toolCallId,output:x})}break}default:{const m=f;throw new Error(`Unsupported role: ${m}`)}}return{input:u,warnings:d}}var FPe=S.object({itemId:S.string().nullish(),reasoningEncryptedContent:S.string().nullish()});function EF({finishReason:e,hasFunctionCall:t}){switch(e){case void 0:case null:return t?"tool-calls":"stop";case"max_output_tokens":return"length";case"content_filter":return"content-filter";default:return t?"tool-calls":"unknown"}}function VPe({tools:e,toolChoice:t,strictJsonSchema:n}){e=e?.length?e:void 0;const r=[];if(e==null)return{tools:void 0,toolChoice:void 0,toolWarnings:r};const i=[];for(const s of e)switch(s.type){case"function":i.push({type:"function",name:s.name,description:s.description,parameters:s.inputSchema,strict:n});break;case"provider-defined":{switch(s.id){case"openai.file_search":{const a=JG.parse(s.args);i.push({type:"file_search",vector_store_ids:a.vectorStoreIds,max_num_results:a.maxNumResults,ranking_options:a.ranking?{ranker:a.ranking.ranker}:void 0,filters:a.filters});break}case"openai.web_search_preview":{const a=KG.parse(s.args);i.push({type:"web_search_preview",search_context_size:a.searchContextSize,user_location:a.userLocation});break}case"openai.web_search":{const a=RPe.parse(s.args);i.push({type:"web_search",filters:a.filters!=null?{allowed_domains:a.filters.allowedDomains}:void 0,search_context_size:a.searchContextSize,user_location:a.userLocation});break}case"openai.code_interpreter":{const a=MPe.parse(s.args);i.push({type:"code_interpreter",container:a.container==null?{type:"auto",file_ids:void 0}:typeof a.container=="string"?a.container:{type:"auto",file_ids:a.container.fileIds}});break}default:{r.push({type:"unsupported-tool",tool:s});break}}break}default:r.push({type:"unsupported-tool",tool:s});break}if(t==null)return{tools:i,toolChoice:void 0,toolWarnings:r};const o=t.type;switch(o){case"auto":case"none":case"required":return{tools:i,toolChoice:o,toolWarnings:r};case"tool":return{tools:i,toolChoice:t.toolName==="code_interpreter"||t.toolName==="file_search"||t.toolName==="web_search_preview"||t.toolName==="web_search"?{type:t.toolName}:{type:"function",name:t.toolName},toolWarnings:r};default:{const s=o;throw new Cu({functionality:`tool choice type: ${s}`})}}}var QG=S.object({type:S.literal("web_search_call"),id:S.string(),status:S.string(),action:S.discriminatedUnion("type",[S.object({type:S.literal("search"),query:S.string().nullish()}),S.object({type:S.literal("open_page"),url:S.string()}),S.object({type:S.literal("find"),url:S.string(),pattern:S.string()})]).nullish()}),e7=S.object({type:S.literal("code_interpreter_call"),id:S.string(),code:S.string().nullable(),container_id:S.string(),outputs:S.array(S.discriminatedUnion("type",[S.object({type:S.literal("logs"),logs:S.string()}),S.object({type:S.literal("image"),url:S.string()})])).nullable()}),t7=20,n7=S.array(S.object({token:S.string(),logprob:S.number(),top_logprobs:S.array(S.object({token:S.string(),logprob:S.number()}))})),BPe=class{constructor(e,t){this.specificationVersion="v2",this.supportedUrls={"image/*":[/^https?:\/\/.*$/],"application/pdf":[/^https?:\/\/.*$/]},this.modelId=e,this.config=t}get provider(){return this.config.provider}async getArgs({maxOutputTokens:e,temperature:t,stopSequences:n,topP:r,topK:i,presencePenalty:o,frequencyPenalty:s,seed:a,prompt:l,providerOptions:u,tools:d,toolChoice:f,responseFormat:g}){var m,b,x,k;const T=[],E=cMe(this.modelId);i!=null&&T.push({type:"unsupported-setting",setting:"topK"}),a!=null&&T.push({type:"unsupported-setting",setting:"seed"}),o!=null&&T.push({type:"unsupported-setting",setting:"presencePenalty"}),s!=null&&T.push({type:"unsupported-setting",setting:"frequencyPenalty"}),n!=null&&T.push({type:"unsupported-setting",setting:"stopSequences"});const{input:$,warnings:P}=await zPe({prompt:l,systemMessageMode:E.systemMessageMode,fileIdPrefixes:this.config.fileIdPrefixes});T.push(...P);const M=await ld({provider:"openai",providerOptions:u,schema:dMe}),R=(m=M?.strictJsonSchema)!=null?m:!1;let z=M?.include;const F=typeof M?.logprobs=="number"?M?.logprobs:M?.logprobs===!0?t7:void 0;z=F?Array.isArray(z)?[...z,"message.output_text.logprobs"]:["message.output_text.logprobs"]:z;const q=(b=d?.find(ue=>ue.type==="provider-defined"&&(ue.id==="openai.web_search"||ue.id==="openai.web_search_preview")))==null?void 0:b.name;z=q?Array.isArray(z)?[...z,"web_search_call.action.sources"]:["web_search_call.action.sources"]:z,z=((x=d?.find(ue=>ue.type==="provider-defined"&&ue.id==="openai.code_interpreter"))==null?void 0:x.name)?Array.isArray(z)?[...z,"code_interpreter_call.outputs"]:["code_interpreter_call.outputs"]:z;const re={model:this.modelId,input:$,temperature:t,top_p:r,max_output_tokens:e,...(g?.type==="json"||M?.textVerbosity)&&{text:{...g?.type==="json"&&{format:g.schema!=null?{type:"json_schema",strict:R,name:(k=g.name)!=null?k:"response",description:g.description,schema:g.schema}:{type:"json_object"}},...M?.textVerbosity&&{verbosity:M.textVerbosity}}},metadata:M?.metadata,parallel_tool_calls:M?.parallelToolCalls,previous_response_id:M?.previousResponseId,store:M?.store,user:M?.user,instructions:M?.instructions,service_tier:M?.serviceTier,include:z,prompt_cache_key:M?.promptCacheKey,safety_identifier:M?.safetyIdentifier,top_logprobs:F,...E.isReasoningModel&&(M?.reasoningEffort!=null||M?.reasoningSummary!=null)&&{reasoning:{...M?.reasoningEffort!=null&&{effort:M.reasoningEffort},...M?.reasoningSummary!=null&&{summary:M.reasoningSummary}}},...E.requiredAutoTruncation&&{truncation:"auto"}};E.isReasoningModel?(re.temperature!=null&&(re.temperature=void 0,T.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),re.top_p!=null&&(re.top_p=void 0,T.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"}))):(M?.reasoningEffort!=null&&T.push({type:"unsupported-setting",setting:"reasoningEffort",details:"reasoningEffort is not supported for non-reasoning models"}),M?.reasoningSummary!=null&&T.push({type:"unsupported-setting",setting:"reasoningSummary",details:"reasoningSummary is not supported for non-reasoning models"})),M?.serviceTier==="flex"&&!E.supportsFlexProcessing&&(T.push({type:"unsupported-setting",setting:"serviceTier",details:"flex processing is only available for o3, o4-mini, and gpt-5 models"}),delete re.service_tier),M?.serviceTier==="priority"&&!E.supportsPriorityProcessing&&(T.push({type:"unsupported-setting",setting:"serviceTier",details:"priority processing is only available for supported models (gpt-4, gpt-5, gpt-5-mini, o3, o4-mini) and requires Enterprise access. gpt-5-nano is not supported"}),delete re.service_tier);const{tools:ee,toolChoice:ne,toolWarnings:se}=VPe({tools:d,toolChoice:f,strictJsonSchema:R});return{webSearchToolName:q,args:{...re,tools:ee,tool_choice:ne},warnings:[...T,...se]}}async doGenerate(e){var t,n,r,i,o,s,a,l,u,d,f,g,m,b,x,k,T;const{args:E,warnings:$,webSearchToolName:P}=await this.getArgs(e),M=this.config.url({path:"/responses",modelId:this.modelId}),{responseHeaders:R,value:z,rawValue:F}=await Du({url:M,headers:Tl(this.config.headers(),e.headers),body:E,failedResponseHandler:Cl,successfulResponseHandler:Ag(S.object({id:S.string(),created_at:S.number(),error:S.object({code:S.string(),message:S.string()}).nullish(),model:S.string(),output:S.array(S.discriminatedUnion("type",[S.object({type:S.literal("message"),role:S.literal("assistant"),id:S.string(),content:S.array(S.object({type:S.literal("output_text"),text:S.string(),logprobs:n7.nullish(),annotations:S.array(S.discriminatedUnion("type",[S.object({type:S.literal("url_citation"),start_index:S.number(),end_index:S.number(),url:S.string(),title:S.string()}),S.object({type:S.literal("file_citation"),file_id:S.string(),filename:S.string().nullish(),index:S.number().nullish(),start_index:S.number().nullish(),end_index:S.number().nullish(),quote:S.string().nullish()}),S.object({type:S.literal("container_file_citation")})]))}))}),e7,S.object({type:S.literal("function_call"),call_id:S.string(),name:S.string(),arguments:S.string(),id:S.string()}),QG,S.object({type:S.literal("computer_call"),id:S.string(),status:S.string().optional()}),S.object({type:S.literal("file_search_call"),id:S.string(),status:S.string().optional(),queries:S.array(S.string()).nullish(),results:S.array(S.object({attributes:S.object({file_id:S.string(),filename:S.string(),score:S.number(),text:S.string()})})).nullish()}),S.object({type:S.literal("reasoning"),id:S.string(),encrypted_content:S.string().nullish(),summary:S.array(S.object({type:S.literal("summary_text"),text:S.string()}))})])),service_tier:S.string().nullish(),incomplete_details:S.object({reason:S.string()}).nullable(),usage:r7})),abortSignal:e.abortSignal,fetch:this.config.fetch});if(z.error)throw new Ws({message:z.error.message,url:M,requestBodyValues:E,statusCode:400,responseHeaders:R,responseBody:F,isRetryable:!1});const q=[],Z=[];let re=!1;for(const ne of z.output)switch(ne.type){case"reasoning":{ne.summary.length===0&&ne.summary.push({type:"summary_text",text:""});for(const se of ne.summary)q.push({type:"reasoning",text:se.text,providerMetadata:{openai:{itemId:ne.id,reasoningEncryptedContent:(t=ne.encrypted_content)!=null?t:null}}});break}case"message":{for(const se of ne.content){(r=(n=e.providerOptions)==null?void 0:n.openai)!=null&&r.logprobs&&se.logprobs&&Z.push(se.logprobs),q.push({type:"text",text:se.text,providerMetadata:{openai:{itemId:ne.id}}});for(const ue of se.annotations)ue.type==="url_citation"?q.push({type:"source",sourceType:"url",id:(s=(o=(i=this.config).generateId)==null?void 0:o.call(i))!=null?s:Su(),url:ue.url,title:ue.title}):ue.type==="file_citation"&&q.push({type:"source",sourceType:"document",id:(u=(l=(a=this.config).generateId)==null?void 0:l.call(a))!=null?u:Su(),mediaType:"text/plain",title:(f=(d=ue.quote)!=null?d:ue.filename)!=null?f:"Document",filename:(g=ue.filename)!=null?g:ue.file_id})}break}case"function_call":{re=!0,q.push({type:"tool-call",toolCallId:ne.call_id,toolName:ne.name,input:ne.arguments,providerMetadata:{openai:{itemId:ne.id}}});break}case"web_search_call":{q.push({type:"tool-call",toolCallId:ne.id,toolName:P??"web_search",input:JSON.stringify({action:ne.action}),providerExecuted:!0}),q.push({type:"tool-result",toolCallId:ne.id,toolName:P??"web_search",result:{status:ne.status},providerExecuted:!0});break}case"computer_call":{q.push({type:"tool-call",toolCallId:ne.id,toolName:"computer_use",input:"",providerExecuted:!0}),q.push({type:"tool-result",toolCallId:ne.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:ne.status||"completed"},providerExecuted:!0});break}case"file_search_call":{q.push({type:"tool-call",toolCallId:ne.id,toolName:"file_search",input:"",providerExecuted:!0}),q.push({type:"tool-result",toolCallId:ne.id,toolName:"file_search",result:{type:"file_search_tool_result",status:ne.status||"completed",...ne.queries&&{queries:ne.queries},...ne.results&&{results:ne.results}},providerExecuted:!0});break}case"code_interpreter_call":{q.push({type:"tool-call",toolCallId:ne.id,toolName:"code_interpreter",input:JSON.stringify({code:ne.code,containerId:ne.container_id}),providerExecuted:!0}),q.push({type:"tool-result",toolCallId:ne.id,toolName:"code_interpreter",result:{outputs:ne.outputs},providerExecuted:!0});break}}const ee={openai:{responseId:z.id}};return Z.length>0&&(ee.openai.logprobs=Z),typeof z.service_tier=="string"&&(ee.openai.serviceTier=z.service_tier),{content:q,finishReason:EF({finishReason:(m=z.incomplete_details)==null?void 0:m.reason,hasFunctionCall:re}),usage:{inputTokens:z.usage.input_tokens,outputTokens:z.usage.output_tokens,totalTokens:z.usage.input_tokens+z.usage.output_tokens,reasoningTokens:(x=(b=z.usage.output_tokens_details)==null?void 0:b.reasoning_tokens)!=null?x:void 0,cachedInputTokens:(T=(k=z.usage.input_tokens_details)==null?void 0:k.cached_tokens)!=null?T:void 0},request:{body:E},response:{id:z.id,timestamp:new Date(z.created_at*1e3),modelId:z.model,headers:R,body:F},providerMetadata:ee,warnings:$}}async doStream(e){const{args:t,warnings:n,webSearchToolName:r}=await this.getArgs(e),{responseHeaders:i,value:o}=await Du({url:this.config.url({path:"/responses",modelId:this.modelId}),headers:Tl(this.config.headers(),e.headers),body:{...t,stream:!0},failedResponseHandler:Cl,successfulResponseHandler:aR(QPe),abortSignal:e.abortSignal,fetch:this.config.fetch}),s=this;let a="unknown";const l={inputTokens:void 0,outputTokens:void 0,totalTokens:void 0},u=[];let d=null;const f={};let g=!1;const m={};let b;return{stream:o.pipeThrough(new TransformStream({start(x){x.enqueue({type:"stream-start",warnings:n})},transform(x,k){var T,E,$,P,M,R,z,F,q,Z,re,ee,ne,se,ue,me,ie,J,le,B,G;if(e.includeRawChunks&&k.enqueue({type:"raw",rawValue:x.rawValue}),!x.success){a="error",k.enqueue({type:"error",error:x.error});return}const H=x.value;if(o7(H))H.item.type==="function_call"?(f[H.output_index]={toolName:H.item.name,toolCallId:H.item.call_id},k.enqueue({type:"tool-input-start",id:H.item.call_id,toolName:H.item.name})):H.item.type==="web_search_call"?(f[H.output_index]={toolName:r??"web_search",toolCallId:H.item.id},k.enqueue({type:"tool-input-start",id:H.item.id,toolName:r??"web_search"})):H.item.type==="computer_call"?(f[H.output_index]={toolName:"computer_use",toolCallId:H.item.id},k.enqueue({type:"tool-input-start",id:H.item.id,toolName:"computer_use"})):H.item.type==="file_search_call"?(f[H.output_index]={toolName:"file_search",toolCallId:H.item.id},k.enqueue({type:"tool-input-start",id:H.item.id,toolName:"file_search"})):H.item.type==="message"?k.enqueue({type:"text-start",id:H.item.id,providerMetadata:{openai:{itemId:H.item.id}}}):oMe(H)&&(m[H.item.id]={encryptedContent:H.item.encrypted_content,summaryParts:[0]},k.enqueue({type:"reasoning-start",id:`${H.item.id}:0`,providerMetadata:{openai:{itemId:H.item.id,reasoningEncryptedContent:(T=H.item.encrypted_content)!=null?T:null}}}));else if(i7(H)){if(H.item.type==="function_call")f[H.output_index]=void 0,g=!0,k.enqueue({type:"tool-input-end",id:H.item.call_id}),k.enqueue({type:"tool-call",toolCallId:H.item.call_id,toolName:H.item.name,input:H.item.arguments,providerMetadata:{openai:{itemId:H.item.id}}});else if(H.item.type==="web_search_call")f[H.output_index]=void 0,k.enqueue({type:"tool-input-end",id:H.item.id}),k.enqueue({type:"tool-call",toolCallId:H.item.id,toolName:"web_search",input:JSON.stringify({action:H.item.action}),providerExecuted:!0}),k.enqueue({type:"tool-result",toolCallId:H.item.id,toolName:"web_search",result:{status:H.item.status},providerExecuted:!0});else if(H.item.type==="computer_call")f[H.output_index]=void 0,k.enqueue({type:"tool-input-end",id:H.item.id}),k.enqueue({type:"tool-call",toolCallId:H.item.id,toolName:"computer_use",input:"",providerExecuted:!0}),k.enqueue({type:"tool-result",toolCallId:H.item.id,toolName:"computer_use",result:{type:"computer_use_tool_result",status:H.item.status||"completed"},providerExecuted:!0});else if(H.item.type==="file_search_call")f[H.output_index]=void 0,k.enqueue({type:"tool-input-end",id:H.item.id}),k.enqueue({type:"tool-call",toolCallId:H.item.id,toolName:"file_search",input:"",providerExecuted:!0}),k.enqueue({type:"tool-result",toolCallId:H.item.id,toolName:"file_search",result:{type:"file_search_tool_result",status:H.item.status||"completed",...H.item.queries&&{queries:H.item.queries},...H.item.results&&{results:H.item.results}},providerExecuted:!0});else if(H.item.type==="code_interpreter_call")k.enqueue({type:"tool-call",toolCallId:H.item.id,toolName:"code_interpreter",input:JSON.stringify({code:H.item.code,containerId:H.item.container_id}),providerExecuted:!0}),k.enqueue({type:"tool-result",toolCallId:H.item.id,toolName:"code_interpreter",result:{outputs:H.item.outputs},providerExecuted:!0});else if(H.item.type==="message")k.enqueue({type:"text-end",id:H.item.id});else if(tMe(H)){const W=m[H.item.id];for(const Ie of W.summaryParts)k.enqueue({type:"reasoning-end",id:`${H.item.id}:${Ie}`,providerMetadata:{openai:{itemId:H.item.id,reasoningEncryptedContent:(E=H.item.encrypted_content)!=null?E:null}}});delete m[H.item.id]}}else if(iMe(H)){const W=f[H.output_index];W!=null&&k.enqueue({type:"tool-input-delta",id:W.toolCallId,delta:H.delta})}else rMe(H)?(d=H.response.id,k.enqueue({type:"response-metadata",id:H.response.id,timestamp:new Date(H.response.created_at*1e3),modelId:H.response.model})):eMe(H)?(k.enqueue({type:"text-delta",id:H.item_id,delta:H.delta}),(P=($=e.providerOptions)==null?void 0:$.openai)!=null&&P.logprobs&&H.logprobs&&u.push(H.logprobs)):aMe(H)?H.summary_index>0&&((M=m[H.item_id])==null||M.summaryParts.push(H.summary_index),k.enqueue({type:"reasoning-start",id:`${H.item_id}:${H.summary_index}`,providerMetadata:{openai:{itemId:H.item_id,reasoningEncryptedContent:(z=(R=m[H.item_id])==null?void 0:R.encryptedContent)!=null?z:null}}})):lMe(H)?k.enqueue({type:"reasoning-delta",id:`${H.item_id}:${H.summary_index}`,delta:H.delta,providerMetadata:{openai:{itemId:H.item_id}}}):nMe(H)?(a=EF({finishReason:(F=H.response.incomplete_details)==null?void 0:F.reason,hasFunctionCall:g}),l.inputTokens=H.response.usage.input_tokens,l.outputTokens=H.response.usage.output_tokens,l.totalTokens=H.response.usage.input_tokens+H.response.usage.output_tokens,l.reasoningTokens=(Z=(q=H.response.usage.output_tokens_details)==null?void 0:q.reasoning_tokens)!=null?Z:void 0,l.cachedInputTokens=(ee=(re=H.response.usage.input_tokens_details)==null?void 0:re.cached_tokens)!=null?ee:void 0,typeof H.response.service_tier=="string"&&(b=H.response.service_tier)):sMe(H)?H.annotation.type==="url_citation"?k.enqueue({type:"source",sourceType:"url",id:(ue=(se=(ne=s.config).generateId)==null?void 0:se.call(ne))!=null?ue:Su(),url:H.annotation.url,title:H.annotation.title}):H.annotation.type==="file_citation"&&k.enqueue({type:"source",sourceType:"document",id:(J=(ie=(me=s.config).generateId)==null?void 0:ie.call(me))!=null?J:Su(),mediaType:"text/plain",title:(B=(le=H.annotation.quote)!=null?le:H.annotation.filename)!=null?B:"Document",filename:(G=H.annotation.filename)!=null?G:H.annotation.file_id}):uMe(H)&&k.enqueue({type:"error",error:H})},flush(x){const k={openai:{responseId:d}};u.length>0&&(k.openai.logprobs=u),b!==void 0&&(k.openai.serviceTier=b),x.enqueue({type:"finish",finishReason:a,usage:l,providerMetadata:k})}})),request:{body:t},response:{headers:i}}}},r7=S.object({input_tokens:S.number(),input_tokens_details:S.object({cached_tokens:S.number().nullish()}).nullish(),output_tokens:S.number(),output_tokens_details:S.object({reasoning_tokens:S.number().nullish()}).nullish()}),UPe=S.object({type:S.literal("response.output_text.delta"),item_id:S.string(),delta:S.string(),logprobs:n7.nullish()}),ZPe=S.object({type:S.literal("error"),code:S.string(),message:S.string(),param:S.string().nullish(),sequence_number:S.number()}),WPe=S.object({type:S.enum(["response.completed","response.incomplete"]),response:S.object({incomplete_details:S.object({reason:S.string()}).nullish(),usage:r7,service_tier:S.string().nullish()})}),HPe=S.object({type:S.literal("response.created"),response:S.object({id:S.string(),created_at:S.number(),model:S.string(),service_tier:S.string().nullish()})}),qPe=S.object({type:S.literal("response.output_item.added"),output_index:S.number(),item:S.discriminatedUnion("type",[S.object({type:S.literal("message"),id:S.string()}),S.object({type:S.literal("reasoning"),id:S.string(),encrypted_content:S.string().nullish()}),S.object({type:S.literal("function_call"),id:S.string(),call_id:S.string(),name:S.string(),arguments:S.string()}),S.object({type:S.literal("web_search_call"),id:S.string(),status:S.string(),action:S.object({type:S.literal("search"),query:S.string().optional()}).nullish()}),S.object({type:S.literal("computer_call"),id:S.string(),status:S.string()}),S.object({type:S.literal("file_search_call"),id:S.string(),status:S.string(),queries:S.array(S.string()).nullish(),results:S.array(S.object({attributes:S.object({file_id:S.string(),filename:S.string(),score:S.number(),text:S.string()})})).optional()})])}),JPe=S.object({type:S.literal("response.output_item.done"),output_index:S.number(),item:S.discriminatedUnion("type",[S.object({type:S.literal("message"),id:S.string()}),S.object({type:S.literal("reasoning"),id:S.string(),encrypted_content:S.string().nullish()}),S.object({type:S.literal("function_call"),id:S.string(),call_id:S.string(),name:S.string(),arguments:S.string(),status:S.literal("completed")}),e7,QG,S.object({type:S.literal("computer_call"),id:S.string(),status:S.literal("completed")}),S.object({type:S.literal("file_search_call"),id:S.string(),status:S.literal("completed"),queries:S.array(S.string()).nullish(),results:S.array(S.object({attributes:S.object({file_id:S.string(),filename:S.string(),score:S.number(),text:S.string()})})).nullish()})])}),KPe=S.object({type:S.literal("response.function_call_arguments.delta"),item_id:S.string(),output_index:S.number(),delta:S.string()}),GPe=S.object({type:S.literal("response.output_text.annotation.added"),annotation:S.discriminatedUnion("type",[S.object({type:S.literal("url_citation"),url:S.string(),title:S.string()}),S.object({type:S.literal("file_citation"),file_id:S.string(),filename:S.string().nullish(),index:S.number().nullish(),start_index:S.number().nullish(),end_index:S.number().nullish(),quote:S.string().nullish()})])}),YPe=S.object({type:S.literal("response.reasoning_summary_part.added"),item_id:S.string(),summary_index:S.number()}),XPe=S.object({type:S.literal("response.reasoning_summary_text.delta"),item_id:S.string(),summary_index:S.number(),delta:S.string()}),QPe=S.union([UPe,WPe,HPe,qPe,JPe,KPe,GPe,YPe,XPe,ZPe,S.object({type:S.string()}).loose()]);function eMe(e){return e.type==="response.output_text.delta"}function i7(e){return e.type==="response.output_item.done"}function tMe(e){return i7(e)&&e.item.type==="reasoning"}function nMe(e){return e.type==="response.completed"||e.type==="response.incomplete"}function rMe(e){return e.type==="response.created"}function iMe(e){return e.type==="response.function_call_arguments.delta"}function o7(e){return e.type==="response.output_item.added"}function oMe(e){return o7(e)&&e.item.type==="reasoning"}function sMe(e){return e.type==="response.output_text.annotation.added"}function aMe(e){return e.type==="response.reasoning_summary_part.added"}function lMe(e){return e.type==="response.reasoning_summary_text.delta"}function uMe(e){return e.type==="error"}function cMe(e){const t=e.startsWith("o3")||e.startsWith("o4-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-chat"),n=e.startsWith("gpt-4")||e.startsWith("gpt-5-mini")||e.startsWith("gpt-5")&&!e.startsWith("gpt-5-nano")&&!e.startsWith("gpt-5-chat")||e.startsWith("o3")||e.startsWith("o4-mini"),r={requiredAutoTruncation:!1,systemMessageMode:"system",supportsFlexProcessing:t,supportsPriorityProcessing:n};return e.startsWith("gpt-5-chat")?{...r,isReasoningModel:!1}:e.startsWith("o")||e.startsWith("gpt-5")||e.startsWith("codex-")||e.startsWith("computer-use")?e.startsWith("o1-mini")||e.startsWith("o1-preview")?{...r,isReasoningModel:!0,systemMessageMode:"remove"}:{...r,isReasoningModel:!0,systemMessageMode:"developer"}:{...r,isReasoningModel:!1}}var dMe=S.object({metadata:S.any().nullish(),parallelToolCalls:S.boolean().nullish(),previousResponseId:S.string().nullish(),store:S.boolean().nullish(),user:S.string().nullish(),reasoningEffort:S.string().nullish(),strictJsonSchema:S.boolean().nullish(),instructions:S.string().nullish(),reasoningSummary:S.string().nullish(),serviceTier:S.enum(["auto","flex","priority"]).nullish(),include:S.array(S.enum(["reasoning.encrypted_content","file_search_call.results","message.output_text.logprobs"])).nullish(),textVerbosity:S.enum(["low","medium","high"]).nullish(),promptCacheKey:S.string().nullish(),safetyIdentifier:S.string().nullish(),logprobs:S.union([S.boolean(),S.number().min(1).max(t7)]).optional()}),fMe=S.object({instructions:S.string().nullish(),speed:S.number().min(.25).max(4).default(1).nullish()}),pMe=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs({text:e,voice:t="alloy",outputFormat:n="mp3",speed:r,instructions:i,language:o,providerOptions:s}){const a=[],l=await ld({provider:"openai",providerOptions:s,schema:fMe}),u={model:this.modelId,input:e,voice:t,response_format:"mp3",speed:r,instructions:i};if(n&&(["mp3","opus","aac","flac","wav","pcm"].includes(n)?u.response_format=n:a.push({type:"unsupported-setting",setting:"outputFormat",details:`Unsupported output format: ${n}. Using mp3 instead.`})),l){const d={};for(const f in d){const g=d[f];g!==void 0&&(u[f]=g)}}return o&&a.push({type:"unsupported-setting",setting:"language",details:`OpenAI speech models do not support language selection. Language parameter "${o}" was ignored.`}),{requestBody:u,warnings:a}}async doGenerate(e){var t,n,r;const i=(r=(n=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:n.call(t))!=null?r:new Date,{requestBody:o,warnings:s}=await this.getArgs(e),{value:a,responseHeaders:l,rawValue:u}=await Du({url:this.config.url({path:"/audio/speech",modelId:this.modelId}),headers:Tl(this.config.headers(),e.headers),body:o,failedResponseHandler:Cl,successfulResponseHandler:ePe(),abortSignal:e.abortSignal,fetch:this.config.fetch});return{audio:a,warnings:s,request:{body:JSON.stringify(o)},response:{timestamp:i,modelId:this.modelId,headers:l,body:u}}}},hMe=S.object({include:S.array(S.string()).optional(),language:S.string().optional(),prompt:S.string().optional(),temperature:S.number().min(0).max(1).default(0).optional(),timestampGranularities:S.array(S.enum(["word","segment"])).default(["segment"]).optional()}),IF={afrikaans:"af",arabic:"ar",armenian:"hy",azerbaijani:"az",belarusian:"be",bosnian:"bs",bulgarian:"bg",catalan:"ca",chinese:"zh",croatian:"hr",czech:"cs",danish:"da",dutch:"nl",english:"en",estonian:"et",finnish:"fi",french:"fr",galician:"gl",german:"de",greek:"el",hebrew:"he",hindi:"hi",hungarian:"hu",icelandic:"is",indonesian:"id",italian:"it",japanese:"ja",kannada:"kn",kazakh:"kk",korean:"ko",latvian:"lv",lithuanian:"lt",macedonian:"mk",malay:"ms",marathi:"mr",maori:"mi",nepali:"ne",norwegian:"no",persian:"fa",polish:"pl",portuguese:"pt",romanian:"ro",russian:"ru",serbian:"sr",slovak:"sk",slovenian:"sl",spanish:"es",swahili:"sw",swedish:"sv",tagalog:"tl",tamil:"ta",thai:"th",turkish:"tr",ukrainian:"uk",urdu:"ur",vietnamese:"vi",welsh:"cy"},mMe=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v2"}get provider(){return this.config.provider}async getArgs({audio:e,mediaType:t,providerOptions:n}){const r=[],i=await ld({provider:"openai",providerOptions:n,schema:hMe}),o=new FormData,s=e instanceof Uint8Array?new Blob([e]):new Blob([rPe(e)]);o.append("model",this.modelId);const a=L$e(t);if(o.append("file",new File([s],"audio",{type:t}),`audio.${a}`),i){const l={include:i.include,language:i.language,prompt:i.prompt,response_format:["gpt-4o-transcribe","gpt-4o-mini-transcribe"].includes(this.modelId)?"json":"verbose_json",temperature:i.temperature,timestamp_granularities:i.timestampGranularities};for(const[u,d]of Object.entries(l))if(d!=null)if(Array.isArray(d))for(const f of d)o.append(`${u}[]`,String(f));else o.append(u,String(d))}return{formData:o,warnings:r}}async doGenerate(e){var t,n,r,i,o,s,a,l;const u=(r=(n=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:n.call(t))!=null?r:new Date,{formData:d,warnings:f}=await this.getArgs(e),{value:g,responseHeaders:m,rawValue:b}=await Y$e({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:Tl(this.config.headers(),e.headers),formData:d,failedResponseHandler:Cl,successfulResponseHandler:Ag(gMe),abortSignal:e.abortSignal,fetch:this.config.fetch}),x=g.language!=null&&g.language in IF?IF[g.language]:void 0;return{text:g.text,segments:(a=(s=(i=g.segments)==null?void 0:i.map(k=>({text:k.text,startSecond:k.start,endSecond:k.end})))!=null?s:(o=g.words)==null?void 0:o.map(k=>({text:k.word,startSecond:k.start,endSecond:k.end})))!=null?a:[],language:x,durationInSeconds:(l=g.duration)!=null?l:void 0,warnings:f,response:{timestamp:u,modelId:this.modelId,headers:m,body:b}}}},gMe=S.object({text:S.string(),language:S.string().nullish(),duration:S.number().nullish(),words:S.array(S.object({word:S.string(),start:S.number(),end:S.number()})).nullish(),segments:S.array(S.object({id:S.number(),seek:S.number(),start:S.number(),end:S.number(),text:S.string(),tokens:S.array(S.number()),temperature:S.number(),avg_logprob:S.number(),compression_ratio:S.number(),no_speech_prob:S.number()})).nullish()});function uR(e={}){var t,n;const r=(t=oPe(e.baseURL))!=null?t:"https://api.openai.com/v1",i=(n=e.name)!=null?n:"openai",o=()=>({Authorization:`Bearer ${j$e({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers}),s=x=>new fPe(x,{provider:`${i}.chat`,url:({path:k})=>`${r}${k}`,headers:o,fetch:e.fetch}),a=x=>new xPe(x,{provider:`${i}.completion`,url:({path:k})=>`${r}${k}`,headers:o,fetch:e.fetch}),l=x=>new _Pe(x,{provider:`${i}.embedding`,url:({path:k})=>`${r}${k}`,headers:o,fetch:e.fetch}),u=x=>new IPe(x,{provider:`${i}.image`,url:({path:k})=>`${r}${k}`,headers:o,fetch:e.fetch}),d=x=>new mMe(x,{provider:`${i}.transcription`,url:({path:k})=>`${r}${k}`,headers:o,fetch:e.fetch}),f=x=>new pMe(x,{provider:`${i}.speech`,url:({path:k})=>`${r}${k}`,headers:o,fetch:e.fetch}),g=x=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return m(x)},m=x=>new BPe(x,{provider:`${i}.responses`,url:({path:k})=>`${r}${k}`,headers:o,fetch:e.fetch,fileIdPrefixes:["file-"]}),b=function(x){return g(x)};return b.languageModel=g,b.chat=s,b.completion=a,b.responses=m,b.embedding=l,b.textEmbedding=l,b.textEmbeddingModel=l,b.image=u,b.imageModel=u,b.transcription=d,b.transcriptionModel=d,b.speech=f,b.speechModel=f,b.tools=LPe,b}uR();var s7="vercel.ai.error",yMe=Symbol.for(s7),a7,vMe=class l7 extends Error{constructor({name:t,message:n,cause:r}){super(n),this[a7]=!0,this.name=t,this.cause=r}static isInstance(t){return l7.hasMarker(t,s7)}static hasMarker(t,n){const r=Symbol.for(n);return t!=null&&typeof t=="object"&&r in t&&typeof t[r]=="boolean"&&t[r]===!0}};a7=yMe;var Nr=vMe,u7="AI_APICallError",c7=`vercel.ai.error.${u7}`,bMe=Symbol.for(c7),d7,ku=class extends Nr{constructor({message:e,url:t,requestBodyValues:n,statusCode:r,responseHeaders:i,responseBody:o,cause:s,isRetryable:a=r!=null&&(r===408||r===409||r===429||r>=500),data:l}){super({name:u7,message:e,cause:s}),this[d7]=!0,this.url=t,this.requestBodyValues=n,this.statusCode=r,this.responseHeaders=i,this.responseBody=o,this.isRetryable=a,this.data=l}static isInstance(e){return Nr.hasMarker(e,c7)}};d7=bMe;var f7="AI_EmptyResponseBodyError",p7=`vercel.ai.error.${f7}`,xMe=Symbol.for(p7),h7,wMe=class extends Nr{constructor({message:e="Empty response body"}={}){super({name:f7,message:e}),this[h7]=!0}static isInstance(e){return Nr.hasMarker(e,p7)}};h7=xMe;function m7(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var g7="AI_InvalidArgumentError",y7=`vercel.ai.error.${g7}`,SMe=Symbol.for(y7),v7,b7=class extends Nr{constructor({message:e,cause:t,argument:n}){super({name:g7,message:e,cause:t}),this[v7]=!0,this.argument=n}static isInstance(e){return Nr.hasMarker(e,y7)}};v7=SMe;var x7="AI_InvalidResponseDataError",w7=`vercel.ai.error.${x7}`,kMe=Symbol.for(w7),S7,SE=class extends Nr{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:x7,message:t}),this[S7]=!0,this.data=e}static isInstance(e){return Nr.hasMarker(e,w7)}};S7=kMe;var k7="AI_JSONParseError",_7=`vercel.ai.error.${k7}`,_Me=Symbol.for(_7),T7,p_=class extends Nr{constructor({text:e,cause:t}){super({name:k7,message:`JSON parsing failed: Text: ${e}.
Error message: ${m7(t)}`,cause:t}),this[T7]=!0,this.text=e}static isInstance(e){return Nr.hasMarker(e,_7)}};T7=_Me;var C7="AI_LoadAPIKeyError",E7=`vercel.ai.error.${C7}`,TMe=Symbol.for(E7),I7,sS=class extends Nr{constructor({message:e}){super({name:C7,message:e}),this[I7]=!0}static isInstance(e){return Nr.hasMarker(e,E7)}};I7=TMe;var A7="AI_NoSuchModelError",$7=`vercel.ai.error.${A7}`,CMe=Symbol.for($7),P7,M7=class extends Nr{constructor({errorName:e=A7,modelId:t,modelType:n,message:r=`No such ${n}: ${t}`}){super({name:e,message:r}),this[P7]=!0,this.modelId=t,this.modelType=n}static isInstance(e){return Nr.hasMarker(e,$7)}};P7=CMe;var O7="AI_TooManyEmbeddingValuesForCallError",N7=`vercel.ai.error.${O7}`,EMe=Symbol.for(N7),R7,D7=class extends Nr{constructor(e){super({name:O7,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[R7]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return Nr.hasMarker(e,N7)}};R7=EMe;var j7="AI_TypeValidationError",L7=`vercel.ai.error.${j7}`,IMe=Symbol.for(L7),z7,AMe=class p$ extends Nr{constructor({value:t,cause:n}){super({name:j7,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${m7(n)}`,cause:n}),this[z7]=!0,this.value=t}static isInstance(t){return Nr.hasMarker(t,L7)}static wrap({value:t,cause:n}){return p$.isInstance(n)&&n.value===t?n:new p$({value:t,cause:n})}};z7=IMe;var h_=AMe,F7="AI_UnsupportedFunctionalityError",V7=`vercel.ai.error.${F7}`,$Me=Symbol.for(V7),B7,Ro=class extends Nr{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:F7,message:t}),this[B7]=!0,this.functionality=e}static isInstance(e){return Nr.hasMarker(e,V7)}};B7=$Me;var PMe=(e,t=21)=>(n=t)=>{let r="",i=n|0;for(;i--;)r+=e[Math.random()*e.length|0];return r},cR=o0e(s0e());function El(...e){return e.reduce((t,n)=>({...t,...n??{}}),{})}function MMe(){let e="",t,n=[],r,i;function o(l,u){if(l===""){s(u);return}if(l.startsWith(":"))return;const d=l.indexOf(":");if(d===-1){a(l,"");return}const f=l.slice(0,d),g=d+1,m=g<l.length&&l[g]===" "?l.slice(g+1):l.slice(g);a(f,m)}function s(l){n.length>0&&(l.enqueue({event:t,data:n.join(`
`),id:r,retry:i}),n=[],t=void 0,i=void 0)}function a(l,u){switch(l){case"event":t=u;break;case"data":n.push(u);break;case"id":r=u;break;case"retry":const d=parseInt(u,10);isNaN(d)||(i=d);break}}return new TransformStream({transform(l,u){const{lines:d,incompleteLine:f}=OMe(e,l);e=f;for(let g=0;g<d.length;g++)o(d[g],u)},flush(l){o(e,l),s(l)}})}function OMe(e,t){const n=[];let r=e;for(let i=0;i<t.length;){const o=t[i++];o===`
`?(n.push(r),r=""):o==="\r"?(n.push(r),r="",t[i]===`
`&&i++):r+=o}return{lines:n,incompleteLine:r}}function H1(e){const t={};return e.headers.forEach((n,r)=>{t[r]=n}),t}var NMe=({prefix:e,size:t=16,alphabet:n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:r="-"}={})=>{const i=PMe(n,t);if(e==null)return i;if(n.includes(r))throw new b7({argument:"separator",message:`The separator "${r}" must not be part of the alphabet "${n}".`});return o=>`${e}${r}${i(o)}`},US=NMe();function RMe(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>n!=null))}function kE(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}function q1({apiKey:e,environmentVariableName:t,apiKeyParameterName:n="apiKey",description:r}){if(typeof e=="string")return e;if(e!=null)throw new sS({message:`${r} API key must be a string.`});if(typeof process>"u")throw new sS({message:`${r} API key is missing. Pass it using the '${n}' parameter. Environment variables is not supported in this environment.`});if(e=_1[t],e==null)throw new sS({message:`${r} API key is missing. Pass it using the '${n}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new sS({message:`${r} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var h$=Symbol.for("vercel.ai.validator");function DMe(e){return{[h$]:!0,validate:e}}function jMe(e){return typeof e=="object"&&e!==null&&h$ in e&&e[h$]===!0&&"validate"in e}function LMe(e){return jMe(e)?e:zMe(e)}function zMe(e){return DMe(t=>{const n=e.safeParse(t);return n.success?{success:!0,value:n.data}:{success:!1,error:n.error}})}function FMe({value:e,schema:t}){const n=dR({value:e,schema:t});if(!n.success)throw h_.wrap({value:e,cause:n.error});return n.value}function dR({value:e,schema:t}){const n=LMe(t);try{if(n.validate==null)return{success:!0,value:e};const r=n.validate(e);return r.success?r:{success:!1,error:h_.wrap({value:e,cause:r.error})}}catch(r){return{success:!1,error:h_.wrap({value:e,cause:r})}}}function VMe({text:e,schema:t}){try{const n=cR.default.parse(e);return t==null?n:FMe({value:n,schema:t})}catch(n){throw p_.isInstance(n)||h_.isInstance(n)?n:new p_({text:e,cause:n})}}function U7({text:e,schema:t}){try{const n=cR.default.parse(e);if(t==null)return{success:!0,value:n,rawValue:n};const r=dR({value:n,schema:t});return r.success?{...r,rawValue:n}:r}catch(n){return{success:!1,error:p_.isInstance(n)?n:new p_({text:e,cause:n})}}}function AF(e){try{return cR.default.parse(e),!0}catch{return!1}}function J1({provider:e,providerOptions:t,schema:n}){if(t?.[e]==null)return;const r=dR({value:t[e],schema:n});if(!r.success)throw new b7({argument:"providerOptions",message:`invalid ${e} provider options`,cause:r.error});return r.value}var BMe=()=>globalThis.fetch,Il=async({url:e,headers:t,body:n,failedResponseHandler:r,successfulResponseHandler:i,abortSignal:o,fetch:s})=>Z7({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(n),values:n},failedResponseHandler:r,successfulResponseHandler:i,abortSignal:o,fetch:s}),UMe=async({url:e,headers:t,formData:n,failedResponseHandler:r,successfulResponseHandler:i,abortSignal:o,fetch:s})=>Z7({url:e,headers:t,body:{content:n,values:Object.fromEntries(n.entries())},failedResponseHandler:r,successfulResponseHandler:i,abortSignal:o,fetch:s}),Z7=async({url:e,headers:t={},body:n,successfulResponseHandler:r,failedResponseHandler:i,abortSignal:o,fetch:s=BMe()})=>{try{const a=await s(e,{method:"POST",headers:RMe(t),body:n.content,signal:o}),l=H1(a);if(!a.ok){let u;try{u=await i({response:a,url:e,requestBodyValues:n.values})}catch(d){throw kE(d)||ku.isInstance(d)?d:new ku({message:"Failed to process error response",cause:d,statusCode:a.status,url:e,responseHeaders:l,requestBodyValues:n.values})}throw u.value}try{return await r({response:a,url:e,requestBodyValues:n.values})}catch(u){throw u instanceof Error&&(kE(u)||ku.isInstance(u))?u:new ku({message:"Failed to process successful response",cause:u,statusCode:a.status,url:e,responseHeaders:l,requestBodyValues:n.values})}}catch(a){if(kE(a))throw a;if(a instanceof TypeError&&a.message==="fetch failed"){const l=a.cause;if(l!=null)throw new ku({message:`Cannot connect to API: ${l.message}`,cause:l,url:e,requestBodyValues:n.values,isRetryable:!0})}throw a}};async function m_(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var K1=({errorSchema:e,errorToMessage:t,isRetryable:n})=>async({response:r,url:i,requestBodyValues:o})=>{const s=await r.text(),a=H1(r);if(s.trim()==="")return{responseHeaders:a,value:new ku({message:r.statusText,url:i,requestBodyValues:o,statusCode:r.status,responseHeaders:a,responseBody:s,isRetryable:n?.(r)})};try{const l=VMe({text:s,schema:e});return{responseHeaders:a,value:new ku({message:t(l),url:i,requestBodyValues:o,statusCode:r.status,responseHeaders:a,responseBody:s,data:l,isRetryable:n?.(r,l)})}}catch{return{responseHeaders:a,value:new ku({message:r.statusText,url:i,requestBodyValues:o,statusCode:r.status,responseHeaders:a,responseBody:s,isRetryable:n?.(r)})}}},G1=e=>async({response:t})=>{const n=H1(t);if(t.body==null)throw new wMe({});return{responseHeaders:n,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(MMe()).pipeThrough(new TransformStream({transform({data:r},i){r!=="[DONE]"&&i.enqueue(U7({text:r,schema:e}))}}))}},_p=e=>async({response:t,url:n,requestBodyValues:r})=>{const i=await t.text(),o=U7({text:i,schema:e}),s=H1(t);if(!o.success)throw new ku({message:"Invalid JSON response",cause:o.error,statusCode:t.status,responseHeaders:s,responseBody:i,url:n,requestBodyValues:r});return{responseHeaders:s,value:o.value,rawValue:o.rawValue}},{btoa:ZMe,atob:WMe}=globalThis;function HMe(e){const t=e.replace(/-/g,"+").replace(/_/g,"/"),n=WMe(t);return Uint8Array.from(n,r=>r.codePointAt(0))}function Y1(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCodePoint(e[n]);return ZMe(t)}function X1(e){return e?.replace(/\/$/,"")}var qMe=N.object({type:N.literal("error"),error:N.object({type:N.string(),message:N.string()})}),$F=K1({errorSchema:qMe,errorToMessage:e=>e.error.message});function JMe(e){var t;const n=(t=e.tools)!=null&&t.length?e.tools:void 0,r=[],i=new Set;if(n==null)return{tools:void 0,tool_choice:void 0,toolWarnings:r,betas:i};const o=[];for(const l of n)switch(l.type){case"function":o.push({name:l.name,description:l.description,input_schema:l.parameters});break;case"provider-defined":switch(l.id){case"anthropic.computer_20250124":i.add("computer-use-2025-01-24"),o.push({name:l.name,type:"computer_20250124",display_width_px:l.args.displayWidthPx,display_height_px:l.args.displayHeightPx,display_number:l.args.displayNumber});break;case"anthropic.computer_20241022":i.add("computer-use-2024-10-22"),o.push({name:l.name,type:"computer_20241022",display_width_px:l.args.displayWidthPx,display_height_px:l.args.displayHeightPx,display_number:l.args.displayNumber});break;case"anthropic.text_editor_20250124":i.add("computer-use-2025-01-24"),o.push({name:l.name,type:"text_editor_20250124"});break;case"anthropic.text_editor_20241022":i.add("computer-use-2024-10-22"),o.push({name:l.name,type:"text_editor_20241022"});break;case"anthropic.bash_20250124":i.add("computer-use-2025-01-24"),o.push({name:l.name,type:"bash_20250124"});break;case"anthropic.bash_20241022":i.add("computer-use-2024-10-22"),o.push({name:l.name,type:"bash_20241022"});break;default:r.push({type:"unsupported-tool",tool:l});break}break;default:r.push({type:"unsupported-tool",tool:l});break}const s=e.toolChoice;if(s==null)return{tools:o,tool_choice:void 0,toolWarnings:r,betas:i};const a=s.type;switch(a){case"auto":return{tools:o,tool_choice:{type:"auto"},toolWarnings:r,betas:i};case"required":return{tools:o,tool_choice:{type:"any"},toolWarnings:r,betas:i};case"none":return{tools:void 0,tool_choice:void 0,toolWarnings:r,betas:i};case"tool":return{tools:o,tool_choice:{type:"tool",name:s.toolName},toolWarnings:r,betas:i};default:{const l=a;throw new Ro({functionality:`Unsupported tool choice type: ${l}`})}}}function KMe({prompt:e,sendReasoning:t,warnings:n}){var r,i,o,s;const a=new Set,l=GMe(e);let u;const d=[];function f(g){var m;const b=g?.anthropic;return(m=b?.cacheControl)!=null?m:b?.cache_control}for(let g=0;g<l.length;g++){const m=l[g],b=g===l.length-1,x=m.type;switch(x){case"system":{if(u!=null)throw new Ro({functionality:"Multiple system messages that are separated by user/assistant messages"});u=m.messages.map(({content:k,providerMetadata:T})=>({type:"text",text:k,cache_control:f(T)}));break}case"user":{const k=[];for(const T of m.messages){const{role:E,content:$}=T;switch(E){case"user":{for(let P=0;P<$.length;P++){const M=$[P],R=P===$.length-1,z=(r=f(M.providerMetadata))!=null?r:R?f(T.providerMetadata):void 0;switch(M.type){case"text":{k.push({type:"text",text:M.text,cache_control:z});break}case"image":{k.push({type:"image",source:M.image instanceof URL?{type:"url",url:M.image.toString()}:{type:"base64",media_type:(i=M.mimeType)!=null?i:"image/jpeg",data:Y1(M.image)},cache_control:z});break}case"file":{if(M.mimeType!=="application/pdf")throw new Ro({functionality:"Non-PDF files in user messages"});a.add("pdfs-2024-09-25"),k.push({type:"document",source:M.data instanceof URL?{type:"url",url:M.data.toString()}:{type:"base64",media_type:"application/pdf",data:M.data},cache_control:z});break}}}break}case"tool":{for(let P=0;P<$.length;P++){const M=$[P],R=P===$.length-1,z=(o=f(M.providerMetadata))!=null?o:R?f(T.providerMetadata):void 0,F=M.content!=null?M.content.map(q=>{var Z;switch(q.type){case"text":return{type:"text",text:q.text,cache_control:void 0};case"image":return{type:"image",source:{type:"base64",media_type:(Z=q.mimeType)!=null?Z:"image/jpeg",data:q.data},cache_control:void 0}}}):JSON.stringify(M.result);k.push({type:"tool_result",tool_use_id:M.toolCallId,content:F,is_error:M.isError,cache_control:z})}break}default:{const P=E;throw new Error(`Unsupported role: ${P}`)}}}d.push({role:"user",content:k});break}case"assistant":{const k=[];for(let T=0;T<m.messages.length;T++){const E=m.messages[T],$=T===m.messages.length-1,{content:P}=E;for(let M=0;M<P.length;M++){const R=P[M],z=M===P.length-1,F=(s=f(R.providerMetadata))!=null?s:z?f(E.providerMetadata):void 0;switch(R.type){case"text":{k.push({type:"text",text:b&&$&&z?R.text.trim():R.text,cache_control:F});break}case"reasoning":{t?k.push({type:"thinking",thinking:R.text,signature:R.signature,cache_control:F}):n.push({type:"other",message:"sending reasoning content is disabled for this model"});break}case"redacted-reasoning":{k.push({type:"redacted_thinking",data:R.data,cache_control:F});break}case"tool-call":{k.push({type:"tool_use",id:R.toolCallId,name:R.toolName,input:R.args,cache_control:F});break}}}}d.push({role:"assistant",content:k});break}default:{const k=x;throw new Error(`Unsupported type: ${k}`)}}}return{prompt:{system:u,messages:d},betas:a}}function GMe(e){const t=[];let n;for(const r of e){const{role:i}=r;switch(i){case"system":{n?.type!=="system"&&(n={type:"system",messages:[]},t.push(n)),n.messages.push(r);break}case"assistant":{n?.type!=="assistant"&&(n={type:"assistant",messages:[]},t.push(n)),n.messages.push(r);break}case"user":{n?.type!=="user"&&(n={type:"user",messages:[]},t.push(n)),n.messages.push(r);break}case"tool":{n?.type!=="user"&&(n={type:"user",messages:[]},t.push(n)),n.messages.push(r);break}default:{const o=i;throw new Error(`Unsupported role: ${o}`)}}}return t}function PF(e){switch(e){case"end_turn":case"stop_sequence":return"stop";case"tool_use":return"tool-calls";case"max_tokens":return"length";default:return"unknown"}}var YMe=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode="tool",this.modelId=e,this.settings=t,this.config=n}supportsUrl(e){return e.protocol==="https:"}get provider(){return this.config.provider}get supportsImageUrls(){return this.config.supportsImageUrls}async getArgs({mode:e,prompt:t,maxTokens:n=4096,temperature:r,topP:i,topK:o,frequencyPenalty:s,presencePenalty:a,stopSequences:l,responseFormat:u,seed:d,providerMetadata:f}){var g,m,b;const x=e.type,k=[];s!=null&&k.push({type:"unsupported-setting",setting:"frequencyPenalty"}),a!=null&&k.push({type:"unsupported-setting",setting:"presencePenalty"}),d!=null&&k.push({type:"unsupported-setting",setting:"seed"}),u!=null&&u.type!=="text"&&k.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});const{prompt:T,betas:E}=KMe({prompt:t,sendReasoning:(g=this.settings.sendReasoning)!=null?g:!0,warnings:k}),$=J1({provider:"anthropic",providerOptions:f,schema:eOe}),P=((m=$?.thinking)==null?void 0:m.type)==="enabled",M=(b=$?.thinking)==null?void 0:b.budgetTokens,R={model:this.modelId,max_tokens:n,temperature:r,top_k:o,top_p:i,stop_sequences:l,...P&&{thinking:{type:"enabled",budget_tokens:M}},system:T.system,messages:T.messages};if(P){if(M==null)throw new Ro({functionality:"thinking requires a budget"});R.temperature!=null&&(R.temperature=void 0,k.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported when thinking is enabled"})),o!=null&&(R.top_k=void 0,k.push({type:"unsupported-setting",setting:"topK",details:"topK is not supported when thinking is enabled"})),i!=null&&(R.top_p=void 0,k.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported when thinking is enabled"})),R.max_tokens=n+M}switch(x){case"regular":{const{tools:z,tool_choice:F,toolWarnings:q,betas:Z}=JMe(e);return{args:{...R,tools:z,tool_choice:F},warnings:[...k,...q],betas:new Set([...E,...Z])}}case"object-json":throw new Ro({functionality:"json-mode object generation"});case"object-tool":{const{name:z,description:F,parameters:q}=e.tool;return{args:{...R,tools:[{name:z,description:F,input_schema:q}],tool_choice:{type:"tool",name:z}},warnings:k,betas:E}}default:{const z=x;throw new Error(`Unsupported type: ${z}`)}}}async getHeaders({betas:e,headers:t}){return El(await m_(this.config.headers),e.size>0?{"anthropic-beta":Array.from(e).join(",")}:{},t)}buildRequestUrl(e){var t,n,r;return(r=(n=(t=this.config).buildRequestUrl)==null?void 0:n.call(t,this.config.baseURL,e))!=null?r:`${this.config.baseURL}/messages`}transformRequestBody(e){var t,n,r;return(r=(n=(t=this.config).transformRequestBody)==null?void 0:n.call(t,e))!=null?r:e}async doGenerate(e){var t,n,r,i;const{args:o,warnings:s,betas:a}=await this.getArgs(e),{responseHeaders:l,value:u,rawValue:d}=await Il({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:a,headers:e.headers}),body:this.transformRequestBody(o),failedResponseHandler:$F,successfulResponseHandler:_p(XMe),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:f,...g}=o;let m="";for(const k of u.content)k.type==="text"&&(m+=k.text);let b;if(u.content.some(k=>k.type==="tool_use")){b=[];for(const k of u.content)k.type==="tool_use"&&b.push({toolCallType:"function",toolCallId:k.id,toolName:k.name,args:JSON.stringify(k.input)})}const x=u.content.filter(k=>k.type==="redacted_thinking"||k.type==="thinking").map(k=>k.type==="thinking"?{type:"text",text:k.thinking,signature:k.signature}:{type:"redacted",data:k.data});return{text:m,reasoning:x.length>0?x:void 0,toolCalls:b,finishReason:PF(u.stop_reason),usage:{promptTokens:u.usage.input_tokens,completionTokens:u.usage.output_tokens},rawCall:{rawPrompt:f,rawSettings:g},rawResponse:{headers:l,body:d},response:{id:(t=u.id)!=null?t:void 0,modelId:(n=u.model)!=null?n:void 0},warnings:s,providerMetadata:{anthropic:{cacheCreationInputTokens:(r=u.usage.cache_creation_input_tokens)!=null?r:null,cacheReadInputTokens:(i=u.usage.cache_read_input_tokens)!=null?i:null}},request:{body:JSON.stringify(o)}}}async doStream(e){const{args:t,warnings:n,betas:r}=await this.getArgs(e),i={...t,stream:!0},{responseHeaders:o,value:s}=await Il({url:this.buildRequestUrl(!0),headers:await this.getHeaders({betas:r,headers:e.headers}),body:this.transformRequestBody(i),failedResponseHandler:$F,successfulResponseHandler:G1(QMe),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:a,...l}=t;let u="unknown";const d={promptTokens:Number.NaN,completionTokens:Number.NaN},f={};let g,m;return{stream:s.pipeThrough(new TransformStream({transform(b,x){var k,T,E,$;if(!b.success){x.enqueue({type:"error",error:b.error});return}const P=b.value;switch(P.type){case"ping":return;case"content_block_start":{const M=P.content_block.type;switch(m=M,M){case"text":case"thinking":return;case"redacted_thinking":{x.enqueue({type:"redacted-reasoning",data:P.content_block.data});return}case"tool_use":{f[P.index]={toolCallId:P.content_block.id,toolName:P.content_block.name,jsonText:""};return}default:{const R=M;throw new Error(`Unsupported content block type: ${R}`)}}}case"content_block_stop":{if(f[P.index]!=null){const M=f[P.index];x.enqueue({type:"tool-call",toolCallType:"function",toolCallId:M.toolCallId,toolName:M.toolName,args:M.jsonText}),delete f[P.index]}m=void 0;return}case"content_block_delta":{const M=P.delta.type;switch(M){case"text_delta":{x.enqueue({type:"text-delta",textDelta:P.delta.text});return}case"thinking_delta":{x.enqueue({type:"reasoning",textDelta:P.delta.thinking});return}case"signature_delta":{m==="thinking"&&x.enqueue({type:"reasoning-signature",signature:P.delta.signature});return}case"input_json_delta":{const R=f[P.index];x.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:R.toolCallId,toolName:R.toolName,argsTextDelta:P.delta.partial_json}),R.jsonText+=P.delta.partial_json;return}default:{const R=M;throw new Error(`Unsupported delta type: ${R}`)}}}case"message_start":{d.promptTokens=P.message.usage.input_tokens,d.completionTokens=P.message.usage.output_tokens,g={anthropic:{cacheCreationInputTokens:(k=P.message.usage.cache_creation_input_tokens)!=null?k:null,cacheReadInputTokens:(T=P.message.usage.cache_read_input_tokens)!=null?T:null}},x.enqueue({type:"response-metadata",id:(E=P.message.id)!=null?E:void 0,modelId:($=P.message.model)!=null?$:void 0});return}case"message_delta":{d.completionTokens=P.usage.output_tokens,u=PF(P.delta.stop_reason);return}case"message_stop":{x.enqueue({type:"finish",finishReason:u,usage:d,providerMetadata:g});return}case"error":{x.enqueue({type:"error",error:P.error});return}default:{const M=P;throw new Error(`Unsupported chunk type: ${M}`)}}}})),rawCall:{rawPrompt:a,rawSettings:l},rawResponse:{headers:o},warnings:n,request:{body:JSON.stringify(i)}}}},XMe=N.object({type:N.literal("message"),id:N.string().nullish(),model:N.string().nullish(),content:N.array(N.discriminatedUnion("type",[N.object({type:N.literal("text"),text:N.string()}),N.object({type:N.literal("thinking"),thinking:N.string(),signature:N.string()}),N.object({type:N.literal("redacted_thinking"),data:N.string()}),N.object({type:N.literal("tool_use"),id:N.string(),name:N.string(),input:N.unknown()})])),stop_reason:N.string().nullish(),usage:N.object({input_tokens:N.number(),output_tokens:N.number(),cache_creation_input_tokens:N.number().nullish(),cache_read_input_tokens:N.number().nullish()})}),QMe=N.discriminatedUnion("type",[N.object({type:N.literal("message_start"),message:N.object({id:N.string().nullish(),model:N.string().nullish(),usage:N.object({input_tokens:N.number(),output_tokens:N.number(),cache_creation_input_tokens:N.number().nullish(),cache_read_input_tokens:N.number().nullish()})})}),N.object({type:N.literal("content_block_start"),index:N.number(),content_block:N.discriminatedUnion("type",[N.object({type:N.literal("text"),text:N.string()}),N.object({type:N.literal("thinking"),thinking:N.string()}),N.object({type:N.literal("tool_use"),id:N.string(),name:N.string()}),N.object({type:N.literal("redacted_thinking"),data:N.string()})])}),N.object({type:N.literal("content_block_delta"),index:N.number(),delta:N.discriminatedUnion("type",[N.object({type:N.literal("input_json_delta"),partial_json:N.string()}),N.object({type:N.literal("text_delta"),text:N.string()}),N.object({type:N.literal("thinking_delta"),thinking:N.string()}),N.object({type:N.literal("signature_delta"),signature:N.string()})])}),N.object({type:N.literal("content_block_stop"),index:N.number()}),N.object({type:N.literal("error"),error:N.object({type:N.string(),message:N.string()})}),N.object({type:N.literal("message_delta"),delta:N.object({stop_reason:N.string().nullish()}),usage:N.object({output_tokens:N.number()})}),N.object({type:N.literal("message_stop")}),N.object({type:N.literal("ping")})]),eOe=N.object({thinking:N.object({type:N.union([N.literal("enabled"),N.literal("disabled")]),budgetTokens:N.number().optional()}).optional()}),tOe=N.object({command:N.string(),restart:N.boolean().optional()});function nOe(e={}){return{type:"provider-defined",id:"anthropic.bash_20241022",args:{},parameters:tOe,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var rOe=N.object({command:N.string(),restart:N.boolean().optional()});function iOe(e={}){return{type:"provider-defined",id:"anthropic.bash_20250124",args:{},parameters:rOe,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var oOe=N.object({command:N.enum(["view","create","str_replace","insert","undo_edit"]),path:N.string(),file_text:N.string().optional(),insert_line:N.number().int().optional(),new_str:N.string().optional(),old_str:N.string().optional(),view_range:N.array(N.number().int()).optional()});function sOe(e={}){return{type:"provider-defined",id:"anthropic.text_editor_20241022",args:{},parameters:oOe,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var aOe=N.object({command:N.enum(["view","create","str_replace","insert","undo_edit"]),path:N.string(),file_text:N.string().optional(),insert_line:N.number().int().optional(),new_str:N.string().optional(),old_str:N.string().optional(),view_range:N.array(N.number().int()).optional()});function lOe(e={}){return{type:"provider-defined",id:"anthropic.text_editor_20250124",args:{},parameters:aOe,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var uOe=N.object({action:N.enum(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:N.array(N.number().int()).optional(),text:N.string().optional()});function cOe(e){return{type:"provider-defined",id:"anthropic.computer_20241022",args:{displayWidthPx:e.displayWidthPx,displayHeightPx:e.displayHeightPx,displayNumber:e.displayNumber},parameters:uOe,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var dOe=N.object({action:N.enum(["key","hold_key","type","cursor_position","mouse_move","left_mouse_down","left_mouse_up","left_click","left_click_drag","right_click","middle_click","double_click","triple_click","scroll","wait","screenshot"]),coordinate:N.tuple([N.number().int(),N.number().int()]).optional(),duration:N.number().optional(),scroll_amount:N.number().optional(),scroll_direction:N.enum(["up","down","left","right"]).optional(),start_coordinate:N.tuple([N.number().int(),N.number().int()]).optional(),text:N.string().optional()});function fOe(e){return{type:"provider-defined",id:"anthropic.computer_20250124",args:{displayWidthPx:e.displayWidthPx,displayHeightPx:e.displayHeightPx,displayNumber:e.displayNumber},parameters:dOe,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var pOe={bash_20241022:nOe,bash_20250124:iOe,textEditor_20241022:sOe,textEditor_20250124:lOe,computer_20241022:cOe,computer_20250124:fOe};function W7(e={}){var t;const n=(t=X1(e.baseURL))!=null?t:"https://api.anthropic.com/v1",r=()=>({"anthropic-version":"2023-06-01","x-api-key":q1({apiKey:e.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"}),...e.headers}),i=(s,a={})=>new YMe(s,a,{provider:"anthropic.messages",baseURL:n,headers:r,fetch:e.fetch,supportsImageUrls:!0}),o=function(s,a){if(new.target)throw new Error("The Anthropic model function cannot be called with the new keyword.");return i(s,a)};return o.languageModel=i,o.chat=i,o.messages=i,o.textEmbeddingModel=s=>{throw new M7({modelId:s,modelType:"textEmbeddingModel"})},o.tools=pOe,o}W7();function hOe(e){const t=[];for(let n=0;n<e.length;n++){const{role:r,content:i}=e[n],o=n===e.length-1;switch(r){case"system":{t.push({role:"system",content:i});break}case"user":{t.push({role:"user",content:i.map(s=>{var a;switch(s.type){case"text":return{type:"text",text:s.text};case"image":return{type:"image_url",image_url:s.image instanceof URL?s.image.toString():`data:${(a=s.mimeType)!=null?a:"image/jpeg"};base64,${Y1(s.image)}`};case"file":{if(!(s.data instanceof URL))throw new Ro({functionality:"File content parts in user messages"});switch(s.mimeType){case"application/pdf":return{type:"document_url",document_url:s.data.toString()};default:throw new Ro({functionality:"Only PDF files are supported in user messages"})}}}})});break}case"assistant":{let s="";const a=[];for(const l of i)switch(l.type){case"text":{s+=l.text;break}case"tool-call":{a.push({id:l.toolCallId,type:"function",function:{name:l.toolName,arguments:JSON.stringify(l.args)}});break}}t.push({role:"assistant",content:s,prefix:o?!0:void 0,tool_calls:a.length>0?a:void 0});break}case"tool":{for(const s of i)t.push({role:"tool",name:s.toolName,content:JSON.stringify(s.result),tool_call_id:s.toolCallId});break}default:{const s=r;throw new Error(`Unsupported role: ${s}`)}}}return t}function MF(e){switch(e){case"stop":return"stop";case"length":case"model_length":return"length";case"tool_calls":return"tool-calls";default:return"unknown"}}var mOe=N.object({object:N.literal("error"),message:N.string(),type:N.string(),param:N.string().nullable(),code:N.string().nullable()}),m$=K1({errorSchema:mOe,errorToMessage:e=>e.message});function OF({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n!=null?new Date(n*1e3):void 0}}function gOe(e){var t;const n=(t=e.tools)!=null&&t.length?e.tools:void 0,r=[];if(n==null)return{tools:void 0,tool_choice:void 0,toolWarnings:r};const i=[];for(const a of n)a.type==="provider-defined"?r.push({type:"unsupported-tool",tool:a}):i.push({type:"function",function:{name:a.name,description:a.description,parameters:a.parameters}});const o=e.toolChoice;if(o==null)return{tools:i,tool_choice:void 0,toolWarnings:r};const s=o.type;switch(s){case"auto":case"none":return{tools:i,tool_choice:s,toolWarnings:r};case"required":return{tools:i,tool_choice:"any",toolWarnings:r};case"tool":return{tools:i.filter(a=>a.function.name===o.toolName),tool_choice:"any",toolWarnings:r};default:{const a=s;throw new Ro({functionality:`Unsupported tool choice type: ${a}`})}}}var yOe=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsImageUrls=!1,this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}supportsUrl(e){return e.protocol==="https:"}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:i,topK:o,frequencyPenalty:s,presencePenalty:a,stopSequences:l,responseFormat:u,seed:d,providerMetadata:f}){var g,m;const b=e.type,x=[];o!=null&&x.push({type:"unsupported-setting",setting:"topK"}),s!=null&&x.push({type:"unsupported-setting",setting:"frequencyPenalty"}),a!=null&&x.push({type:"unsupported-setting",setting:"presencePenalty"}),l!=null&&x.push({type:"unsupported-setting",setting:"stopSequences"}),u!=null&&u.type==="json"&&u.schema!=null&&x.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is not supported"});const k={model:this.modelId,safe_prompt:this.settings.safePrompt,max_tokens:n,temperature:r,top_p:i,random_seed:d,response_format:u?.type==="json"?{type:"json_object"}:void 0,document_image_limit:(g=f?.mistral)==null?void 0:g.documentImageLimit,document_page_limit:(m=f?.mistral)==null?void 0:m.documentPageLimit,messages:hOe(t)};switch(b){case"regular":{const{tools:T,tool_choice:E,toolWarnings:$}=gOe(e);return{args:{...k,tools:T,tool_choice:E},warnings:[...x,...$]}}case"object-json":return{args:{...k,response_format:{type:"json_object"}},warnings:x};case"object-tool":return{args:{...k,tool_choice:"any",tools:[{type:"function",function:e.tool}]},warnings:x};default:{const T=b;throw new Error(`Unsupported type: ${T}`)}}}async doGenerate(e){var t;const{args:n,warnings:r}=this.getArgs(e),{responseHeaders:i,value:o,rawValue:s}=await Il({url:`${this.config.baseURL}/chat/completions`,headers:El(this.config.headers(),e.headers),body:n,failedResponseHandler:m$,successfulResponseHandler:_p(vOe),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:a,...l}=n,u=o.choices[0];let d=NF(u.message.content);const f=a[a.length-1];return f.role==="assistant"&&d?.startsWith(f.content)&&(d=d.slice(f.content.length)),{text:d,toolCalls:(t=u.message.tool_calls)==null?void 0:t.map(g=>({toolCallType:"function",toolCallId:g.id,toolName:g.function.name,args:g.function.arguments})),finishReason:MF(u.finish_reason),usage:{promptTokens:o.usage.prompt_tokens,completionTokens:o.usage.completion_tokens},rawCall:{rawPrompt:a,rawSettings:l},rawResponse:{headers:i,body:s},request:{body:JSON.stringify(n)},response:OF(o),warnings:r}}async doStream(e){const{args:t,warnings:n}=this.getArgs(e),r={...t,stream:!0},{responseHeaders:i,value:o}=await Il({url:`${this.config.baseURL}/chat/completions`,headers:El(this.config.headers(),e.headers),body:r,failedResponseHandler:m$,successfulResponseHandler:G1(bOe),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:s,...a}=t;let l="unknown",u={promptTokens:Number.NaN,completionTokens:Number.NaN},d=0,f=!1;return{stream:o.pipeThrough(new TransformStream({transform(g,m){if(!g.success){m.enqueue({type:"error",error:g.error});return}d++;const b=g.value;d===1&&m.enqueue({type:"response-metadata",...OF(b)}),b.usage!=null&&(u={promptTokens:b.usage.prompt_tokens,completionTokens:b.usage.completion_tokens});const x=b.choices[0];if(x?.finish_reason!=null&&(l=MF(x.finish_reason)),x?.delta==null)return;const k=x.delta,T=NF(k.content);if(d<=2){const E=s[s.length-1];if(E.role==="assistant"&&T===E.content.trimEnd()){T.length<E.content.length&&(f=!0);return}}if(T!=null&&(m.enqueue({type:"text-delta",textDelta:f?T.trimStart():T}),f=!1),k.tool_calls!=null)for(const E of k.tool_calls)m.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:E.id,toolName:E.function.name,argsTextDelta:E.function.arguments}),m.enqueue({type:"tool-call",toolCallType:"function",toolCallId:E.id,toolName:E.function.name,args:E.function.arguments})},flush(g){g.enqueue({type:"finish",finishReason:l,usage:u})}})),rawCall:{rawPrompt:s,rawSettings:a},rawResponse:{headers:i},request:{body:JSON.stringify(r)},warnings:n}}};function NF(e){if(typeof e=="string")return e;if(e==null)return;const t=[];for(const n of e){const{type:r}=n;switch(r){case"text":t.push(n.text);break;case"image_url":case"reference":break;default:{const i=r;throw new Error(`Unsupported type: ${i}`)}}}return t.length?t.join(""):void 0}var H7=N.union([N.string(),N.array(N.discriminatedUnion("type",[N.object({type:N.literal("text"),text:N.string()}),N.object({type:N.literal("image_url"),image_url:N.union([N.string(),N.object({url:N.string(),detail:N.string().nullable()})])}),N.object({type:N.literal("reference"),reference_ids:N.array(N.number())})]))]).nullish(),vOe=N.object({id:N.string().nullish(),created:N.number().nullish(),model:N.string().nullish(),choices:N.array(N.object({message:N.object({role:N.literal("assistant"),content:H7,tool_calls:N.array(N.object({id:N.string(),function:N.object({name:N.string(),arguments:N.string()})})).nullish()}),index:N.number(),finish_reason:N.string().nullish()})),object:N.literal("chat.completion"),usage:N.object({prompt_tokens:N.number(),completion_tokens:N.number()})}),bOe=N.object({id:N.string().nullish(),created:N.number().nullish(),model:N.string().nullish(),choices:N.array(N.object({delta:N.object({role:N.enum(["assistant"]).optional(),content:H7,tool_calls:N.array(N.object({id:N.string(),function:N.object({name:N.string(),arguments:N.string()})})).nullish()}),finish_reason:N.string().nullish(),index:N.number()})),usage:N.object({prompt_tokens:N.number(),completion_tokens:N.number()}).nullish()}),xOe=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.settings.maxEmbeddingsPerCall)!=null?e:32}get supportsParallelCalls(){var e;return(e=this.settings.supportsParallelCalls)!=null?e:!1}async doEmbed({values:e,abortSignal:t,headers:n}){if(e.length>this.maxEmbeddingsPerCall)throw new D7({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const{responseHeaders:r,value:i}=await Il({url:`${this.config.baseURL}/embeddings`,headers:El(this.config.headers(),n),body:{model:this.modelId,input:e,encoding_format:"float"},failedResponseHandler:m$,successfulResponseHandler:_p(wOe),abortSignal:t,fetch:this.config.fetch});return{embeddings:i.data.map(o=>o.embedding),usage:i.usage?{tokens:i.usage.prompt_tokens}:void 0,rawResponse:{headers:r}}}},wOe=N.object({data:N.array(N.object({embedding:N.array(N.number())})),usage:N.object({prompt_tokens:N.number()}).nullish()});function q7(e={}){var t;const n=(t=X1(e.baseURL))!=null?t:"https://api.mistral.ai/v1",r=()=>({Authorization:`Bearer ${q1({apiKey:e.apiKey,environmentVariableName:"MISTRAL_API_KEY",description:"Mistral"})}`,...e.headers}),i=(a,l={})=>new yOe(a,l,{provider:"mistral.chat",baseURL:n,headers:r,fetch:e.fetch}),o=(a,l={})=>new xOe(a,l,{provider:"mistral.embedding",baseURL:n,headers:r,fetch:e.fetch}),s=function(a,l){if(new.target)throw new Error("The Mistral model function cannot be called with the new keyword.");return i(a,l)};return s.languageModel=i,s.chat=i,s.embedding=o,s.textEmbedding=o,s.textEmbeddingModel=o,s}q7();function Ls(e){if(SOe(e))return;if(typeof e=="boolean")return{type:"boolean",properties:{}};const{type:t,description:n,required:r,properties:i,items:o,allOf:s,anyOf:a,oneOf:l,format:u,const:d,minLength:f,enum:g}=e,m={};if(n&&(m.description=n),r&&(m.required=r),u&&(m.format=u),d!==void 0&&(m.enum=[d]),t&&(Array.isArray(t)?t.includes("null")?(m.type=t.filter(b=>b!=="null")[0],m.nullable=!0):m.type=t:t==="null"?m.type="null":m.type=t),g!==void 0&&(m.enum=g),i!=null&&(m.properties=Object.entries(i).reduce((b,[x,k])=>(b[x]=Ls(k),b),{})),o&&(m.items=Array.isArray(o)?o.map(Ls):Ls(o)),s&&(m.allOf=s.map(Ls)),a)if(a.some(b=>typeof b=="object"&&b?.type==="null")){const b=a.filter(x=>!(typeof x=="object"&&x?.type==="null"));if(b.length===1){const x=Ls(b[0]);typeof x=="object"&&(m.nullable=!0,Object.assign(m,x))}else m.anyOf=b.map(Ls),m.nullable=!0}else m.anyOf=a.map(Ls);return l&&(m.oneOf=l.map(Ls)),f!==void 0&&(m.minLength=f),m}function SOe(e){return e!=null&&typeof e=="object"&&e.type==="object"&&(e.properties==null||Object.keys(e.properties).length===0)&&!e.additionalProperties}function kOe(e){var t,n;const r=[],i=[];let o=!0;for(const{role:s,content:a}of e)switch(s){case"system":{if(!o)throw new Ro({functionality:"system messages are only supported at the beginning of the conversation"});r.push({text:a});break}case"user":{o=!1;const l=[];for(const u of a)switch(u.type){case"text":{l.push({text:u.text});break}case"image":{l.push(u.image instanceof URL?{fileData:{mimeType:(t=u.mimeType)!=null?t:"image/jpeg",fileUri:u.image.toString()}}:{inlineData:{mimeType:(n=u.mimeType)!=null?n:"image/jpeg",data:Y1(u.image)}});break}case"file":{l.push(u.data instanceof URL?{fileData:{mimeType:u.mimeType,fileUri:u.data.toString()}}:{inlineData:{mimeType:u.mimeType,data:u.data}});break}}i.push({role:"user",parts:l});break}case"assistant":{o=!1,i.push({role:"model",parts:a.map(l=>{switch(l.type){case"text":return l.text.length===0?void 0:{text:l.text};case"file":{if(l.mimeType!=="image/png")throw new Ro({functionality:"Only PNG images are supported in assistant messages"});if(l.data instanceof URL)throw new Ro({functionality:"File data URLs in assistant messages are not supported"});return{inlineData:{mimeType:l.mimeType,data:l.data}}}case"tool-call":return{functionCall:{name:l.toolName,args:l.args}}}}).filter(l=>l!==void 0)});break}case"tool":{o=!1,i.push({role:"user",parts:a.map(l=>({functionResponse:{name:l.toolName,response:{name:l.toolName,content:l.result}}}))});break}}return{systemInstruction:r.length>0?{parts:r}:void 0,contents:i}}function RF(e){return e.includes("/")?e:`models/${e}`}var _Oe=N.object({error:N.object({code:N.number().nullable(),message:N.string(),status:N.string()})}),g$=K1({errorSchema:_Oe,errorToMessage:e=>e.error.message});function TOe(e,t,n,r){var i,o;const s=(i=e.tools)!=null&&i.length?e.tools:void 0,a=[],l=r.includes("gemini-2"),u=r.includes("gemini-1.5-flash")&&!r.includes("-8b");if(t)return{tools:l?{googleSearch:{}}:{googleSearchRetrieval:!u||!n?{}:{dynamicRetrievalConfig:n}},toolConfig:void 0,toolWarnings:a};if(s==null)return{tools:void 0,toolConfig:void 0,toolWarnings:a};const d=[];for(const m of s)m.type==="provider-defined"?a.push({type:"unsupported-tool",tool:m}):d.push({name:m.name,description:(o=m.description)!=null?o:"",parameters:Ls(m.parameters)});const f=e.toolChoice;if(f==null)return{tools:{functionDeclarations:d},toolConfig:void 0,toolWarnings:a};const g=f.type;switch(g){case"auto":return{tools:{functionDeclarations:d},toolConfig:{functionCallingConfig:{mode:"AUTO"}},toolWarnings:a};case"none":return{tools:{functionDeclarations:d},toolConfig:{functionCallingConfig:{mode:"NONE"}},toolWarnings:a};case"required":return{tools:{functionDeclarations:d},toolConfig:{functionCallingConfig:{mode:"ANY"}},toolWarnings:a};case"tool":return{tools:{functionDeclarations:d},toolConfig:{functionCallingConfig:{mode:"ANY",allowedFunctionNames:[f.toolName]}},toolWarnings:a};default:{const m=g;throw new Ro({functionality:`Unsupported tool choice type: ${m}`})}}}function DF({finishReason:e,hasToolCalls:t}){switch(e){case"STOP":return t?"tool-calls":"stop";case"MAX_TOKENS":return"length";case"IMAGE_SAFETY":case"RECITATION":case"SAFETY":case"BLOCKLIST":case"PROHIBITED_CONTENT":case"SPII":return"content-filter";case"FINISH_REASON_UNSPECIFIED":case"OTHER":return"other";case"MALFORMED_FUNCTION_CALL":return"error";default:return"unknown"}}var COe=class{constructor(e,t,n){this.specificationVersion="v1",this.defaultObjectGenerationMode="json",this.supportsImageUrls=!1,this.modelId=e,this.settings=t,this.config=n}get supportsStructuredOutputs(){var e;return(e=this.settings.structuredOutputs)!=null?e:!0}get provider(){return this.config.provider}async getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:i,topK:o,frequencyPenalty:s,presencePenalty:a,stopSequences:l,responseFormat:u,seed:d,providerMetadata:f}){var g,m,b;const x=e.type,k=[],T=J1({provider:"google",providerOptions:f,schema:$Oe});((g=T?.thinkingConfig)==null?void 0:g.includeThoughts)===!0&&!this.config.provider.startsWith("google.vertex.")&&k.push({type:"other",message:`The 'includeThoughts' option is only supported with the Google Vertex provider and might not be supported or could behave unexpectedly with the current Google provider (${this.config.provider}).`});const E={maxOutputTokens:n,temperature:r,topK:o,topP:i,frequencyPenalty:s,presencePenalty:a,stopSequences:l,seed:d,responseMimeType:u?.type==="json"?"application/json":void 0,responseSchema:u?.type==="json"&&u.schema!=null&&this.supportsStructuredOutputs?Ls(u.schema):void 0,...this.settings.audioTimestamp&&{audioTimestamp:this.settings.audioTimestamp},responseModalities:T?.responseModalities,thinkingConfig:T?.thinkingConfig},{contents:$,systemInstruction:P}=kOe(t);switch(x){case"regular":{const{tools:M,toolConfig:R,toolWarnings:z}=TOe(e,(m=this.settings.useSearchGrounding)!=null?m:!1,this.settings.dynamicRetrievalConfig,this.modelId);return{args:{generationConfig:E,contents:$,systemInstruction:P,safetySettings:this.settings.safetySettings,tools:M,toolConfig:R,cachedContent:this.settings.cachedContent},warnings:[...k,...z]}}case"object-json":return{args:{generationConfig:{...E,responseMimeType:"application/json",responseSchema:e.schema!=null&&this.supportsStructuredOutputs?Ls(e.schema):void 0},contents:$,systemInstruction:P,safetySettings:this.settings.safetySettings,cachedContent:this.settings.cachedContent},warnings:k};case"object-tool":return{args:{generationConfig:E,contents:$,systemInstruction:P,tools:{functionDeclarations:[{name:e.tool.name,description:(b=e.tool.description)!=null?b:"",parameters:Ls(e.tool.parameters)}]},toolConfig:{functionCallingConfig:{mode:"ANY"}},safetySettings:this.settings.safetySettings,cachedContent:this.settings.cachedContent},warnings:k};default:{const M=x;throw new Error(`Unsupported type: ${M}`)}}}supportsUrl(e){return this.config.isSupportedUrl(e)}async doGenerate(e){var t,n,r,i,o;const{args:s,warnings:a}=await this.getArgs(e),l=JSON.stringify(s),u=El(await m_(this.config.headers),e.headers),{responseHeaders:d,value:f,rawValue:g}=await Il({url:`${this.config.baseURL}/${RF(this.modelId)}:generateContent`,headers:u,body:s,failedResponseHandler:g$,successfulResponseHandler:_p(IOe),abortSignal:e.abortSignal,fetch:this.config.fetch}),{contents:m,...b}=s,x=f.candidates[0],k=x.content==null||typeof x.content!="object"||!("parts"in x.content)?[]:x.content.parts,T=jF({parts:k,generateId:this.config.generateId}),E=f.usageMetadata;return{text:LF(k),reasoning:zF(k),files:(t=FF(k))==null?void 0:t.map($=>({data:$.inlineData.data,mimeType:$.inlineData.mimeType})),toolCalls:T,finishReason:DF({finishReason:x.finishReason,hasToolCalls:T!=null&&T.length>0}),usage:{promptTokens:(n=E?.promptTokenCount)!=null?n:NaN,completionTokens:(r=E?.candidatesTokenCount)!=null?r:NaN},rawCall:{rawPrompt:m,rawSettings:b},rawResponse:{headers:d,body:g},warnings:a,providerMetadata:{google:{groundingMetadata:(i=x.groundingMetadata)!=null?i:null,safetyRatings:(o=x.safetyRatings)!=null?o:null}},sources:VF({groundingMetadata:x.groundingMetadata,generateId:this.config.generateId}),request:{body:l}}}async doStream(e){const{args:t,warnings:n}=await this.getArgs(e),r=JSON.stringify(t),i=El(await m_(this.config.headers),e.headers),{responseHeaders:o,value:s}=await Il({url:`${this.config.baseURL}/${RF(this.modelId)}:streamGenerateContent?alt=sse`,headers:i,body:t,failedResponseHandler:g$,successfulResponseHandler:G1(AOe),abortSignal:e.abortSignal,fetch:this.config.fetch}),{contents:a,...l}=t;let u="unknown",d={promptTokens:Number.NaN,completionTokens:Number.NaN},f;const g=this.config.generateId;let m=!1;return{stream:s.pipeThrough(new TransformStream({transform(b,x){var k,T,E,$,P,M;if(!b.success){x.enqueue({type:"error",error:b.error});return}const R=b.value,z=R.usageMetadata;z!=null&&(d={promptTokens:(k=z.promptTokenCount)!=null?k:NaN,completionTokens:(T=z.candidatesTokenCount)!=null?T:NaN});const F=(E=R.candidates)==null?void 0:E[0];if(F==null)return;const q=F.content;if(q!=null){const Z=LF(q.parts);Z!=null&&x.enqueue({type:"text-delta",textDelta:Z});const re=zF(q.parts);if(re!=null)for(const se of re)x.enqueue({type:"reasoning",textDelta:se.text});const ee=FF(q.parts);if(ee!=null)for(const se of ee)x.enqueue({type:"file",mimeType:se.inlineData.mimeType,data:se.inlineData.data});const ne=jF({parts:q.parts,generateId:g});if(ne!=null)for(const se of ne)x.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:se.toolCallId,toolName:se.toolName,argsTextDelta:se.args}),x.enqueue({type:"tool-call",toolCallType:"function",toolCallId:se.toolCallId,toolName:se.toolName,args:se.args}),m=!0}if(F.finishReason!=null){u=DF({finishReason:F.finishReason,hasToolCalls:m});const Z=($=VF({groundingMetadata:F.groundingMetadata,generateId:g}))!=null?$:[];for(const re of Z)x.enqueue({type:"source",source:re});f={google:{groundingMetadata:(P=F.groundingMetadata)!=null?P:null,safetyRatings:(M=F.safetyRatings)!=null?M:null}}}},flush(b){b.enqueue({type:"finish",finishReason:u,usage:d,providerMetadata:f})}})),rawCall:{rawPrompt:a,rawSettings:l},rawResponse:{headers:o},warnings:n,request:{body:r}}}};function jF({parts:e,generateId:t}){const n=e?.filter(r=>"functionCall"in r);return n==null||n.length===0?void 0:n.map(r=>({toolCallType:"function",toolCallId:t(),toolName:r.functionCall.name,args:JSON.stringify(r.functionCall.args)}))}function LF(e){const t=e?.filter(n=>"text"in n&&n.thought!==!0);return t==null||t.length===0?void 0:t.map(n=>n.text).join("")}function zF(e){const t=e?.filter(n=>"text"in n&&n.thought===!0&&n.text!=null);return t==null||t.length===0?void 0:t.map(n=>({type:"text",text:n.text}))}function FF(e){return e?.filter(t=>"inlineData"in t)}function VF({groundingMetadata:e,generateId:t}){var n;return(n=e?.groundingChunks)==null?void 0:n.filter(r=>r.web!=null).map(r=>({sourceType:"url",id:t(),url:r.web.uri,title:r.web.title}))}var J7=N.object({parts:N.array(N.union([N.object({functionCall:N.object({name:N.string(),args:N.unknown()})}),N.object({inlineData:N.object({mimeType:N.string(),data:N.string()})}),N.object({text:N.string().nullish(),thought:N.boolean().nullish()})])).nullish()}),EOe=N.object({web:N.object({uri:N.string(),title:N.string()}).nullish(),retrievedContext:N.object({uri:N.string(),title:N.string()}).nullish()}),K7=N.object({webSearchQueries:N.array(N.string()).nullish(),retrievalQueries:N.array(N.string()).nullish(),searchEntryPoint:N.object({renderedContent:N.string()}).nullish(),groundingChunks:N.array(EOe).nullish(),groundingSupports:N.array(N.object({segment:N.object({startIndex:N.number().nullish(),endIndex:N.number().nullish(),text:N.string().nullish()}),segment_text:N.string().nullish(),groundingChunkIndices:N.array(N.number()).nullish(),supportChunkIndices:N.array(N.number()).nullish(),confidenceScores:N.array(N.number()).nullish(),confidenceScore:N.array(N.number()).nullish()})).nullish(),retrievalMetadata:N.union([N.object({webDynamicRetrievalScore:N.number()}),N.object({})]).nullish()}),G7=N.object({category:N.string().nullish(),probability:N.string().nullish(),probabilityScore:N.number().nullish(),severity:N.string().nullish(),severityScore:N.number().nullish(),blocked:N.boolean().nullish()}),IOe=N.object({candidates:N.array(N.object({content:J7.nullish().or(N.object({}).strict()),finishReason:N.string().nullish(),safetyRatings:N.array(G7).nullish(),groundingMetadata:K7.nullish()})),usageMetadata:N.object({promptTokenCount:N.number().nullish(),candidatesTokenCount:N.number().nullish(),totalTokenCount:N.number().nullish()}).nullish()}),AOe=N.object({candidates:N.array(N.object({content:J7.nullish(),finishReason:N.string().nullish(),safetyRatings:N.array(G7).nullish(),groundingMetadata:K7.nullish()})).nullish(),usageMetadata:N.object({promptTokenCount:N.number().nullish(),candidatesTokenCount:N.number().nullish(),totalTokenCount:N.number().nullish()}).nullish()}),$Oe=N.object({responseModalities:N.array(N.enum(["TEXT","IMAGE"])).nullish(),thinkingConfig:N.object({thinkingBudget:N.number().nullish(),includeThoughts:N.boolean().nullish()}).nullish()}),POe=class{constructor(e,t,n){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){return 2048}get supportsParallelCalls(){return!0}async doEmbed({values:e,headers:t,abortSignal:n}){if(e.length>this.maxEmbeddingsPerCall)throw new D7({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});const r=El(await m_(this.config.headers),t),{responseHeaders:i,value:o}=await Il({url:`${this.config.baseURL}/models/${this.modelId}:batchEmbedContents`,headers:r,body:{requests:e.map(s=>({model:`models/${this.modelId}`,content:{role:"user",parts:[{text:s}]},outputDimensionality:this.settings.outputDimensionality,taskType:this.settings.taskType}))},failedResponseHandler:g$,successfulResponseHandler:_p(MOe),abortSignal:n,fetch:this.config.fetch});return{embeddings:o.embeddings.map(s=>s.values),usage:void 0,rawResponse:{headers:i}}}},MOe=N.object({embeddings:N.array(N.object({values:N.array(N.number())}))});function OOe(e){return e.toString().startsWith("https://generativelanguage.googleapis.com/v1beta/files/")}function Y7(e={}){var t;const n=(t=X1(e.baseURL))!=null?t:"https://generativelanguage.googleapis.com/v1beta",r=()=>({"x-goog-api-key":q1({apiKey:e.apiKey,environmentVariableName:"GOOGLE_GENERATIVE_AI_API_KEY",description:"Google Generative AI"}),...e.headers}),i=(a,l={})=>{var u;return new COe(a,l,{provider:"google.generative-ai",baseURL:n,headers:r,generateId:(u=e.generateId)!=null?u:US,isSupportedUrl:OOe,fetch:e.fetch})},o=(a,l={})=>new POe(a,l,{provider:"google.generative-ai",baseURL:n,headers:r,fetch:e.fetch}),s=function(a,l){if(new.target)throw new Error("The Google Generative AI model function cannot be called with the new keyword.");return i(a,l)};return s.languageModel=i,s.chat=i,s.generativeAI=i,s.embedding=o,s.textEmbedding=o,s.textEmbeddingModel=o,s}Y7();function NOe(e){const t=[];for(const{role:n,content:r}of e)switch(n){case"system":{t.push({role:"system",content:r});break}case"user":{if(r.length===1&&r[0].type==="text"){t.push({role:"user",content:r[0].text});break}t.push({role:"user",content:r.map(i=>{var o;switch(i.type){case"text":return{type:"text",text:i.text};case"image":return{type:"image_url",image_url:{url:i.image instanceof URL?i.image.toString():`data:${(o=i.mimeType)!=null?o:"image/jpeg"};base64,${Y1(i.image)}`}};case"file":throw new Ro({functionality:"File content parts in user messages"})}})});break}case"assistant":{let i="";const o=[];for(const s of r)switch(s.type){case"text":{i+=s.text;break}case"tool-call":{o.push({id:s.toolCallId,type:"function",function:{name:s.toolName,arguments:JSON.stringify(s.args)}});break}}t.push({role:"assistant",content:i,tool_calls:o.length>0?o:void 0});break}case"tool":{for(const i of r)t.push({role:"tool",tool_call_id:i.toolCallId,content:JSON.stringify(i.result)});break}default:{const i=n;throw new Error(`Unsupported role: ${i}`)}}return t}function BF({id:e,model:t,created:n}){return{id:e??void 0,modelId:t??void 0,timestamp:n!=null?new Date(n*1e3):void 0}}var X7=N.object({error:N.object({message:N.string(),type:N.string()})}),y$=K1({errorSchema:X7,errorToMessage:e=>e.error.message});function ROe({mode:e}){var t;const n=(t=e.tools)!=null&&t.length?e.tools:void 0,r=[];if(n==null)return{tools:void 0,tool_choice:void 0,toolWarnings:r};const i=e.toolChoice,o=[];for(const a of n)a.type==="provider-defined"?r.push({type:"unsupported-tool",tool:a}):o.push({type:"function",function:{name:a.name,description:a.description,parameters:a.parameters}});if(i==null)return{tools:o,tool_choice:void 0,toolWarnings:r};const s=i.type;switch(s){case"auto":case"none":case"required":return{tools:o,tool_choice:s,toolWarnings:r};case"tool":return{tools:o,tool_choice:{type:"function",function:{name:i.toolName}},toolWarnings:r};default:{const a=s;throw new Ro({functionality:`Unsupported tool choice type: ${a}`})}}}function UF(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var DOe=class{constructor(e,t,n){this.specificationVersion="v1",this.supportsStructuredOutputs=!1,this.defaultObjectGenerationMode="json",this.modelId=e,this.settings=t,this.config=n}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:n,temperature:r,topP:i,topK:o,frequencyPenalty:s,presencePenalty:a,stopSequences:l,responseFormat:u,seed:d,stream:f,providerMetadata:g}){const m=e.type,b=[];o!=null&&b.push({type:"unsupported-setting",setting:"topK"}),u!=null&&u.type==="json"&&u.schema!=null&&b.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is not supported"});const x=J1({provider:"groq",providerOptions:g,schema:N.object({reasoningFormat:N.enum(["parsed","raw","hidden"]).nullish()})}),k={model:this.modelId,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:n,temperature:r,top_p:i,frequency_penalty:s,presence_penalty:a,stop:l,seed:d,response_format:f===!1&&u?.type==="json"?{type:"json_object"}:void 0,reasoning_format:x?.reasoningFormat,messages:NOe(t)};switch(m){case"regular":{const{tools:T,tool_choice:E,toolWarnings:$}=ROe({mode:e});return{args:{...k,tools:T,tool_choice:E},warnings:[...b,...$]}}case"object-json":return{args:{...k,response_format:f===!1?{type:"json_object"}:void 0},warnings:b};case"object-tool":return{args:{...k,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}}]},warnings:b};default:{const T=m;throw new Error(`Unsupported type: ${T}`)}}}async doGenerate(e){var t,n,r,i,o,s,a;const{args:l,warnings:u}=this.getArgs({...e,stream:!1}),d=JSON.stringify(l),{responseHeaders:f,value:g,rawValue:m}=await Il({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:El(this.config.headers(),e.headers),body:l,failedResponseHandler:y$,successfulResponseHandler:_p(jOe),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:b,...x}=l,k=g.choices[0];return{text:(t=k.message.content)!=null?t:void 0,reasoning:(n=k.message.reasoning)!=null?n:void 0,toolCalls:(r=k.message.tool_calls)==null?void 0:r.map(T=>{var E;return{toolCallType:"function",toolCallId:(E=T.id)!=null?E:US(),toolName:T.function.name,args:T.function.arguments}}),finishReason:UF(k.finish_reason),usage:{promptTokens:(o=(i=g.usage)==null?void 0:i.prompt_tokens)!=null?o:NaN,completionTokens:(a=(s=g.usage)==null?void 0:s.completion_tokens)!=null?a:NaN},rawCall:{rawPrompt:b,rawSettings:x},rawResponse:{headers:f,body:m},response:BF(g),warnings:u,request:{body:d}}}async doStream(e){const{args:t,warnings:n}=this.getArgs({...e,stream:!0}),r=JSON.stringify({...t,stream:!0}),{responseHeaders:i,value:o}=await Il({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:El(this.config.headers(),e.headers),body:{...t,stream:!0},failedResponseHandler:y$,successfulResponseHandler:G1(LOe),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:s,...a}=t,l=[];let u="unknown",d={promptTokens:void 0,completionTokens:void 0},f=!0;return{stream:o.pipeThrough(new TransformStream({transform(g,m){var b,x,k,T,E,$,P,M,R,z,F,q,Z,re,ee;if(!g.success){u="error",m.enqueue({type:"error",error:g.error});return}const ne=g.value;if("error"in ne){u="error",m.enqueue({type:"error",error:ne.error});return}f&&(f=!1,m.enqueue({type:"response-metadata",...BF(ne)})),((b=ne.x_groq)==null?void 0:b.usage)!=null&&(d={promptTokens:(x=ne.x_groq.usage.prompt_tokens)!=null?x:void 0,completionTokens:(k=ne.x_groq.usage.completion_tokens)!=null?k:void 0});const se=ne.choices[0];if(se?.finish_reason!=null&&(u=UF(se.finish_reason)),se?.delta==null)return;const ue=se.delta;if(ue.reasoning!=null&&ue.reasoning.length>0&&m.enqueue({type:"reasoning",textDelta:ue.reasoning}),ue.content!=null&&ue.content.length>0&&m.enqueue({type:"text-delta",textDelta:ue.content}),ue.tool_calls!=null)for(const me of ue.tool_calls){const ie=me.index;if(l[ie]==null){if(me.type!=="function")throw new SE({data:me,message:"Expected 'function' type."});if(me.id==null)throw new SE({data:me,message:"Expected 'id' to be a string."});if(((T=me.function)==null?void 0:T.name)==null)throw new SE({data:me,message:"Expected 'function.name' to be a string."});l[ie]={id:me.id,type:"function",function:{name:me.function.name,arguments:(E=me.function.arguments)!=null?E:""},hasFinished:!1};const le=l[ie];(($=le.function)==null?void 0:$.name)!=null&&((P=le.function)==null?void 0:P.arguments)!=null&&(le.function.arguments.length>0&&m.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:le.id,toolName:le.function.name,argsTextDelta:le.function.arguments}),AF(le.function.arguments)&&(m.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(M=le.id)!=null?M:US(),toolName:le.function.name,args:le.function.arguments}),le.hasFinished=!0));continue}const J=l[ie];J.hasFinished||(((R=me.function)==null?void 0:R.arguments)!=null&&(J.function.arguments+=(F=(z=me.function)==null?void 0:z.arguments)!=null?F:""),m.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:J.id,toolName:J.function.name,argsTextDelta:(q=me.function.arguments)!=null?q:""}),((Z=J.function)==null?void 0:Z.name)!=null&&((re=J.function)==null?void 0:re.arguments)!=null&&AF(J.function.arguments)&&(m.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(ee=J.id)!=null?ee:US(),toolName:J.function.name,args:J.function.arguments}),J.hasFinished=!0))}},flush(g){var m,b;g.enqueue({type:"finish",finishReason:u,usage:{promptTokens:(m=d.promptTokens)!=null?m:NaN,completionTokens:(b=d.completionTokens)!=null?b:NaN}})}})),rawCall:{rawPrompt:s,rawSettings:a},rawResponse:{headers:i},warnings:n,request:{body:r}}}},jOe=N.object({id:N.string().nullish(),created:N.number().nullish(),model:N.string().nullish(),choices:N.array(N.object({message:N.object({content:N.string().nullish(),reasoning:N.string().nullish(),tool_calls:N.array(N.object({id:N.string().nullish(),type:N.literal("function"),function:N.object({name:N.string(),arguments:N.string()})})).nullish()}),index:N.number(),finish_reason:N.string().nullish()})),usage:N.object({prompt_tokens:N.number().nullish(),completion_tokens:N.number().nullish()}).nullish()}),LOe=N.union([N.object({id:N.string().nullish(),created:N.number().nullish(),model:N.string().nullish(),choices:N.array(N.object({delta:N.object({content:N.string().nullish(),reasoning:N.string().nullish(),tool_calls:N.array(N.object({index:N.number(),id:N.string().nullish(),type:N.literal("function").optional(),function:N.object({name:N.string().nullish(),arguments:N.string().nullish()})})).nullish()}).nullish(),finish_reason:N.string().nullable().optional(),index:N.number()})),x_groq:N.object({usage:N.object({prompt_tokens:N.number().nullish(),completion_tokens:N.number().nullish()}).nullish()}).nullish()}),X7]),zOe=N.object({language:N.string().nullish(),prompt:N.string().nullish(),responseFormat:N.string().nullish(),temperature:N.number().min(0).max(1).nullish(),timestampGranularities:N.array(N.string()).nullish()}),FOe=class{constructor(e,t){this.modelId=e,this.config=t,this.specificationVersion="v1"}get provider(){return this.config.provider}getArgs({audio:e,mediaType:t,providerOptions:n}){var r,i,o,s,a;const l=[],u=J1({provider:"groq",providerOptions:n,schema:zOe}),d=new FormData,f=e instanceof Uint8Array?new Blob([e]):new Blob([HMe(e)]);if(d.append("model",this.modelId),d.append("file",new File([f],"audio",{type:t})),u){const g={language:(r=u.language)!=null?r:void 0,prompt:(i=u.prompt)!=null?i:void 0,response_format:(o=u.responseFormat)!=null?o:void 0,temperature:(s=u.temperature)!=null?s:void 0,timestamp_granularities:(a=u.timestampGranularities)!=null?a:void 0};for(const m in g){const b=g[m];b!==void 0&&d.append(m,String(b))}}return{formData:d,warnings:l}}async doGenerate(e){var t,n,r,i,o;const s=(r=(n=(t=this.config._internal)==null?void 0:t.currentDate)==null?void 0:n.call(t))!=null?r:new Date,{formData:a,warnings:l}=this.getArgs(e),{value:u,responseHeaders:d,rawValue:f}=await UMe({url:this.config.url({path:"/audio/transcriptions",modelId:this.modelId}),headers:El(this.config.headers(),e.headers),formData:a,failedResponseHandler:y$,successfulResponseHandler:_p(VOe),abortSignal:e.abortSignal,fetch:this.config.fetch});return{text:u.text,segments:(o=(i=u.segments)==null?void 0:i.map(g=>({text:g.text,startSecond:g.start,endSecond:g.end})))!=null?o:[],language:u.language,durationInSeconds:u.duration,warnings:l,response:{timestamp:s,modelId:this.modelId,headers:d,body:f}}}},VOe=N.object({task:N.string(),language:N.string(),duration:N.number(),text:N.string(),segments:N.array(N.object({id:N.number(),seek:N.number(),start:N.number(),end:N.number(),text:N.string(),tokens:N.array(N.number()),temperature:N.number(),avg_logprob:N.number(),compression_ratio:N.number(),no_speech_prob:N.number()})),x_groq:N.object({id:N.string()})});function Q7(e={}){var t;const n=(t=X1(e.baseURL))!=null?t:"https://api.groq.com/openai/v1",r=()=>({Authorization:`Bearer ${q1({apiKey:e.apiKey,environmentVariableName:"GROQ_API_KEY",description:"Groq"})}`,...e.headers}),i=(l,u={})=>new DOe(l,u,{provider:"groq.chat",url:({path:d})=>`${n}${d}`,headers:r,fetch:e.fetch}),o=(l,u)=>{if(new.target)throw new Error("The Groq model function cannot be called with the new keyword.");return i(l,u)},s=l=>new FOe(l,{provider:"groq.transcription",url:({path:u})=>`${n}${u}`,headers:r,fetch:e.fetch}),a=function(l,u){return o(l,u)};return a.languageModel=o,a.chat=i,a.textEmbeddingModel=l=>{throw new M7({modelId:l,modelType:"textEmbeddingModel"})},a.transcription=s,a}Q7();var hf={openai:e=>uR({apiKey:e}),anthropic:e=>W7({apiKey:e}),google:e=>Y7({apiKey:e}),mistral:e=>q7({apiKey:e}),groq:e=>Q7({apiKey:e}),xai:e=>L3({apiKey:e})};function aS(e){const[t,...n]=e.split("/"),r=n.join("/");if(!t||!r)throw new Error(`Invalid model format: ${e}. Expected format: "provider/model" (e.g., "openai/gpt-4o", "anthropic/claude-3-sonnet")`);return{provider:t,model:r}}var BOe={callLLM:async(e,t)=>{const{model:n,prompt:r,systemPrompt:i,temperature:o,...s}=e,{provider:a,model:l}=aS(n),u=t.providers[a];if(!u)throw new Error(`Provider ${a} not configured. Available providers: ${Object.keys(t.providers).join(", ")}`);const d=hf[a];if(!d)throw new Error(`Provider ${a} not supported. Supported providers: ${Object.keys(hf).join(", ")}`);const f=d(u.apiKey),g=a==="google"?l.replace("gemini-",""):l,m=f(g),b=await mF({model:m,messages:[{role:"user",content:r||""}],system:i,temperature:o,maxRetries:3,...s});return{content:b.text,usage:b.usage?{promptTokens:b.usage.promptTokens||0,completionTokens:b.usage.completionTokens||0,totalTokens:b.usage.totalTokens||0}:void 0,metadata:{model:n,finishReason:b.finishReason}}},callLLMStructured:async(e,t)=>{const{model:n,prompt:r,systemPrompt:i,temperature:o,schema:s,schemaName:a,schemaDescription:l,...u}=e,{provider:d,model:f}=aS(n),g=t.providers[d];if(!g)throw new Error(`Provider ${d} not configured. Available providers: ${Object.keys(t.providers).join(", ")}`);const m=hf[d];if(!m)throw new Error(`Provider ${d} not supported. Supported providers: ${Object.keys(hf).join(", ")}`);const b=m(g.apiKey),x=d==="google"?f.replace("gemini-",""):f,k=b(x),T=await OAe({model:k,messages:[{role:"user",content:r||""}],system:i,temperature:o,schema:s,...a?{schemaName:a}:{},...l?{schemaDescription:l}:{},maxRetries:3,...u});return{content:JSON.stringify(T.object),object:T.object,usage:T.usage?{promptTokens:T.usage.promptTokens||0,completionTokens:T.usage.completionTokens||0,totalTokens:T.usage.totalTokens||0}:void 0,metadata:{model:n,finishReason:T.finishReason}}},streamLLM:(e,t,n)=>{const r=new AbortController,i=(async()=>{try{const{model:o,prompt:s,systemPrompt:a,temperature:l,...u}=e,{provider:d,model:f}=aS(o),g=t.providers[d];if(!g)throw new Error(`Provider ${d} not configured. Available providers: ${Object.keys(t.providers).join(", ")}`);const m=hf[d];if(!m)throw new Error(`Provider ${d} not supported. Supported providers: ${Object.keys(hf).join(", ")}`);const b=m(g.apiKey),x=d==="google"?f.replace("gemini-",""):f,k=b(x),T=await wAe({model:k,messages:[{role:"user",content:s||""}],system:a,temperature:l,maxRetries:3,abortSignal:r.signal,...u}),E=[];let $="";for await(const P of T.textStream)$+=P,n({type:"chunk",content:P});$.trim()&&E.push($.trim()),n({type:"done",completedItems:E})}catch(o){o instanceof Error&&o.name!=="AbortError"&&n({type:"error",error:o})}})();return{abort:()=>r.abort(),completion:i}},voiceLLM:async(e,t)=>{const{audioData:n,voiceSettings:r,context:i}=e,o=t.providers.openai;if(!o)throw new Error("OpenAI provider not configured for transcription");const s=uR({apiKey:o.apiKey}),a=s.transcription("whisper-1"),l=await n.arrayBuffer(),u=await r$e({model:a,audio:l}),d="openai/gpt-4o-mini",{provider:f,model:g}=aS(d),m=t.providers[f];if(!m)throw new Error(`Provider ${f} not configured`);const b=hf[f];if(!b)throw new Error(`Provider ${f} not supported`);const k=b(m.apiKey)(g),T=i?`Context: ${JSON.stringify(i)}

Respond naturally to the user's voice input.`:"Respond naturally to the user's voice input.",E=await mF({model:k,messages:[{role:"user",content:u.text}],system:T,temperature:.7,maxRetries:3});let $,P;if(!r.useBrowserTTS)try{const M=s.speech("tts-1"),z=await jAe({model:M,text:E.text,voice:r.voiceId||"alloy"});$=btoa(String.fromCharCode(...z.audioData)),P="audio/mpeg"}catch(M){console.warn("Failed to generate speech, falling back to text response:",M)}return{content:E.text,transcription:u.text,audioData:$,audioFormat:P,usage:E.usage?{promptTokens:E.usage.promptTokens||0,completionTokens:E.usage.completionTokens||0,totalTokens:E.usage.totalTokens||0}:void 0,metadata:{model:d,transcriptionModel:"openai/whisper-1",language:u.language,durationInSeconds:u.durationInSeconds,speechModel:$?"openai/tts-1":void 0}}},handleResponse:async e=>{const t=await e.json();return{content:t.text||"",usage:t.usage,metadata:t.metadata}}},UOe={callLLM:async(e,t)=>{if(t.config.callLLM)return await t.config.callLLM(e,t);throw new Error("Custom provider requires a callLLM function in config")},callLLMStructured:async(e,t)=>{if(t.config.callLLMStructured)return await t.config.callLLMStructured(e,t);if(t.config.callLLM)return await t.config.callLLM(e,t);throw new Error("Custom provider requires a callLLMStructured function or callLLM function in config")},streamLLM:(e,t,n)=>{if(t.config.streamLLM)return t.config.streamLLM(e,t,n);if(t.config.callLLM){const r=new AbortController,i=(async()=>{try{const o=await t.config.callLLM(e,t);n({type:"chunk",content:o.content||""}),n({type:"done",completedItems:[o.content||""]})}catch(o){n({type:"error",error:o})}})();return{abort:()=>r.abort(),completion:i}}throw new Error("Custom provider requires a streamLLM function or callLLM function in config")},voiceLLM:async(e,t)=>t.config.voiceLLM?await t.config.voiceLLM(e,t):{content:""},handleResponse:async e=>{if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const t=await e.json();return{content:t.content||t.message||"",usage:t.usage,metadata:t.metadata||{}}}},ZOe={openai:qk,anthropic:qk,mastra:UA,"ai-sdk":BOe,custom:UOe};function gv(e){return ZOe[e.provider]}var WOe={type:"setState",namespace:"default",execute:async(e,t)=>{const n="args"in e?e.args:void 0;t.executeStateSetter({key:e.stateKey,setterKey:e.setterKey,options:{isDiff:!0},args:n}),t.addMessage(e)},validate:e=>(e.type==="setState"||e.type==="action")&&"stateKey"in e&&"setterKey"in e&&typeof e.stateKey=="string"&&typeof e.setterKey=="string"},HOe={type:"action",namespace:"default",execute:async(e,t)=>{const n="args"in e&&Array.isArray(e.args)?e.args:[];t.executeStateSetter({key:e.stateKey,setterKey:e.setterKey,options:{isDiff:!0},args:n}),t.addMessage(e)},validate:e=>e.type==="action"&&"stateKey"in e&&"setterKey"in e&&typeof e.stateKey=="string"&&typeof e.setterKey=="string"},v$=ln.object({id:ln.string(),source:ln.enum(["mention","subscription","manual","function"]),data:ln.unknown(),metadata:ln.object({label:ln.string().optional(),icon:ln.unknown().optional(),color:ln.string().optional(),showInChat:ln.boolean().optional(),order:ln.number().optional()}).catchall(ln.unknown()).optional()}),eY=ln.record(ln.union([v$,ln.array(v$)])),tY=e=>ln.object({message:ln.string(),systemPrompt:ln.string().optional(),temperature:ln.number().min(0).max(2).optional(),maxTokens:ln.number().positive().optional(),stream:ln.boolean().optional(),additionalContext:eY.optional()});tY();ln.object({content:ln.string(),usage:ln.object({promptTokens:ln.number(),completionTokens:ln.number(),totalTokens:ln.number()}).optional(),metadata:ln.record(ln.unknown()).optional(),object:ln.union([ln.record(ln.unknown()),ln.array(ln.record(ln.unknown()))]).optional()});var Q1=(e,t)=>N.object({prompt:N.string().optional(),systemPrompt:N.string().optional(),temperature:N.number().optional(),maxTokens:N.number().optional(),stream:N.boolean().optional(),additionalContext:N.unknown().optional()}).and(N.object({}));Q1().and(N.object({model:N.string()}));Q1().and(N.object({model:N.string()}));Q1().and(N.object({model:N.string()}));var b$=N.object({type:N.string(),content:N.string().optional()}).passthrough(),$g=e=>N.object({type:N.literal(e),content:N.string().optional()}).passthrough();N.discriminatedUnion("type",[N.object({type:N.literal("chunk"),content:N.string()}),N.object({type:N.literal("object"),object:N.union([b$,N.array(b$)])}),N.object({type:N.literal("done"),completedItems:N.array(N.union([N.string(),N.record(N.unknown())]))}),N.object({type:N.literal("error"),error:N.unknown()})]);var nY={type:"message",namespace:"default",execute:(e,t)=>{const n=e.role||"assistant",r=e.content;t.addMessage({role:n,type:"text",content:r})},validate:e=>e.type==="message"&&typeof e.content=="string"};$g("message").and(N.object({role:N.enum(["user","assistant","bot"]).optional(),content:N.string()}));function qOe(e){return e&&typeof e=="object"&&e.type==="progress_update"&&typeof e.text=="string"&&["in_progress","complete","error"].includes(e.state)}function JOe(e){return!!e&&e.type==="progress_update"}var KOe={type:"progress_update",namespace:"custom",execute:async(e,t)=>{const n=[...t.messages],r=n[n.length-1];if(e.state==="in_progress"){JOe(r)&&r.state==="in_progress"?n[n.length-1]={...r,text:e.text}:n.push({id:`message-${Date.now()}-${Math.random().toString(36).slice(2,9)}`,role:"assistant",type:"progress_update",text:e.text,state:"in_progress"}),t.setMessages(n);return}if(e.state==="complete"||e.state==="error"){const i=e.state,o=n.filter(s=>!(s.type==="progress_update"&&s.state==="in_progress"));o.push({id:`message-${Date.now()}-${Math.random().toString(36).slice(2,9)}`,role:"assistant",type:"progress_update",text:e.text,state:i}),t.setMessages(o)}},validate:qOe};$g("progress_update").and(N.object({state:N.enum(["in_progress","complete","error"]),text:N.string()}));var rY={type:"humanInTheLoop",namespace:"default",execute:async(e,t)=>{const{runId:n,stepPath:r,suspendPayload:i,message:o,timeoutMs:s}=e,a="humanInTheLoop",l=t.getCedarState(a)||{},u={runId:n,stepPath:r,suspendPayload:i,suspendedAt:new Date().toISOString(),state:"suspended",threadId:t.mainThreadId,messageId:""},d={...l,[n]:u};t.getCedarState(a)?t.setCedarState(a,d):t.registerState({key:a,value:d,description:"Human-in-the-loop workflow suspend/resume data",stateSetters:{resume:{name:"resume",description:"Resume a suspended workflow",execute:async(T,...E)=>{const[$,P]=E,M=T[$];if(!M)return T;const R={...T,[$]:{...M,state:"resumed",resumeData:P,resumedAt:new Date().toISOString()}};if(M.messageId){const q=t.getMessageById(M.messageId);if(q){const Z={...q,id:void 0,state:"resumed",resumeData:P,resumedAt:new Date().toISOString(),content:"Successfully resumed workflow."};t.addMessage(Z)}}const z=t.providerConfig,F=z?.provider==="mastra"&&z.resumePath||"/chat/resume";return await t.sendMessage({stream:!0,route:F,runId:$,stepPath:M.stepPath,resumeData:P}),R}},cancel:{name:"cancel",description:"Cancel a suspended workflow",execute:async(T,...E)=>{const[$]=E,P=T[$];if(!P)return T;const M={...T,[$]:{...P,state:"cancelled",cancelledAt:new Date().toISOString()}};if(P.messageId){const R=t.getMessageById(P.messageId);if(R){const z={...R,id:void 0,state:"cancelled",cancelledAt:new Date().toISOString(),content:`Workflow ${$} has been cancelled.`};t.addMessage(z)}}return M}}}});const g=async T=>{await t.executeCustomSetter({key:a,setterKey:"resume",args:[n,T]})},m=async()=>{await t.executeCustomSetter({key:a,setterKey:"cancel",args:[n]})},b={type:"humanInTheLoop",role:"assistant",content:o||`Workflow ${n} is waiting for your input...`,state:"suspended",runId:n,stepPath:r,suspendPayload:i,resumeCallback:g,cancelCallback:m,metadata:e.metadata},x=t.addMessage(b),k={...d,[n]:{...u,messageId:x.id}};t.setCedarState(a,k),s&&s>0&&setTimeout(()=>{if(t.getCedarState(a)?.[n]?.state==="suspended"){const $=t.getMessageById(x.id);if($){const P={...$,id:void 0,state:"timeout",content:"Workflow has timed out and been cancelled."};t.addMessage(P)}m()}},s)},validate:e=>e.type==="humanInTheLoop"&&"runId"in e&&"stepPath"in e&&"status"in e&&e.status==="suspended"},iY=N.object({type:N.literal("frontendTool"),toolName:N.string(),args:N.unknown()}),oY={type:"frontendTool",namespace:"default",execute:async(e,t)=>{const{toolName:n,args:r}=e;try{await t.executeTool(n,r);const i={type:"frontendTool",role:"assistant",content:`Executed tool: ${n}`,toolName:n,args:r,status:"success",timestamp:new Date().toISOString()};t.addMessage(i)}catch(i){console.error(`Error executing frontend tool "${n}":`,i);const o={type:"frontendTool",role:"assistant",content:`Failed to execute tool: ${n}`,toolName:n,args:r,error:i instanceof Error?i.message:String(i),status:"error",timestamp:new Date().toISOString()};t.addMessage(o)}},validate:e=>{try{return iY.parse(e),!0}catch{return!1}}},GOe=[nY,WOe,HOe,KOe,rY,oY],YOe=e=>{const t={};return e.forEach(n=>{t[n.type]||(t[n.type]=n)}),t},sY=(e,t)=>({isConnected:!1,isStreaming:!1,providerConfig:null,currentAbortController:null,notificationInterval:void 0,currentRequestId:null,responseProcessors:YOe(GOe),callLLM:async n=>{const r=t().providerConfig;if(!r)throw new Error("No LLM provider configured");switch(r.provider){case"openai":case"anthropic":if(!("model"in n))throw new Error(`${r.provider} provider requires 'model' parameter`);break;case"mastra":if(!("route"in n))throw new Error("Mastra provider requires 'route' parameter");break;case"ai-sdk":if(!("model"in n))throw new Error("AI SDK provider requires 'model' parameter");break}const i=t().logAgentRequest(n,r.provider);e({currentRequestId:i});try{const s=await gv(r).callLLM(n,r);return t().logAgentResponse(i,s),e({currentRequestId:null}),s}catch(o){throw t().logAgentError(i,o),e({currentRequestId:null}),o}},callLLMStructured:async n=>{const r=t().providerConfig;if(!r)throw new Error("No LLM provider configured");switch(r.provider){case"openai":case"anthropic":if(!("model"in n))throw new Error(`${r.provider} provider requires 'model' parameter`);break;case"mastra":if(!("route"in n))throw new Error("Mastra provider requires 'route' parameter");break;case"ai-sdk":if(!("model"in n))throw new Error("AI SDK provider requires 'model' parameter");if(n.schema&&typeof n.schema=="object"&&!("_def"in n.schema))throw new Error("AI SDK requires a Zod schema for structured output. Please provide a valid Zod schema.");break}const i=t().logAgentRequest(n,r.provider);e({currentRequestId:i});try{const s=await gv(r).callLLMStructured(n,r);return t().logAgentResponse(i,s),e({currentRequestId:null}),s}catch(o){throw t().logAgentError(i,o),e({currentRequestId:null}),o}},streamLLM:(n,r)=>{const i=t().providerConfig;if(!i)throw new Error("No LLM provider configured");switch(i.provider){case"openai":case"anthropic":if(!("model"in n))throw new Error(`${i.provider} provider requires 'model' parameter`);break;case"mastra":if(!("route"in n))throw new Error("Mastra provider requires 'route' parameter");break;case"ai-sdk":if(!("model"in n))throw new Error("AI SDK provider requires 'model' parameter");break}const o=t().logStreamStart(n,i.provider);e({currentRequestId:o});const s=gv(i),a=new AbortController;e({currentAbortController:a,isStreaming:!0});const l=f=>{f.type==="chunk"?t().logStreamChunk(o,f.content):f.type==="done"?(t().logStreamEnd(o,f.completedItems),e({currentRequestId:null})):f.type==="error"?(t().logAgentError(o,f.error),e({currentRequestId:null})):f.type==="object"&&t().logStreamObject(o,f.object),r(f)},u=s.streamLLM(n,i,l),d=u.completion.finally(()=>{e({isStreaming:!1,currentAbortController:null})});return{abort:()=>{u.abort(),a.abort()},completion:d}},voiceLLM:async n=>{const r=t().providerConfig;if(!r)throw new Error("No LLM provider configured");let i=n;if(r.provider==="mastra"){const o=Rm("userId"),s=t().mainThreadId;i={...n,resourceId:o,threadId:s}}try{return await gv(r).voiceLLM(i,r)}catch(o){throw o}},voiceStreamLLM:(n,r)=>{const i=t().providerConfig;if(!i)throw new Error("No LLM provider configured");const o=gv(i);if(!o.voiceStreamLLM)throw new Error(`Provider ${i.provider} does not support voice streaming`);let s=n;if(i.provider==="mastra"){const g=Rm("userId"),m=t().mainThreadId;s={...n,resourceId:g,threadId:m}}const a=t().logStreamStart(s,i.provider);e({currentRequestId:a});const l=new AbortController;e({currentAbortController:l,isStreaming:!0});const u=g=>{g.type==="chunk"?t().logStreamChunk(a,g.content):g.type==="done"?(t().logStreamEnd(a,g.completedItems),e({currentRequestId:null})):g.type==="error"?(t().logAgentError(a,g.error),e({currentRequestId:null})):g.type==="object"?t().logStreamObject(a,g.object):g.type==="transcription"?t().logStreamChunk(a,`[Transcription] ${g.transcription}`):g.type==="audio"&&t().logStreamChunk(a,`[Audio] ${g.audioFormat||"unknown format"}`),r(g)},d=o.voiceStreamLLM(s,i,u),f=d.completion.finally(()=>{e({isStreaming:!1,currentAbortController:null})});return{abort:()=>{d.abort(),l.abort()},completion:f}},handleLLMResponse:async n=>{const r=t(),i=r.currentRequestId;for(const o of n)if(typeof o=="string")r.appendToLatestMessage(o,!r.isStreaming),r.logResponseProcessorExecution({type:"text",content:o},{type:"text",namespace:"builtin",execute:()=>{}},i||void 0);else if(o&&typeof o=="object"){const s=o;await r.processStructuredResponse(s)||(r.addMessage({role:"bot",...s}),r.logResponseProcessorExecution(s,{type:"unhandled",namespace:"fallback",execute:()=>{}},i||void 0))}},registerResponseProcessor:n=>{e(r=>{const i=n.type;return{responseProcessors:{...r.responseProcessors,[i]:n}}})},getResponseProcessors:n=>t().responseProcessors[n],processStructuredResponse:async n=>{const r=t(),i=r.currentRequestId;if(!n.type||typeof n.type!="string")return r.logResponseProcessorExecution(n,{type:"untyped",namespace:"fallback",execute:()=>{}},i||void 0),!1;const o=r.getResponseProcessors(n.type);if(!o)return r.logResponseProcessorExecution(n,{type:n.type,namespace:"unknown",execute:()=>{}},i||void 0),!1;if(o.validate&&!o.validate(n))return r.logResponseProcessorExecution(n,{type:o.type,namespace:"validation-failed",execute:()=>{}},i||void 0),!1;try{return await o.execute(n,r),r.logResponseProcessorExecution(n,o,i||void 0),!0}catch(s){return console.error(`Error executing response processor for type ${n.type}:`,s),r.logResponseProcessorExecution(n,{type:o.type,namespace:"execution-error",execute:()=>{}},i||void 0),!1}},sendMessage:async n=>{const{model:r,systemPrompt:i,temperature:o,maxTokens:s,route:a,stream:l,threadId:u,userId:d,additionalContext:f,...g}=n||{},m=t();m.setIsProcessing(!0);try{const b=m.stringifyEditor(),k=m.stringifyInputContext();b&&m.addMessage({role:"user",type:"text",content:b}),m.clearMentions();const T=m.providerConfig;if(!T)throw new Error("No provider configured");let E={prompt:k,systemPrompt:i,temperature:o,maxTokens:s,...g};const $=u||m.mainThreadId,P=d||Rm("userId");switch(T.provider){case"openai":case"anthropic":const M=m.getThreadMessages($),R=[];i&&R.push({role:"system",content:i}),M.length>1&&M.slice(0,-1).forEach(re=>{re.type==="text"&&re.content&&R.push({role:re.role==="user"?"user":"assistant",content:re.content})}),R.push({role:"user",content:k}),E={...E,model:r||"gpt-4o-mini",messages:R,prompt:k};break;case"mastra":const z=T.chatPath||"/chat";E={...E,prompt:b,additionalContext:f||m.compileAdditionalContext(),route:a||`${z}`,resourceId:P,threadId:$,...g};break;case"ai-sdk":const F=m.getThreadMessages($);let q=k;if(F.length>1){const re=F.slice(0,-1).map(ee=>ee.type==="text"?`${ee.role==="user"?"User":"Assistant"}: ${ee.content}`:null).filter(Boolean).join(`
`);re&&(q=`Previous conversation:
${re}

Current message:
${k}`)}E={...E,prompt:q,model:r||"openai/gpt-4o-mini"};break;case"custom":E={...E,prompt:b,additionalContext:f||m.compileAdditionalContext(),userId:P,threadId:$,...g};break}if(l){const M=t().messages.length;await m.streamLLM(E,async F=>{switch(F.type){case"chunk":await m.handleLLMResponse([F.content]);break;case"object":await m.handleLLMResponse(Array.isArray(F.object)?F.object:[F.object]);break;case"done":break;case"error":console.error("Stream error:",F.error);break}}).completion;const z=t().messages.slice(M);for(const F of z)await m.persistMessageStorageMessage(F)}else{const M=await m.callLLM(E);M.content&&await m.handleLLMResponse([M.content]),M.object&&await m.handleLLMResponse(Array.isArray(M.object)?M.object:[M.object])}m.setChatInputContent({type:"doc",content:[{type:"paragraph",content:[]}]})}catch(b){console.error("Error sending message:",b),m.addMessage({role:"assistant",type:"text",content:"An error occurred while sending your message."})}finally{m.setIsProcessing(!1)}},setProviderConfig:n=>{if(e({providerConfig:n}),n.provider==="mastra"&&n.voiceRoute){const r=`${n.baseURL}${n.voiceRoute}`;t().updateVoiceSettings({endpoint:r})}},connect:async()=>{e({isConnected:!0})},disconnect:()=>{t().cancelStream(),e({isConnected:!1})},cancelStream:()=>{const{currentAbortController:n}=t();n&&n.abort()},subscribeToNotifications:()=>{if(t().notificationInterval!==void 0)return;const n=t().providerConfig;if(!n||n.provider!=="mastra")return;const r=n.baseURL,i=t().mainThreadId;if(!i)return;const o=`${r}/chat/notifications`;t().notificationInterval=window.setInterval(async()=>{try{const s=await fetch(o,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({threadId:i})});if(!s.ok)throw new Error(`HTTP ${s.status}`);const a=await s.json();if(Array.isArray(a?.notifications))for(const l of a.notifications)t().addMessage(l)}catch(s){console.warn("Notification polling error:",s)}},6e4)},unsubscribeFromNotifications:()=>{const n=t().notificationInterval;n!==void 0&&(clearInterval(n),e({notificationInterval:void 0}))}}),ZF={isVoiceEnabled:!1,isListening:!1,isSpeaking:!1,voicePermissionStatus:"prompt",audioStream:null,audioContext:null,mediaRecorder:null,voiceError:null,voiceSettings:{language:"en-US",pitch:1,rate:1,volume:1,useBrowserTTS:!1,autoAddToMessages:!0,stream:!1}},XOe=(e,t)=>({...ZF,checkVoiceSupport:()=>typeof window>"u"?!1:!!(navigator.mediaDevices&&typeof navigator.mediaDevices.getUserMedia=="function"&&window.MediaRecorder&&window.AudioContext),requestVoicePermission:async()=>{try{if(!t().checkVoiceSupport()){e({voicePermissionStatus:"not-supported",voiceError:"Voice features are not supported in this browser"});return}const n=await navigator.mediaDevices.getUserMedia({audio:!0}),r=new AudioContext;e({audioStream:n,audioContext:r,voicePermissionStatus:"granted",voiceError:null})}catch(n){e({voicePermissionStatus:"denied",voiceError:n instanceof Error?n.message:"Failed to get microphone permission"})}},startListening:async()=>{const n=t();if(!(n.voicePermissionStatus!=="granted"&&(await t().requestVoicePermission(),t().voicePermissionStatus!=="granted"))){if(!n.audioStream){e({voiceError:"No audio stream available"});return}try{const r=new MediaRecorder(n.audioStream,{mimeType:"audio/webm;codecs=opus"}),i=[];r.ondataavailable=o=>{o.data.size>0&&i.push(o.data)},r.onstop=async()=>{const o=new Blob(i,{type:"audio/webm"}),{voiceSettings:s}=t();s.stream?await t().streamAudioToEndpointStream(o):await t().streamAudioToEndpoint(o)},r.start(),e({mediaRecorder:r,isListening:!0,voiceError:null})}catch(r){e({voiceError:r instanceof Error?r.message:"Failed to start recording"})}}},stopListening:()=>{const{mediaRecorder:n}=t();n&&n.state!=="inactive"&&n.stop(),e({isListening:!1})},toggleVoice:()=>{const{isListening:n}=t();n?t().stopListening():t().startListening()},streamAudioToEndpoint:async n=>{const{voiceSettings:r}=t();try{e({isSpeaking:!1}),t().setIsProcessing(!0);const i=t().providerConfig;if(!i)throw new Error("No provider configured for voice");if((i.provider==="mastra"||i.provider==="custom")&&!r.endpoint)throw new Error("Voice endpoint not configured");const o=t().compileAdditionalContext(),s=await t().voiceLLM({audioData:n,voiceSettings:r,context:o,prompt:""});await t().handleLLMVoice(s)}catch(i){e({voiceError:i instanceof Error?i.message:"Failed to process voice"}),t().setIsProcessing(!1)}},streamAudioToEndpointStream:async n=>{const{voiceSettings:r}=t();try{e({isSpeaking:!1}),t().setIsProcessing(!0);const i=t().providerConfig;if(!i)throw new Error("No provider configured for voice");if((i.provider==="mastra"||i.provider==="custom")&&!r.endpoint)throw new Error("Voice endpoint not configured");const o=t().compileAdditionalContext();await t().voiceStreamLLM({audioData:n,voiceSettings:r,context:o,prompt:""},async a=>{switch(a.type){case"transcription":if(r.autoAddToMessages&&a.transcription){const{addMessage:l}=t();l({type:"text",role:"user",content:a.transcription,metadata:{source:"voice",timestamp:new Date().toISOString()}})}break;case"audio":if(a.audioData&&a.audioFormat){const l=atob(a.audioData),u=new Uint8Array(l.length);for(let f=0;f<l.length;f++)u[f]=l.charCodeAt(f);const d=u.buffer;await t().playAudioResponse(d)}a.content&&t().addMessage({type:"text",role:"bot",content:a.content,metadata:{source:"voice",timestamp:new Date().toISOString()}});break;case"chunk":await t().handleLLMResponse([a.content]);break;case"object":await t().handleLLMResponse(Array.isArray(a.object)?a.object:[a.object]);break;case"done":t().setIsProcessing(!1);break;case"error":console.error("Voice stream error:",a.error),e({voiceError:a.error instanceof Error?a.error.message:"Voice stream error"}),t().setIsProcessing(!1);break}}).completion}catch(i){e({voiceError:i instanceof Error?i.message:"Failed to process voice stream"}),t().setIsProcessing(!1)}},handleLLMVoice:async n=>{const{voiceSettings:r}=t();try{if(e({isSpeaking:!1}),n.audioData&&n.audioFormat){const o=atob(n.audioData),s=new Uint8Array(o.length);for(let l=0;l<o.length;l++)s[l]=o.charCodeAt(l);const a=s.buffer;await t().playAudioResponse(a)}else if(n.audioUrl)await t().playAudioResponse(n.audioUrl);else if(n.content&&r.useBrowserTTS&&"speechSynthesis"in window){const o=new SpeechSynthesisUtterance(n.content);o.lang=r.language,o.rate=r.rate||1,o.pitch=r.pitch||1,o.volume=r.volume||1,e({isSpeaking:!0}),o.onend=()=>e({isSpeaking:!1}),speechSynthesis.speak(o)}if(r.autoAddToMessages&&n.transcription){const{addMessage:o}=t();o({type:"text",role:"user",content:n.transcription,metadata:{source:"voice",timestamp:new Date().toISOString()}})}const i=[];if(n.content&&i.push(n.content),n.object&&(Array.isArray(n.object)?i.push(...n.object):i.push(n.object)),i.length>0){const{handleLLMResponse:o}=t();await o(i)}t().setIsProcessing(!1)}catch(i){e({voiceError:i instanceof Error?i.message:"Failed to process voice"}),t().setIsProcessing(!1)}},playAudioResponse:async n=>{try{e({isSpeaking:!0});const r=new Audio;if(typeof n=="string")r.src=n;else{const i=new Blob([n],{type:"audio/mpeg"});r.src=URL.createObjectURL(i)}r.onended=()=>{e({isSpeaking:!1}),typeof n!="string"&&URL.revokeObjectURL(r.src)},await r.play()}catch(r){e({isSpeaking:!1,voiceError:r instanceof Error?r.message:"Failed to play audio"})}},setVoiceEndpoint:n=>{e(r=>({voiceSettings:{...r.voiceSettings,endpoint:n}}))},updateVoiceSettings:n=>{e(r=>({voiceSettings:{...r.voiceSettings,...n}}))},setVoiceError:n=>{e({voiceError:n})},resetVoiceState:()=>{const{audioStream:n,audioContext:r,mediaRecorder:i}=t();i&&i.state!=="inactive"&&i.stop(),n&&n.getTracks().forEach(o=>o.stop()),r&&r.state!=="closed"&&r.close(),e(ZF)}}),QOe=(e,t)=>({agentConnectionLogs:[],maxLogs:50,isDebugEnabled:!0,activeStreams:new Map,activeRequests:new Map,collapsedSections:{},logAgentRequest:(n,r)=>{const i=t();if(!i.isDebugEnabled)return"";const o=`req_${Date.now()}_${Math.random().toString(36).slice(2,11)}`;let s;r==="mastra"&&"route"in n&&(s=n.route);const a={requestId:o,startTime:new Date,handlers:[]},l=new Map(i.activeRequests);l.set(o,a);const u={id:o,timestamp:new Date,type:"request",provider:r,apiRoute:s,data:{params:n}};return e(d=>({agentConnectionLogs:[...d.agentConnectionLogs.slice(0,d.maxLogs-1),u],activeRequests:l})),o},logAgentResponse:(n,r)=>{const i=t();if(!i.isDebugEnabled)return;const o=i.agentConnectionLogs.find(d=>d.id===n&&d.type==="request"),a=i.activeRequests.get(n)?.handlers||[],l={id:`res_${n}`,timestamp:new Date,type:"response",provider:o?.provider,apiRoute:o?.apiRoute,data:{response:r,handlers:a.length>0?a:void 0},duration:o?new Date().getTime()-o.timestamp.getTime():void 0},u=new Map(i.activeRequests);u.delete(n),e(d=>({agentConnectionLogs:[...d.agentConnectionLogs.slice(0,d.maxLogs-1),l],activeRequests:u}))},logAgentError:(n,r)=>{const i=t();if(!i.isDebugEnabled)return;if(i.activeStreams.has(n)){const s=i.activeStreams.get(n);let a;s.provider==="mastra"&&s.params&&"route"in s.params&&(a=s.params.route);const l={id:n,timestamp:s.startTime,type:"stream-error",provider:s.provider,apiRoute:a,data:{params:s.params,error:r,streamContent:s.chunks.join(""),streamObjects:s.objects},duration:new Date().getTime()-s.startTime.getTime()},u=new Map(i.activeStreams);u.delete(n),e(d=>({agentConnectionLogs:[...d.agentConnectionLogs.slice(0,d.maxLogs-1),l],activeStreams:u}))}else{const s=i.agentConnectionLogs.find(l=>l.id===n&&l.type==="request"),a={id:`err_${n}`,timestamp:new Date,type:"error",provider:s?.provider,apiRoute:s?.apiRoute,data:{error:r},duration:s?new Date().getTime()-s.timestamp.getTime():void 0};e(l=>({agentConnectionLogs:[...l.agentConnectionLogs.slice(0,l.maxLogs-1),a]}))}},logStreamStart:(n,r)=>{const i=t();if(!i.isDebugEnabled)return"";const o=`stream_${Date.now()}_${Math.random().toString(36).slice(2,11)}`,s={streamId:o,startTime:new Date,provider:r,params:n,chunks:[],objects:[],handlers:[]},a=new Map(i.activeStreams);return a.set(o,s),e({activeStreams:a}),o},logStreamChunk:(n,r)=>{const i=t();if(!i.isDebugEnabled)return;const o=i.activeStreams.get(n);o&&o.chunks.push(r)},logStreamObject:(n,r)=>{const i=t();if(!i.isDebugEnabled)return;const o=i.activeStreams.get(n);o&&o.objects.push(r)},logStreamEnd:(n,r)=>{const i=t();if(!i.isDebugEnabled)return;const o=i.activeStreams.get(n);if(!o)return;let s;o.provider==="mastra"&&o.params&&"route"in o.params&&(s=o.params.route);const a={id:n,timestamp:o.startTime,type:"stream-complete",provider:o.provider,apiRoute:s,data:{params:o.params,streamContent:o.chunks.join(""),streamObjects:o.objects,completedItems:r||[...o.chunks.length>0?[o.chunks.join("")]:[],...o.objects],handlers:o.handlers.length>0?o.handlers:void 0},duration:new Date().getTime()-o.startTime.getTime()},l=new Map(i.activeStreams);l.delete(n),e(u=>({agentConnectionLogs:[...u.agentConnectionLogs.slice(0,u.maxLogs-1),a],activeStreams:l}))},logResponseProcessorExecution:(n,r,i)=>{const o=t();if(!o.isDebugEnabled)return;const s=r.namespace?`${r.namespace}:${r.type}`:r.type,a={processorName:s,handledObject:n},l=i?o.activeStreams.get(i):null;if(l){if(s==="builtin:text"){const d=l.handlers[l.handlers.length-1];if(d&&d.processorName==="builtin:text"){const f="content"in d.handledObject?String(d.handledObject.content):"",g="content"in n?String(n.content):"";d.handledObject={type:"text",content:f+g};return}}l.handlers.push(a);return}const u=i?o.activeRequests.get(i):null;if(u){if(s==="builtin:text"){const d=u.handlers[u.handlers.length-1];if(d&&d.processorName==="builtin:text"){const f="content"in d.handledObject?String(d.handledObject.content):"",g="content"in n?String(n.content):"";d.handledObject={type:"text",content:f+g};return}}u.handlers.push(a);return}if(i){const d={requestId:i,startTime:new Date,handlers:[a]},f=new Map(o.activeRequests);f.set(i,d),e({activeRequests:f})}},clearDebugLogs:()=>e({agentConnectionLogs:[]}),setDebugEnabled:n=>e({isDebugEnabled:n}),setMaxLogs:n=>e({maxLogs:n}),toggleSectionCollapse:(n,r)=>{const o=t().collapsedSections[n]?.[r]||!1;e(s=>({collapsedSections:{...s.collapsedSections,[n]:{...s.collapsedSections[n],[r]:!o}}}))},setSectionCollapse:(n,r,i)=>{e(o=>({collapsedSections:{...o.collapsedSections,[n]:{...o.collapsedSections[n],[r]:i}}}))},initializeSectionCollapse:(n,r)=>{t().collapsedSections[n]||e(o=>({collapsedSections:{...o.collapsedSections,[n]:{registeredState:r,diffState:!1}}}))}}),fR=(e=>(e.A="a",e.B="b",e.C="c",e.D="d",e.E="e",e.F="f",e.G="g",e.H="h",e.I="i",e.J="j",e.K="k",e.L="l",e.M="m",e.N="n",e.O="o",e.P="p",e.Q="q",e.R="r",e.S="s",e.T="t",e.U="u",e.V="v",e.W="w",e.X="x",e.Y="y",e.Z="z",e.F1="f1",e.F2="f2",e.F3="f3",e.F4="f4",e.F5="f5",e.F6="f6",e.F7="f7",e.F8="f8",e.F9="f9",e.F10="f10",e.F11="f11",e.F12="f12",e.ESCAPE="escape",e.ENTER="enter",e.SPACE="space",e.TAB="tab",e.DELETE="delete",e.BACKSPACE="backspace",e.ARROW_UP="arrowup",e.ARROW_DOWN="arrowdown",e.ARROW_LEFT="arrowleft",e.ARROW_RIGHT="arrowright",e.CTRL="ctrl",e.CMD="cmd",e.META="meta",e.ALT="alt",e.SHIFT="shift",e))(fR||{}),pR=(e=>(e.RIGHT_CLICK="right-click",e.DOUBLE_CLICK="double-click",e.MIDDLE_CLICK="middle-click",e.MOUSE_SCROLL="mouse-scroll",e.SHIFT_CLICK="shift+click",e.CTRL_CLICK="ctrl+click",e.CMD_CLICK="cmd+click",e.ALT_CLICK="alt+click",e))(pR||{}),hR=(e=>(e.TEXT_SELECT="text-select",e))(hR||{}),aY=class Oc{constructor(){sm(this,"registrations",new Map),sm(this,"isListening",!1),sm(this,"lastMousePosition",{x:0,y:0}),sm(this,"boundHandlers",{keydown:this.handleKeyDown.bind(this),keyup:this.handleKeyUp.bind(this),mousemove:this.handleMouseMove.bind(this),mouseup:this.handleMouseUp.bind(this),click:this.handleClick.bind(this),contextmenu:this.handleContextMenu.bind(this),dblclick:this.handleDoubleClick.bind(this),auxclick:this.handleAuxClick.bind(this),selectionchange:this.handleSelectionChange.bind(this)}),sm(this,"selectionTimeout",null)}static getInstance(){return Oc.instance||(Oc.instance=new Oc),Oc.instance}static destroyInstance(){Oc.instance&&(Oc.instance.reset(),Oc.instance=null)}register(t,n,r){const i={spellId:t,conditions:n,onActivate:r.onActivate,onDeactivate:r.onDeactivate,preventDefaultEvents:r.preventDefaultEvents??!0,ignoreInputElements:r.ignoreInputElements??!0,isActive:!1,lastTriggerTime:0,isOnCooldown:!1,heldKeys:new Set,activeHoldEvent:null};this.registrations.set(t,i),this.startListening()}reset(){for(const t of this.registrations.values())t.isActive&&this.deactivateSpell(t);this.registrations.clear(),this.stopListening(),this.isListening=!1,this.lastMousePosition={x:0,y:0},this.selectionTimeout&&(clearTimeout(this.selectionTimeout),this.selectionTimeout=null)}getRegistrations(){return this.registrations}unregister(t){const n=this.registrations.get(t);n&&n.isActive&&this.deactivateSpell(n),this.registrations.delete(t),this.registrations.size===0&&this.stopListening()}getActivationState(t){return{isActive:this.registrations.get(t)?.isActive??!1}}startListening(){this.isListening||(this.isListening=!0,window.addEventListener("keydown",this.boundHandlers.keydown),window.addEventListener("keyup",this.boundHandlers.keyup),window.addEventListener("mousemove",this.boundHandlers.mousemove),window.addEventListener("mouseup",this.boundHandlers.mouseup),window.addEventListener("click",this.boundHandlers.click),window.addEventListener("contextmenu",this.boundHandlers.contextmenu),window.addEventListener("dblclick",this.boundHandlers.dblclick),window.addEventListener("auxclick",this.boundHandlers.auxclick),document.addEventListener("selectionchange",this.boundHandlers.selectionchange))}stopListening(){this.isListening&&(this.isListening=!1,window.removeEventListener("keydown",this.boundHandlers.keydown),window.removeEventListener("keyup",this.boundHandlers.keyup),window.removeEventListener("mousemove",this.boundHandlers.mousemove),window.removeEventListener("mouseup",this.boundHandlers.mouseup),window.removeEventListener("click",this.boundHandlers.click),window.removeEventListener("contextmenu",this.boundHandlers.contextmenu),window.removeEventListener("dblclick",this.boundHandlers.dblclick),window.removeEventListener("auxclick",this.boundHandlers.auxclick),document.removeEventListener("selectionchange",this.boundHandlers.selectionchange),this.selectionTimeout&&(clearTimeout(this.selectionTimeout),this.selectionTimeout=null))}isInputElement(t,n){return!n||!t||!(t instanceof HTMLElement)?!1:t.closest('input, textarea, [contenteditable="true"]')!==null}parseHotkeyCombo(t){const n=t.toLowerCase().split("+");return{key:n[n.length-1],modifiers:{ctrl:n.includes("ctrl"),cmd:n.includes("cmd"),meta:n.includes("meta")||n.includes("cmd"),alt:n.includes("alt"),shift:n.includes("shift")}}}matchesHotkey(t,n){if(typeof n=="string"&&n.includes("+")){const r=this.parseHotkeyCombo(n),i=t.key.toLowerCase()===r.key,o=t.ctrlKey===r.modifiers.ctrl&&t.metaKey===r.modifiers.meta&&t.altKey===r.modifiers.alt&&t.shiftKey===r.modifiers.shift;return i&&o}else return t.ctrlKey||t.metaKey||t.altKey?!1:t.key.toLowerCase()===n.toLowerCase()}isKeyboardCombo(t){return t.includes("+")&&!t.includes("click")}extractEventTypes(t){const n=t.filter(o=>Object.values(fR).includes(o)||typeof o=="string"&&this.isKeyboardCombo(o)),r=t.filter(o=>Object.values(pR).includes(o)),i=t.filter(o=>Object.values(hR).includes(o));return{hotkeyEvents:n,mouseEvents:r,selectionEvents:i}}activateSpell(t,n,r){const i=t.conditions.mode||"toggle",o=t.conditions.cooldown||0;if(i==="trigger"){const a=Date.now();if(t.isOnCooldown||a-t.lastTriggerTime<o)return;t.lastTriggerTime=a,o>0&&(t.isOnCooldown=!0,setTimeout(()=>{t.isOnCooldown=!1},o))}i==="hold"&&r&&(t.activeHoldEvent=r),t.isActive=!0;const s={isActive:!0,triggerData:n};t.onActivate?.(s),i==="trigger"&&setTimeout(()=>{this.deactivateSpell(t)},100)}deactivateSpell(t){t.activeHoldEvent=null,t.heldKeys.clear(),t.isActive=!1,t.onDeactivate?.()}handleMouseMove(t){this.lastMousePosition={x:t.clientX,y:t.clientY}}handleKeyDown(t){for(const n of this.registrations.values()){if(this.isInputElement(t.target,n.ignoreInputElements??!0))continue;const{hotkeyEvents:r}=this.extractEventTypes(n.conditions.events),i=n.conditions.mode||"toggle";for(const o of r)if(this.matchesHotkey(t,o)){n.preventDefaultEvents&&(t.preventDefault(),t.stopPropagation());const s=o;i==="toggle"?n.isActive?this.deactivateSpell(n):this.activateSpell(n,{type:"hotkey",event:o,mousePosition:this.lastMousePosition,originalEvent:t},o):i==="hold"?n.heldKeys.has(s)||(n.heldKeys.add(s),n.isActive||this.activateSpell(n,{type:"hotkey",event:o,mousePosition:this.lastMousePosition,originalEvent:t},o)):i==="trigger"&&(n.isActive||this.activateSpell(n,{type:"hotkey",event:o,mousePosition:this.lastMousePosition,originalEvent:t},o));break}}}handleKeyUp(t){for(const n of this.registrations.values()){if((n.conditions.mode||"toggle")!=="hold")continue;const{hotkeyEvents:i}=this.extractEventTypes(n.conditions.events);for(const o of i)if(this.matchesHotkey(t,o)){const s=o;n.heldKeys.delete(s),n.heldKeys.size===0&&n.isActive&&this.deactivateSpell(n);break}}}handleClick(t){for(const n of this.registrations.values()){const{mouseEvents:r}=this.extractEventTypes(n.conditions.events),i=n.conditions.mode||"toggle";let o=null;t.shiftKey&&r.includes("shift+click")?o="shift+click":t.ctrlKey&&r.includes("ctrl+click")?o="ctrl+click":t.metaKey&&r.includes("cmd+click")?o="cmd+click":t.altKey&&r.includes("alt+click")&&(o="alt+click"),o&&(n.preventDefaultEvents&&(t.preventDefault(),t.stopPropagation()),i==="toggle"?n.isActive?this.deactivateSpell(n):this.activateSpell(n,{type:"mouse",event:o,mousePosition:{x:t.clientX,y:t.clientY},originalEvent:t},o):this.activateSpell(n,{type:"mouse",event:o,mousePosition:{x:t.clientX,y:t.clientY},originalEvent:t},o))}}handleContextMenu(t){for(const n of this.registrations.values()){const{mouseEvents:r}=this.extractEventTypes(n.conditions.events),i=n.conditions.mode||"toggle";if(r.includes("right-click"))if(n.preventDefaultEvents&&t.preventDefault(),i==="hold"){this.activateSpell(n,{type:"mouse",event:"right-click",mousePosition:{x:t.clientX,y:t.clientY},originalEvent:t},"right-click");const o=()=>{n.activeHoldEvent==="right-click"&&this.deactivateSpell(n),window.removeEventListener("mouseup",o)};window.addEventListener("mouseup",o)}else i==="toggle"&&n.isActive?this.deactivateSpell(n):this.activateSpell(n,{type:"mouse",event:"right-click",mousePosition:{x:t.clientX,y:t.clientY},originalEvent:t},"right-click")}}handleDoubleClick(t){for(const n of this.registrations.values()){const{mouseEvents:r}=this.extractEventTypes(n.conditions.events),i=n.conditions.mode||"toggle";r.includes("double-click")&&(i==="toggle"&&n.isActive?this.deactivateSpell(n):this.activateSpell(n,{type:"mouse",event:"double-click",mousePosition:{x:t.clientX,y:t.clientY},originalEvent:t},"double-click"))}}handleAuxClick(t){if(t.button===1)for(const n of this.registrations.values()){const{mouseEvents:r}=this.extractEventTypes(n.conditions.events),i=n.conditions.mode||"toggle";r.includes("middle-click")&&(n.preventDefaultEvents&&t.preventDefault(),i==="toggle"&&n.isActive?this.deactivateSpell(n):this.activateSpell(n,{type:"mouse",event:"middle-click",mousePosition:{x:t.clientX,y:t.clientY},originalEvent:t},"middle-click"))}}handleMouseUp(){}handleSelectionChange(){this.selectionTimeout&&clearTimeout(this.selectionTimeout),this.selectionTimeout=setTimeout(()=>{const n=window.getSelection()?.toString().trim();for(const r of this.registrations.values()){const{selectionEvents:i}=this.extractEventTypes(r.conditions.events);i.includes("text-select")&&(n&&n.length>0?this.activateSpell(r,{type:"selection",event:"text-select",selectedText:n},"text-select"):r.isActive&&this.deactivateSpell(r))}},200)}};sm(aY,"instance",null);var eNe=aY,_E=eNe,tNe={},nNe=(e,t)=>({spells:tNe,registerSpell:n=>{const r=_E.getInstance(),{id:i,activationConditions:o,onActivate:s,onDeactivate:a,...l}=n;e(u=>({spells:{...u.spells,[i]:{isActive:!1,registration:n}}})),r.register(i,o,{onActivate:u=>{e(d=>({spells:{...d.spells,[i]:{...d.spells[i],isActive:!0}}})),s?.(u)},onDeactivate:()=>{e(u=>({spells:{...u.spells,[i]:{...u.spells[i],isActive:!1}}})),a?.()},preventDefaultEvents:l.preventDefaultEvents,ignoreInputElements:l.ignoreInputElements})},unregisterSpell:n=>{_E.getInstance().unregister(n),e(i=>{const o={...i.spells};return delete o[n],{spells:o}})},activateSpell:(n,r)=>{const i=t().spells[n];i&&(e(o=>({spells:{...o.spells,[n]:{...i,isActive:!0}}})),i.registration.onActivate?.({isActive:!0,triggerData:r}))},deactivateSpell:n=>{const r=t().spells[n];r&&(e(i=>({spells:{...i.spells,[n]:{...r,isActive:!1}}})),r.registration.onDeactivate?.())},toggleSpell:n=>{const r=t(),i=r.spells[n];i&&(i.isActive?r.deactivateSpell(n):r.activateSpell(n))},clearSpells:()=>{_E.getInstance().reset(),e({spells:{}})}});function Kc(e,t){if(!t||t===""||t==="/")return e;const n=t.startsWith("/")?t.slice(1).split("/"):t.split("/");let r=e;for(const i of n){if(r==null||typeof r!="object")return;r=r[i]}return r}function Gc(e,t,n){if(!t||t===""||t==="/")return n;const r=t.startsWith("/")?t.slice(1).split("/"):t.split("/"),i=jc.cloneDeep(e);let o=i;for(let a=0;a<r.length-1;a++){const l=r[a];l in o||(o[l]={}),o=o[l]}const s=r[r.length-1];return o[s]=n,i}function hl(e,t){return typeof t=="function"?t(e):e[t]}function rNe(e){const{get:t,key:n,jsonPath:r,oldArray:i,newArray:o,action:s,currentDiffHistoryState:a,targetId:l,diffMode:u,computeState:d}=e,{diffState:f,history:g}=a;let m,b;if(s==="accept")m=[...o],i.includes(l)?b=[...i]:b=[...i,l];else if(s==="reject"){const z=i.filter(q=>q===l).length;if(o.filter(q=>q===l).length<=z)m=[...o];else{const q=z;let Z=0;m=o.filter(re=>re===l?Z<q?(Z++,!0):!1:!0)}b=[...i]}else return!1;const x=Gc(f.newState,r,m),k=Gc(f.oldState,r,b),T=x;let E,$=!1;d?(E=d(k,T,[]),$=!Yf(k,T)):(E=T,$=!Yf(k,T));const P={oldState:k,newState:T,computedState:E,isDiffMode:$,patches:[]},M=[...g,f],R={diffState:P,history:M,redoStack:[],diffMode:u,computeState:d};return t().setDiffState(n,R),!0}function Yf(e,t){return jc.isEqual(e,t)}function lY(e,t){let n={...e};const r=t||["/data/diff","/diff","/meta/diff"];for(const i of r)if(Kc(n,i)){const s=i.split("/").filter(a=>a);if(s.length===1){const a=n,{[s[0]]:l,...u}=a;n=u}else{const a="/"+s.slice(0,-1).join("/"),l=Kc(n,a);if(l&&typeof l=="object"){const u=l,d=s[s.length-1],{[d]:f,...g}=u;n=Gc(n,a,g)}}}return n}function WF(e,t,n,r,i,o,s){const a=e().getDiffHistoryState(t);if(!a||!a.diffState.isDiffMode)return!1;const{diffState:l}=a,u=Kc(l.oldState,n),d=Kc(l.newState,n);if(Array.isArray(u)||Array.isArray(d)){const g=u,m=d;return!Array.isArray(g)||!Array.isArray(m)?(console.warn(`Value at path "${n}" is not consistently an array`),!1):oNe({get:e,key:t,jsonPath:n,oldArray:g,newArray:m,identificationField:r,action:i,currentDiffHistoryState:a,targetId:o,diffMarkerPaths:s})}else return iNe({get:e,key:t,jsonPath:n,oldValue:u,newValue:d,action:i,currentDiffHistoryState:a,diffMarkerPaths:s})}function iNe(e){const{get:t,key:n,jsonPath:r,oldValue:i,newValue:o,action:s,currentDiffHistoryState:a,diffMarkerPaths:l}=e,{diffState:u,history:d,diffMode:f,computeState:g}=a;let m;s==="accept"?m=typeof o=="object"&&o!==null?lY(o,l):o:m=i;const b=Gc(u.newState,r,m),x=s==="accept"?Gc(u.oldState,r,m):u.oldState;let k,T=!1;if(g){k=g(x,b,[]);const z=F=>{if(!F||typeof F!="object")return!1;const q=l||["/data/diff","/diff","/meta/diff"];for(const Z of q)if(Kc(F,Z))return!0;for(const Z of Object.values(F))if(z(Z))return!0;return!1};T=z(k)}else k=b;const $=Yf(x,b)?!1:T,P={oldState:x,newState:b,computedState:k,isDiffMode:$,patches:[]},M=[...d,u],R={diffState:P,history:M,redoStack:[],diffMode:f,computeState:g};return t().setDiffState(n,R),!0}function oNe(e){const{get:t,key:n,jsonPath:r,oldArray:i,newArray:o,identificationField:s,action:a,currentDiffHistoryState:l,targetId:u,diffMarkerPaths:d}=e,{diffState:f,history:g,diffMode:m,computeState:b}=l;if((i.length>0&&(typeof i[0]=="string"||typeof i[0]=="number"||typeof i[0]=="boolean")||o.length>0&&(typeof o[0]=="string"||typeof o[0]=="number"||typeof o[0]=="boolean"))&&u!==void 0)return rNe({get:t,key:n,jsonPath:r,oldArray:i,newArray:o,action:a,currentDiffHistoryState:l,targetId:u,diffMode:m,computeState:b});const k=new Map(i.map(ue=>[hl(ue,s),ue])),T=new Map(o.map(ue=>[hl(ue,s),ue])),E=new Set([...k.keys(),...T.keys()]),$=new Set;for(const ue of E){if(u!==void 0&&ue!==u)continue;const me=k.get(ue),ie=T.get(ue);(!me&&ie||me&&!ie||me&&ie&&JSON.stringify(me)!==JSON.stringify(ie))&&$.add(ue)}if($.size===0)return!1;let P=[];if(a==="accept")P=o.map(ue=>{const me=hl(ue,s);return u!==void 0&&me!==u||!(u===void 0||me===u)||!$.has(me)?ue:lY(ue,d)});else if(a==="reject")if(u!==void 0)for(const ue of o){const me=hl(ue,s);if(me===u&&$.has(me)){const ie=k.get(me);ie&&P.push(ie)}else P.push(ue)}else for(const ue of i){const me=hl(ue,s);if($.has(me))P.push(ue);else{const ie=T.get(me);ie&&P.push(ie)}}const M=Gc(f.newState,r,P);let R=f.oldState;const z=M;let F;if(u!==void 0){const me=Kc(f.computedState,r).map(ie=>hl(ie,s)===u&&P.find(B=>hl(B,s)===u)||ie).filter(ie=>{if(a==="reject"){const J=hl(ie,s);if(J===u&&!k.get(J))return!1}return!0});if(F=Gc(f.computedState,r,me),a==="accept"){const ie=[...i],J=ie.findIndex(B=>hl(B,s)===u),le=P.find(B=>hl(B,s)===u);le&&(J>=0?ie[J]=le:ie.push(le),R=Gc(f.oldState,r,ie))}}else F=M,a==="accept"&&(R=M);const q=u!==void 0?(()=>{const ue=Kc(F,r),me=d||["/data/diff","/diff","/meta/diff"];return ue?.some(ie=>{for(const J of me){const le=Kc(ie,J);if(le==="added"||le==="changed"||le==="removed")return!0}return!1})||!1})():!1,re=Yf(R,z)?!1:q,ee={oldState:R,newState:z,computedState:F,isDiffMode:re,patches:[]},ne=[...g,f],se={diffState:ee,history:ne,redoStack:[],diffMode:m,computeState:b};return t().setDiffState(n,se),!0}var sNe=(e,t)=>({diffHistoryStates:{},getDiffHistoryState:n=>t().diffHistoryStates[n],getDiffState:n=>t().diffHistoryStates[n]?.diffState,registerDiffState:n=>{const{key:r,value:i,setValue:o,description:s,schema:a,stateSetters:l,diffMode:u="defaultAccept",computeState:d}=n,f=t().getDiffHistoryState(r);if(f){const g=f.diffState.newState,m=f.diffState.computedState;!jc.isEqual(g,i)&&!jc.isEqual(m,i)&&t().newDiffState(r,i)}else{t().registerState({key:r,value:i,setValue:o,description:s,schema:a,stateSetters:l});const g={diffState:{oldState:i,newState:i,computedState:i,isDiffMode:!1,patches:[]},history:[],redoStack:[],diffMode:u,computeState:d};t().setDiffState(r,g)}},setDiffState:(n,r)=>{const i=r.diffState?.oldState,o=r.diffState?.newState,a=(i&&o?Yf(i,o):!1)&&r.diffState?.isDiffMode?{...r,diffState:{...r.diffState,isDiffMode:!1}}:r;e(u=>({diffHistoryStates:{...u.diffHistoryStates,[n]:a}}));const l=a.diffState?.computedState?a.diffState?.computedState:a.computeState?a.computeState(a.diffState?.oldState,a.diffState?.newState,a.diffState?.patches||[]):a.diffState?.newState;if(l!==void 0){const u=t().registeredStates?.[n];if(!u)t().registerState({key:n,value:l,description:`Diff-tracked state: ${n}`});else{const d=u.value;jc.isEqual(d,l)||(e(f=>({registeredStates:{...f.registeredStates,[n]:{...f.registeredStates[n],value:l}}})),u.setValue?.(l))}}},newDiffState:(n,r,i)=>{const o=t().getDiffHistoryState(n);if(!o){console.warn(`No diff history state found for key: ${n}`);return}const{diffState:s,history:a,diffMode:l,computeState:u}=o,d=i??s.isDiffMode,f=[...a,s];let g;d?g=s.isDiffMode?s.oldState:s.newState:g=r;const m=rA(g,r),b=u?u(g,r,m):l==="defaultAccept"?r:g,k=Yf(g,r)?!1:d,E={diffState:{oldState:g,newState:r,computedState:b,isDiffMode:k,patches:m},history:f,redoStack:[],diffMode:l,computeState:u};e(P=>({diffHistoryStates:{...P.diffHistoryStates,[n]:E}}));const $=t().registeredStates?.[n];if($){const P=$.value;jc.isEqual(P,b)||(e(M=>({registeredStates:{...M.registeredStates,[n]:{...M.registeredStates[n],value:b}}})),$.setValue?.(r))}},getCleanState:n=>{const r=t().getDiffHistoryState(n);if(!r||!r.diffState)return;const{diffState:i,diffMode:o}=r;return o==="defaultAccept"?i.newState:i.oldState},getComputedState:n=>{const r=t().getDiffHistoryState(n);if(r)return r.diffState.computedState},setComputeStateFunction:(n,r)=>{const i=t().getDiffHistoryState(n);if(!i){console.warn(`No diff history state found for key: ${n}`);return}const o={...i,computeState:r};t().setDiffState(n,o)},executeDiffSetter:(n,r,i={},o)=>{const s=i.isDiff??!1,a=t().getDiffHistoryState(n);if(!a){console.warn(`No diff history state found for key: ${n}`);return}const l=a.diffState.newState,u=t().registeredStates?.[n];if(!u){console.warn(`No registered state found for key: ${n}`);return}const d=u.stateSetters||u.customSetters;if(!d||!d[r]){console.warn(`State setter "${r}" not found for state "${n}"`);return}let f=l;const g=m=>{f=m};try{d[r].execute(l,g,o),t().newDiffState(n,f,s)}catch(m){console.error(`Error executing diff setter for "${n}":`,m)}},applyPatchesToDiffState:(n,r,i)=>{const o=t().getDiffHistoryState(n);if(!o){console.warn(`No diff history state found for key: ${n}`);return}const{diffState:s,history:a,diffMode:l,computeState:u}=o,d=[...a,s],f=jc.cloneDeep(s.newState),g=n1(f,r,!1,!1).newDocument;let m;i?m=s.isDiffMode?s.oldState:s.newState:m=f;const b=rA(m,g),x=u?u(m,g,b):l==="defaultAccept"?g:m,T=Yf(m,g)?!1:i,$={diffState:{oldState:m,newState:g,computedState:x,isDiffMode:T,patches:b},history:d,redoStack:[],diffMode:l,computeState:u};t().setDiffState(n,$)},acceptAllDiffs:n=>{const r=t().getDiffHistoryState(n);if(!r||!r.diffState.isDiffMode)return!1;const{diffState:i,history:o,diffMode:s,computeState:a}=r,l=a?a(i.newState,i.newState,[]):i.newState,u={oldState:i.newState,newState:i.newState,computedState:l,isDiffMode:!1,patches:[]},d=[...o,i],f={diffState:u,history:d,redoStack:r.redoStack||[],diffMode:s,computeState:a};return t().setDiffState(n,f),!0},rejectAllDiffs:n=>{const r=t().getDiffHistoryState(n);if(!r||!r.diffState.isDiffMode)return!1;const{diffState:i,history:o,diffMode:s,computeState:a}=r,l=a?a(i.oldState,i.oldState,[]):i.oldState,u={oldState:i.oldState,newState:i.oldState,computedState:l,isDiffMode:!1,patches:[]},d=[...o,i],f={diffState:u,history:d,redoStack:r.redoStack||[],diffMode:s,computeState:a};return t().setDiffState(n,f),!0},undo:n=>{const r=t().getDiffHistoryState(n);if(!r||r.history.length===0)return!1;const{diffState:i,history:o,redoStack:s=[],diffMode:a,computeState:l}=r,u=[...o],d=u.pop();if(!d)return!1;const f=[...s,i],g={diffState:d,history:u,redoStack:f,diffMode:a,computeState:l};return t().setDiffState(n,g),!0},redo:n=>{const r=t().getDiffHistoryState(n);if(!r||!r.redoStack||r.redoStack.length===0)return!1;const{diffState:i,history:o,redoStack:s,diffMode:a,computeState:l}=r,u=[...s],d=u.pop();if(!d)return!1;const f=[...o,i],g={diffState:d,history:f,redoStack:u,diffMode:a,computeState:l};return t().setDiffState(n,g),!0},acceptDiff:(n,r,i,o,s)=>WF(t,n,r,i,"accept",o,s),rejectDiff:(n,r,i,o,s)=>WF(t,n,r,i,"reject",o,s)}),uY=(e,t)=>({registeredTools:new Map,registerTool:n=>{e(r=>{const i=new Map(r.registeredTools),o={name:n.name,execute:n.execute,argsSchema:n.argsSchema,description:n.description};return i.set(n.name,o),{registeredTools:i}})},unregisterTool:n=>{e(r=>{const i=new Map(r.registeredTools);return i.delete(n),{registeredTools:i}})},executeTool:async(n,r)=>{const i=t().registeredTools.get(n);if(!i){console.error(`Tool "${n}" not found`);return}try{const o=i.argsSchema.parse(r);await i.execute(o)}catch(o){o instanceof N.ZodError?console.error(`Validation error for tool "${n}":`,o.errors):console.error(`Error executing tool "${n}":`,o)}},getRegisteredTools:()=>t().registeredTools,clearTools:()=>{e({registeredTools:new Map})}}),wt=_oe()((...e)=>({...I9(...e),...E9(...e),...A9(...e),...M9(...e),...sY(...e),...XOe(...e),...QOe(...e),...nNe(...e),...sNe(...e),...uY(...e)})),cY=()=>({messages:wt(e=>e.messages),isProcessing:wt(e=>e.isProcessing),showChat:wt(e=>e.showChat),setMessages:wt(e=>e.setMessages),addMessage:wt(e=>e.addMessage),clearMessages:wt(e=>e.clearMessages),setIsProcessing:wt(e=>e.setIsProcessing),setShowChat:wt(e=>e.setShowChat)}),dY=e=>{const t=wt(i=>i.mainThreadId),n=t,r=wt(i=>i.threadMap[n]);return{messages:r?.messages||[],threadId:n,lastLoaded:r?.lastLoaded,isCurrentThread:n===t,setMessages:i=>wt.getState().setMessages(i,n),addMessage:(i,o)=>wt.getState().addMessage(i,o,n),clearMessages:()=>wt.getState().clearMessages(n),switchToThread:()=>wt.getState().switchThread(n)}};wt.setState;var Pg=()=>({styling:wt(e=>e.styling),setStyling:wt(e=>e.setStyling),toggleDarkMode:wt(e=>e.toggleDarkMode)}),fY=()=>({chatInputContent:wt(e=>e.chatInputContent),setChatInputContent:wt(e=>e.setChatInputContent),overrideInputContent:wt(e=>e.overrideInputContent),setOverrideInputContent:wt(e=>e.setOverrideInputContent)}),Rm=e=>wt.getState().getCedarState(e);function pY(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=pY(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function aNe(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=pY(e))&&(r&&(r+=" "),r+=t);return r}var mR="-",lNe=e=>{const t=cNe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const a=s.split(mR);return a[0]===""&&a.length!==1&&a.shift(),hY(a,t)||uNe(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},hY=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?hY(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(mR);return t.validators.find(({validator:s})=>s(o))?.classGroupId},HF=/^\[(.+)\]$/,uNe=e=>{if(HF.test(e)){const t=HF.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},cNe=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)x$(n[i],r,i,t);return r},x$=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:qF(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(dNe(i)){x$(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{x$(s,qF(t,o),n,r)})})},qF=(e,t)=>{let n=e;return t.split(mR).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},dNe=e=>e.isThemeGetter,fNe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},w$="!",S$=":",pNe=S$.length,hNe=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const o=[];let s=0,a=0,l=0,u;for(let b=0;b<i.length;b++){let x=i[b];if(s===0&&a===0){if(x===S$){o.push(i.slice(l,b)),l=b+pNe;continue}if(x==="/"){u=b;continue}}x==="["?s++:x==="]"?s--:x==="("?a++:x===")"&&a--}const d=o.length===0?i:i.substring(l),f=mNe(d),g=f!==d,m=u&&u>l?u-l:void 0;return{modifiers:o,hasImportantModifier:g,baseClassName:f,maybePostfixModifierPosition:m}};if(t){const i=t+S$,o=r;r=s=>s.startsWith(i)?o(s.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:s,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=o=>n({className:o,parseClassName:i})}return r},mNe=e=>e.endsWith(w$)?e.substring(0,e.length-1):e.startsWith(w$)?e.substring(1):e,gNe=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let o=[];return r.forEach(s=>{s[0]==="["||t[s]?(i.push(...o.sort(),s),o=[]):o.push(s)}),i.push(...o.sort()),i}},yNe=e=>({cache:fNe(e.cacheSize),parseClassName:hNe(e),sortModifiers:gNe(e),...lNe(e)}),vNe=/\s+/,bNe=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:o}=t,s=[],a=e.trim().split(vNe);let l="";for(let u=a.length-1;u>=0;u-=1){const d=a[u],{isExternal:f,modifiers:g,hasImportantModifier:m,baseClassName:b,maybePostfixModifierPosition:x}=n(d);if(f){l=d+(l.length>0?" "+l:l);continue}let k=!!x,T=r(k?b.substring(0,x):b);if(!T){if(!k){l=d+(l.length>0?" "+l:l);continue}if(T=r(b),!T){l=d+(l.length>0?" "+l:l);continue}k=!1}const E=o(g).join(":"),$=m?E+w$:E,P=$+T;if(s.includes(P))continue;s.push(P);const M=i(T,k);for(let R=0;R<M.length;++R){const z=M[R];s.push($+z)}l=d+(l.length>0?" "+l:l)}return l};function xNe(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=mY(t))&&(r&&(r+=" "),r+=n);return r}var mY=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=mY(e[r]))&&(n&&(n+=" "),n+=t);return n};function wNe(e,...t){let n,r,i,o=s;function s(l){const u=t.reduce((d,f)=>f(d),e());return n=yNe(u),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=bNe(l,n);return i(l,d),d}return function(){return o(xNe.apply(null,arguments))}}var Vr=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},gY=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,yY=/^\((?:(\w[\w-]*):)?(.+)\)$/i,SNe=/^\d+\/\d+$/,kNe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_Ne=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,TNe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,CNe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ENe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qh=e=>SNe.test(e),Bt=e=>!!e&&!Number.isNaN(Number(e)),$c=e=>!!e&&Number.isInteger(Number(e)),TE=e=>e.endsWith("%")&&Bt(e.slice(0,-1)),mu=e=>kNe.test(e),INe=()=>!0,ANe=e=>_Ne.test(e)&&!TNe.test(e),vY=()=>!1,$Ne=e=>CNe.test(e),PNe=e=>ENe.test(e),MNe=e=>!Ge(e)&&!Ye(e),ONe=e=>Mg(e,wY,vY),Ge=e=>gY.test(e),mf=e=>Mg(e,SY,ANe),CE=e=>Mg(e,LNe,Bt),JF=e=>Mg(e,bY,vY),NNe=e=>Mg(e,xY,PNe),lS=e=>Mg(e,kY,$Ne),Ye=e=>yY.test(e),yv=e=>Og(e,SY),RNe=e=>Og(e,zNe),KF=e=>Og(e,bY),DNe=e=>Og(e,wY),jNe=e=>Og(e,xY),uS=e=>Og(e,kY,!0),Mg=(e,t,n)=>{const r=gY.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Og=(e,t,n=!1)=>{const r=yY.exec(e);return r?r[1]?t(r[1]):n:!1},bY=e=>e==="position"||e==="percentage",xY=e=>e==="image"||e==="url",wY=e=>e==="length"||e==="size"||e==="bg-size",SY=e=>e==="length",LNe=e=>e==="number",zNe=e=>e==="family-name",kY=e=>e==="shadow",FNe=()=>{const e=Vr("color"),t=Vr("font"),n=Vr("text"),r=Vr("font-weight"),i=Vr("tracking"),o=Vr("leading"),s=Vr("breakpoint"),a=Vr("container"),l=Vr("spacing"),u=Vr("radius"),d=Vr("shadow"),f=Vr("inset-shadow"),g=Vr("text-shadow"),m=Vr("drop-shadow"),b=Vr("blur"),x=Vr("perspective"),k=Vr("aspect"),T=Vr("ease"),E=Vr("animate"),$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...P(),Ye,Ge],R=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],F=()=>[Ye,Ge,l],q=()=>[Qh,"full","auto",...F()],Z=()=>[$c,"none","subgrid",Ye,Ge],re=()=>["auto",{span:["full",$c,Ye,Ge]},$c,Ye,Ge],ee=()=>[$c,"auto",Ye,Ge],ne=()=>["auto","min","max","fr",Ye,Ge],se=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ue=()=>["start","end","center","stretch","center-safe","end-safe"],me=()=>["auto",...F()],ie=()=>[Qh,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...F()],J=()=>[e,Ye,Ge],le=()=>[...P(),KF,JF,{position:[Ye,Ge]}],B=()=>["no-repeat",{repeat:["","x","y","space","round"]}],G=()=>["auto","cover","contain",DNe,ONe,{size:[Ye,Ge]}],H=()=>[TE,yv,mf],W=()=>["","none","full",u,Ye,Ge],Ie=()=>["",Bt,yv,mf],Ce=()=>["solid","dashed","dotted","double"],Ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$e=()=>[Bt,TE,KF,JF],je=()=>["","none",b,Ye,Ge],Xe=()=>["none",Bt,Ye,Ge],Pt=()=>["none",Bt,Ye,Ge],en=()=>[Bt,Ye,Ge],_n=()=>[Qh,"full",...F()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[mu],breakpoint:[mu],color:[INe],container:[mu],"drop-shadow":[mu],ease:["in","out","in-out"],font:[MNe],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[mu],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[mu],shadow:[mu],spacing:["px",Bt],text:[mu],"text-shadow":[mu],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Qh,Ge,Ye,k]}],container:["container"],columns:[{columns:[Bt,Ge,Ye,a]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[$c,"auto",Ye,Ge]}],basis:[{basis:[Qh,"full","auto",a,...F()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Bt,Qh,"auto","initial","none",Ge]}],grow:[{grow:["",Bt,Ye,Ge]}],shrink:[{shrink:["",Bt,Ye,Ge]}],order:[{order:[$c,"first","last","none",Ye,Ge]}],"grid-cols":[{"grid-cols":Z()}],"col-start-end":[{col:re()}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":Z()}],"row-start-end":[{row:re()}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ne()}],"auto-rows":[{"auto-rows":ne()}],gap:[{gap:F()}],"gap-x":[{"gap-x":F()}],"gap-y":[{"gap-y":F()}],"justify-content":[{justify:[...se(),"normal"]}],"justify-items":[{"justify-items":[...ue(),"normal"]}],"justify-self":[{"justify-self":["auto",...ue()]}],"align-content":[{content:["normal",...se()]}],"align-items":[{items:[...ue(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ue(),{baseline:["","last"]}]}],"place-content":[{"place-content":se()}],"place-items":[{"place-items":[...ue(),"baseline"]}],"place-self":[{"place-self":["auto",...ue()]}],p:[{p:F()}],px:[{px:F()}],py:[{py:F()}],ps:[{ps:F()}],pe:[{pe:F()}],pt:[{pt:F()}],pr:[{pr:F()}],pb:[{pb:F()}],pl:[{pl:F()}],m:[{m:me()}],mx:[{mx:me()}],my:[{my:me()}],ms:[{ms:me()}],me:[{me:me()}],mt:[{mt:me()}],mr:[{mr:me()}],mb:[{mb:me()}],ml:[{ml:me()}],"space-x":[{"space-x":F()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":F()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[a,"screen",...ie()]}],"min-w":[{"min-w":[a,"screen","none",...ie()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[s]},...ie()]}],h:[{h:["screen",...ie()]}],"min-h":[{"min-h":["screen","none",...ie()]}],"max-h":[{"max-h":["screen",...ie()]}],"font-size":[{text:["base",n,yv,mf]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ye,CE]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",TE,Ge]}],"font-family":[{font:[RNe,Ge,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Ye,Ge]}],"line-clamp":[{"line-clamp":[Bt,"none",Ye,CE]}],leading:[{leading:[o,...F()]}],"list-image":[{"list-image":["none",Ye,Ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ye,Ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:J()}],"text-color":[{text:J()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[Bt,"from-font","auto",Ye,mf]}],"text-decoration-color":[{decoration:J()}],"underline-offset":[{"underline-offset":[Bt,"auto",Ye,Ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ye,Ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ye,Ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:le()}],"bg-repeat":[{bg:B()}],"bg-size":[{bg:G()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},$c,Ye,Ge],radial:["",Ye,Ge],conic:[$c,Ye,Ge]},jNe,NNe]}],"bg-color":[{bg:J()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:J()}],"gradient-via":[{via:J()}],"gradient-to":[{to:J()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:Ie()}],"border-w-x":[{"border-x":Ie()}],"border-w-y":[{"border-y":Ie()}],"border-w-s":[{"border-s":Ie()}],"border-w-e":[{"border-e":Ie()}],"border-w-t":[{"border-t":Ie()}],"border-w-r":[{"border-r":Ie()}],"border-w-b":[{"border-b":Ie()}],"border-w-l":[{"border-l":Ie()}],"divide-x":[{"divide-x":Ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ce(),"hidden","none"]}],"divide-style":[{divide:[...Ce(),"hidden","none"]}],"border-color":[{border:J()}],"border-color-x":[{"border-x":J()}],"border-color-y":[{"border-y":J()}],"border-color-s":[{"border-s":J()}],"border-color-e":[{"border-e":J()}],"border-color-t":[{"border-t":J()}],"border-color-r":[{"border-r":J()}],"border-color-b":[{"border-b":J()}],"border-color-l":[{"border-l":J()}],"divide-color":[{divide:J()}],"outline-style":[{outline:[...Ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Bt,Ye,Ge]}],"outline-w":[{outline:["",Bt,yv,mf]}],"outline-color":[{outline:J()}],shadow:[{shadow:["","none",d,uS,lS]}],"shadow-color":[{shadow:J()}],"inset-shadow":[{"inset-shadow":["none",f,uS,lS]}],"inset-shadow-color":[{"inset-shadow":J()}],"ring-w":[{ring:Ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:J()}],"ring-offset-w":[{"ring-offset":[Bt,mf]}],"ring-offset-color":[{"ring-offset":J()}],"inset-ring-w":[{"inset-ring":Ie()}],"inset-ring-color":[{"inset-ring":J()}],"text-shadow":[{"text-shadow":["none",g,uS,lS]}],"text-shadow-color":[{"text-shadow":J()}],opacity:[{opacity:[Bt,Ye,Ge]}],"mix-blend":[{"mix-blend":[...Ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Bt]}],"mask-image-linear-from-pos":[{"mask-linear-from":$e()}],"mask-image-linear-to-pos":[{"mask-linear-to":$e()}],"mask-image-linear-from-color":[{"mask-linear-from":J()}],"mask-image-linear-to-color":[{"mask-linear-to":J()}],"mask-image-t-from-pos":[{"mask-t-from":$e()}],"mask-image-t-to-pos":[{"mask-t-to":$e()}],"mask-image-t-from-color":[{"mask-t-from":J()}],"mask-image-t-to-color":[{"mask-t-to":J()}],"mask-image-r-from-pos":[{"mask-r-from":$e()}],"mask-image-r-to-pos":[{"mask-r-to":$e()}],"mask-image-r-from-color":[{"mask-r-from":J()}],"mask-image-r-to-color":[{"mask-r-to":J()}],"mask-image-b-from-pos":[{"mask-b-from":$e()}],"mask-image-b-to-pos":[{"mask-b-to":$e()}],"mask-image-b-from-color":[{"mask-b-from":J()}],"mask-image-b-to-color":[{"mask-b-to":J()}],"mask-image-l-from-pos":[{"mask-l-from":$e()}],"mask-image-l-to-pos":[{"mask-l-to":$e()}],"mask-image-l-from-color":[{"mask-l-from":J()}],"mask-image-l-to-color":[{"mask-l-to":J()}],"mask-image-x-from-pos":[{"mask-x-from":$e()}],"mask-image-x-to-pos":[{"mask-x-to":$e()}],"mask-image-x-from-color":[{"mask-x-from":J()}],"mask-image-x-to-color":[{"mask-x-to":J()}],"mask-image-y-from-pos":[{"mask-y-from":$e()}],"mask-image-y-to-pos":[{"mask-y-to":$e()}],"mask-image-y-from-color":[{"mask-y-from":J()}],"mask-image-y-to-color":[{"mask-y-to":J()}],"mask-image-radial":[{"mask-radial":[Ye,Ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":$e()}],"mask-image-radial-to-pos":[{"mask-radial-to":$e()}],"mask-image-radial-from-color":[{"mask-radial-from":J()}],"mask-image-radial-to-color":[{"mask-radial-to":J()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[Bt]}],"mask-image-conic-from-pos":[{"mask-conic-from":$e()}],"mask-image-conic-to-pos":[{"mask-conic-to":$e()}],"mask-image-conic-from-color":[{"mask-conic-from":J()}],"mask-image-conic-to-color":[{"mask-conic-to":J()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:le()}],"mask-repeat":[{mask:B()}],"mask-size":[{mask:G()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ye,Ge]}],filter:[{filter:["","none",Ye,Ge]}],blur:[{blur:je()}],brightness:[{brightness:[Bt,Ye,Ge]}],contrast:[{contrast:[Bt,Ye,Ge]}],"drop-shadow":[{"drop-shadow":["","none",m,uS,lS]}],"drop-shadow-color":[{"drop-shadow":J()}],grayscale:[{grayscale:["",Bt,Ye,Ge]}],"hue-rotate":[{"hue-rotate":[Bt,Ye,Ge]}],invert:[{invert:["",Bt,Ye,Ge]}],saturate:[{saturate:[Bt,Ye,Ge]}],sepia:[{sepia:["",Bt,Ye,Ge]}],"backdrop-filter":[{"backdrop-filter":["","none",Ye,Ge]}],"backdrop-blur":[{"backdrop-blur":je()}],"backdrop-brightness":[{"backdrop-brightness":[Bt,Ye,Ge]}],"backdrop-contrast":[{"backdrop-contrast":[Bt,Ye,Ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Bt,Ye,Ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Bt,Ye,Ge]}],"backdrop-invert":[{"backdrop-invert":["",Bt,Ye,Ge]}],"backdrop-opacity":[{"backdrop-opacity":[Bt,Ye,Ge]}],"backdrop-saturate":[{"backdrop-saturate":[Bt,Ye,Ge]}],"backdrop-sepia":[{"backdrop-sepia":["",Bt,Ye,Ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":F()}],"border-spacing-x":[{"border-spacing-x":F()}],"border-spacing-y":[{"border-spacing-y":F()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ye,Ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Bt,"initial",Ye,Ge]}],ease:[{ease:["linear","initial",T,Ye,Ge]}],delay:[{delay:[Bt,Ye,Ge]}],animate:[{animate:["none",E,Ye,Ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[x,Ye,Ge]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:Xe()}],"rotate-x":[{"rotate-x":Xe()}],"rotate-y":[{"rotate-y":Xe()}],"rotate-z":[{"rotate-z":Xe()}],scale:[{scale:Pt()}],"scale-x":[{"scale-x":Pt()}],"scale-y":[{"scale-y":Pt()}],"scale-z":[{"scale-z":Pt()}],"scale-3d":["scale-3d"],skew:[{skew:en()}],"skew-x":[{"skew-x":en()}],"skew-y":[{"skew-y":en()}],transform:[{transform:[Ye,Ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:_n()}],"translate-x":[{"translate-x":_n()}],"translate-y":[{"translate-y":_n()}],"translate-z":[{"translate-z":_n()}],"translate-none":["translate-none"],accent:[{accent:J()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:J()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ye,Ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ye,Ge]}],fill:[{fill:["none",...J()]}],"stroke-w":[{stroke:[Bt,yv,mf,CE]}],stroke:[{stroke:["none",...J()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},VNe=wNe(FNe),_Y=.412;function so(...e){return VNe(aNe(e))}var gR=e=>{const t=parseInt(e.slice(1,3),16),n=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16);return{r:t,g:n,b:r}},Uc=(e,t)=>{const{r:n,g:r,b:i}=gR(e);return`rgb(${Math.max(0,n-t)}, ${Math.max(0,r-t)}, ${Math.max(0,i-t)})`},TY=(e,t)=>{const{r:n,g:r,b:i}=gR(e);return`rgb(${Math.min(255,n+t)}, ${Math.min(255,r+t)}, ${Math.min(255,i+t)})`};function CY(e){return Uc(e,70)}var EY=(e,t)=>{const n=e.replace("#",""),r=parseInt(n.substring(0,2),16),i=parseInt(n.substring(2,4),16),o=parseInt(n.substring(4,6),16);return(.299*r+.587*i+.114*o)/255>_Y?"#000000":"#ffffff"};function mx(e,t){if(D.isValidElement(e)){const n=e,r=n.props.className;return D.cloneElement(n,{className:so(r,t)})}return e}function yR(e){const t=wt(n=>n.mentionProviders);return Array.from(t.values()).filter(n=>n.trigger===e)}var IY=({node:e})=>{const t=yR("@"),n=e.attrs.providerId?t.find(a=>a.id===e.attrs.providerId):null;if(n?.renderEditorItem){const a={id:e.attrs.id,label:e.attrs.label,data:e.attrs.data,metadata:e.attrs.metadata};return O.jsx(Wz,{className:"inline",contentEditable:!1,children:n.renderEditorItem(a,e.attrs)})}const r=e.attrs.providerId?t.find(a=>a.id===e.attrs.providerId):null,i=r?.icon,o=r?.color,s=o?{backgroundColor:`${o}80`}:{backgroundColor:"rgba(30, 64, 175, 0.5)"};return O.jsx(Wz,{className:"inline",contentEditable:!1,children:O.jsxs("span",{className:"rounded-sm px-1 -mt-0.5 inline-flex items-center gap-0.5 select-none",style:s,contentEditable:!1,children:[i?mx(i,"w-3 h-3"):"@",e.attrs.label]})})},AY=65535,$Y=Math.pow(2,16);function BNe(e,t){return e+t*$Y}function GF(e){return e&AY}function UNe(e){return(e-(e&AY))/$Y}var PY=1,MY=2,ZS=4,OY=8,YF=class{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&OY)>0}get deletedBefore(){return(this.delInfo&(PY|ZS))>0}get deletedAfter(){return(this.delInfo&(MY|ZS))>0}get deletedAcross(){return(this.delInfo&ZS)>0}},dp=class um{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&um.empty)return um.empty}recover(t){let n=0,r=GF(t);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+UNe(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>t)break;let u=this.ranges[a+o],d=this.ranges[a+s],f=l+u;if(t<=f){let g=u?t==l?-1:t==f?1:n:n,m=l+i+(g<0?0:d);if(r)return m;let b=t==(n<0?l:f)?null:BNe(a/3,t-l),x=t==l?MY:t==f?PY:ZS;return(n<0?t!=l:t!=f)&&(x|=OY),new YF(m,x,b)}i+=d-u}return r?t+i:new YF(t+i,0,null)}touches(t,n){let r=0,i=GF(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let u=this.ranges[a+o],d=l+u;if(t<=d&&a==i*3)return!0;r+=this.ranges[a+s]-u}return!1}forEach(t){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),u=this.ranges[i+n],d=this.ranges[i+r];t(a,a+u,l,l+d),o+=d-u}}invert(){return new um(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?um.empty:new um(t<0?[0,-t,0]:[0,0,t])}};dp.empty=new dp([]);var EE=Object.create(null),Vi=class{getMap(){return dp.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=EE[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in EE)throw new RangeError("Duplicate use of step JSON ID "+e);return EE[e]=t,t.prototype.jsonID=e,t}},ro=class Bv{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new Bv(t,null)}static fail(t){return new Bv(null,t)}static fromReplace(t,n,r,i){try{return Bv.ok(t.replace(n,r,i))}catch(o){if(o instanceof Eb)return Bv.fail(o.message);throw o}}};function vR(e,t,n){let r=[];for(let i=0;i<e.childCount;i++){let o=e.child(i);o.content.size&&(o=o.copy(vR(o.content,t,o))),o.isInline&&(o=t(o,n,i)),r.push(o)}return Se.fromArray(r)}var NY=class Uv extends Vi{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=t.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new Re(vR(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return ro.fromReplace(t,this.from,this.to,o)}invert(){return new RY(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Uv(n.pos,r.pos,this.mark)}merge(t){return t instanceof Uv&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Uv(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Uv(n.from,n.to,t.markFromJSON(n.mark))}};Vi.jsonID("addMark",NY);var RY=class Zv extends Vi{constructor(t,n,r){super(),this.from=t,this.to=n,this.mark=r}apply(t){let n=t.slice(this.from,this.to),r=new Re(vR(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),t),n.openStart,n.openEnd);return ro.fromReplace(t,this.from,this.to,r)}invert(){return new NY(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Zv(n.pos,r.pos,this.mark)}merge(t){return t instanceof Zv&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Zv(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Zv(n.from,n.to,t.markFromJSON(n.mark))}};Vi.jsonID("removeMark",RY);var DY=class Wv extends Vi{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return ro.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return ro.fromReplace(t,this.pos,this.pos+1,new Re(Se.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Wv(this.pos,n.marks[i]);return new Wv(this.pos,this.mark)}}return new jY(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Wv(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Wv(n.pos,t.markFromJSON(n.mark))}};Vi.jsonID("addNodeMark",DY);var jY=class k$ extends Vi{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return ro.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return ro.fromReplace(t,this.pos,this.pos+1,new Re(Se.from(r),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new DY(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new k$(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new k$(n.pos,t.markFromJSON(n.mark))}};Vi.jsonID("removeNodeMark",jY);var LY=class kf extends Vi{constructor(t,n,r,i=!1){super(),this.from=t,this.to=n,this.slice=r,this.structure=i}apply(t){return this.structure&&_$(t,this.from,this.to)?ro.fail("Structure replace would overwrite content"):ro.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new dp([this.from,this.to-this.from,this.slice.size])}invert(t){return new kf(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new kf(n.pos,Math.max(n.pos,r.pos),this.slice,this.structure)}merge(t){if(!(t instanceof kf)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?Re.empty:new Re(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new kf(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?Re.empty:new Re(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new kf(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new kf(n.from,n.to,Re.fromJSON(t,n.slice),!!n.structure)}};Vi.jsonID("replace",LY);var zY=class WS extends Vi{constructor(t,n,r,i,o,s,a=!1){super(),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(t){if(this.structure&&(_$(t,this.from,this.gapFrom)||_$(t,this.gapTo,this.to)))return ro.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return ro.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?ro.fromReplace(t,this.from,this.to,r):ro.fail("Content does not fit in gap")}getMap(){return new dp([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new WS(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?r.pos:t.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new WS(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new WS(n.from,n.to,n.gapFrom,n.gapTo,Re.fromJSON(t,n.slice),n.insert,!!n.structure)}};Vi.jsonID("replaceAround",zY);function _$(e,t,n){let r=e.resolve(t),i=n-t,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}var ZNe=class HS extends Vi{constructor(t,n,r){super(),this.pos=t,this.attr=n,this.value=r}apply(t){let n=t.nodeAt(this.pos);if(!n)return ro.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return ro.fromReplace(t,this.pos,this.pos+1,new Re(Se.from(i),0,n.isLeaf?0:1))}getMap(){return dp.empty}invert(t){return new HS(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new HS(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new HS(n.pos,n.attr,n.value)}};Vi.jsonID("attr",ZNe);var WNe=class T$ extends Vi{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let i in t.attrs)n[i]=t.attrs[i];n[this.attr]=this.value;let r=t.type.create(n,t.content,t.marks);return ro.ok(r)}getMap(){return dp.empty}invert(t){return new T$(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new T$(n.attr,n.value)}};Vi.jsonID("docAttr",WNe);var gx=class extends Error{};gx=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};gx.prototype=Object.create(Error.prototype);gx.prototype.constructor=gx;gx.prototype.name="TransformError";var IE=Object.create(null),ti=class{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new HNe(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Re.empty){let n=t.content.lastChild,r=null;for(let s=0;s<t.openEnd;s++)r=n,n=n.lastChild;let i=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:a,$to:l}=o[s],u=e.mapping.slice(i);e.replaceRange(u.map(a.pos),u.map(l.pos),s?Re.empty:t),s==0&&eV(e,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let i=0;i<r.length;i++){let{$from:o,$to:s}=r[i],a=e.mapping.slice(n),l=a.map(o.pos),u=a.map(s.pos);i?e.deleteRange(l,u):(e.replaceRangeWith(l,u,t),eV(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new yx(e):cm(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let i=e.depth-1;i>=0;i--){let o=t<0?cm(e.node(0),e.node(i),e.before(i+1),e.index(i),t,n):cm(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,t,n);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new ib(e.node(0))}static atStart(e){return cm(e,e,0,0,1)||new ib(e)}static atEnd(e){return cm(e,e,e.content.size,e.childCount,-1)||new ib(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=IE[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in IE)throw new RangeError("Duplicate use of selection JSON ID "+e);return IE[e]=t,t.prototype.jsonID=e,t}getBookmark(){return yx.between(this.$anchor,this.$head).getBookmark()}};ti.prototype.visible=!0;var HNe=class{constructor(e,t){this.$from=e,this.$to=t}},XF=!1;function QF(e){!XF&&!e.parent.inlineContent&&(XF=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}var yx=class Hv extends ti{constructor(t,n=t){QF(t),QF(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let r=t.resolve(n.map(this.head));if(!r.parent.inlineContent)return ti.near(r);let i=t.resolve(n.map(this.anchor));return new Hv(i.parent.inlineContent?i:r,r)}replace(t,n=Re.empty){if(super.replace(t,n),n==Re.empty){let r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}}eq(t){return t instanceof Hv&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new FY(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Hv(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,r=n){let i=t.resolve(n);return new this(i,r==n?i:t.resolve(r))}static between(t,n,r){let i=t.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=ti.findFrom(n,r,!0)||ti.findFrom(n,-r,!0);if(o)n=o.$head;else return ti.near(n,r)}return t.parent.inlineContent||(i==0?t=n:(t=(ti.findFrom(t,-r,!0)||ti.findFrom(t,r,!0)).$anchor,t.pos<n.pos!=i<0&&(t=n))),new Hv(t,n)}};ti.jsonID("text",yx);var FY=class VY{constructor(t,n){this.anchor=t,this.head=n}map(t){return new VY(t.map(this.anchor),t.map(this.head))}resolve(t){return yx.between(t.resolve(this.anchor),t.resolve(this.head))}},dg=class qv extends ti{constructor(t){let n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);super(t,r),this.node=n}map(t,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=t.resolve(i);return r?ti.near(o):new qv(o)}content(){return new Re(Se.from(this.node),0,0)}eq(t){return t instanceof qv&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new qNe(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new qv(t.resolve(n.anchor))}static create(t,n){return new qv(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}};dg.prototype.visible=!1;ti.jsonID("node",dg);var qNe=class BY{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:r}=t.mapResult(this.anchor);return n?new FY(r,r):new BY(r)}resolve(t){let n=t.resolve(this.anchor),r=n.nodeAfter;return r&&dg.isSelectable(r)?new dg(n):ti.near(n)}},ib=class qS extends ti{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Re.empty){if(n==Re.empty){t.delete(0,t.doc.content.size);let r=ti.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new qS(t)}map(t){return new qS(t)}eq(t){return t instanceof qS}getBookmark(){return JNe}};ti.jsonID("all",ib);var JNe={map(){return this},resolve(e){return new ib(e)}};function cm(e,t,n,r,i,o=!1){if(t.inlineContent)return yx.create(e,n);for(let s=r-(i>0?0:1);i>0?s<t.childCount:s>=0;s+=i){let a=t.child(s);if(a.isAtom){if(!o&&dg.isSelectable(a))return dg.create(e,n-(i<0?a.nodeSize:0))}else{let l=cm(e,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}return null}function eV(e,t,n){let r=e.steps.length-1;if(r<t)return;let i=e.steps[r];if(!(i instanceof LY||i instanceof zY))return;let o=e.mapping.maps[r],s;o.forEach((a,l,u,d)=>{s==null&&(s=d)}),e.setSelection(ti.near(e.doc.resolve(s),n))}function tV(e,t){return!t||!e?e:e.bind(t)}var cS=class{constructor(e,t,n){this.name=e,this.init=tV(t.init,n),this.apply=tV(t.apply,n)}};new cS("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new cS("selection",{init(e,t){return e.selection||ti.atStart(t.doc)},apply(e){return e.selection}}),new cS("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new cS("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}});function UY(e,t,n){for(let r in e){let i=e[r];i instanceof Function?i=i.bind(t):r=="handleDOMEvents"&&(i=UY(i,t,{})),n[r]=i}return n}var KNe=class{constructor(e){this.spec=e,this.props={},e.props&&UY(e.props,this,this.props),this.key=e.key?e.key.key:ZY("plugin")}getState(e){return e[this.key]}},AE=Object.create(null);function ZY(e){return e in AE?e+"$"+ ++AE[e]:(AE[e]=0,e+"$")}var GNe=class{constructor(e="key"){this.key=ZY(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}},WY=Ra.create({name:"added",addOptions(){return{HTMLAttributes:{class:"text-added"}}},parseHTML(){return[{tag:"ins"},{tag:'span[data-diff="added"]'},{style:"background-color",getAttrs:e=>typeof e=="string"&&e.includes("34, 197, 94")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",Cr(this.options.HTMLAttributes,e,{"data-diff":"added",style:`
					background-color: rgba(34, 197, 94, 0.15);
					color: rgb(34, 197, 94);
					border-radius: 2px;
					padding: 0 2px;
					text-decoration: none;
				`}),0]},addCommands(){return{setAddedText:()=>({commands:e})=>e.setMark(this.name),toggleAddedText:()=>({commands:e})=>e.toggleMark(this.name),unsetAddedText:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-a":()=>this.editor.commands.toggleMark(this.name)}}}),HY=Ra.create({name:"removed",addOptions(){return{HTMLAttributes:{class:"text-removed"}}},parseHTML(){return[{tag:"del"},{tag:"s"},{tag:'span[data-diff="removed"]'},{style:"text-decoration",getAttrs:e=>typeof e=="string"&&e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",Cr(this.options.HTMLAttributes,e,{"data-diff":"removed",style:`
					background-color: rgba(239, 68, 68, 0.15);
					color: rgba(239, 68, 68, 0.7);
					border-radius: 2px;
					padding: 0 2px;
					text-decoration: line-through;
				`}),0]},addCommands(){return{setRemovedText:()=>({commands:e})=>e.setMark(this.name),toggleRemovedText:()=>({commands:e})=>e.toggleMark(this.name),unsetRemovedText:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-r":()=>this.editor.commands.toggleRemovedText()}}});Ra.create({name:"diff",addExtensions(){return[WY,HY]},addProseMirrorPlugins(){return[new KNe({key:new GNe("diff"),props:{decorations(){return null}}})]},addCommands(){return{insertDiff:({text:e,type:t})=>({commands:n})=>t==="added"?n.insertContent({type:"text",text:e,marks:[{type:"added"}]}):n.insertContent({type:"text",text:e,marks:[{type:"removed"}]}),markSelectionAsDiff:e=>({commands:t})=>e==="added"?t.setMark("added"):t.setMark("removed"),clearDiffMarks:()=>({commands:e})=>e.unsetMark("added")&&e.unsetMark("removed"),replaceWithDiff:({oldText:e,newText:t})=>({commands:n})=>n.insertContent({type:"text",text:e,marks:[{type:"removed"}]})&&n.insertContent(" ")&&n.insertContent({type:"text",text:t,marks:[{type:"added"}]})}}});var qY=D.forwardRef(({items:e,command:t},n)=>{const[r,i]=D.useState(0),o=yR("@"),s=D.useRef(null),a=D.useRef([]);D.useEffect(()=>{i(0)},[e]),D.useEffect(()=>{const m=a.current[r];if(m&&s.current){const b=s.current,x=m.offsetTop,k=x+m.offsetHeight,T=b.scrollTop,E=T+b.clientHeight;k>E?b.scrollTop=k-b.clientHeight:x<T&&(b.scrollTop=x)}},[r]);const l=m=>{const b=e[m];b&&t(b)},u=()=>{i((r+e.length-1)%e.length)},d=()=>{i((r+1)%e.length)},f=()=>{l(r)};D.useImperativeHandle(n,()=>({onKeyDown:({event:m})=>m.key==="ArrowUp"?(u(),!0):m.key==="ArrowDown"?(d(),!0):m.key==="Enter"?(f(),!0):!1}));const g=(m,b)=>{const x=m.providerId?o.find($=>$.id===m.providerId):void 0;if(x?.renderMenuItem)return O.jsx("div",{ref:$=>{a.current[b]=$},className:so("text-left px-3 py-1 hover:bg-gray-200 cursor-pointer",b===r&&"bg-gray-200"),onClick:()=>l(b),children:x.renderMenuItem(m)},m.id);const k=m.metadata?.icon,T=m.metadata?.color,E=b===r&&T?{backgroundColor:`${T}80`}:{};return O.jsx("button",{ref:$=>{a.current[b]=$},type:"button",className:so("w-full text-left px-2 py-1.5 cursor-pointer text-black text-sm transition-colors",b===r&&!T&&"bg-gray-200"),style:E,onMouseEnter:$=>{T&&b!==r&&($.currentTarget.style.backgroundColor=`${T}40`)},onMouseLeave:$=>{T&&b!==r&&($.currentTarget.style.backgroundColor="")},onClick:()=>l(b),children:O.jsxs("div",{className:"flex items-center gap-1",children:[k&&mx(k,"w-4 h-4"),O.jsx("span",{className:"",children:m.label})]})},m.id)};return O.jsx("div",{ref:s,className:"shadow-lg bg-white rounded-md max-h-60 overflow-y-auto scrollbar-hide",children:e.length>0?e.map((m,b)=>g(m,b)):O.jsx("div",{className:"px-3 py-1 text-gray-500",children:"No results"})})});qY.displayName="MentionList";var JY=qY,YNe={items:async({query:e})=>{const t=wt.getState().getMentionProvidersByTrigger("@"),n=[];for(const r of t){const i=await r.getItems(e);n.push(...i.map(o=>({...o,providerId:r.id})))}return n},render:()=>{let e,t=null,n=null;return{onStart:r=>{if(e=new j5(JY,{props:r,editor:r.editor}),!r.clientRect)return;t=document.createElement("div"),t.style.position="absolute",t.style.zIndex="9999",t.style.maxWidth="32rem",t.style.minWidth="12rem",t.style.width="fit-content",t.appendChild(e.element),document.body.appendChild(t);const i={getBoundingClientRect:()=>r.clientRect?.()||new DOMRect};n=Yxe(i,t,async()=>{if(!t)return;const{x:s,y:a}=await f4(i,t,{placement:"bottom-start",middleware:[u4(6),d4(),c4({padding:5})]});Object.assign(t.style,{left:`${s}px`,top:`${a}px`})})},onUpdate(r){if(e.updateProps(r),!r.clientRect||!t)return;f4({getBoundingClientRect:()=>r.clientRect?.()||new DOMRect},t,{placement:"bottom-start",middleware:[u4(6),d4(),c4({padding:5})]}).then(({x:o,y:s})=>{t&&Object.assign(t.style,{left:`${o}px`,top:`${s}px`})})},onKeyDown(r){if(r.event.key==="Escape")return t&&(t.style.display="none"),!0;const i=e.ref;if(i?.onKeyDown){const o=i.onKeyDown({event:r.event});return o&&(r.event.preventDefault(),r.event.stopPropagation()),o}return!1},onExit(){n&&n(),t&&t.parentNode&&t.parentNode.removeChild(t),e.destroy()}}},command:({editor:e,range:t,props:n})=>{const r=n,i=wt.getState().getMentionProvidersByTrigger("@").find(l=>l.id===r.providerId);if(!i){console.warn("No provider found for item:",r);return}const o=i.toContextEntry(r),s=i.id;wt.getState().addContextEntry(s,o),e.chain().focus().insertContentAt(t,[{type:"mention",attrs:{id:r.id,label:r.label,providerId:i.id,contextKey:s,contextEntryId:o.id}},{type:"text",text:" "}]).run()}},XNe=YNe,KY=(e={})=>{const{placeholder:t="Tab to start typing. Ask me anything!",onSubmit:n,onFocus:r,onBlur:i,stream:o=!0,sendMessageParams:s,onEnterOverride:a}=e,l=wt(E=>E.sendMessage),{chatInputContent:u,overrideInputContent:d,setChatInputContent:f,setOverrideInputContent:g}=fY(),[m,b]=D.useState(!0),x=Yve({immediatelyRender:!1,extensions:[rxe.configure({document:!1,hardBreak:{keepMarks:!0,HTMLAttributes:{class:"hard-break"}}}),M5.extend({content:"block+"}),Nve.configure({placeholder:t,showOnlyWhenEditable:!0,showOnlyCurrent:!0}),WY,HY,lxe.extend({addAttributes(){return{id:{default:null,parseHTML:E=>E.getAttribute("data-id"),renderHTML:E=>E.id?{"data-id":E.id}:{}},label:{default:null,parseHTML:E=>E.getAttribute("data-label"),renderHTML:E=>E.label?{"data-label":E.label}:{}},providerId:{default:null,parseHTML:E=>E.getAttribute("data-provider-id"),renderHTML:E=>E.providerId?{"data-provider-id":E.providerId}:{}},contextKey:{default:null,parseHTML:E=>E.getAttribute("data-context-key"),renderHTML:E=>E.contextKey?{"data-context-key":E.contextKey}:{}},contextEntryId:{default:null,parseHTML:E=>E.getAttribute("data-context-entry-id"),renderHTML:E=>E.contextEntryId?{"data-context-entry-id":E.contextEntryId}:{}}}},addNodeView(){return ibe(IY)},addStorage(){return{mentionNodes:new Map}},onUpdate(){const E=new Map,{doc:$}=this.editor.state;$.descendants(M=>{M.type.name==="mention"&&M.attrs.contextEntryId&&E.set(M.attrs.contextEntryId,{contextKey:M.attrs.contextKey,node:M})}),(this.storage?.mentionNodes||new Map).forEach((M,R)=>{E.has(R)||wt.getState().removeContextEntry(M.contextKey,R)}),this.storage&&(this.storage.mentionNodes=E)}}).configure({suggestion:XNe})],content:u||"",editable:!0,onFocus:()=>{r?.()},onBlur:()=>{i?.()},onUpdate:({editor:E})=>{const $=E.getJSON();f($),b(E.isEmpty)},editorProps:{handleKeyDown:(E,$)=>{if($.key==="Enter"&&!$.shiftKey){const{state:P}=E;return P.plugins.some(R=>{const z=R.getState?.(P);return z?.active||z?.open})?($.preventDefault(),$.stopPropagation(),!1):(a&&a($)||T(),!0)}return!1}}}),k=()=>{if(!x)return"";const{state:E}=x,{doc:$}=E;let P="";return $.descendants(M=>{if(M.isText&&(P+=M.text),M.type.name==="choice"){const R=M.attrs,z=R.options||[],q=R.selectedOption||""||(z.length>0?z[0]:"");P+=` ${q} `}return!0}),P},T=async()=>{if(!x||m)return;const E=k();E.trim()&&(n?n(E,x,()=>{x.commands.clearContent(),b(!0),g(""),f({type:"doc",content:[{type:"paragraph",content:[]}]})}):(l({stream:o,...s}),x.commands.clearContent(),b(!0),g(""),f({type:"doc",content:[{type:"paragraph",content:[]}]})),x.commands.focus(),r?.())};return D.useEffect(()=>{if(!x||!d?.input)return;b(!1);const E=d.input;if(x.commands.clearContent(),typeof E=="string"){x.commands.setContent(E);return}Array.isArray(E)&&E.forEach($=>{typeof $=="string"?x.commands.insertContent($):x.commands.insertContent($.chosenValue||"")})},[x,d]),{editor:x,isEditorEmpty:m,handleSubmit:T,getEditorText:k}};$g("humanInTheLoop").and(N.object({status:N.literal("suspended"),runId:N.string(),stepPath:N.array(N.array(N.string())).min(1),suspendPayload:N.record(N.unknown()).optional(),message:N.string().optional(),timeoutMs:N.number().optional(),metadata:N.record(N.unknown()).optional()}));function QNe(e){return e}$g("setState").and(N.object({stateKey:N.string(),setterKey:N.string(),args:N.unknown().optional()}));$g("action").and(N.object({stateKey:N.string(),setterKey:N.string(),args:N.unknown().optional()}));const eRe=Object.freeze(Object.defineProperty({__proto__:null,AdditionalContextSchema:eY,BaseParamsSchema:Q1,BaseStructuredResponseSchema:b$,CedarEditor:P5,CedarEditorContent:N5,ContextEntrySchema:v$,DEFAULT_THREAD_ID:Nf,FrontendToolResponseSchema:iY,Hotkey:fR,MentionList:JY,MentionNodeView:IY,MouseEvent:pR,SelectionEvent:hR,StructuredResponseSchema:$g,cn:so,createAgentConnectionSlice:sY,createAgentContextSlice:E9,createBorderColor:CY,createChatRequestSchema:tY,createMessagesSlice:M9,createResponseProcessor:QNe,createStateSlice:A9,createStylingSlice:I9,createToolsSlice:uY,defaultFrontendToolMessageRenderer:P9,frontendToolResponseProcessor:oY,getCedarState:Rm,getLightenedColor:TY,getShadedColor:Uc,getTextColorForBackground:EY,hexToRgb:gR,humanInTheLoopMessageRenderer:$9,humanInTheLoopResponseProcessor:rY,luminanceThreshold:_Y,messageResponseProcessor:nY,sanitizeJson:Lk,useCedarEditor:KY,useCedarStore:wt,useChatInput:fY,useMentionProvidersByTrigger:yR,useMessages:cY,useStyling:Pg,useThreadMessages:dY,withClassName:mx},Symbol.toStringTag,{value:"Module"})),vx=D.createContext({});function Ng(e){const t=D.useRef(null);return t.current===null&&(t.current=e()),t.current}const bR=typeof window<"u",e0=bR?D.useLayoutEffect:D.useEffect,t0=D.createContext(null),ju=D.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function nV(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function tRe(...e){return t=>{let n=!1;const r=e.map(i=>{const o=nV(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<r.length;i++){const o=r[i];typeof o=="function"?o():nV(e[i],null)}}}}function nRe(...e){return D.useCallback(tRe(...e),e)}class rRe extends D.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=Iu(r)&&r.offsetWidth||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function iRe({children:e,isPresent:t,anchorX:n,root:r}){const i=D.useId(),o=D.useRef(null),s=D.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:a}=D.useContext(ju),l=nRe(o,e?.ref);return D.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:g,right:m}=s.current;if(t||!o.current||!u||!d)return;const b=n==="left"?`left: ${g}`:`right: ${m}`;o.current.dataset.motionPopId=i;const x=document.createElement("style");a&&(x.nonce=a);const k=r??document.head;return k.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${b}px !important;
            top: ${f}px !important;
          }
        `),()=>{k.contains(x)&&k.removeChild(x)}},[t]),O.jsx(rRe,{isPresent:t,childRef:o,sizeRef:s,children:D.cloneElement(e,{ref:l})})}const oRe=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s,anchorX:a,root:l})=>{const u=Ng(sRe),d=D.useId();let f=!0,g=D.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:n,custom:i,onExitComplete:m=>{u.set(m,!0);for(const b of u.values())if(!b)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[n,u,r]);return o&&f&&(g={...g}),D.useMemo(()=>{u.forEach((m,b)=>u.set(b,!1))},[n]),D.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),s==="popLayout"&&(e=O.jsx(iRe,{isPresent:n,anchorX:a,root:l,children:e})),O.jsx(t0.Provider,{value:g,children:e})};function sRe(){return new Map}function GY(e=!0){const t=D.useContext(t0);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,o=D.useId();D.useEffect(()=>{if(e)return i(o)},[e]);const s=D.useCallback(()=>e&&r&&r(o),[o,r,e]);return!n&&r?[!1,s]:[!0]}function YY(){return aRe(D.useContext(t0))}function aRe(e){return e===null?!0:e.isPresent}const dS=e=>e.key||"";function rV(e){const t=[];return D.Children.forEach(e,n=>{D.isValidElement(n)&&t.push(n)}),t}const xR=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:o="sync",propagate:s=!1,anchorX:a="left",root:l})=>{const[u,d]=GY(s),f=D.useMemo(()=>rV(e),[e]),g=s&&!u?[]:f.map(dS),m=D.useRef(!0),b=D.useRef(f),x=Ng(()=>new Map),[k,T]=D.useState(f),[E,$]=D.useState(f);e0(()=>{m.current=!1,b.current=f;for(let R=0;R<E.length;R++){const z=dS(E[R]);g.includes(z)?x.delete(z):x.get(z)!==!0&&x.set(z,!1)}},[E,g.length,g.join("-")]);const P=[];if(f!==k){let R=[...f];for(let z=0;z<E.length;z++){const F=E[z],q=dS(F);g.includes(q)||(R.splice(z,0,F),P.push(F))}return o==="wait"&&P.length&&(R=P),$(rV(R)),T(f),null}const{forceRender:M}=D.useContext(vx);return O.jsx(O.Fragment,{children:E.map(R=>{const z=dS(R),F=s&&!u?!1:f===E||g.includes(z),q=()=>{if(x.has(z))x.set(z,!0);else return;let Z=!0;x.forEach(re=>{re||(Z=!1)}),Z&&(M?.(),$(b.current),s&&d?.(),r&&r())};return O.jsx(oRe,{isPresent:F,initial:!m.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:o,root:l,onExitComplete:F?void 0:q,anchorX:a,children:R},z)})})},lRe=D.createContext(null);function uRe(){const e=D.useRef(!1);return e0(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function cRe(){const e=uRe(),[t,n]=D.useState(0),r=D.useCallback(()=>{e.current&&n(t+1)},[t]);return[D.useCallback(()=>Ke.postRender(r),[r]),t]}const dRe=e=>!e.isLayoutDirty&&e.willUpdate(!1);function iV(){const e=new Set,t=new WeakMap,n=()=>e.forEach(dRe);return{add:r=>{e.add(r),t.set(r,r.addEventListener("willUpdate",n))},remove:r=>{e.delete(r);const i=t.get(r);i&&(i(),t.delete(r)),n()},dirty:n}}const XY=e=>e===!0,fRe=e=>XY(e===!0)||e==="id",pRe=({children:e,id:t,inherit:n=!0})=>{const r=D.useContext(vx),i=D.useContext(lRe),[o,s]=cRe(),a=D.useRef(null),l=r.id||i;a.current===null&&(fRe(n)&&l&&(t=t?l+"-"+t:l),a.current={id:t,group:XY(n)&&r.group||iV()});const u=D.useMemo(()=>({...a.current,forceRender:o}),[s]);return O.jsx(vx.Provider,{value:u,children:e})},QY=D.createContext({strict:!1}),oV={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fg={};for(const e in oV)fg[e]={isEnabled:t=>oV[e].some(n=>!!t[n])};function hRe(e){for(const t in e)fg[t]={...fg[t],...e[t]}}const mRe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function g_(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||mRe.has(e)}let eX=e=>!g_(e);function tX(e){typeof e=="function"&&(eX=t=>t.startsWith("on")?!g_(t):e(t))}try{tX(require("@emotion/is-prop-valid").default)}catch{}function gRe(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(eX(i)||n===!0&&g_(i)||!t&&!g_(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function yRe({children:e,isValidProp:t,...n}){t&&tX(t),n={...D.useContext(ju),...n},n.isStatic=Ng(()=>n.isStatic);const r=D.useMemo(()=>n,[JSON.stringify(n.transition),n.transformPagePoint,n.reducedMotion]);return O.jsx(ju.Provider,{value:r,children:e})}const eT=D.createContext({});function tT(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function bx(e){return typeof e=="string"||Array.isArray(e)}const wR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],SR=["initial",...wR];function nT(e){return tT(e.animate)||SR.some(t=>bx(e[t]))}function nX(e){return!!(nT(e)||e.variants)}function vRe(e,t){if(nT(e)){const{initial:n,animate:r}=e;return{initial:n===!1||bx(n)?n:void 0,animate:bx(r)?r:void 0}}return e.inherit!==!1?t:{}}function bRe(e){const{initial:t,animate:n}=vRe(e,D.useContext(eT));return D.useMemo(()=>({initial:t,animate:n}),[sV(t),sV(n)])}function sV(e){return Array.isArray(e)?e.join(" "):e}const xx={};function rX(e){for(const t in e)xx[t]=e[t],mp(t)&&(xx[t].isCSSVariable=!0)}function iX(e,{layout:t,layoutId:n}){return Li.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!xx[e]||e==="opacity")}const xRe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},wRe=Gs.length;function SRe(e,t,n){let r="",i=!0;for(let o=0;o<wRe;o++){const s=Gs[o],a=e[s];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(s.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const u=wg(a,vp[s]);if(!l){i=!1;const d=xRe[s]||s;r+=`${d}(${u}) `}n&&(t[s]=u)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function kR(e,t,n){const{style:r,vars:i,transformOrigin:o}=e;let s=!1,a=!1;for(const l in t){const u=t[l];if(Li.has(l)){s=!0;continue}else if(mp(l)){i[l]=u;continue}else{const d=wg(u,vp[l]);l.startsWith("origin")?(a=!0,o[l]=d):r[l]=d}}if(t.transform||(s||n?r.transform=SRe(t,e.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:u="50%",originZ:d=0}=o;r.transformOrigin=`${l} ${u} ${d}`}}const _R=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oX(e,t,n){for(const r in t)!$t(t[r])&&!iX(r,n)&&(e[r]=t[r])}function kRe({transformTemplate:e},t){return D.useMemo(()=>{const n=_R();return kR(n,t,e),Object.assign({},n.vars,n.style)},[t])}function _Re(e,t){const n=e.style||{},r={};return oX(r,n,e),Object.assign(r,kRe(e,t)),r}function TRe(e,t){const n={},r=_Re(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const CRe={offset:"stroke-dashoffset",array:"stroke-dasharray"},ERe={offset:"strokeDashoffset",array:"strokeDasharray"};function IRe(e,t,n=1,r=0,i=!0){e.pathLength=1;const o=i?CRe:ERe;e[o.offset]=ut.transform(-r);const s=ut.transform(t),a=ut.transform(n);e[o.array]=`${s} ${a}`}function sX(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:o=1,pathOffset:s=0,...a},l,u,d){if(kR(e,a,u),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:g}=e;f.transform&&(g.transform=f.transform,delete f.transform),(g.transform||f.transformOrigin)&&(g.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),g.transform&&(g.transformBox=d?.transformBox??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&IRe(f,i,o,s,!1)}const aX=()=>({..._R(),attrs:{}}),lX=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ARe(e,t,n,r){const i=D.useMemo(()=>{const o=aX();return sX(o,t,lX(r),e.transformTemplate,e.style),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};oX(o,e.style,e),i.style={...o,...i.style}}return i}const $Re=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function TR(e){return typeof e!="string"||e.includes("-")?!1:!!($Re.indexOf(e)>-1||/[A-Z]/u.test(e))}function PRe(e,t,n,{latestValues:r},i,o=!1){const a=(TR(e)?ARe:TRe)(t,r,i,e),l=gRe(t,typeof e=="string",o),u=e!==D.Fragment?{...l,...a,ref:n}:{},{children:d}=t,f=D.useMemo(()=>$t(d)?d.get():d,[d]);return D.createElement(e,{...u,children:f})}function aV(e){const t=[{},{}];return e?.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function CR(e,t,n,r){if(typeof t=="function"){const[i,o]=aV(r);t=t(n!==void 0?n:e.custom,i,o)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,o]=aV(r);t=t(n!==void 0?n:e.custom,i,o)}return t}function JS(e){return $t(e)?e.get():e}function MRe({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:ORe(n,r,i,e),renderState:t()}}function ORe(e,t,n,r){const i={},o=r(e,{});for(const g in o)i[g]=JS(o[g]);let{initial:s,animate:a}=e;const l=nT(e),u=nX(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?a:s;if(f&&typeof f!="boolean"&&!tT(f)){const g=Array.isArray(f)?f:[f];for(let m=0;m<g.length;m++){const b=CR(e,g[m]);if(b){const{transitionEnd:x,transition:k,...T}=b;for(const E in T){let $=T[E];if(Array.isArray($)){const P=d?$.length-1:0;$=$[P]}$!==null&&(i[E]=$)}for(const E in x)i[E]=x[E]}}}return i}const uX=e=>(t,n)=>{const r=D.useContext(eT),i=D.useContext(t0),o=()=>MRe(e,t,r,i);return n?o():Ng(o)};function ER(e,t,n){const{style:r}=e,i={};for(const o in r)($t(r[o])||t.style&&$t(t.style[o])||iX(o,e)||n?.getValue(o)?.liveStyle!==void 0)&&(i[o]=r[o]);return i}const NRe=uX({scrapeMotionValuesFromProps:ER,createRenderState:_R});function cX(e,t,n){const r=ER(e,t,n);for(const i in e)if($t(e[i])||$t(t[i])){const o=Gs.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[o]=e[i]}return r}const RRe=uX({scrapeMotionValuesFromProps:cX,createRenderState:aX}),DRe=Symbol.for("motionComponentSymbol");function km(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function jRe(e,t,n){return D.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):km(n)&&(n.current=r))},[t])}const IR=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),LRe="framerAppearId",dX="data-"+IR(LRe),fX=D.createContext({});function zRe(e,t,n,r,i){const{visualElement:o}=D.useContext(eT),s=D.useContext(QY),a=D.useContext(t0),l=D.useContext(ju).reducedMotion,u=D.useRef(null);r=r||s.renderer,!u.current&&r&&(u.current=r(e,{visualState:t,parent:o,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,f=D.useContext(fX);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&FRe(u.current,n,i,f);const g=D.useRef(!1);D.useInsertionEffect(()=>{d&&g.current&&d.update(n,a)});const m=n[dX],b=D.useRef(!!m&&!window.MotionHandoffIsComplete?.(m)&&window.MotionHasOptimisedAnimation?.(m));return e0(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),b.current&&d.animationState&&d.animationState.animateChanges())}),D.useEffect(()=>{d&&(!b.current&&d.animationState&&d.animationState.animateChanges(),b.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(m)}),b.current=!1),d.enteringChildren=void 0)}),d}function FRe(e,t,n,r){const{layoutId:i,layout:o,drag:s,dragConstraints:a,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:pX(e.parent)),e.projection.setOptions({layoutId:i,layout:o,alwaysMeasureLayout:!!s||a&&km(a),visualElement:e,animationType:typeof o=="string"?o:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:l,layoutRoot:u})}function pX(e){if(e)return e.options.allowProjection!==!1?e.projection:pX(e.parent)}function $E(e,{forwardMotionProps:t=!1}={},n,r){n&&hRe(n);const i=TR(e)?RRe:NRe;function o(a,l){let u;const d={...D.useContext(ju),...a,layoutId:VRe(a)},{isStatic:f}=d,g=bRe(a),m=i(a,f);if(!f&&bR){BRe();const b=URe(d);u=b.MeasureLayout,g.visualElement=zRe(e,m,d,r,b.ProjectionNode)}return O.jsxs(eT.Provider,{value:g,children:[u&&g.visualElement?O.jsx(u,{visualElement:g.visualElement,...d}):null,PRe(e,a,jRe(m,g.visualElement,l),m,f,t)]})}o.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const s=D.forwardRef(o);return s[DRe]=e,s}function VRe({layoutId:e}){const t=D.useContext(vx).id;return t&&e!==void 0?t+"-"+e:e}function BRe(e,t){D.useContext(QY).strict}function URe(e){const{drag:t,layout:n}=fg;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t?.isEnabled(e)||n?.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function ZRe(e,t){if(typeof Proxy>"u")return $E;const n=new Map,r=(o,s)=>$E(o,s,e,t),i=(o,s)=>r(o,s);return new Proxy(i,{get:(o,s)=>s==="create"?r:(n.has(s)||n.set(s,$E(s,void 0,e,t)),n.get(s))})}function hX({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function WRe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function HRe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function PE(e){return e===void 0||e===1}function C$({scale:e,scaleX:t,scaleY:n}){return!PE(e)||!PE(t)||!PE(n)}function _f(e){return C$(e)||mX(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function mX(e){return lV(e.x)||lV(e.y)}function lV(e){return e&&e!=="0%"}function y_(e,t,n){const r=e-n,i=t*r;return n+i}function uV(e,t,n,r,i){return i!==void 0&&(e=y_(e,i,r)),y_(e,n,r)+t}function E$(e,t=0,n=1,r,i){e.min=uV(e.min,t,n,r,i),e.max=uV(e.max,t,n,r,i)}function gX(e,{x:t,y:n}){E$(e.x,t.translate,t.scale,t.originPoint),E$(e.y,n.translate,n.scale,n.originPoint)}const cV=.999999999999,dV=1.0000000000001;function qRe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let o,s;for(let a=0;a<i;a++){o=n[a],s=o.projectionDelta;const{visualElement:l}=o.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Tm(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,gX(e,s)),r&&_f(o.latestValues)&&Tm(e,o.latestValues))}t.x<dV&&t.x>cV&&(t.x=1),t.y<dV&&t.y>cV&&(t.y=1)}function _m(e,t){e.min=e.min+t,e.max=e.max+t}function fV(e,t,n,r,i=.5){const o=St(e.min,e.max,i);E$(e,t,n,o,r)}function Tm(e,t){fV(e.x,t.x,t.scaleX,t.scale,t.originX),fV(e.y,t.y,t.scaleY,t.scale,t.originY)}function yX(e,t){return hX(HRe(e.getBoundingClientRect(),t))}function JRe(e,t,n){const r=yX(e,n),{scroll:i}=t;return i&&(_m(r.x,i.offset.x),_m(r.y,i.offset.y)),r}const pV=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cm=()=>({x:pV(),y:pV()}),hV=()=>({min:0,max:0}),mr=()=>({x:hV(),y:hV()}),v_={current:null},AR={current:!1};function vX(){if(AR.current=!0,!!bR)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>v_.current=e.matches;e.addEventListener("change",t),t()}else v_.current=!1}const wx=new WeakMap;function KRe(e,t,n){for(const r in t){const i=t[r],o=n[r];if($t(i))e.addValue(r,i);else if($t(o))e.addValue(r,Tr(i,{owner:e}));else if(o!==i)if(e.hasValue(r)){const s=e.getValue(r);s.liveStyle===!0?s.jump(i):s.hasAnimated||s.set(i)}else{const s=e.getStaticValue(r);e.addValue(r,Tr(s!==void 0?s:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const mV=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bX{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:o,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ox,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=ni.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Ke.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=u,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!o,this.isControllingVariants=nT(n),this.isVariantNode=nX(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in f){const m=f[g];l[g]!==void 0&&$t(m)&&m.set(l[g])}}mount(t){this.current=t,wx.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),AR.current||vX(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:v_.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Dn(this.notifyUpdate),Dn(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Li.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&Ke.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in fg){const n=fg[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<mV.length;r++){const i=mV[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o="on"+i,s=t[o];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=KRe(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Tr(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(I_(r)||A_(r))?r=parseFloat(r):!VP(r)&&Ks.test(n)&&(r=W_(t,n)),this.setBaseTarget(t,$t(r)?r.get():r)),$t(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=CR(this.props,n,this.presenceContext?.custom);o&&(r=o[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!$t(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new bg),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){cd.render(this.render)}}class xX extends bX{constructor(){super(...arguments),this.KeyframeResolver=$P}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;$t(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function wX(e,{style:t,vars:n},r,i){const o=e.style;let s;for(s in t)o[s]=t[s];i?.applyProjectionStyles(o,r);for(s in n)o.setProperty(s,n[s])}function GRe(e){return window.getComputedStyle(e)}class SX extends xX{constructor(){super(...arguments),this.type="html",this.renderInstance=wX}readValueFromInstance(t,n){if(Li.has(n))return this.projection?.isProjecting?yb(n):SP(t,n);{const r=GRe(t),i=(mp(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return yX(t,n)}build(t,n,r){kR(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return ER(t,n,r)}}const kX=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function YRe(e,t,n,r){wX(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(kX.has(i)?i:IR(i),t.attrs[i])}class _X extends xX{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mr}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Li.has(n)){const r=Z_(n);return r&&r.default||0}return n=kX.has(n)?n:IR(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return cX(t,n,r)}build(t,n,r){sX(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){YRe(t,n,r,i)}mount(t){this.isSVGTag=lX(t.tagName),super.mount(t)}}const XRe=(e,t)=>TR(e)?new _X(t):new SX(t,{allowProjection:e!==D.Fragment});function Dm(e,t,n){const r=e.getProps();return CR(r,t,n!==void 0?n:r.custom,e)}const I$=e=>Array.isArray(e);function QRe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Tr(n))}function eDe(e){return I$(e)?e[e.length-1]||0:e}function tDe(e,t){const n=Dm(e,t);let{transitionEnd:r={},transition:i={},...o}=n||{};o={...o,...r};for(const s in o){const a=eDe(o[s]);QRe(e,s,a)}}function nDe(e){return!!($t(e)&&e.add)}function A$(e,t){const n=e.getValue("willChange");if(nDe(n))return n.add(t);if(!n&&bi.WillChange){const r=new bi.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function TX(e){return e.props[dX]}const rDe=e=>e!==null;function iDe(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(rDe),o=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[o]}const oDe={type:"spring",stiffness:500,damping:25,restSpeed:10},sDe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),aDe={type:"keyframes",duration:.8},lDe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uDe=(e,{keyframes:t})=>t.length>2?aDe:Li.has(e)?e.startsWith("scale")?sDe(t[1]):oDe:lDe;function cDe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const $R=(e,t,n,r={},i,o)=>s=>{const a=Ea(r,e)||{},l=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-lr(l);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...a,delay:-u,onUpdate:g=>{t.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{s(),a.onComplete&&a.onComplete()},name:e,motionValue:t,element:o?void 0:i};cDe(a)||Object.assign(d,uDe(e,d)),d.duration&&(d.duration=lr(d.duration)),d.repeatDelay&&(d.repeatDelay=lr(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(sk(d),d.delay===0&&(f=!0)),(bi.instantAnimations||bi.skipAnimations)&&(f=!0,sk(d),d.delay=0),d.allowFlatten=!a.type&&!a.ease,f&&!o&&t.get()!==void 0){const g=iDe(d.keyframes,a);if(g!==void 0){Ke.update(()=>{d.onUpdate(g),d.onComplete()});return}}return a.isSync?new yp(d):new CP(d)};function dDe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function PR(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:s,...a}=t;r&&(o=r);const l=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in a){const f=e.getValue(d,e.latestValues[d]??null),g=a[d];if(g===void 0||u&&dDe(u,d))continue;const m={delay:n,...Ea(o||{},d)},b=f.get();if(b!==void 0&&!f.isAnimating&&!Array.isArray(g)&&g===b&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const T=TX(e);if(T){const E=window.MotionHandoffAnimation(T,d,Ke);E!==null&&(m.startTime=E,x=!0)}}A$(e,d),f.start($R(d,f,g,e.shouldReduceMotion&&U_.has(d)?{type:!1}:m,e,x));const k=f.animation;k&&l.push(k)}return s&&Promise.all(l).then(()=>{Ke.update(()=>{s&&tDe(e,s)})}),l}function CX(e,t,n,r=0,i=1){const o=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),s=e.size,a=(s-1)*r;return typeof n=="function"?n(o,s):i===1?o*r:a-o*r}function $$(e,t,n={}){const r=Dm(e,t,n.type==="exit"?e.presenceContext?.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(PR(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return fDe(e,t,l,u,d,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,u]=a==="beforeChildren"?[o,s]:[s,o];return l().then(()=>u())}else return Promise.all([o(),s(n.delay)])}function fDe(e,t,n=0,r=0,i=0,o=1,s){const a=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),a.push($$(l,t,{...s,delay:n+(typeof r=="function"?0:r)+CX(e.variantChildren,l,r,i,o)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(a)}function pDe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(o=>$$(e,o,n));r=Promise.all(i)}else if(typeof t=="string")r=$$(e,t,n);else{const i=typeof t=="function"?Dm(e,t,n.custom):t;r=Promise.all(PR(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function EX(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const hDe=SR.length;function IX(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?IX(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<hDe;n++){const r=SR[n],i=e.props[r];(bx(i)||i===!1)&&(t[r]=i)}return t}const mDe=[...wR].reverse(),gDe=wR.length;function yDe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>pDe(e,n,r)))}function vDe(e){let t=yDe(e),n=gV(),r=!0;const i=l=>(u,d)=>{const f=Dm(e,d,l==="exit"?e.presenceContext?.custom:void 0);if(f){const{transition:g,transitionEnd:m,...b}=f;u={...u,...b,...m}}return u};function o(l){t=l(e)}function s(l){const{props:u}=e,d=IX(e.parent)||{},f=[],g=new Set;let m={},b=1/0;for(let k=0;k<gDe;k++){const T=mDe[k],E=n[T],$=u[T]!==void 0?u[T]:d[T],P=bx($),M=T===l?E.isActive:null;M===!1&&(b=k);let R=$===d[T]&&$!==u[T]&&P;if(R&&r&&e.manuallyAnimateOnMount&&(R=!1),E.protectedKeys={...m},!E.isActive&&M===null||!$&&!E.prevProp||tT($)||typeof $=="boolean")continue;const z=bDe(E.prevProp,$);let F=z||T===l&&E.isActive&&!R&&P||k>b&&P,q=!1;const Z=Array.isArray($)?$:[$];let re=Z.reduce(i(T),{});M===!1&&(re={});const{prevResolvedValues:ee={}}=E,ne={...ee,...re},se=ie=>{F=!0,g.has(ie)&&(q=!0,g.delete(ie)),E.needsAnimating[ie]=!0;const J=e.getValue(ie);J&&(J.liveStyle=!1)};for(const ie in ne){const J=re[ie],le=ee[ie];if(m.hasOwnProperty(ie))continue;let B=!1;I$(J)&&I$(le)?B=!EX(J,le):B=J!==le,B?J!=null?se(ie):g.add(ie):J!==void 0&&g.has(ie)?se(ie):E.protectedKeys[ie]=!0}E.prevProp=$,E.prevResolvedValues=re,E.isActive&&(m={...m,...re}),r&&e.blockInitialAnimation&&(F=!1);const ue=R&&z;F&&(!ue||q)&&f.push(...Z.map(ie=>{const J={type:T};if(typeof ie=="string"&&r&&!ue&&e.manuallyAnimateOnMount&&e.parent){const{parent:le}=e,B=Dm(le,ie);if(le.enteringChildren&&B){const{delayChildren:G}=B.transition||{};J.delay=CX(le.enteringChildren,e,G)}}return{animation:ie,options:J}}))}if(g.size){const k={};if(typeof u.initial!="boolean"){const T=Dm(e,Array.isArray(u.initial)?u.initial[0]:u.initial);T&&T.transition&&(k.transition=T.transition)}g.forEach(T=>{const E=e.getBaseTarget(T),$=e.getValue(T);$&&($.liveStyle=!0),k[T]=E??null}),f.push({animation:k})}let x=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(f):Promise.resolve()}function a(l,u){if(n[l].isActive===u)return Promise.resolve();e.variantChildren?.forEach(f=>f.animationState?.setActive(l,u)),n[l].isActive=u;const d=s(l);for(const f in n)n[f].protectedKeys={};return d}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n,reset:()=>{n=gV(),r=!0}}}function bDe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!EX(t,e):!1}function gf(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function gV(){return{animate:gf(!0),whileInView:gf(),whileHover:gf(),whileTap:gf(),whileDrag:gf(),whileFocus:gf(),exit:gf()}}class gd{constructor(t){this.isMounted=!1,this.node=t}update(){}}class xDe extends gd{constructor(t){super(t),t.animationState||(t.animationState=vDe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();tT(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let wDe=0;class SDe extends gd{constructor(){super(...arguments),this.id=wDe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const kDe={animation:{Feature:xDe},exit:{Feature:SDe}};function Sx(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function n0(e){return{point:{x:e.pageX,y:e.pageY}}}const _De=e=>t=>Sg(t)&&e(t,n0(t));function ob(e,t,n,r){return Sx(e,t,_De(n),r)}const AX=1e-4,TDe=1-AX,CDe=1+AX,$X=.01,EDe=0-$X,IDe=0+$X;function io(e){return e.max-e.min}function ADe(e,t,n){return Math.abs(e-t)<=n}function yV(e,t,n,r=.5){e.origin=r,e.originPoint=St(t.min,t.max,e.origin),e.scale=io(n)/io(t),e.translate=St(n.min,n.max,e.origin)-e.originPoint,(e.scale>=TDe&&e.scale<=CDe||isNaN(e.scale))&&(e.scale=1),(e.translate>=EDe&&e.translate<=IDe||isNaN(e.translate))&&(e.translate=0)}function sb(e,t,n,r){yV(e.x,t.x,n.x,r?r.originX:void 0),yV(e.y,t.y,n.y,r?r.originY:void 0)}function vV(e,t,n){e.min=n.min+t.min,e.max=e.min+io(t)}function $De(e,t,n){vV(e.x,t.x,n.x),vV(e.y,t.y,n.y)}function bV(e,t,n){e.min=t.min-n.min,e.max=e.min+io(t)}function ab(e,t,n){bV(e.x,t.x,n.x),bV(e.y,t.y,n.y)}function Ds(e){return[e("x"),e("y")]}const PX=({current:e})=>e?e.ownerDocument.defaultView:null,xV=(e,t)=>Math.abs(e-t);function PDe(e,t){const n=xV(e.x,t.x),r=xV(e.y,t.y);return Math.sqrt(n**2+r**2)}class MX{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:o=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=OE(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,b=PDe(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!b)return;const{point:x}=g,{timestamp:k}=hn;this.history.push({...x,timestamp:k});const{onStart:T,onMove:E}=this.handlers;m||(T&&T(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,g)},this.handlePointerMove=(g,m)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=ME(m,this.transformPagePoint),Ke.update(this.updatePoint,!0)},this.handlePointerUp=(g,m)=>{this.end();const{onEnd:b,onSessionEnd:x,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=OE(g.type==="pointercancel"?this.lastMoveEventInfo:ME(m,this.transformPagePoint),this.history);this.startEvent&&b&&b(g,T),x&&x(g,T)},!Sg(t))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=s,this.contextWindow=i||window;const a=n0(t),l=ME(a,this.transformPagePoint),{point:u}=l,{timestamp:d}=hn;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=n;f&&f(t,OE(l,this.history)),this.removeListeners=ud(ob(this.contextWindow,"pointermove",this.handlePointerMove),ob(this.contextWindow,"pointerup",this.handlePointerUp),ob(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Dn(this.updatePoint)}}function ME(e,t){return t?{point:t(e.point)}:e}function wV(e,t){return{x:e.x-t.x,y:e.y-t.y}}function OE({point:e},t){return{point:e,delta:wV(e,OX(t)),offset:wV(e,MDe(t)),velocity:ODe(t,.1)}}function MDe(e){return e[0]}function OX(e){return e[e.length-1]}function ODe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=OX(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>lr(t)));)n--;if(!r)return{x:0,y:0};const o=$o(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function NDe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?St(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?St(n,e,r.max):Math.min(e,n)),e}function SV(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function RDe(e,{top:t,left:n,bottom:r,right:i}){return{x:SV(e.x,n,i),y:SV(e.y,t,r)}}function kV(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function DDe(e,t){return{x:kV(e.x,t.x),y:kV(e.y,t.y)}}function jDe(e,t){let n=.5;const r=io(e),i=io(t);return i>r?n=Js(t.min,t.max-r,e.min):r>i&&(n=Js(e.min,e.max-i,t.min)),Do(0,1,n)}function LDe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const P$=.35;function zDe(e=P$){return e===!1?e=0:e===!0&&(e=P$),{x:_V(e,"left","right"),y:_V(e,"top","bottom")}}function _V(e,t,n){return{min:TV(e,t),max:TV(e,n)}}function TV(e,t){return typeof e=="number"?e:e[t]||0}const FDe=new WeakMap;class VDe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=f=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(n0(f).point)},s=(f,g)=>{const{drag:m,dragPropagation:b,onDragStart:x}=this.getProps();if(m&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=OP(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ds(T=>{let E=this.getAxisMotionValue(T).get()||0;if(oo.test(E)){const{projection:$}=this.visualElement;if($&&$.layout){const P=$.layout.layoutBox[T];P&&(E=io(P)*(parseFloat(E)/100))}}this.originPoint[T]=E}),x&&Ke.postRender(()=>x(f,g)),A$(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},a=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g;const{dragPropagation:m,dragDirectionLock:b,onDirectionLock:x,onDrag:k}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:T}=g;if(b&&this.currentDirection===null){this.currentDirection=BDe(T),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",g.point,T),this.updateAxis("y",g.point,T),this.visualElement.render(),k&&k(f,g)},l=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g,this.stop(f,g),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Ds(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:d}=this.getProps();this.panSession=new MX(t,{onSessionStart:o,onStart:s,onMove:a,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:PX(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,o=this.isDragging;if(this.cancel(),!o||!i||!r)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ke.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!fS(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=NDe(s,this.constraints[t],this.elastic[t])),o.set(s)}resolveConstraints(){const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,i=this.constraints;t&&km(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=RDe(r.layoutBox,t):this.constraints=!1,this.elastic=zDe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ds(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=LDe(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!km(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=JRe(r,i.root,this.visualElement.getTransformPagePoint());let s=DDe(i.layout.layoutBox,o);if(n){const a=n(WRe(s));this.hasMutatedConstraints=!!a,a&&(s=hX(a))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=Ds(d=>{if(!fS(d,n,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const g=i?200:1e6,m=i?40:1e7,b={type:"inertia",velocity:r?t[d]:0,bounceStiffness:g,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...o,...f};return this.startAxisValueAnimation(d,b)});return Promise.all(u).then(a)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return A$(this.visualElement,t),r.start($R(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ds(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ds(t=>this.getAxisMotionValue(t).animation?.pause())}getAnimationState(t){return this.getAxisMotionValue(t).animation?.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ds(n=>{const{drag:r}=this.getProps();if(!fS(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.layoutBox[n];o.set(t[n]-St(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!km(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ds(s=>{const a=this.getAxisMotionValue(s);if(a&&this.constraints!==!1){const l=a.get();i[s]=jDe({min:l,max:l},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ds(s=>{if(!fS(s,t,null))return;const a=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];a.set(St(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;FDe.set(this.visualElement,this);const t=this.visualElement.current,n=ob(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();km(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ke.read(r);const s=Sx(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ds(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())}));return()=>{s(),n(),o(),a&&a()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=P$,dragMomentum:a=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function fS(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function BDe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class UDe extends gd{constructor(t){super(t),this.removeGroupControls=rr,this.removeListeners=rr,this.controls=new VDe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||rr}unmount(){this.removeGroupControls(),this.removeListeners()}}const CV=e=>(t,n)=>{e&&Ke.postRender(()=>e(t,n))};class ZDe extends gd{constructor(){super(...arguments),this.removePointerDownListener=rr}onPointerDown(t){this.session=new MX(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:PX(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:CV(t),onStart:CV(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&Ke.postRender(()=>i(o,s))}}}mount(){this.removePointerDownListener=ob(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const KS={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function EV(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const vv={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ut.test(e))e=parseFloat(e);else return e;const n=EV(e,t.target.x),r=EV(e,t.target.y);return`${n}% ${r}%`}},WDe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Ks.parse(e);if(i.length>5)return r;const o=Ks.createTransformer(e),s=typeof i[0]!="number"?1:0,a=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=a,i[1+s]/=l;const u=St(a,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),o(i)}};let NE=!1;class HDe extends D.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=t;rX(qDe),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),NE&&o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),KS.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,{projection:s}=r;return s&&(s.isPresent=o,NE=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==o?s.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?s.promote():s.relegate()||Ke.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),cd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;NE=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function NX(e){const[t,n]=GY(),r=D.useContext(vx);return O.jsx(HDe,{...e,layoutGroup:r,switchLayoutGroup:D.useContext(fX),isPresent:t,safeToRemove:n})}const qDe={borderRadius:{...vv,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:vv,borderTopRightRadius:vv,borderBottomLeftRadius:vv,borderBottomRightRadius:vv,boxShadow:WDe};function RX(e,t,n){const r=$t(e)?e:Tr(e);return r.start($R("",r,t,n)),r.animation}const JDe=(e,t)=>e.depth-t.depth;class KDe{constructor(){this.children=[],this.isDirty=!1}add(t){vg(this.children,t),this.isDirty=!0}remove(t){Fu(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(JDe),this.isDirty=!1,this.children.forEach(t)}}function GDe(e,t){const n=ni.now(),r=({timestamp:i})=>{const o=i-n;o>=t&&(Dn(r),e(o-t))};return Ke.setup(r,!0),()=>Dn(r)}const DX=["TopLeft","TopRight","BottomLeft","BottomRight"],YDe=DX.length,IV=e=>typeof e=="string"?parseFloat(e):e,AV=e=>typeof e=="number"||ut.test(e);function XDe(e,t,n,r,i,o){i?(e.opacity=St(0,n.opacity??1,QDe(r)),e.opacityExit=St(t.opacity??1,0,eje(r))):o&&(e.opacity=St(t.opacity??1,n.opacity??1,r));for(let s=0;s<YDe;s++){const a=`border${DX[s]}Radius`;let l=$V(t,a),u=$V(n,a);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||AV(l)===AV(u)?(e[a]=Math.max(St(IV(l),IV(u),r),0),(oo.test(u)||oo.test(l))&&(e[a]+="%")):e[a]=u}(t.rotate||n.rotate)&&(e.rotate=St(t.rotate||0,n.rotate||0,r))}function $V(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const QDe=jX(0,.5,O_),eje=jX(.5,.95,rr);function jX(e,t,n){return r=>r<e?0:r>t?1:n(Js(e,t,r))}function PV(e,t){e.min=t.min,e.max=t.max}function Ns(e,t){PV(e.x,t.x),PV(e.y,t.y)}function MV(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function OV(e,t,n,r,i){return e-=t,e=y_(e,1/n,r),i!==void 0&&(e=y_(e,1/i,r)),e}function tje(e,t=0,n=1,r=.5,i,o=e,s=e){if(oo.test(t)&&(t=parseFloat(t),t=St(s.min,s.max,t/100)-s.min),typeof t!="number")return;let a=St(o.min,o.max,r);e===o&&(a-=t),e.min=OV(e.min,t,n,a,i),e.max=OV(e.max,t,n,a,i)}function NV(e,t,[n,r,i],o,s){tje(e,t[n],t[r],t[i],t.scale,o,s)}const nje=["x","scaleX","originX"],rje=["y","scaleY","originY"];function RV(e,t,n,r){NV(e.x,t,nje,n?n.x:void 0,r?r.x:void 0),NV(e.y,t,rje,n?n.y:void 0,r?r.y:void 0)}function DV(e){return e.translate===0&&e.scale===1}function LX(e){return DV(e.x)&&DV(e.y)}function jV(e,t){return e.min===t.min&&e.max===t.max}function ije(e,t){return jV(e.x,t.x)&&jV(e.y,t.y)}function LV(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function zX(e,t){return LV(e.x,t.x)&&LV(e.y,t.y)}function zV(e){return io(e.x)/io(e.y)}function FV(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class oje{constructor(){this.members=[]}add(t){vg(this.members,t),t.scheduleRender()}remove(t){if(Fu(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sje(e,t,n){let r="";const i=e.x.translate/t.x,o=e.y.translate/t.y,s=n?.z||0;if((i||o||s)&&(r=`translate3d(${i}px, ${o}px, ${s}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:g,skewX:m,skewY:b}=n;u&&(r=`perspective(${u}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),g&&(r+=`rotateY(${g}deg) `),m&&(r+=`skewX(${m}deg) `),b&&(r+=`skewY(${b}deg) `)}const a=e.x.scale*t.x,l=e.y.scale*t.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Tf={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},RE=["","X","Y","Z"],aje=1e3;let lje=0;function DE(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function FX(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=TX(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:o}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ke,!(i||o))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&FX(r)}function VX({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},a=t?.()){this.id=lje++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ar.value&&(Tf.nodes=Tf.calculatedTargetDeltas=Tf.calculatedProjections=0),this.nodes.forEach(dje),this.nodes.forEach(mje),this.nodes.forEach(gje),this.nodes.forEach(fje),ar.addProjectionMetrics&&ar.addProjectionMetrics(Tf)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new KDe)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new bg),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=bp(s)&&!Dx(s),this.instance=s;const{layoutId:a,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),e){let d,f=0;const g=()=>this.root.updateBlockedByResize=!1;Ke.read(()=>{f=window.innerWidth}),e(s,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=GDe(g,250),KS.hasAnimatedSinceResize&&(KS.hasAnimatedSinceResize=!1,this.nodes.forEach(UV)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:g,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||wje,{onLayoutAnimationStart:x,onLayoutAnimationComplete:k}=u.getProps(),T=!this.targetLayout||!zX(this.targetLayout,m),E=!f&&g;if(this.options.layoutRoot||this.resumeFrom||E||f&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const $={...Ea(b,"layout"),onPlay:x,onComplete:k};(u.shouldReduceMotion||this.options.layoutRoot)&&($.delay=0,$.type=!1),this.startAnimation($),this.setAnimationOrigin(d,E)}else f||UV(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Dn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(yje),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&FX(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(VV);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(BV);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(hje),this.nodes.forEach(uje),this.nodes.forEach(cje)):this.nodes.forEach(BV),this.clearAllSnapshots();const a=ni.now();hn.delta=Do(0,1e3/60,a-hn.timestamp),hn.timestamp=a,hn.isProcessing=!0,Lf.update.process(hn),Lf.preRender.process(hn),Lf.render.process(hn),hn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,cd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pje),this.sharedNodes.forEach(vje)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!io(this.snapshot.measuredBox.x)&&!io(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!LX(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&this.instance&&(a||_f(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),Sje(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return mr();const a=s.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(kje))){const{scroll:u}=this.root;u&&(_m(a.x,u.offset.x),_m(a.y,u.offset.y))}return a}removeElementScroll(s){const a=mr();if(Ns(a,s),this.scroll?.wasRoot)return a;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Ns(a,s),_m(a.x,d.offset.x),_m(a.y,d.offset.y))}return a}applyTransform(s,a=!1){const l=mr();Ns(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Tm(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),_f(d.latestValues)&&Tm(l,d.latestValues)}return _f(this.latestValues)&&Tm(l,this.latestValues),l}removeTransform(s){const a=mr();Ns(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!_f(u.latestValues))continue;C$(u.latestValues)&&u.updateSnapshot();const d=mr(),f=u.measurePageBox();Ns(d,f),RV(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return _f(this.latestValues)&&RV(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=hn.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mr(),this.relativeTargetOrigin=mr(),ab(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=mr(),this.targetWithTransforms=mr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$De(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ns(this.target,this.layout.layoutBox),gX(this.target,this.targetDelta)):Ns(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mr(),this.relativeTargetOrigin=mr(),ab(this.relativeTargetOrigin,this.target,g.target),Ns(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ar.value&&Tf.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||C$(this.parent.latestValues)||mX(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const s=this.getLead(),a=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===hn.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ns(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;qRe(this.layoutCorrected,this.treeScale,this.path,a),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=mr());const{target:m}=s;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(MV(this.prevProjectionDelta.x,this.projectionDelta.x),MV(this.prevProjectionDelta.y,this.projectionDelta.y)),sb(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!FV(this.projectionDelta.x,this.prevProjectionDelta.x)||!FV(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),ar.value&&Tf.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.visualElement?.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Cm(),this.projectionDelta=Cm(),this.projectionDeltaWithTransform=Cm()}setAnimationOrigin(s,a=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=Cm();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=mr(),m=l?l.source:void 0,b=this.layout?this.layout.source:void 0,x=m!==b,k=this.getStack(),T=!k||k.members.length<=1,E=!!(x&&!T&&this.options.crossfade===!0&&!this.path.some(xje));this.animationProgress=0;let $;this.mixTargetDelta=P=>{const M=P/1e3;ZV(f.x,s.x,M),ZV(f.y,s.y,M),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ab(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bje(this.relativeTarget,this.relativeTargetOrigin,g,M),$&&ije(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=mr()),Ns($,this.relativeTarget)),x&&(this.animationValues=d,XDe(d,u,this.latestValues,M,E,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Dn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ke.update(()=>{KS.hasAnimatedSinceResize=!0,Oo.layout++,this.motionValue||(this.motionValue=Tr(0)),this.currentAnimation=RX(this.motionValue,[0,1e3],{...s,velocity:0,isSync:!0,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onStop:()=>{Oo.layout--},onComplete:()=>{Oo.layout--,s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(aje),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:d}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&BX(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||mr();const f=io(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const g=io(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+g}Ns(a,l),Tm(a,d),sb(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new oje),this.sharedNodes.get(s).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){const{layoutId:s}=this.options;return s?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:s}=this.options;return s?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const u={};l.z&&DE("z",s,u,this.animationValues);for(let d=0;d<RE.length;d++)DE(`rotate${RE[d]}`,s,u,this.animationValues),DE(`skew${RE[d]}`,s,u,this.animationValues);s.render();for(const d in u)s.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);s.scheduleRender()}applyProjectionStyles(s,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){s.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,s.visibility="",s.opacity="",s.pointerEvents=JS(a?.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(s.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,s.pointerEvents=JS(a?.pointerEvents)||""),this.hasProjected&&!_f(this.latestValues)&&(s.transform=l?l({},""):"none",this.hasProjected=!1);return}s.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=sje(this.projectionDeltaWithTransform,this.treeScale,d);l&&(f=l(d,f)),s.transform=f;const{x:g,y:m}=this.projectionDelta;s.transformOrigin=`${g.origin*100}% ${m.origin*100}% 0`,u.animationValues?s.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:s.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const b in xx){if(d[b]===void 0)continue;const{correct:x,applyTo:k,isCSSVariable:T}=xx[b],E=f==="none"?d[b]:x(d[b],u);if(k){const $=k.length;for(let P=0;P<$;P++)s[k[P]]=E}else T?this.options.visualElement.renderState.vars[b]=E:s[b]=E}this.options.layoutId&&(s.pointerEvents=u===this?JS(a?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>s.currentAnimation?.stop()),this.root.nodes.forEach(VV),this.root.sharedNodes.clear()}}}function uje(e){e.updateLayout()}function cje(e){const t=e.resumeFrom?.snapshot||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:r}=e.layout,{animationType:i}=e.options,o=t.source!==e.layout.source;i==="size"?Ds(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],g=io(f);f.min=n[d].min,f.max=f.min+g}):BX(i,t.layoutBox,n)&&Ds(d=>{const f=o?t.measuredBox[d]:t.layoutBox[d],g=io(n[d]);f.max=f.min+g,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+g)});const s=Cm();sb(s,n,t.layoutBox);const a=Cm();o?sb(a,e.applyTransform(r,!0),t.measuredBox):sb(a,n,t.layoutBox);const l=!LX(s);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:g}=d;if(f&&g){const m=mr();ab(m,t.layoutBox,f.layoutBox);const b=mr();ab(b,n,g.layoutBox),zX(m,b)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:a,layoutDelta:s,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function dje(e){ar.value&&Tf.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function fje(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function pje(e){e.clearSnapshot()}function VV(e){e.clearMeasurements()}function BV(e){e.isLayoutDirty=!1}function hje(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function UV(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mje(e){e.resolveTargetDelta()}function gje(e){e.calcProjection()}function yje(e){e.resetSkewAndRotation()}function vje(e){e.removeLeadSnapshot()}function ZV(e,t,n){e.translate=St(t.translate,0,n),e.scale=St(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function WV(e,t,n,r){e.min=St(t.min,n.min,r),e.max=St(t.max,n.max,r)}function bje(e,t,n,r){WV(e.x,t.x,n.x,r),WV(e.y,t.y,n.y,r)}function xje(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const wje={duration:.45,ease:[.4,0,.1,1]},HV=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),qV=HV("applewebkit/")&&!HV("chrome/")?Math.round:rr;function JV(e){e.min=qV(e.min),e.max=qV(e.max)}function Sje(e){JV(e.x),JV(e.y)}function BX(e,t,n){return e==="position"||e==="preserve-aspect"&&!ADe(zV(t),zV(n),.2)}function kje(e){return e!==e.root&&e.scroll?.wasRoot}const _je=VX({attachResizeListener:(e,t)=>Sx(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jE={current:void 0},UX=VX({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!jE.current){const e=new _je({});e.mount(window),e.setOptions({layoutScroll:!0}),jE.current=e}return jE.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Tje={pan:{Feature:ZDe},drag:{Feature:UDe,ProjectionNode:UX,MeasureLayout:NX}};function KV(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,o=r[i];o&&Ke.postRender(()=>o(t,n0(t)))}class Cje extends gd{mount(){const{current:t}=this.node;t&&(this.unmount=NP(t,(n,r)=>(KV(this.node,r,"Start"),i=>KV(this.node,i,"End"))))}unmount(){}}class Eje extends gd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ud(Sx(this.node.current,"focus",()=>this.onFocus()),Sx(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function GV(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),o=r[i];o&&Ke.postRender(()=>o(t,n0(t)))}class Ije extends gd{mount(){const{current:t}=this.node;t&&(this.unmount=DP(t,(n,r)=>(GV(this.node,r,"Start"),(i,{success:o})=>GV(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const M$=new WeakMap,LE=new WeakMap,Aje=e=>{const t=M$.get(e.target);t&&t(e)},$je=e=>{e.forEach(Aje)};function Pje({root:e,...t}){const n=e||document;LE.has(n)||LE.set(n,{});const r=LE.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver($je,{root:e,...t})),r[i]}function Mje(e,t,n){const r=Pje(t);return M$.set(e,n),r.observe(e),()=>{M$.delete(e),r.unobserve(e)}}const Oje={some:0,all:1};class Nje extends gd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Oje[i]},a=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,o&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),g=u?d:f;g&&g(l)};return Mje(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Rje(t,n))&&this.startObserver()}unmount(){}}function Rje({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Dje={inView:{Feature:Nje},tap:{Feature:Ije},focus:{Feature:Eje},hover:{Feature:Cje}},jje={layout:{ProjectionNode:UX,MeasureLayout:NX}},Lje={...kDe,...Dje,...Tje,...jje},nr=ZRe(Lje,XRe);function Jv(e){const t=Ng(()=>Tr(e)),{isStatic:n}=D.useContext(ju);if(n){const[,r]=D.useState(e);D.useEffect(()=>t.on("change",r),[])}return t}function ZX(e,t){const n=Jv(t()),r=()=>n.set(t());return r(),e0(()=>{const i=()=>Ke.preRender(r,!1,!0),o=e.map(s=>s.on("change",i));return()=>{o.forEach(s=>s()),Dn(r)}}),n}function zje(e){Ia.current=[],e();const t=ZX(Ia.current,e);return Ia.current=void 0,t}function O$(e,t,n,r){if(typeof e=="function")return zje(e);const i=J_(t,n,r);return Array.isArray(e)?YV(e,i):YV([e],([o])=>i(o))}function YV(e,t){const n=Ng(()=>[]);return ZX(e,()=>{n.length=0;const r=e.length;for(let i=0;i<r;i++)n[i]=e[i].get();return t(n)})}function Fje(e){const t=D.useRef(0),{isStatic:n}=D.useContext(ju);D.useEffect(()=>{if(n)return;const r=({timestamp:i,delta:o})=>{t.current||(t.current=i),e(i-t.current,o)};return Ke.update(r,!0),()=>Dn(r)},[e])}function Vje(){!AR.current&&vX();const[e]=D.useState(v_.current);return e}function MR(e){return typeof e=="object"&&!Array.isArray(e)}function WX(e,t,n,r){return typeof e=="string"&&MR(t)?Vu(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function Bje(e,t,n){return e*(t+1)}function XV(e,t,n,r){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):r.get(t)??e}function Uje(e,t,n){for(let r=0;r<e.length;r++){const i=e[r];i.at>t&&i.at<n&&(Fu(e,i),r--)}}function Zje(e,t,n,r,i,o){Uje(e,i,o);for(let s=0;s<t.length;s++)e.push({value:t[s],at:St(i,o,r[s]),easing:$x(n,s)})}function Wje(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function Hje(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const qje="easeInOut";function Jje(e,{defaultTransition:t={},...n}={},r,i){const o=t.duration||.3,s=new Map,a=new Map,l={},u=new Map;let d=0,f=0,g=0;for(let m=0;m<e.length;m++){const b=e[m];if(typeof b=="string"){u.set(b,f);continue}else if(!Array.isArray(b)){u.set(b.name,XV(f,b.at,d,u));continue}let[x,k,T={}]=b;T.at!==void 0&&(f=XV(f,T.at,d,u));let E=0;const $=(P,M,R,z=0,F=0)=>{const q=Kje(P),{delay:Z=0,times:re=Mx(q),type:ee="keyframes",repeat:ne,repeatType:se,repeatDelay:ue=0,...me}=M;let{ease:ie=t.ease||"easeOut",duration:J}=M;const le=typeof Z=="function"?Z(z,F):Z,B=q.length,G=Nx(ee)?ee:i?.[ee||"keyframes"];if(B<=2&&G){let Ce=100;if(B===2&&Xje(q)){const je=q[1]-q[0];Ce=Math.abs(je)}const Ae={...me};J!==void 0&&(Ae.duration=lr(J));const $e=L_(Ae,Ce,G);ie=$e.ease,J=$e.duration}J??(J=o);const H=f+le;re.length===1&&re[0]===0&&(re[1]=1);const W=re.length-q.length;if(W>0&&F_(re,W),q.length===1&&q.unshift(null),ne){J=Bje(J,ne);const Ce=[...q],Ae=[...re];ie=Array.isArray(ie)?[...ie]:[ie];const $e=[...ie];for(let je=0;je<ne;je++){q.push(...Ce);for(let Xe=0;Xe<Ce.length;Xe++)re.push(Ae[Xe]+(je+1)),ie.push(Xe===0?"linear":$x($e,Xe-1))}Wje(re,ne)}const Ie=H+J;Zje(R,q,ie,re,H,Ie),E=Math.max(le+J,E),g=Math.max(Ie,g)};if($t(x)){const P=QV(x,a);$(k,T,eB("default",P))}else{const P=WX(x,k,r,l),M=P.length;for(let R=0;R<M;R++){k=k,T=T;const z=P[R],F=QV(z,a);for(const q in k)$(k[q],Gje(T,q),eB(q,F),R,M)}}d=f,f+=E}return a.forEach((m,b)=>{for(const x in m){const k=m[x];k.sort(Hje);const T=[],E=[],$=[];for(let M=0;M<k.length;M++){const{at:R,value:z,easing:F}=k[M];T.push(z),E.push(Js(0,g,R)),$.push(F||"easeOut")}E[0]!==0&&(E.unshift(0),T.unshift(T[0]),$.unshift(qje)),E[E.length-1]!==1&&(E.push(1),T.push(null)),s.has(b)||s.set(b,{keyframes:{},transition:{}});const P=s.get(b);P.keyframes[x]=T,P.transition[x]={...t,duration:g,ease:$,times:E,...n}}}),s}function QV(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function eB(e,t){return t[e]||(t[e]=[]),t[e]}function Kje(e){return Array.isArray(e)?e:[e]}function Gje(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const Yje=e=>typeof e=="number",Xje=e=>e.every(Yje);function Qje(e,t){return e in t}class eLe extends bX{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(Qje(n,t)){const r=t[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return mr()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function tLe(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=bp(e)&&!Dx(e)?new _X(t):new SX(t);n.mount(e),wx.set(e,n)}function nLe(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new eLe(t);n.mount(e),wx.set(e,n)}function rLe(e,t){return $t(e)||typeof e=="number"||typeof e=="string"&&!MR(t)}function HX(e,t,n,r){const i=[];if(rLe(e,t))i.push(RX(e,MR(t)&&t.default||t,n&&(n.default||n)));else{const o=WX(e,t,r),s=o.length;for(let a=0;a<s;a++){const l=o[a],u=l instanceof Element?tLe:nLe;wx.has(l)||u(l);const d=wx.get(l),f={...n};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(a,s)),i.push(...PR(d,{...t,transition:f},{}))}}return i}function iLe(e,t,n){const r=[];return Jje(e,t,n,{spring:Xf}).forEach(({keyframes:o,transition:s},a)=>{r.push(...HX(a,o,s))}),r}function oLe(e){return Array.isArray(e)&&e.some(Array.isArray)}function sLe(e){function t(n,r,i){let o=[],s;if(oLe(n))o=iLe(n,r,e);else{const{onComplete:l,...u}=i||{};typeof l=="function"&&(s=l),o=HX(n,r,u,e)}const a=new B_(o);return s&&a.finished.then(s),a}return t}const N$=sLe(),aLe={some:0,all:1};function lLe(e,t,{root:n,margin:r,amount:i="some"}={}){const o=Vu(e),s=new WeakMap,a=u=>{u.forEach(d=>{const f=s.get(d.target);if(d.isIntersecting!==!!f)if(d.isIntersecting){const g=t(d.target,d);typeof g=="function"?s.set(d.target,g):l.unobserve(d.target)}else typeof f=="function"&&(f(d),s.delete(d.target))})},l=new IntersectionObserver(a,{root:n,rootMargin:r,threshold:typeof i=="number"?i:aLe[i]});return o.forEach(u=>l.observe(u)),()=>l.disconnect()}function uLe(e,{root:t,margin:n,amount:r,once:i=!1,initial:o=!1}={}){const[s,a]=D.useState(o);return D.useEffect(()=>{if(!e.current||i&&s)return;const l=()=>(a(!0),i?void 0:()=>a(!1)),u={root:t&&t.current||void 0,margin:n,amount:r};return lLe(e.current,l,u)},[t,e,n,i,r]),s}function cLe(e){return Array.isArray(e)?e:[e]}const dLe=({editor:e})=>{const t=wt(a=>a.removeContextEntry),n=wt(a=>a.mentionProviders),r=wt(a=>a.additionalContext),i=wt(a=>a.collapsingConfigs),o=(a,l)=>{const u=n.get(a);if(l.metadata?.showInChat===!1)return null;if(u?.renderContextBadge)return u.renderContextBadge(l);const d=l.metadata?.label||l.id,f=l.metadata?.color,g=f?{backgroundColor:`${f}33`}:{},m=!!f;return O.jsxs("div",{className:`px-2 py-1 text-xs rounded-sm cursor-pointer flex items-center gap-1 whitespace-nowrap hover:border-opacity-80 hover:text-opacity-80 group box-border border ${m?"border-transparent":""}`,style:g,tabIndex:0,"aria-label":`Selected ${a} ${d}`,onClick:()=>{if(l.source==="mention"&&(t(a,l.id),e)){const{state:b}=e,{doc:x,tr:k}=b;let T=!1;x.descendants((E,$)=>{if(E.type.name==="mention"&&E.attrs.contextEntryId===l.id)return k.delete($,$+E.nodeSize),T=!0,!1}),T&&e.view.dispatch(k)}},children:[l.metadata?.icon&&l.source==="mention"&&O.jsxs(O.Fragment,{children:[O.jsx("span",{className:"flex-shrink-0 group-hover:hidden",children:mx(l.metadata.icon,"w-3 h-3")}),O.jsx(fb,{className:"w-3 h-3 flex-shrink-0 hidden group-hover:block"})]}),l.metadata?.icon&&l.source!=="mention"&&O.jsx("span",{className:"flex-shrink-0",children:mx(l.metadata.icon,"w-3 h-3")}),!l.metadata?.icon&&l.source==="mention"&&O.jsx(fb,{className:"w-3 h-3 flex-shrink-0 hidden group-hover:block"}),O.jsx("span",{children:d})]},a+":"+l.id)},s=Xt.useMemo(()=>{const a=[],l=Object.keys(r).map(u=>{const d=r[u],f=cLe(d),g=f.reduce((m,b)=>{const x=b.metadata?.order;return x!==void 0?Math.min(m,x):m},Number.MAX_SAFE_INTEGER);return{key:u,order:g,entries:f}});return l.sort((u,d)=>u.order-d.order),l.forEach(({key:u,entries:d})=>{if(!d.length)return;const f=d.filter(b=>b.metadata?.showInChat!==!1),g=d.filter(b=>b.metadata?.showInChat===!1),m=i.get(u);if(m&&f.length>m.threshold){const b=d[0],x=m.label?.replace("{count}",f.length.toString())||`${f.length} Selected`,k={id:`${u}-collapsed`,source:"subscription",data:f.map(T=>T.data),metadata:{label:x,icon:m.icon||b?.metadata?.icon,color:b?.metadata?.color,showInChat:!0,isCollapsed:!0,originalCount:f.length}};a.push(o(u,k)),g.forEach(T=>{a.push(o(u,T))})}else d.forEach(b=>{a.push(o(u,b))})}),a},[r,n,i,o]);return O.jsxs("div",{id:"input-context",className:"flex items-center gap-2 flex-wrap",children:[O.jsx("div",{className:"px-2 py-1 text-xs rounded-sm flex items-center gap-1 whitespace-nowrap dark:bg-gray-800 bg-gray-50 box-border border border-transparent",children:O.jsx("span",{children:"@ to add context"})}),s]})},fLe=({children:e,className:t="",motionProps:n={},id:r,style:i,color:o})=>{const{styling:s}=Pg(),a=s.darkMode??!1,l=o||(a?"#000000":"#ffffff"),u=n;return a?[`0px 2px 0px 0px ${Uc(l,80)}`,"-12px 18px 16px 0px rgba(0,0,0,0.4)","-6px 10px 8px 0px rgba(0,0,0,0.4)","-2px 4px 3px 0px rgba(0,0,0,0.3)","-1px 2px 3px 0px rgba(255,255,255,0.05) inset"].join(", "):[`0px 2px 0px 0px ${Uc(l,50)}`,"-12px 18px 16px 0px rgba(0,0,0,0.14)","-6px 10px 8px 0px rgba(0,0,0,0.14)","-2px 4px 3px 0px rgba(0,0,0,0.15)","-1px 2px 3px 0px rgba(0,0,0,0.12) inset"].join(", "),o&&CY(o),o&&EY(o),{...i},O.jsx(nr.div,{id:r,className:so("w-full h-full rounded-xl border-[3px] backdrop-blur-[12px]",!o&&(a?"border-gray-700 bg-black/40":"border-white bg-[#FAF9F580]"),t),style:i,...u,children:e})},bv={repeat:1/0,repeatType:"mirror",ease:"easeInOut"},pLe=({className:e="",withMotion:t=!1})=>O.jsxs("div",{className:`absolute inset-0 overflow-hidden -z-10 ${e}`,children:[O.jsx(nr.div,{className:"absolute rounded-full opacity-60 mix-blend-plus-lighter",style:{background:"#E90B76",width:"60%",height:"60%",filter:"blur(50px)"},initial:{x:"-20%",y:"-20%"},animate:t?{x:["-20%","20%","-20%"],y:["-20%","20%","-20%"],rotate:[0,15,0]}:void 0,transition:t?{...bv,duration:14}:void 0}),O.jsx(nr.div,{className:"absolute rounded-full opacity-55 mix-blend-plus-lighter",style:{background:"#0BE9A2",width:"50%",height:"50%",right:"10%",top:"20%",filter:"blur(45px)"},initial:{x:"10%",y:"10%"},animate:t?{x:["10%","-20%","10%"],y:["10%","-20%","10%"],rotate:[10,-15,10]}:void 0,transition:t?{...bv,duration:13}:void 0}),O.jsx(nr.div,{className:"absolute rounded-full opacity-50 mix-blend-plus-lighter",style:{background:"#783BEA",width:"45%",height:"45%",bottom:"5%",left:"25%",filter:"blur(40px)"},initial:{x:"0%",y:"0%"},animate:t?{x:["0%","15%","0%"],y:["0%","-15%","0%"],rotate:[-5,20,-5],scale:[1,1.1,1]}:void 0,transition:t?{...bv,duration:16}:void 0}),O.jsx(nr.div,{className:"absolute rounded-full opacity-45 mix-blend-plus-lighter",style:{background:"#FCD34D",width:"40%",height:"40%",left:"60%",bottom:"15%",filter:"blur(45px)"},initial:{x:"0%",y:"0%"},animate:t?{x:["0%","-10%","0%"],y:["0%","10%","0%"],rotate:[0,-10,0]}:void 0,transition:t?{...bv,duration:16}:void 0}),O.jsx(nr.div,{className:"absolute rounded-full opacity-40 mix-blend-plus-lighter",style:{background:"#3B82F6",width:"35%",height:"35%",right:"20%",bottom:"40%",filter:"blur(35px)"},initial:{x:"0%",y:"0%"},animate:t?{x:["0%","10%","0%"],y:["0%","-10%","0%"],rotate:[0,10,0]}:void 0,transition:t?{...bv,duration:15}:void 0})]}),hLe=({className:e="",childClassName:t="",motionProps:n={},onClick:r,children:i,id:o,withMotion:s=!1,style:a,color:l})=>{const u={whileHover:{scale:1.03},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"}};return O.jsx("button",{type:"button",children:O.jsxs(fLe,{id:o,color:l,className:so("w-fit rounded-lg cursor-pointer inline-flex items-center overflow-hidden button",e),style:a,motionProps:{...u,...n,onClick:r},children:[O.jsx("div",{className:so("p-2 flex text-sm items-center whitespace-nowrap",t),children:i}),O.jsx(pLe,{withMotion:s})]})})},mLe=({shortcut:e,children:t,className:n=""})=>O.jsxs("span",{className:`flex items-center justify-center px-1.5 py-0.5 min-w-[16px] rounded text-muted-foreground text-sm bg-muted-foreground/30 whitespace-nowrap ${n}`,"aria-hidden":"true",children:[e,t]}),gLe=({handleFocus:e,handleBlur:t,isInputFocused:n,className:r="",stream:i=!0})=>{const[o,s]=Xt.useState(!1),{editor:a,isEditorEmpty:l,handleSubmit:u}=KY({onFocus:()=>{s(!0),e?.()},onBlur:()=>{s(!1),t?.()},stream:i}),d=wt(g=>g.messages),f=d[d.length-1];return f?.type==="humanInTheLoop"&&f.state,D.useEffect(()=>{n&&a&&a.commands.focus()},[n,a]),D.useEffect(()=>{const g=m=>{m.key==="Tab"?(m.preventDefault(),a&&(a.commands.focus(),s(!0))):m.key==="Escape"&&o&&a&&(a.commands.blur(),s(!1))};return window.addEventListener("keydown",g),()=>{window.removeEventListener("keydown",g)}},[a,o]),O.jsxs("div",{className:so("bg-gray-800/10 dark:bg-gray-600/80 rounded-lg p-3 text-sm",r),children:[O.jsx(dLe,{editor:a}),O.jsx("div",{className:"relative w-full h-fit",id:"cedar-chat-input",children:O.jsxs("div",{className:"flex items-center gap-2",children:[!o&&O.jsx(mLe,{shortcut:"⇥",className:"text-muted-foreground border-muted-foreground/30 flex-shrink-0"}),O.jsx(nr.div,{layoutId:"chatInput",className:"flex-1 justify-center py-3","aria-label":"Message input",children:O.jsx(N5,{editor:a,className:"prose prose-sm max-w-none focus:outline-none outline-none focus:ring-0 ring-0 [&_*]:focus:outline-none [&_*]:outline-none [&_*]:focus:ring-0 [&_*]:ring-0 placeholder-gray-500 dark:placeholder-gray-400 [&_.ProseMirror]:p-0 [&_.ProseMirror]:outline-none [&_.ProseMirror]:break-words [&_.ProseMirror]:overflow-wrap-anywhere [&_.ProseMirror]:word-break-break-word"})})]})}),O.jsx("div",{id:"input-tools",className:"flex items-center justify-end",children:O.jsx(hLe,{id:"send-chat",motionProps:{layoutId:"send-chat",animate:{opacity:l?.5:1,backgroundColor:l?"transparent":"#93c5fd"},transition:{type:"spring",stiffness:300,damping:20}},onClick:()=>u(),color:l?void 0:"#93c5fd",className:"flex items-center flex-shrink-0 ml-auto -mt-0.5 rounded-full bg-white dark:bg-gray-800",childClassName:"p-1.5",children:O.jsx(nr.div,{animate:{rotate:l?0:-90},transition:{type:"spring",stiffness:300,damping:20},children:O.jsx(ooe,{className:"w-4 h-4"})})})})]})},yLe=({text:e,state:t,payload:n})=>{const[r,i]=Xt.useState(!1),[o,s]=Xt.useState(!1),a=t==="complete",l=t==="error",u=t==="thinking",d=t==="eventWithPayload",{styling:f}=Pg(),g=f.darkMode??!1,m=g?"#475569":"#6B7280",b=g?"#FFFFFF":"#000000",x=g?"#DC2626":"#EF4444",k=.03,T=e.length*.13,$=d&&o?r?Yie:Xie:l?fb:a?nP:u||d?_U:toe,P=()=>{d&&n&&i(!r)};return O.jsxs("div",{className:"w-full",children:[O.jsxs("div",{className:"flex mx-0.5 items-center cursor-pointer",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),onClick:P,"aria-label":e,tabIndex:0,role:"text",children:[O.jsx(nr.span,{className:`mr-1 ${d&&n?"cursor-pointer":""}`,initial:{color:l?x:m},animate:a?{color:m}:l?{color:x}:{color:[m,m,b,m,m]},transition:a||l?void 0:{duration:T,repeat:1/0,delay:0,ease:"easeInOut"},style:{willChange:a||l?void 0:"color"},children:O.jsx($,{size:14,"aria-label":a?"completed icon":l?"error icon":u?"thinking icon":d?r?"collapse payload":"expand payload":"tool icon"})},`icon-${t}`),e.split("").map((M,R)=>O.jsx(nr.span,{className:"whitespace-pre",initial:{color:l?x:m},animate:a?{color:m}:l?{color:x}:{color:[m,m,b,m,m]},transition:a||l?void 0:{duration:T,repeat:1/0,delay:(R+1)*k,ease:"easeInOut"},style:{willChange:a||l?void 0:"color"},children:M},`${t}-${R}`))]}),d&&n&&r&&O.jsx(nr.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"ml-5",children:O.jsx("pre",{className:"text-xs rounded py-2 overflow-x-auto opacity-70",children:vLe(n)})})]})};function vLe(e){if(typeof e!="object"||e===null||Array.isArray(e))throw new Error("Input must be a non-null object");const t=[];for(const[n,r]of Object.entries(e))if(r&&typeof r=="object"&&!Array.isArray(r))for(const[i,o]of Object.entries(r))t.push(`${n}.${i}: ${o}`);else t.push(`${n}: ${r}`);return t.join(`
`)}const qX=({children:e,isDarkTheme:t=!1,primaryColor:n,className:r="",layoutId:i,style:o,...s})=>{const{styling:a}=Pg(),l=t||a.darkMode;let u,d;if(n){const f=TY(n,40),g=Uc(n,40);u={background:`linear-gradient(to bottom, ${f}, ${g})`},d=`0px 1px 0px 0px ${Uc(n,30)}, 0 4px 6px 0 rgba(0,0,0,0.20)`}else u=l?{background:"linear-gradient(to bottom, rgb(38,38,38), rgb(20,20,20))"}:{background:"linear-gradient(to bottom, #FAFAFA, #F0F0F0)"},d=l?`0px 1px 0px 0px ${Uc("#000000",20)}, 0 4px 6px 0 rgba(0,0,0,0.20)`:`0px 1px 0px 0px ${Uc("#ffffff",30)}, 0 4px 6px 0 rgba(0,0,0,0.35)`;return O.jsx(nr.div,{layoutId:i,className:so("rounded-lg w-full",r),style:{boxShadow:`${d}`,willChange:"box-shadow",...u,...o},...s,children:e})},JX=({id:e,className:t="",children:n,primaryColor:r,whileHover:i={scale:1.01},transition:o={duration:.2,ease:"easeInOut"},onClick:s,...a})=>O.jsx(qX,{id:e,className:so("cursor-pointer flex w-full items-center",t),primaryColor:r,whileHover:i,transition:o,...a,children:O.jsx("button",{onClick:l=>s?.(l),className:"w-full h-full",children:O.jsx("div",{className:"px-2 py-2 flex text-sm items-center whitespace-nowrap",children:n})})}),bLe=({message:e})=>{const{content:t,options:n,onChoice:r}=e,[i,o]=D.useState(null),s=wt(a=>a);return!n||n.length===0?null:O.jsxs(O.Fragment,{children:[t&&O.jsx("p",{className:"mb-2 text-sm",children:t}),O.jsx("div",{className:"flex flex-col space-y-2",children:n.map(a=>{const l=i===a.title;return O.jsxs(JX,{onClick:()=>{o(a.title),r&&r(a,s)},className:so("rounded-md px-3 py-2 flex items-start",l?"bg-green-100 border border-green-200":"bg-white border border-gray-200"),children:[a.icon&&(typeof a.icon=="string"?O.jsx("img",{src:a.icon,alt:a.title,width:24,height:24,className:"w-6 h-6 mr-2 flex-shrink-0"}):O.jsx("span",{className:"w-6 h-6 mr-2 flex-shrink-0",children:a.icon})),O.jsxs("div",{className:"text-left",children:[O.jsx("div",{className:"font-medium",children:a.title}),a.description&&O.jsx("div",{className:"text-sm text-gray-500",children:a.description})]})]},a.title)})})]})};function xLe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const wLe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,SLe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,kLe={};function tB(e,t){return(kLe.jsx?SLe:wLe).test(e)}const _Le=/[ \t\n\f\r]/g;function TLe(e){return typeof e=="object"?e.type==="text"?nB(e.value):!1:nB(e)}function nB(e){return e.replace(_Le,"")===""}class r0{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}r0.prototype.normal={};r0.prototype.property={};r0.prototype.space=void 0;function KX(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new r0(n,r,t)}function R$(e){return e.toLowerCase()}class Vo{constructor(t,n){this.attribute=n,this.property=t}}Vo.prototype.attribute="";Vo.prototype.booleanish=!1;Vo.prototype.boolean=!1;Vo.prototype.commaOrSpaceSeparated=!1;Vo.prototype.commaSeparated=!1;Vo.prototype.defined=!1;Vo.prototype.mustUseProperty=!1;Vo.prototype.number=!1;Vo.prototype.overloadedBoolean=!1;Vo.prototype.property="";Vo.prototype.spaceSeparated=!1;Vo.prototype.space=void 0;let CLe=0;const Dt=Tp(),Mr=Tp(),D$=Tp(),Oe=Tp(),Un=Tp(),jm=Tp(),ss=Tp();function Tp(){return 2**++CLe}const j$=Object.freeze(Object.defineProperty({__proto__:null,boolean:Dt,booleanish:Mr,commaOrSpaceSeparated:ss,commaSeparated:jm,number:Oe,overloadedBoolean:D$,spaceSeparated:Un},Symbol.toStringTag,{value:"Module"})),zE=Object.keys(j$);class OR extends Vo{constructor(t,n,r,i){let o=-1;if(super(t,n),rB(this,"space",i),typeof r=="number")for(;++o<zE.length;){const s=zE[o];rB(this,zE[o],(r&j$[s])===j$[s])}}}OR.prototype.defined=!0;function rB(e,t,n){n&&(e[t]=n)}function Rg(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const o=new OR(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[R$(r)]=r,n[R$(o.attribute)]=r}return new r0(t,n,e.space)}const GX=Rg({properties:{ariaActiveDescendant:null,ariaAtomic:Mr,ariaAutoComplete:null,ariaBusy:Mr,ariaChecked:Mr,ariaColCount:Oe,ariaColIndex:Oe,ariaColSpan:Oe,ariaControls:Un,ariaCurrent:null,ariaDescribedBy:Un,ariaDetails:null,ariaDisabled:Mr,ariaDropEffect:Un,ariaErrorMessage:null,ariaExpanded:Mr,ariaFlowTo:Un,ariaGrabbed:Mr,ariaHasPopup:null,ariaHidden:Mr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Un,ariaLevel:Oe,ariaLive:null,ariaModal:Mr,ariaMultiLine:Mr,ariaMultiSelectable:Mr,ariaOrientation:null,ariaOwns:Un,ariaPlaceholder:null,ariaPosInSet:Oe,ariaPressed:Mr,ariaReadOnly:Mr,ariaRelevant:null,ariaRequired:Mr,ariaRoleDescription:Un,ariaRowCount:Oe,ariaRowIndex:Oe,ariaRowSpan:Oe,ariaSelected:Mr,ariaSetSize:Oe,ariaSort:null,ariaValueMax:Oe,ariaValueMin:Oe,ariaValueNow:Oe,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function YX(e,t){return t in e?e[t]:t}function XX(e,t){return YX(e,t.toLowerCase())}const ELe=Rg({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:jm,acceptCharset:Un,accessKey:Un,action:null,allow:null,allowFullScreen:Dt,allowPaymentRequest:Dt,allowUserMedia:Dt,alt:null,as:null,async:Dt,autoCapitalize:null,autoComplete:Un,autoFocus:Dt,autoPlay:Dt,blocking:Un,capture:null,charSet:null,checked:Dt,cite:null,className:Un,cols:Oe,colSpan:null,content:null,contentEditable:Mr,controls:Dt,controlsList:Un,coords:Oe|jm,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Dt,defer:Dt,dir:null,dirName:null,disabled:Dt,download:D$,draggable:Mr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Dt,formTarget:null,headers:Un,height:Oe,hidden:D$,high:Oe,href:null,hrefLang:null,htmlFor:Un,httpEquiv:Un,id:null,imageSizes:null,imageSrcSet:null,inert:Dt,inputMode:null,integrity:null,is:null,isMap:Dt,itemId:null,itemProp:Un,itemRef:Un,itemScope:Dt,itemType:Un,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Dt,low:Oe,manifest:null,max:null,maxLength:Oe,media:null,method:null,min:null,minLength:Oe,multiple:Dt,muted:Dt,name:null,nonce:null,noModule:Dt,noValidate:Dt,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Dt,optimum:Oe,pattern:null,ping:Un,placeholder:null,playsInline:Dt,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Dt,referrerPolicy:null,rel:Un,required:Dt,reversed:Dt,rows:Oe,rowSpan:Oe,sandbox:Un,scope:null,scoped:Dt,seamless:Dt,selected:Dt,shadowRootClonable:Dt,shadowRootDelegatesFocus:Dt,shadowRootMode:null,shape:null,size:Oe,sizes:null,slot:null,span:Oe,spellCheck:Mr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Oe,step:null,style:null,tabIndex:Oe,target:null,title:null,translate:null,type:null,typeMustMatch:Dt,useMap:null,value:Mr,width:Oe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Un,axis:null,background:null,bgColor:null,border:Oe,borderColor:null,bottomMargin:Oe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Dt,declare:Dt,event:null,face:null,frame:null,frameBorder:null,hSpace:Oe,leftMargin:Oe,link:null,longDesc:null,lowSrc:null,marginHeight:Oe,marginWidth:Oe,noResize:Dt,noHref:Dt,noShade:Dt,noWrap:Dt,object:null,profile:null,prompt:null,rev:null,rightMargin:Oe,rules:null,scheme:null,scrolling:Mr,standby:null,summary:null,text:null,topMargin:Oe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Oe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Dt,disableRemotePlayback:Dt,prefix:null,property:null,results:Oe,security:null,unselectable:null},space:"html",transform:XX}),ILe=Rg({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ss,accentHeight:Oe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Oe,amplitude:Oe,arabicForm:null,ascent:Oe,attributeName:null,attributeType:null,azimuth:Oe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Oe,by:null,calcMode:null,capHeight:Oe,className:Un,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Oe,diffuseConstant:Oe,direction:null,display:null,dur:null,divisor:Oe,dominantBaseline:null,download:Dt,dx:null,dy:null,edgeMode:null,editable:null,elevation:Oe,enableBackground:null,end:null,event:null,exponent:Oe,externalResourcesRequired:null,fill:null,fillOpacity:Oe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:jm,g2:jm,glyphName:jm,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Oe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Oe,horizOriginX:Oe,horizOriginY:Oe,id:null,ideographic:Oe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Oe,k:Oe,k1:Oe,k2:Oe,k3:Oe,k4:Oe,kernelMatrix:ss,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Oe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Oe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Oe,overlineThickness:Oe,paintOrder:null,panose1:null,path:null,pathLength:Oe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Un,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Oe,pointsAtY:Oe,pointsAtZ:Oe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ss,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ss,rev:ss,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ss,requiredFeatures:ss,requiredFonts:ss,requiredFormats:ss,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Oe,specularExponent:Oe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Oe,strikethroughThickness:Oe,string:null,stroke:null,strokeDashArray:ss,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Oe,strokeOpacity:Oe,strokeWidth:null,style:null,surfaceScale:Oe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ss,tabIndex:Oe,tableValues:null,target:null,targetX:Oe,targetY:Oe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ss,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Oe,underlineThickness:Oe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Oe,values:null,vAlphabetic:Oe,vMathematical:Oe,vectorEffect:null,vHanging:Oe,vIdeographic:Oe,version:null,vertAdvY:Oe,vertOriginX:Oe,vertOriginY:Oe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Oe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:YX}),QX=Rg({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),eQ=Rg({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:XX}),tQ=Rg({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),ALe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},$Le=/[A-Z]/g,iB=/-[a-z]/g,PLe=/^data[-\w.:]+$/i;function MLe(e,t){const n=R$(t);let r=t,i=Vo;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&PLe.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(iB,NLe);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!iB.test(o)){let s=o.replace($Le,OLe);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=OR}return new i(r,t)}function OLe(e){return"-"+e.toLowerCase()}function NLe(e){return e.charAt(1).toUpperCase()}const RLe=KX([GX,ELe,QX,eQ,tQ],"html"),NR=KX([GX,ILe,QX,eQ,tQ],"svg");function DLe(e){return e.join(" ").trim()}var em={},FE,oB;function jLe(){if(oB)return FE;oB=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,r=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,o=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,s=/^[;\s]*/,a=/^\s+|\s+$/g,l=`
`,u="/",d="*",f="",g="comment",m="declaration";FE=function(x,k){if(typeof x!="string")throw new TypeError("First argument must be a string");if(!x)return[];k=k||{};var T=1,E=1;function $(ne){var se=ne.match(t);se&&(T+=se.length);var ue=ne.lastIndexOf(l);E=~ue?ne.length-ue:E+ne.length}function P(){var ne={line:T,column:E};return function(se){return se.position=new M(ne),F(),se}}function M(ne){this.start=ne,this.end={line:T,column:E},this.source=k.source}M.prototype.content=x;function R(ne){var se=new Error(k.source+":"+T+":"+E+": "+ne);if(se.reason=ne,se.filename=k.source,se.line=T,se.column=E,se.source=x,!k.silent)throw se}function z(ne){var se=ne.exec(x);if(se){var ue=se[0];return $(ue),x=x.slice(ue.length),se}}function F(){z(n)}function q(ne){var se;for(ne=ne||[];se=Z();)se!==!1&&ne.push(se);return ne}function Z(){var ne=P();if(!(u!=x.charAt(0)||d!=x.charAt(1))){for(var se=2;f!=x.charAt(se)&&(d!=x.charAt(se)||u!=x.charAt(se+1));)++se;if(se+=2,f===x.charAt(se-1))return R("End of comment missing");var ue=x.slice(2,se-2);return E+=2,$(ue),x=x.slice(se),E+=2,ne({type:g,comment:ue})}}function re(){var ne=P(),se=z(r);if(se){if(Z(),!z(i))return R("property missing ':'");var ue=z(o),me=ne({type:m,property:b(se[0].replace(e,f)),value:ue?b(ue[0].replace(e,f)):f});return z(s),me}}function ee(){var ne=[];q(ne);for(var se;se=re();)se!==!1&&(ne.push(se),q(ne));return ne}return F(),ee()};function b(x){return x?x.replace(a,f):f}return FE}var sB;function LLe(){if(sB)return em;sB=1;var e=em&&em.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(em,"__esModule",{value:!0}),em.default=n;var t=e(jLe());function n(r,i){var o=null;if(!r||typeof r!="string")return o;var s=(0,t.default)(r),a=typeof i=="function";return s.forEach(function(l){if(l.type==="declaration"){var u=l.property,d=l.value;a?i(u,d,l):d&&(o=o||{},o[u]=d)}}),o}return em}var xv={},aB;function zLe(){if(aB)return xv;aB=1,Object.defineProperty(xv,"__esModule",{value:!0}),xv.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,r=/^-(webkit|moz|ms|o|khtml)-/,i=/^-(ms)-/,o=function(u){return!u||n.test(u)||e.test(u)},s=function(u,d){return d.toUpperCase()},a=function(u,d){return"".concat(d,"-")},l=function(u,d){return d===void 0&&(d={}),o(u)?u:(u=u.toLowerCase(),d.reactCompat?u=u.replace(i,a):u=u.replace(r,a),u.replace(t,s))};return xv.camelCase=l,xv}var wv,lB;function FLe(){if(lB)return wv;lB=1;var e=wv&&wv.__importDefault||function(i){return i&&i.__esModule?i:{default:i}},t=e(LLe()),n=zLe();function r(i,o){var s={};return!i||typeof i!="string"||(0,t.default)(i,function(a,l){a&&l&&(s[(0,n.camelCase)(a,o)]=l)}),s}return r.default=r,wv=r,wv}var VLe=FLe();const BLe=hg(VLe),nQ=rQ("end"),RR=rQ("start");function rQ(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function ULe(e){const t=RR(e),n=nQ(e);if(t&&n)return{start:t,end:n}}function lb(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?uB(e.position):"start"in e||"end"in e?uB(e):"line"in e||"column"in e?L$(e):""}function L$(e){return cB(e&&e.line)+":"+cB(e&&e.column)}function uB(e){return L$(e&&e.start)+"-"+L$(e&&e.end)}function cB(e){return e&&typeof e=="number"?e:1}class Bi extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?i=t:!o.cause&&t&&(s=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=lb(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Bi.prototype.file="";Bi.prototype.name="";Bi.prototype.reason="";Bi.prototype.message="";Bi.prototype.stack="";Bi.prototype.column=void 0;Bi.prototype.line=void 0;Bi.prototype.ancestors=void 0;Bi.prototype.cause=void 0;Bi.prototype.fatal=void 0;Bi.prototype.place=void 0;Bi.prototype.ruleId=void 0;Bi.prototype.source=void 0;const DR={}.hasOwnProperty,ZLe=new Map,WLe=/[A-Z]/g,HLe=new Set(["table","tbody","thead","tfoot","tr"]),qLe=new Set(["td","th"]),iQ="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function JLe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=nze(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=tze(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?NR:RLe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=oQ(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function oQ(e,t,n){if(t.type==="element")return KLe(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return GLe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return XLe(e,t,n);if(t.type==="mdxjsEsm")return YLe(e,t);if(t.type==="root")return QLe(e,t,n);if(t.type==="text")return eze(e,t)}function KLe(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=NR,e.schema=i),e.ancestors.push(t);const o=aQ(e,t.tagName,!1),s=rze(e,t);let a=LR(e,t);return HLe.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!TLe(l):!0})),sQ(e,s,o,t),jR(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function GLe(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}kx(e,t.position)}function YLe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);kx(e,t.position)}function XLe(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=NR,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:aQ(e,t.name,!0),s=ize(e,t),a=LR(e,t);return sQ(e,s,o,t),jR(s,a),e.ancestors.pop(),e.schema=r,e.create(t,o,s,n)}function QLe(e,t,n){const r={};return jR(r,LR(e,t)),e.create(t,e.Fragment,r,n)}function eze(e,t){return t.value}function sQ(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function jR(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function tze(e,t,n){return r;function r(i,o,s,a){const u=Array.isArray(s.children)?n:t;return a?u(o,s,a):u(o,s)}}function nze(e,t){return n;function n(r,i,o,s){const a=Array.isArray(o.children),l=RR(r);return t(i,o,s,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function rze(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&DR.call(t.properties,i)){const o=oze(e,i,t.properties[i]);if(o){const[s,a]=o;e.tableCellAlignToStyle&&s==="align"&&typeof a=="string"&&qLe.has(t.tagName)?r=a:n[s]=a}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function ize(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const s=o.expression;s.type;const a=s.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else kx(e,t.position);else{const i=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,o=e.evaluater.evaluateExpression(a.expression)}else kx(e,t.position);else o=r.value===null?!0:r.value;n[i]=o}return n}function LR(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:ZLe;for(;++r<t.children.length;){const o=t.children[r];let s;if(e.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const a=oQ(e,o,s);a!==void 0&&n.push(a)}return n}function oze(e,t,n){const r=MLe(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?xLe(n):DLe(n)),r.property==="style"){let i=typeof n=="object"?n:sze(e,String(n));return e.stylePropertyNameCase==="css"&&(i=aze(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?ALe[r.property]||r.property:r.attribute,n]}}function sze(e,t){try{return BLe(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Bi("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=iQ+"#cannot-parse-style-attribute",i}}function aQ(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,s;for(;++o<i.length;){const a=tB(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};s=s?{type:"MemberExpression",object:s,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}r=s}else r=tB(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return DR.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);kx(e)}function kx(e,t){const n=new Bi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=iQ+"#cannot-handle-mdx-estrees-without-createevaluater",n}function aze(e){const t={};let n;for(n in e)DR.call(e,n)&&(t[lze(n)]=e[n]);return t}function lze(e){let t=e.replace(WLe,uze);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function uze(e){return"-"+e.toLowerCase()}const VE={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},cze={};function zR(e,t){const n=cze,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return lQ(e,r,i)}function lQ(e,t,n){if(dze(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return dB(e.children,t,n)}return Array.isArray(e)?dB(e,t,n):""}function dB(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=lQ(e[i],t,n);return r.join("")}function dze(e){return!!(e&&typeof e=="object")}const fB=document.createElement("i");function FR(e){const t="&"+e+";";fB.innerHTML=t;const n=fB.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function ds(e,t,n,r){const i=e.length;let o=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(t,0),e.splice(...s),o+=1e4,t+=1e4}function Vs(e,t){return e.length>0?(ds(e,e.length,0,t),e):t}const pB={}.hasOwnProperty;function uQ(e){const t={};let n=-1;for(;++n<e.length;)fze(t,e[n]);return t}function fze(e,t){let n;for(n in t){const i=(pB.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let s;if(o)for(s in o){pB.call(i,s)||(i[s]=[]);const a=o[s];pze(i[s],Array.isArray(a)?a:a?[a]:[])}}}function pze(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);ds(e,0,0,r)}function cQ(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}function Pa(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const to=yd(/[A-Za-z]/),Di=yd(/[\dA-Za-z]/),hze=yd(/[#-'*+\--9=?A-Z^-~]/);function b_(e){return e!==null&&(e<32||e===127)}const z$=yd(/\d/),mze=yd(/[\dA-Fa-f]/),gze=yd(/[!-/:-@[-`{-~]/);function pt(e){return e!==null&&e<-2}function Rn(e){return e!==null&&(e<0||e===32)}function Qt(e){return e===-2||e===-1||e===32}const rT=yd(new RegExp("\\p{P}|\\p{S}","u")),fp=yd(/\s/);function yd(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Dg(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const o=e.charCodeAt(n);let s="";if(o===37&&Di(e.charCodeAt(n+1))&&Di(e.charCodeAt(n+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(s=String.fromCharCode(o));else if(o>55295&&o<57344){const a=e.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(s=String.fromCharCode(o,a),i=1):s="�"}else s=String.fromCharCode(o);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function dn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return Qt(l)?(e.enter(n),a(l)):t(l)}function a(l){return Qt(l)&&o++<i?(e.consume(l),a):(e.exit(n),t(l))}}const yze={tokenize:vze};function vze(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),dn(e,t,"linePrefix")}function i(a){return e.enter("paragraph"),o(a)}function o(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return pt(a)?(e.consume(a),e.exit("chunkText"),o):(e.consume(a),s)}}const bze={tokenize:xze},hB={tokenize:wze};function xze(e){const t=this,n=[];let r=0,i,o,s;return a;function a($){if(r<n.length){const P=n[r];return t.containerState=P[1],e.attempt(P[0].continuation,l,u)($)}return u($)}function l($){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&E();const P=t.events.length;let M=P,R;for(;M--;)if(t.events[M][0]==="exit"&&t.events[M][1].type==="chunkFlow"){R=t.events[M][1].end;break}T(r);let z=P;for(;z<t.events.length;)t.events[z][1].end={...R},z++;return ds(t.events,M+1,0,t.events.slice(P)),t.events.length=z,u($)}return a($)}function u($){if(r===n.length){if(!i)return g($);if(i.currentConstruct&&i.currentConstruct.concrete)return b($);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(hB,d,f)($)}function d($){return i&&E(),T(r),g($)}function f($){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,b($)}function g($){return t.containerState={},e.attempt(hB,m,b)($)}function m($){return r++,n.push([t.currentConstruct,t.containerState]),g($)}function b($){if($===null){i&&E(),T(0),e.consume($);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:o}),x($)}function x($){if($===null){k(e.exit("chunkFlow"),!0),T(0),e.consume($);return}return pt($)?(e.consume($),k(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume($),x)}function k($,P){const M=t.sliceStream($);if(P&&M.push(null),$.previous=o,o&&(o.next=$),o=$,i.defineSkip($.start),i.write(M),t.parser.lazy[$.start.line]){let R=i.events.length;for(;R--;)if(i.events[R][1].start.offset<s&&(!i.events[R][1].end||i.events[R][1].end.offset>s))return;const z=t.events.length;let F=z,q,Z;for(;F--;)if(t.events[F][0]==="exit"&&t.events[F][1].type==="chunkFlow"){if(q){Z=t.events[F][1].end;break}q=!0}for(T(r),R=z;R<t.events.length;)t.events[R][1].end={...Z},R++;ds(t.events,F+1,0,t.events.slice(z)),t.events.length=R}}function T($){let P=n.length;for(;P-- >$;){const M=n[P];t.containerState=M[1],M[0].exit.call(t,e)}n.length=$}function E(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function wze(e,t,n){return dn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function pg(e){if(e===null||Rn(e)||fp(e))return 1;if(rT(e))return 2}function iT(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const F$={name:"attention",resolveAll:Sze,tokenize:kze};function Sze(e,t){let n=-1,r,i,o,s,a,l,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},g={...e[n][1].start};mB(f,-l),mB(g,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:g},o={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...a.end}},e[r][1].end={...s.start},e[n][1].start={...a.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Vs(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Vs(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",o,t]]),u=Vs(u,iT(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Vs(u,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=Vs(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,ds(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function kze(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=pg(r);let o;return s;function s(l){return o=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===o)return e.consume(l),a;const u=e.exit("attentionSequence"),d=pg(l),f=!d||d===2&&i||n.includes(l),g=!i||i===2&&d||n.includes(r);return u._open=!!(o===42?f:f&&(i||!g)),u._close=!!(o===42?g:g&&(d||!f)),t(l)}}function mB(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const _ze={name:"autolink",tokenize:Tze};function Tze(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(m){return to(m)?(e.consume(m),s):m===64?n(m):u(m)}function s(m){return m===43||m===45||m===46||Di(m)?(r=1,a(m)):u(m)}function a(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||Di(m))&&r++<32?(e.consume(m),a):(r=0,u(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||b_(m)?n(m):(e.consume(m),l)}function u(m){return m===64?(e.consume(m),d):hze(m)?(e.consume(m),u):n(m)}function d(m){return Di(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):g(m)}function g(m){if((m===45||Di(m))&&r++<63){const b=m===45?g:f;return e.consume(m),b}return n(m)}}const i0={partial:!0,tokenize:Cze};function Cze(e,t,n){return r;function r(o){return Qt(o)?dn(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||pt(o)?t(o):n(o)}}const dQ={continuation:{tokenize:Ize},exit:Aze,name:"blockQuote",tokenize:Eze};function Eze(e,t,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),o}return n(s)}function o(s){return Qt(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function Ize(e,t,n){const r=this;return i;function i(s){return Qt(s)?dn(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return e.attempt(dQ,t,n)(s)}}function Aze(e){e.exit("blockQuote")}const fQ={name:"characterEscape",tokenize:$ze};function $ze(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return gze(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const pQ={name:"characterReference",tokenize:Pze};function Pze(e,t,n){const r=this;let i=0,o,s;return a;function a(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),o=31,s=Di,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,s=mze,d):(e.enter("characterReferenceValue"),o=7,s=z$,d(f))}function d(f){if(f===59&&i){const g=e.exit("characterReferenceValue");return s===Di&&!FR(r.sliceSerialize(g))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<o?(e.consume(f),d):n(f)}}const gB={partial:!0,tokenize:Oze},yB={concrete:!0,name:"codeFenced",tokenize:Mze};function Mze(e,t,n){const r=this,i={partial:!0,tokenize:M};let o=0,s=0,a;return l;function l(R){return u(R)}function u(R){const z=r.events[r.events.length-1];return o=z&&z[1].type==="linePrefix"?z[2].sliceSerialize(z[1],!0).length:0,a=R,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(R)}function d(R){return R===a?(s++,e.consume(R),d):s<3?n(R):(e.exit("codeFencedFenceSequence"),Qt(R)?dn(e,f,"whitespace")(R):f(R))}function f(R){return R===null||pt(R)?(e.exit("codeFencedFence"),r.interrupt?t(R):e.check(gB,x,P)(R)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),g(R))}function g(R){return R===null||pt(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(R)):Qt(R)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),dn(e,m,"whitespace")(R)):R===96&&R===a?n(R):(e.consume(R),g)}function m(R){return R===null||pt(R)?f(R):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),b(R))}function b(R){return R===null||pt(R)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(R)):R===96&&R===a?n(R):(e.consume(R),b)}function x(R){return e.attempt(i,P,k)(R)}function k(R){return e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),T}function T(R){return o>0&&Qt(R)?dn(e,E,"linePrefix",o+1)(R):E(R)}function E(R){return R===null||pt(R)?e.check(gB,x,P)(R):(e.enter("codeFlowValue"),$(R))}function $(R){return R===null||pt(R)?(e.exit("codeFlowValue"),E(R)):(e.consume(R),$)}function P(R){return e.exit("codeFenced"),t(R)}function M(R,z,F){let q=0;return Z;function Z(ue){return R.enter("lineEnding"),R.consume(ue),R.exit("lineEnding"),re}function re(ue){return R.enter("codeFencedFence"),Qt(ue)?dn(R,ee,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ue):ee(ue)}function ee(ue){return ue===a?(R.enter("codeFencedFenceSequence"),ne(ue)):F(ue)}function ne(ue){return ue===a?(q++,R.consume(ue),ne):q>=s?(R.exit("codeFencedFenceSequence"),Qt(ue)?dn(R,se,"whitespace")(ue):se(ue)):F(ue)}function se(ue){return ue===null||pt(ue)?(R.exit("codeFencedFence"),z(ue)):F(ue)}}}function Oze(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const BE={name:"codeIndented",tokenize:Rze},Nze={partial:!0,tokenize:Dze};function Rze(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),dn(e,o,"linePrefix",5)(u)}function o(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):pt(u)?e.attempt(Nze,s,l)(u):(e.enter("codeFlowValue"),a(u))}function a(u){return u===null||pt(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),a)}function l(u){return e.exit("codeIndented"),t(u)}}function Dze(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):pt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):dn(e,o,"linePrefix",5)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):pt(s)?i(s):n(s)}}const jze={name:"codeText",previous:zze,resolve:Lze,tokenize:Fze};function Lze(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function zze(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Fze(e,t,n){let r=0,i,o;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),a(f)}function a(f){return f===96?(e.consume(f),r++,a):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(o=e.enter("codeTextSequence"),i=0,d(f)):pt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||pt(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(o.type="codeTextData",u(f))}}class Vze{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Sv(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Sv(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Sv(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Sv(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Sv(this.left,n.reverse())}}}function Sv(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function hQ(e){const t={};let n=-1,r,i,o,s,a,l,u;const d=new Vze(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Bze(d,n)),n=t[n],u=!0);else if(r[1]._container){for(o=n,i=void 0;o--;)if(s=d.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},a=d.slice(i,n),a.unshift(r),d.splice(i,n-i+1,a))}}return ds(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function Bze(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const o=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const a=s.events,l=[],u={};let d,f,g=-1,m=n,b=0,x=0;const k=[x];for(;m;){for(;e.get(++i)[1]!==m;);o.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++g<a.length;)a[g][0]==="exit"&&a[g-1][0]==="enter"&&a[g][1].type===a[g-1][1].type&&a[g][1].start.line!==a[g][1].end.line&&(x=g+1,k.push(x),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):k.pop(),g=k.length;g--;){const T=a.slice(k[g],k[g+1]),E=o.pop();l.push([E,E+T.length-1]),e.splice(E,2,T)}for(l.reverse(),g=-1;++g<l.length;)u[b+l[g][0]]=b+l[g][1],b+=l[g][1]-l[g][0]-1;return u}const Uze={resolve:Wze,tokenize:Hze},Zze={partial:!0,tokenize:qze};function Wze(e){return hQ(e),e}function Hze(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):pt(a)?e.check(Zze,s,o)(a):(e.consume(a),i)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function s(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function qze(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),dn(e,o,"linePrefix")}function o(s){if(s===null||pt(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function mQ(e,t,n,r,i,o,s,a,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(T){return T===60?(e.enter(r),e.enter(i),e.enter(o),e.consume(T),e.exit(o),g):T===null||T===32||T===41||b_(T)?n(T):(e.enter(r),e.enter(s),e.enter(a),e.enter("chunkString",{contentType:"string"}),x(T))}function g(T){return T===62?(e.enter(o),e.consume(T),e.exit(o),e.exit(i),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),m(T))}function m(T){return T===62?(e.exit("chunkString"),e.exit(a),g(T)):T===null||T===60||pt(T)?n(T):(e.consume(T),T===92?b:m)}function b(T){return T===60||T===62||T===92?(e.consume(T),m):m(T)}function x(T){return!d&&(T===null||T===41||Rn(T))?(e.exit("chunkString"),e.exit(a),e.exit(s),e.exit(r),t(T)):d<u&&T===40?(e.consume(T),d++,x):T===41?(e.consume(T),d--,x):T===null||T===32||T===40||b_(T)?n(T):(e.consume(T),T===92?k:x)}function k(T){return T===40||T===41||T===92?(e.consume(T),x):x(T)}}function gQ(e,t,n,r,i,o){const s=this;let a=0,l;return u;function u(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(o),d}function d(m){return a>999||m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(e.exit(o),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):pt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||pt(m)||a++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!Qt(m)),m===92?g:f)}function g(m){return m===91||m===92||m===93?(e.consume(m),a++,f):f(m)}}function yQ(e,t,n,r,i,o){let s;return a;function a(g){return g===34||g===39||g===40?(e.enter(r),e.enter(i),e.consume(g),e.exit(i),s=g===40?41:g,l):n(g)}function l(g){return g===s?(e.enter(i),e.consume(g),e.exit(i),e.exit(r),t):(e.enter(o),u(g))}function u(g){return g===s?(e.exit(o),l(s)):g===null?n(g):pt(g)?(e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),dn(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(g))}function d(g){return g===s||g===null||pt(g)?(e.exit("chunkString"),u(g)):(e.consume(g),g===92?f:d)}function f(g){return g===s||g===92?(e.consume(g),d):d(g)}}function ub(e,t){let n;return r;function r(i){return pt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):Qt(i)?dn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Jze={name:"definition",tokenize:Gze},Kze={partial:!0,tokenize:Yze};function Gze(e,t,n){const r=this;let i;return o;function o(m){return e.enter("definition"),s(m)}function s(m){return gQ.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return i=Pa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Rn(m)?ub(e,u)(m):u(m)}function u(m){return mQ(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(Kze,f,f)(m)}function f(m){return Qt(m)?dn(e,g,"whitespace")(m):g(m)}function g(m){return m===null||pt(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function Yze(e,t,n){return r;function r(a){return Rn(a)?ub(e,i)(a):n(a)}function i(a){return yQ(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return Qt(a)?dn(e,s,"whitespace")(a):s(a)}function s(a){return a===null||pt(a)?t(a):n(a)}}const Xze={name:"hardBreakEscape",tokenize:Qze};function Qze(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return pt(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const e4e={name:"headingAtx",resolve:t4e,tokenize:n4e};function t4e(e,t){let n=e.length-2,r=3,i,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},ds(e,r,n-r+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function n4e(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),o(d)}function o(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(e.consume(d),s):d===null||Rn(d)?(e.exit("atxHeadingSequence"),a(d)):n(d)}function a(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||pt(d)?(e.exit("atxHeading"),t(d)):Qt(d)?dn(e,a,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),a(d))}function u(d){return d===null||d===35||Rn(d)?(e.exit("atxHeadingText"),a(d)):(e.consume(d),u)}}const r4e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],vB=["pre","script","style","textarea"],i4e={concrete:!0,name:"htmlFlow",resolveTo:a4e,tokenize:l4e},o4e={partial:!0,tokenize:c4e},s4e={partial:!0,tokenize:u4e};function a4e(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function l4e(e,t,n){const r=this;let i,o,s,a,l;return u;function u(W){return d(W)}function d(W){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(W),f}function f(W){return W===33?(e.consume(W),g):W===47?(e.consume(W),o=!0,x):W===63?(e.consume(W),i=3,r.interrupt?t:B):to(W)?(e.consume(W),s=String.fromCharCode(W),k):n(W)}function g(W){return W===45?(e.consume(W),i=2,m):W===91?(e.consume(W),i=5,a=0,b):to(W)?(e.consume(W),i=4,r.interrupt?t:B):n(W)}function m(W){return W===45?(e.consume(W),r.interrupt?t:B):n(W)}function b(W){const Ie="CDATA[";return W===Ie.charCodeAt(a++)?(e.consume(W),a===Ie.length?r.interrupt?t:ee:b):n(W)}function x(W){return to(W)?(e.consume(W),s=String.fromCharCode(W),k):n(W)}function k(W){if(W===null||W===47||W===62||Rn(W)){const Ie=W===47,Ce=s.toLowerCase();return!Ie&&!o&&vB.includes(Ce)?(i=1,r.interrupt?t(W):ee(W)):r4e.includes(s.toLowerCase())?(i=6,Ie?(e.consume(W),T):r.interrupt?t(W):ee(W)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(W):o?E(W):$(W))}return W===45||Di(W)?(e.consume(W),s+=String.fromCharCode(W),k):n(W)}function T(W){return W===62?(e.consume(W),r.interrupt?t:ee):n(W)}function E(W){return Qt(W)?(e.consume(W),E):Z(W)}function $(W){return W===47?(e.consume(W),Z):W===58||W===95||to(W)?(e.consume(W),P):Qt(W)?(e.consume(W),$):Z(W)}function P(W){return W===45||W===46||W===58||W===95||Di(W)?(e.consume(W),P):M(W)}function M(W){return W===61?(e.consume(W),R):Qt(W)?(e.consume(W),M):$(W)}function R(W){return W===null||W===60||W===61||W===62||W===96?n(W):W===34||W===39?(e.consume(W),l=W,z):Qt(W)?(e.consume(W),R):F(W)}function z(W){return W===l?(e.consume(W),l=null,q):W===null||pt(W)?n(W):(e.consume(W),z)}function F(W){return W===null||W===34||W===39||W===47||W===60||W===61||W===62||W===96||Rn(W)?M(W):(e.consume(W),F)}function q(W){return W===47||W===62||Qt(W)?$(W):n(W)}function Z(W){return W===62?(e.consume(W),re):n(W)}function re(W){return W===null||pt(W)?ee(W):Qt(W)?(e.consume(W),re):n(W)}function ee(W){return W===45&&i===2?(e.consume(W),me):W===60&&i===1?(e.consume(W),ie):W===62&&i===4?(e.consume(W),G):W===63&&i===3?(e.consume(W),B):W===93&&i===5?(e.consume(W),le):pt(W)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(o4e,H,ne)(W)):W===null||pt(W)?(e.exit("htmlFlowData"),ne(W)):(e.consume(W),ee)}function ne(W){return e.check(s4e,se,H)(W)}function se(W){return e.enter("lineEnding"),e.consume(W),e.exit("lineEnding"),ue}function ue(W){return W===null||pt(W)?ne(W):(e.enter("htmlFlowData"),ee(W))}function me(W){return W===45?(e.consume(W),B):ee(W)}function ie(W){return W===47?(e.consume(W),s="",J):ee(W)}function J(W){if(W===62){const Ie=s.toLowerCase();return vB.includes(Ie)?(e.consume(W),G):ee(W)}return to(W)&&s.length<8?(e.consume(W),s+=String.fromCharCode(W),J):ee(W)}function le(W){return W===93?(e.consume(W),B):ee(W)}function B(W){return W===62?(e.consume(W),G):W===45&&i===2?(e.consume(W),B):ee(W)}function G(W){return W===null||pt(W)?(e.exit("htmlFlowData"),H(W)):(e.consume(W),G)}function H(W){return e.exit("htmlFlow"),t(W)}}function u4e(e,t,n){const r=this;return i;function i(s){return pt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function c4e(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(i0,t,n)}}const d4e={name:"htmlText",tokenize:f4e};function f4e(e,t,n){const r=this;let i,o,s;return a;function a(B){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(B),l}function l(B){return B===33?(e.consume(B),u):B===47?(e.consume(B),M):B===63?(e.consume(B),$):to(B)?(e.consume(B),F):n(B)}function u(B){return B===45?(e.consume(B),d):B===91?(e.consume(B),o=0,b):to(B)?(e.consume(B),E):n(B)}function d(B){return B===45?(e.consume(B),m):n(B)}function f(B){return B===null?n(B):B===45?(e.consume(B),g):pt(B)?(s=f,ie(B)):(e.consume(B),f)}function g(B){return B===45?(e.consume(B),m):f(B)}function m(B){return B===62?me(B):B===45?g(B):f(B)}function b(B){const G="CDATA[";return B===G.charCodeAt(o++)?(e.consume(B),o===G.length?x:b):n(B)}function x(B){return B===null?n(B):B===93?(e.consume(B),k):pt(B)?(s=x,ie(B)):(e.consume(B),x)}function k(B){return B===93?(e.consume(B),T):x(B)}function T(B){return B===62?me(B):B===93?(e.consume(B),T):x(B)}function E(B){return B===null||B===62?me(B):pt(B)?(s=E,ie(B)):(e.consume(B),E)}function $(B){return B===null?n(B):B===63?(e.consume(B),P):pt(B)?(s=$,ie(B)):(e.consume(B),$)}function P(B){return B===62?me(B):$(B)}function M(B){return to(B)?(e.consume(B),R):n(B)}function R(B){return B===45||Di(B)?(e.consume(B),R):z(B)}function z(B){return pt(B)?(s=z,ie(B)):Qt(B)?(e.consume(B),z):me(B)}function F(B){return B===45||Di(B)?(e.consume(B),F):B===47||B===62||Rn(B)?q(B):n(B)}function q(B){return B===47?(e.consume(B),me):B===58||B===95||to(B)?(e.consume(B),Z):pt(B)?(s=q,ie(B)):Qt(B)?(e.consume(B),q):me(B)}function Z(B){return B===45||B===46||B===58||B===95||Di(B)?(e.consume(B),Z):re(B)}function re(B){return B===61?(e.consume(B),ee):pt(B)?(s=re,ie(B)):Qt(B)?(e.consume(B),re):q(B)}function ee(B){return B===null||B===60||B===61||B===62||B===96?n(B):B===34||B===39?(e.consume(B),i=B,ne):pt(B)?(s=ee,ie(B)):Qt(B)?(e.consume(B),ee):(e.consume(B),se)}function ne(B){return B===i?(e.consume(B),i=void 0,ue):B===null?n(B):pt(B)?(s=ne,ie(B)):(e.consume(B),ne)}function se(B){return B===null||B===34||B===39||B===60||B===61||B===96?n(B):B===47||B===62||Rn(B)?q(B):(e.consume(B),se)}function ue(B){return B===47||B===62||Rn(B)?q(B):n(B)}function me(B){return B===62?(e.consume(B),e.exit("htmlTextData"),e.exit("htmlText"),t):n(B)}function ie(B){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),J}function J(B){return Qt(B)?dn(e,le,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(B):le(B)}function le(B){return e.enter("htmlTextData"),s(B)}}const VR={name:"labelEnd",resolveAll:g4e,resolveTo:y4e,tokenize:v4e},p4e={tokenize:b4e},h4e={tokenize:x4e},m4e={tokenize:w4e};function g4e(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&ds(e,0,e.length,n),e}function y4e(e,t){let n=e.length,r=0,i,o,s,a;for(;n--;)if(i=e[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[o][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[s-2][1].start}};return a=[["enter",l,t],["enter",u,t]],a=Vs(a,e.slice(o+1,o+r+3)),a=Vs(a,[["enter",d,t]]),a=Vs(a,iT(t.parser.constructs.insideSpan.null,e.slice(o+r+4,s-3),t)),a=Vs(a,[["exit",d,t],e[s-2],e[s-1],["exit",u,t]]),a=Vs(a,e.slice(s+1)),a=Vs(a,[["exit",l,t]]),ds(e,o,e.length,a),e}function v4e(e,t,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(g){return o?o._inactive?f(g):(s=r.parser.defined.includes(Pa(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(g),e.exit("labelMarker"),e.exit("labelEnd"),l):n(g)}function l(g){return g===40?e.attempt(p4e,d,s?d:f)(g):g===91?e.attempt(h4e,d,s?u:f)(g):s?d(g):f(g)}function u(g){return e.attempt(m4e,d,f)(g)}function d(g){return t(g)}function f(g){return o._balanced=!0,n(g)}}function b4e(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Rn(f)?ub(e,o)(f):o(f)}function o(f){return f===41?d(f):mQ(e,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Rn(f)?ub(e,l)(f):d(f)}function a(f){return n(f)}function l(f){return f===34||f===39||f===40?yQ(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Rn(f)?ub(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function x4e(e,t,n){const r=this;return i;function i(a){return gQ.call(r,e,o,s,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(Pa(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function s(a){return n(a)}}function w4e(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const S4e={name:"labelStartImage",resolveAll:VR.resolveAll,tokenize:k4e};function k4e(e,t,n){const r=this;return i;function i(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o}function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const _4e={name:"labelStartLink",resolveAll:VR.resolveAll,tokenize:T4e};function T4e(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const UE={name:"lineEnding",tokenize:C4e};function C4e(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),dn(e,t,"linePrefix")}}const GS={name:"thematicBreak",tokenize:E4e};function E4e(e,t,n){let r=0,i;return o;function o(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,a(u)}function a(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||pt(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),Qt(u)?dn(e,a,"whitespace")(u):a(u))}}const Ao={continuation:{tokenize:P4e},exit:O4e,name:"list",tokenize:$4e},I4e={partial:!0,tokenize:N4e},A4e={partial:!0,tokenize:M4e};function $4e(e,t,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(m){const b=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:z$(m)){if(r.containerState.type||(r.containerState.type=b,e.enter(b,{_container:!0})),b==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(GS,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return z$(m)&&++s<10?(e.consume(m),l):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(i0,r.interrupt?n:d,e.attempt(I4e,g,f))}function d(m){return r.containerState.initialBlankLine=!0,o++,g(m)}function f(m){return Qt(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),g):n(m)}function g(m){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function P4e(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(i0,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,dn(e,t,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!Qt(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(A4e,t,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,dn(e,e.attempt(Ao,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function M4e(e,t,n){const r=this;return dn(e,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(o):n(o)}}function O4e(e){e.exit(this.containerState.type)}function N4e(e,t,n){const r=this;return dn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!Qt(o)&&s&&s[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const bB={name:"setextUnderline",resolveTo:R4e,tokenize:D4e};function R4e(e,t){let n=e.length,r,i,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",s,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function D4e(e,t,n){const r=this;let i;return o;function o(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return e.enter("setextHeadingLineSequence"),a(u)}function a(u){return u===i?(e.consume(u),a):(e.exit("setextHeadingLineSequence"),Qt(u)?dn(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||pt(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const j4e={tokenize:L4e};function L4e(e){const t=this,n=e.attempt(i0,r,e.attempt(this.parser.constructs.flowInitial,i,dn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(Uze,i)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const z4e={resolveAll:bQ()},F4e=vQ("string"),V4e=vQ("text");function vQ(e){return{resolveAll:bQ(e==="text"?B4e:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],o=n.attempt(i,s,a);return s;function s(d){return u(d)?o(d):a(d)}function a(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),o(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const f=i[d];let g=-1;if(f)for(;++g<f.length;){const m=f[g];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function bQ(e){return t;function t(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(n,r):n}}function B4e(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const u=i[o];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(u===-2)l=!0,a++;else if(u!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const u={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?s:r.start._bufferIndex+s,_index:r.start._index+o,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const U4e={42:Ao,43:Ao,45:Ao,48:Ao,49:Ao,50:Ao,51:Ao,52:Ao,53:Ao,54:Ao,55:Ao,56:Ao,57:Ao,62:dQ},Z4e={91:Jze},W4e={[-2]:BE,[-1]:BE,32:BE},H4e={35:e4e,42:GS,45:[bB,GS],60:i4e,61:bB,95:GS,96:yB,126:yB},q4e={38:pQ,92:fQ},J4e={[-5]:UE,[-4]:UE,[-3]:UE,33:S4e,38:pQ,42:F$,60:[_ze,d4e],91:_4e,92:[Xze,fQ],93:VR,95:F$,96:jze},K4e={null:[F$,z4e]},G4e={null:[42,95]},Y4e={null:[]},X4e=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:G4e,contentInitial:Z4e,disable:Y4e,document:U4e,flow:H4e,flowInitial:W4e,insideSpan:K4e,string:q4e,text:J4e},Symbol.toStringTag,{value:"Module"}));function Q4e(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},o=[];let s=[],a=[];const l={attempt:z(M),check:z(R),consume:E,enter:$,exit:P,interrupt:z(R,{interrupt:!0})},u={code:null,containerState:{},defineSkip:x,events:[],now:b,parser:e,previous:null,sliceSerialize:g,sliceStream:m,write:f};let d=t.tokenize.call(u,l);return t.resolveAll&&o.push(t),u;function f(re){return s=Vs(s,re),k(),s[s.length-1]!==null?[]:(F(t,0),u.events=iT(o,u.events,u),u.events)}function g(re,ee){return tFe(m(re),ee)}function m(re){return eFe(s,re)}function b(){const{_bufferIndex:re,_index:ee,line:ne,column:se,offset:ue}=r;return{_bufferIndex:re,_index:ee,line:ne,column:se,offset:ue}}function x(re){i[re.line]=re.column,Z()}function k(){let re;for(;r._index<s.length;){const ee=s[r._index];if(typeof ee=="string")for(re=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===re&&r._bufferIndex<ee.length;)T(ee.charCodeAt(r._bufferIndex));else T(ee)}}function T(re){d=d(re)}function E(re){pt(re)?(r.line++,r.column=1,r.offset+=re===-3?2:1,Z()):re!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=re}function $(re,ee){const ne=ee||{};return ne.type=re,ne.start=b(),u.events.push(["enter",ne,u]),a.push(ne),ne}function P(re){const ee=a.pop();return ee.end=b(),u.events.push(["exit",ee,u]),ee}function M(re,ee){F(re,ee.from)}function R(re,ee){ee.restore()}function z(re,ee){return ne;function ne(se,ue,me){let ie,J,le,B;return Array.isArray(se)?H(se):"tokenize"in se?H([se]):G(se);function G(Ae){return $e;function $e(je){const Xe=je!==null&&Ae[je],Pt=je!==null&&Ae.null,en=[...Array.isArray(Xe)?Xe:Xe?[Xe]:[],...Array.isArray(Pt)?Pt:Pt?[Pt]:[]];return H(en)(je)}}function H(Ae){return ie=Ae,J=0,Ae.length===0?me:W(Ae[J])}function W(Ae){return $e;function $e(je){return B=q(),le=Ae,Ae.partial||(u.currentConstruct=Ae),Ae.name&&u.parser.constructs.disable.null.includes(Ae.name)?Ce():Ae.tokenize.call(ee?Object.assign(Object.create(u),ee):u,l,Ie,Ce)(je)}}function Ie(Ae){return re(le,B),ue}function Ce(Ae){return B.restore(),++J<ie.length?W(ie[J]):me}}}function F(re,ee){re.resolveAll&&!o.includes(re)&&o.push(re),re.resolve&&ds(u.events,ee,u.events.length-ee,re.resolve(u.events.slice(ee),u)),re.resolveTo&&(u.events=re.resolveTo(u.events,u))}function q(){const re=b(),ee=u.previous,ne=u.currentConstruct,se=u.events.length,ue=Array.from(a);return{from:se,restore:me};function me(){r=re,u.previous=ee,u.currentConstruct=ne,u.events.length=se,a=ue,Z()}}function Z(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function eFe(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,o)];else{if(s=e.slice(n,i),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}o>0&&s.push(e[i].slice(0,o))}return s}function tFe(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const o=e[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}function nFe(e){const r={constructs:uQ([X4e,...(e||{}).extensions||[]]),content:i(yze),defined:[],document:i(bze),flow:i(j4e),lazy:{},string:i(F4e),text:i(V4e)};return r;function i(o){return s;function s(a){return Q4e(r,o,a)}}}function rFe(e){for(;!hQ(e););return e}const xB=/[\0\t\n\r]/g;function iFe(){let e=1,t="",n=!0,r;return i;function i(o,s,a){const l=[];let u,d,f,g,m;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),f=0,t="",n&&(o.charCodeAt(0)===65279&&f++,n=void 0);f<o.length;){if(xB.lastIndex=f,u=xB.exec(o),g=u&&u.index!==void 0?u.index:o.length,m=o.charCodeAt(g),!u){t=o.slice(f);break}if(m===10&&f===g&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<g&&(l.push(o.slice(f,g)),e+=g-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=g+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const oFe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function sFe(e){return e.replace(oFe,aFe)}function aFe(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return cQ(n.slice(o?2:1),o?16:10)}return FR(n)||e}const xQ={}.hasOwnProperty;function lFe(e,t,n){return typeof t!="string"&&(n=t,t=void 0),uFe(n)(rFe(nFe(n).document().write(iFe()(e,t,!0))))}function uFe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Ue),autolinkProtocol:q,autolinkEmail:q,atxHeading:o(st),blockQuote:o(Pt),characterEscape:q,characterReference:q,codeFenced:o(en),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(en,s),codeText:o(_n,s),codeTextData:q,data:q,codeFlowValue:q,definition:o(tn),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(kt),hardBreakEscape:o(Kt),hardBreakTrailing:o(Kt),htmlFlow:o(lt,s),htmlFlowData:q,htmlText:o(lt,s),htmlTextData:q,image:o(jn),label:s,link:o(Ue),listItem:o(Tn),listItemValue:g,listOrdered:o(Gt,f),listUnordered:o(Gt),paragraph:o(Ht),reference:W,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(st),strong:o(Ir),thematicBreak:o(xi)},exit:{atxHeading:l(),atxHeadingSequence:M,autolink:l(),autolinkEmail:Xe,autolinkProtocol:je,blockQuote:l(),characterEscapeValue:Z,characterReferenceMarkerHexadecimal:Ce,characterReferenceMarkerNumeric:Ce,characterReferenceValue:Ae,characterReference:$e,codeFenced:l(k),codeFencedFence:x,codeFencedFenceInfo:m,codeFencedFenceMeta:b,codeFlowValue:Z,codeIndented:l(T),codeText:l(ue),codeTextData:Z,data:Z,definition:l(),definitionDestinationString:P,definitionLabelString:E,definitionTitleString:$,emphasis:l(),hardBreakEscape:l(ee),hardBreakTrailing:l(ee),htmlFlow:l(ne),htmlFlowData:Z,htmlText:l(se),htmlTextData:Z,image:l(ie),label:le,labelText:J,lineEnding:re,link:l(me),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Ie,resourceDestinationString:B,resourceTitleString:G,resource:H,setextHeading:l(F),setextHeadingLineSequence:z,setextHeadingText:R,strong:l(),thematicBreak:l()}};wQ(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(ye){let _e={type:"root",children:[]};const nt={stack:[_e],tokenStack:[],config:t,enter:a,exit:u,buffer:s,resume:d,data:n},ht=[];let _t=-1;for(;++_t<ye.length;)if(ye[_t][1].type==="listOrdered"||ye[_t][1].type==="listUnordered")if(ye[_t][0]==="enter")ht.push(_t);else{const In=ht.pop();_t=i(ye,In,_t)}for(_t=-1;++_t<ye.length;){const In=t[ye[_t][0]];xQ.call(In,ye[_t][1].type)&&In[ye[_t][1].type].call(Object.assign({sliceSerialize:ye[_t][2].sliceSerialize},nt),ye[_t][1])}if(nt.tokenStack.length>0){const In=nt.tokenStack[nt.tokenStack.length-1];(In[1]||wB).call(nt,void 0,In[0])}for(_e.position={start:Pc(ye.length>0?ye[0][1].start:{line:1,column:1,offset:0}),end:Pc(ye.length>0?ye[ye.length-2][1].end:{line:1,column:1,offset:0})},_t=-1;++_t<t.transforms.length;)_e=t.transforms[_t](_e)||_e;return _e}function i(ye,_e,nt){let ht=_e-1,_t=-1,In=!1,vn,Ln,Zr,Wr;for(;++ht<=nt;){const Yn=ye[ht];switch(Yn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Yn[0]==="enter"?_t++:_t--,Wr=void 0;break}case"lineEndingBlank":{Yn[0]==="enter"&&(vn&&!Wr&&!_t&&!Zr&&(Zr=ht),Wr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Wr=void 0}if(!_t&&Yn[0]==="enter"&&Yn[1].type==="listItemPrefix"||_t===-1&&Yn[0]==="exit"&&(Yn[1].type==="listUnordered"||Yn[1].type==="listOrdered")){if(vn){let wi=ht;for(Ln=void 0;wi--;){const oi=ye[wi];if(oi[1].type==="lineEnding"||oi[1].type==="lineEndingBlank"){if(oi[0]==="exit")continue;Ln&&(ye[Ln][1].type="lineEndingBlank",In=!0),oi[1].type="lineEnding",Ln=wi}else if(!(oi[1].type==="linePrefix"||oi[1].type==="blockQuotePrefix"||oi[1].type==="blockQuotePrefixWhitespace"||oi[1].type==="blockQuoteMarker"||oi[1].type==="listItemIndent"))break}Zr&&(!Ln||Zr<Ln)&&(vn._spread=!0),vn.end=Object.assign({},Ln?ye[Ln][1].start:Yn[1].end),ye.splice(Ln||ht,0,["exit",vn,Yn[2]]),ht++,nt++}if(Yn[1].type==="listItemPrefix"){const wi={type:"listItem",_spread:!1,start:Object.assign({},Yn[1].start),end:void 0};vn=wi,ye.splice(ht,0,["enter",wi,Yn[2]]),ht++,nt++,Zr=void 0,Wr=!0}}}return ye[_e][1]._spread=In,nt}function o(ye,_e){return nt;function nt(ht){a.call(this,ye(ht),ht),_e&&_e.call(this,ht)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(ye,_e,nt){this.stack[this.stack.length-1].children.push(ye),this.stack.push(ye),this.tokenStack.push([_e,nt||void 0]),ye.position={start:Pc(_e.start),end:void 0}}function l(ye){return _e;function _e(nt){ye&&ye.call(this,nt),u.call(this,nt)}}function u(ye,_e){const nt=this.stack.pop(),ht=this.tokenStack.pop();if(ht)ht[0].type!==ye.type&&(_e?_e.call(this,ye,ht[0]):(ht[1]||wB).call(this,ye,ht[0]));else throw new Error("Cannot close `"+ye.type+"` ("+lb({start:ye.start,end:ye.end})+"): it’s not open");nt.position.end=Pc(ye.end)}function d(){return zR(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function g(ye){if(this.data.expectingFirstListItemValue){const _e=this.stack[this.stack.length-2];_e.start=Number.parseInt(this.sliceSerialize(ye),10),this.data.expectingFirstListItemValue=void 0}}function m(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.lang=ye}function b(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.meta=ye}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function k(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ye.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function T(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ye.replace(/(\r?\n|\r)$/g,"")}function E(ye){const _e=this.resume(),nt=this.stack[this.stack.length-1];nt.label=_e,nt.identifier=Pa(this.sliceSerialize(ye)).toLowerCase()}function $(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.title=ye}function P(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.url=ye}function M(ye){const _e=this.stack[this.stack.length-1];if(!_e.depth){const nt=this.sliceSerialize(ye).length;_e.depth=nt}}function R(){this.data.setextHeadingSlurpLineEnding=!0}function z(ye){const _e=this.stack[this.stack.length-1];_e.depth=this.sliceSerialize(ye).codePointAt(0)===61?1:2}function F(){this.data.setextHeadingSlurpLineEnding=void 0}function q(ye){const nt=this.stack[this.stack.length-1].children;let ht=nt[nt.length-1];(!ht||ht.type!=="text")&&(ht=ms(),ht.position={start:Pc(ye.start),end:void 0},nt.push(ht)),this.stack.push(ht)}function Z(ye){const _e=this.stack.pop();_e.value+=this.sliceSerialize(ye),_e.position.end=Pc(ye.end)}function re(ye){const _e=this.stack[this.stack.length-1];if(this.data.atHardBreak){const nt=_e.children[_e.children.length-1];nt.position.end=Pc(ye.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(_e.type)&&(q.call(this,ye),Z.call(this,ye))}function ee(){this.data.atHardBreak=!0}function ne(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ye}function se(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ye}function ue(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.value=ye}function me(){const ye=this.stack[this.stack.length-1];if(this.data.inReference){const _e=this.data.referenceType||"shortcut";ye.type+="Reference",ye.referenceType=_e,delete ye.url,delete ye.title}else delete ye.identifier,delete ye.label;this.data.referenceType=void 0}function ie(){const ye=this.stack[this.stack.length-1];if(this.data.inReference){const _e=this.data.referenceType||"shortcut";ye.type+="Reference",ye.referenceType=_e,delete ye.url,delete ye.title}else delete ye.identifier,delete ye.label;this.data.referenceType=void 0}function J(ye){const _e=this.sliceSerialize(ye),nt=this.stack[this.stack.length-2];nt.label=sFe(_e),nt.identifier=Pa(_e).toLowerCase()}function le(){const ye=this.stack[this.stack.length-1],_e=this.resume(),nt=this.stack[this.stack.length-1];if(this.data.inReference=!0,nt.type==="link"){const ht=ye.children;nt.children=ht}else nt.alt=_e}function B(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.url=ye}function G(){const ye=this.resume(),_e=this.stack[this.stack.length-1];_e.title=ye}function H(){this.data.inReference=void 0}function W(){this.data.referenceType="collapsed"}function Ie(ye){const _e=this.resume(),nt=this.stack[this.stack.length-1];nt.label=_e,nt.identifier=Pa(this.sliceSerialize(ye)).toLowerCase(),this.data.referenceType="full"}function Ce(ye){this.data.characterReferenceType=ye.type}function Ae(ye){const _e=this.sliceSerialize(ye),nt=this.data.characterReferenceType;let ht;nt?(ht=cQ(_e,nt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ht=FR(_e);const _t=this.stack[this.stack.length-1];_t.value+=ht}function $e(ye){const _e=this.stack.pop();_e.position.end=Pc(ye.end)}function je(ye){Z.call(this,ye);const _e=this.stack[this.stack.length-1];_e.url=this.sliceSerialize(ye)}function Xe(ye){Z.call(this,ye);const _e=this.stack[this.stack.length-1];_e.url="mailto:"+this.sliceSerialize(ye)}function Pt(){return{type:"blockquote",children:[]}}function en(){return{type:"code",lang:null,meta:null,value:""}}function _n(){return{type:"inlineCode",value:""}}function tn(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function kt(){return{type:"emphasis",children:[]}}function st(){return{type:"heading",depth:0,children:[]}}function Kt(){return{type:"break"}}function lt(){return{type:"html",value:""}}function jn(){return{type:"image",title:null,url:"",alt:null}}function Ue(){return{type:"link",title:null,url:"",children:[]}}function Gt(ye){return{type:"list",ordered:ye.type==="listOrdered",start:null,spread:ye._spread,children:[]}}function Tn(ye){return{type:"listItem",spread:ye._spread,checked:null,children:[]}}function Ht(){return{type:"paragraph",children:[]}}function Ir(){return{type:"strong",children:[]}}function ms(){return{type:"text",value:""}}function xi(){return{type:"thematicBreak"}}}function Pc(e){return{line:e.line,column:e.column,offset:e.offset}}function wQ(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?wQ(e,r):cFe(e,r)}}function cFe(e,t){let n;for(n in t)if(xQ.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function wB(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+lb({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+lb({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+lb({start:t.start,end:t.end})+") is still open")}function dFe(e){const t=this;t.parser=n;function n(r){return lFe(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function fFe(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function pFe(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function hFe(e,t){const n=t.value?t.value+`
`:"",r={};t.lang&&(r.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function mFe(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function gFe(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function yFe(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Dg(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let s,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=o+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function vFe(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function bFe(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function SQ(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function xFe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return SQ(e,t);const i={src:Dg(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function wFe(e,t){const n={src:Dg(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function SFe(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function kFe(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return SQ(e,t);const i={href:Dg(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function _Fe(e,t){const n={href:Dg(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function TFe(e,t,n){const r=e.all(t),i=n?CFe(n):kQ(t),o={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const d=r[a];(i||a!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:o,children:s};return e.patch(t,u),e.applyData(t,u)}function CFe(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=kQ(n[r])}return t}function kQ(e){const t=e.spread;return t??e.children.length>1}function EFe(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function IFe(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function AFe(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function $Fe(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function PFe(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=RR(t.children[1]),l=nQ(t.children[t.children.length-1]);a&&l&&(s.position={start:a,end:l}),i.push(s)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function MFe(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,a=s?s.length:t.children.length;let l=-1;const u=[];for(;++l<a;){const f=t.children[l],g={},m=s?s[l]:void 0;m&&(g.align=m);let b={type:"element",tagName:o,properties:g,children:[]};f&&(b.children=e.all(f),e.patch(f,b),b=e.applyData(f,b)),u.push(b)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function OFe(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const SB=9,kB=32;function NFe(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const o=[];for(;r;)o.push(_B(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return o.push(_B(t.slice(i),i>0,!1)),o.join("")}function _B(e,t,n){let r=0,i=e.length;if(t){let o=e.codePointAt(r);for(;o===SB||o===kB;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(i-1);for(;o===SB||o===kB;)i--,o=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function RFe(e,t){const n={type:"text",value:NFe(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function DFe(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const jFe={blockquote:fFe,break:pFe,code:hFe,delete:mFe,emphasis:gFe,footnoteReference:yFe,heading:vFe,html:bFe,imageReference:xFe,image:wFe,inlineCode:SFe,linkReference:kFe,link:_Fe,listItem:TFe,list:EFe,paragraph:IFe,root:AFe,strong:$Fe,table:PFe,tableCell:OFe,tableRow:MFe,text:RFe,thematicBreak:DFe,toml:pS,yaml:pS,definition:pS,footnoteDefinition:pS};function pS(){}const _Q=-1,oT=0,cb=1,x_=2,BR=3,UR=4,ZR=5,WR=6,TQ=7,CQ=8,TB=typeof self=="object"?self:globalThis,LFe=(e,t)=>{const n=(i,o)=>(e.set(o,i),i),r=i=>{if(e.has(i))return e.get(i);const[o,s]=t[i];switch(o){case oT:case _Q:return n(s,i);case cb:{const a=n([],i);for(const l of s)a.push(r(l));return a}case x_:{const a=n({},i);for(const[l,u]of s)a[r(l)]=r(u);return a}case BR:return n(new Date(s),i);case UR:{const{source:a,flags:l}=s;return n(new RegExp(a,l),i)}case ZR:{const a=n(new Map,i);for(const[l,u]of s)a.set(r(l),r(u));return a}case WR:{const a=n(new Set,i);for(const l of s)a.add(r(l));return a}case TQ:{const{name:a,message:l}=s;return n(new TB[a](l),i)}case CQ:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:a}=new Uint8Array(s);return n(new DataView(a),s)}}return n(new TB[o](s),i)};return r},CB=e=>LFe(new Map,e)(0),tm="",{toString:zFe}={},{keys:FFe}=Object,kv=e=>{const t=typeof e;if(t!=="object"||!e)return[oT,t];const n=zFe.call(e).slice(8,-1);switch(n){case"Array":return[cb,tm];case"Object":return[x_,tm];case"Date":return[BR,tm];case"RegExp":return[UR,tm];case"Map":return[ZR,tm];case"Set":return[WR,tm];case"DataView":return[cb,n]}return n.includes("Array")?[cb,n]:n.includes("Error")?[TQ,n]:[x_,n]},hS=([e,t])=>e===oT&&(t==="function"||t==="symbol"),VFe=(e,t,n,r)=>{const i=(s,a)=>{const l=r.push(s)-1;return n.set(a,l),l},o=s=>{if(n.has(s))return n.get(s);let[a,l]=kv(s);switch(a){case oT:{let d=s;switch(l){case"bigint":a=CQ,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([_Q],s)}return i([a,d],s)}case cb:{if(l){let g=s;return l==="DataView"?g=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(g=new Uint8Array(s)),i([l,[...g]],s)}const d=[],f=i([a,d],s);for(const g of s)d.push(o(g));return f}case x_:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return o(s.toJSON());const d=[],f=i([a,d],s);for(const g of FFe(s))(e||!hS(kv(s[g])))&&d.push([o(g),o(s[g])]);return f}case BR:return i([a,s.toISOString()],s);case UR:{const{source:d,flags:f}=s;return i([a,{source:d,flags:f}],s)}case ZR:{const d=[],f=i([a,d],s);for(const[g,m]of s)(e||!(hS(kv(g))||hS(kv(m))))&&d.push([o(g),o(m)]);return f}case WR:{const d=[],f=i([a,d],s);for(const g of s)(e||!hS(kv(g)))&&d.push(o(g));return f}}const{message:u}=s;return i([a,{name:l,message:u}],s)};return o},EB=(e,{json:t,lossy:n}={})=>{const r=[];return VFe(!(t||n),!!t,new Map,r)(e),r},w_=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?CB(EB(e,t)):structuredClone(e):(e,t)=>CB(EB(e,t));function BFe(e,t){const n=[{type:"text",value:"↩"}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function UFe(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function ZFe(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||BFe,r=e.options.footnoteBackLabel||UFe,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),g=Dg(f.toLowerCase());let m=0;const b=[],x=e.footnoteCounts.get(f);for(;x!==void 0&&++m<=x;){b.length>0&&b.push({type:"text",value:" "});let E=typeof n=="string"?n:n(l,m);typeof E=="string"&&(E={type:"text",value:E}),b.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+g+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(E)?E:[E]})}const k=d[d.length-1];if(k&&k.type==="element"&&k.tagName==="p"){const E=k.children[k.children.length-1];E&&E.type==="text"?E.value+=" ":k.children.push({type:"text",value:" "}),k.children.push(...b)}else d.push(...b);const T={type:"element",tagName:"li",properties:{id:t+"fn-"+g},children:e.wrap(d,!0)};e.patch(u,T),a.push(T)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...w_(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const sT=(function(e){if(e==null)return JFe;if(typeof e=="function")return aT(e);if(typeof e=="object")return Array.isArray(e)?WFe(e):HFe(e);if(typeof e=="string")return qFe(e);throw new Error("Expected function, string, or object as test")});function WFe(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=sT(e[n]);return aT(r);function r(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function HFe(e){const t=e;return aT(n);function n(r){const i=r;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function qFe(e){return aT(t);function t(n){return n&&n.type===e}}function aT(e){return t;function t(n,r,i){return!!(KFe(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function JFe(){return!0}function KFe(e){return e!==null&&typeof e=="object"&&"type"in e}const EQ=[],GFe=!0,V$=!1,YFe="skip";function IQ(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const o=sT(i),s=r?-1:1;a(e,void 0,[])();function a(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(g,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return g;function g(){let m=EQ,b,x,k;if((!t||o(l,u,d[d.length-1]||void 0))&&(m=XFe(n(l,d)),m[0]===V$))return m;if("children"in l&&l.children){const T=l;if(T.children&&m[0]!==YFe)for(x=(r?T.children.length:-1)+s,k=d.concat(T);x>-1&&x<T.children.length;){const E=T.children[x];if(b=a(E,x,k)(),b[0]===V$)return b;x=typeof b[1]=="number"?b[1]:x+s}}return m}}}function XFe(e){return Array.isArray(e)?e:typeof e=="number"?[GFe,e]:e==null?EQ:[e]}function HR(e,t,n,r){let i,o,s;typeof t=="function"&&typeof n!="function"?(o=void 0,s=t,i=n):(o=t,s=n,i=r),IQ(e,o,a,i);function a(l,u){const d=u[u.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const B$={}.hasOwnProperty,QFe={};function eVe(e,t){const n=t||QFe,r=new Map,i=new Map,o=new Map,s={...jFe,...n.handlers},a={all:u,applyData:nVe,definitionById:r,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:s,one:l,options:n,patch:tVe,wrap:iVe};return HR(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,g=String(d.identifier).toUpperCase();f.has(g)||f.set(g,d)}}),a;function l(d,f){const g=d.type,m=a.handlers[g];if(B$.call(a.handlers,g)&&m)return m(a,d,f);if(a.options.passThrough&&a.options.passThrough.includes(g)){if("children"in d){const{children:x,...k}=d,T=w_(k);return T.children=a.all(d),T}return w_(d)}return(a.options.unknownHandler||rVe)(a,d,f)}function u(d){const f=[];if("children"in d){const g=d.children;let m=-1;for(;++m<g.length;){const b=a.one(g[m],d);if(b){if(m&&g[m-1].type==="break"&&(!Array.isArray(b)&&b.type==="text"&&(b.value=IB(b.value)),!Array.isArray(b)&&b.type==="element")){const x=b.children[0];x&&x.type==="text"&&(x.value=IB(x.value))}Array.isArray(b)?f.push(...b):f.push(b)}}}return f}}function tVe(e,t){e.position&&(t.position=ULe(e))}function nVe(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&o&&Object.assign(n.properties,w_(o)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function rVe(e,t){const n=t.data||{},r="value"in t&&!(B$.call(n,"hProperties")||B$.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function iVe(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function IB(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function AB(e,t){const n=eVe(e,t),r=n.one(e,void 0),i=ZFe(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function oVe(e,t){return e&&"run"in e?async function(n,r){const i=AB(n,{file:r,...t});await e.run(i,r)}:function(n,r){return AB(n,{file:r,...e||t})}}function $B(e){if(e)throw e}var ZE,PB;function sVe(){if(PB)return ZE;PB=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=function(u){return typeof Array.isArray=="function"?Array.isArray(u):t.call(u)==="[object Array]"},o=function(u){if(!u||t.call(u)!=="[object Object]")return!1;var d=e.call(u,"constructor"),f=u.constructor&&u.constructor.prototype&&e.call(u.constructor.prototype,"isPrototypeOf");if(u.constructor&&!d&&!f)return!1;var g;for(g in u);return typeof g>"u"||e.call(u,g)},s=function(u,d){n&&d.name==="__proto__"?n(u,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):u[d.name]=d.newValue},a=function(u,d){if(d==="__proto__")if(e.call(u,d)){if(r)return r(u,d).value}else return;return u[d]};return ZE=function l(){var u,d,f,g,m,b,x=arguments[0],k=1,T=arguments.length,E=!1;for(typeof x=="boolean"&&(E=x,x=arguments[1]||{},k=2),(x==null||typeof x!="object"&&typeof x!="function")&&(x={});k<T;++k)if(u=arguments[k],u!=null)for(d in u)f=a(x,d),g=a(u,d),x!==g&&(E&&g&&(o(g)||(m=i(g)))?(m?(m=!1,b=f&&i(f)?f:[]):b=f&&o(f)?f:{},s(x,{name:d,newValue:l(E,b,g)})):typeof g<"u"&&s(x,{name:d,newValue:g}));return x},ZE}var aVe=sVe();const WE=hg(aVe);function U$(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function lVe(){const e=[],t={run:n,use:r};return t;function n(...i){let o=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);a(null,...i);function a(l,...u){const d=e[++o];let f=-1;if(l){s(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,d?uVe(d,a)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function uVe(e,t){let n;return r;function r(...s){const a=e.length>s.length;let l;a&&s.push(i);try{l=e.apply(this,s)}catch(u){const d=u;if(a&&n)throw d;return i(d)}a||(l&&l.then&&typeof l.then=="function"?l.then(o,i):l instanceof Error?i(l):o(l))}function i(s,...a){n||(n=!0,t(s,...a))}function o(s){i(null,s)}}const gl={basename:cVe,dirname:dVe,extname:fVe,join:pVe,sep:"/"};function cVe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');o0(e);let n=0,r=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else r<0&&(o=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,a=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){n=i+1;break}}else s<0&&(o=!0,s=i+1),a>-1&&(e.codePointAt(i)===t.codePointAt(a--)?a<0&&(r=i):(a=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function dVe(e){if(o0(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function fVe(e){o0(e);let t=e.length,n=-1,r=0,i=-1,o=0,s;for(;t--;){const a=e.codePointAt(t);if(a===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),a===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||n<0||o===0||o===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function pVe(...e){let t=-1,n;for(;++t<e.length;)o0(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":hVe(n)}function hVe(e){o0(e);const t=e.codePointAt(0)===47;let n=mVe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function mVe(e,t){let n="",r=0,i=-1,o=0,s=-1,a,l;for(;++s<=e.length;){if(s<e.length)a=e.codePointAt(s);else{if(a===47)break;a=47}if(a===47){if(!(i===s-1||o===1))if(i!==s-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,o=0;continue}}else if(n.length>0){n="",r=0,i=s,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,o=0}else a===46&&o>-1?o++:o=-1}return n}function o0(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const gVe={cwd:yVe};function yVe(){return"/"}function Z$(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function vVe(e){if(typeof e=="string")e=new URL(e);else if(!Z$(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return bVe(e)}function bVe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const HE=["history","path","basename","stem","extname","dirname"];class AQ{constructor(t){let n;t?Z$(t)?n={path:t}:typeof t=="string"||xVe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":gVe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<HE.length;){const o=HE[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let i;for(i in n)HE.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?gl.basename(this.path):void 0}set basename(t){JE(t,"basename"),qE(t,"basename"),this.path=gl.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?gl.dirname(this.path):void 0}set dirname(t){MB(this.basename,"dirname"),this.path=gl.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?gl.extname(this.path):void 0}set extname(t){if(qE(t,"extname"),MB(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=gl.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Z$(t)&&(t=vVe(t)),JE(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?gl.basename(this.path,this.extname):void 0}set stem(t){JE(t,"stem"),qE(t,"stem"),this.path=gl.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Bi(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function qE(e,t){if(e&&e.includes(gl.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+gl.sep+"`")}function JE(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function MB(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function xVe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const wVe=(function(e){const r=this.constructor.prototype,i=r[e],o=function(){return i.apply(o,arguments)};return Object.setPrototypeOf(o,r),o}),SVe={}.hasOwnProperty;class qR extends wVe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=lVe()}copy(){const t=new qR;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(WE(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(YE("data",this.frozen),this.namespace[t]=n,this):SVe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(YE("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=mS(t),r=this.parser||this.Parser;return KE("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),KE("process",this.parser||this.Parser),GE("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(o,s){const a=mS(t),l=r.parse(a);r.run(l,a,function(d,f,g){if(d||!f||!g)return u(d);const m=f,b=r.stringify(m,g);TVe(b)?g.value=b:g.result=b,u(d,g)});function u(d,f){d||!f?s(d):o?o(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),KE("processSync",this.parser||this.Parser),GE("processSync",this.compiler||this.Compiler),this.process(t,i),NB("processSync","process",n),r;function i(o,s){n=!0,$B(o),r=s}}run(t,n,r){OB(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(s,a){const l=mS(n);i.run(t,l,u);function u(d,f,g){const m=f||t;d?a(d):s?s(m):r(void 0,m,g)}}}runSync(t,n){let r=!1,i;return this.run(t,n,o),NB("runSync","run",r),i;function o(s,a){$B(s),i=a,r=!0}}stringify(t,n){this.freeze();const r=mS(n),i=this.compiler||this.Compiler;return GE("stringify",i),OB(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(YE("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;l(d,f)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(u.plugins),u.settings&&(i.settings=WE(!0,i.settings,u.settings))}function a(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];o(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let f=-1,g=-1;for(;++f<r.length;)if(r[f][0]===u){g=f;break}if(g===-1)r.push([u,...d]);else if(d.length>0){let[m,...b]=d;const x=r[g][1];U$(x)&&U$(m)&&(m=WE(!0,x,m)),r[g]=[u,m,...b]}}}}const kVe=new qR().freeze();function KE(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function GE(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function YE(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function OB(e){if(!U$(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function NB(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function mS(e){return _Ve(e)?e:new AQ(e)}function _Ve(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function TVe(e){return typeof e=="string"||CVe(e)}function CVe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const EVe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",RB=[],DB={allowDangerousHtml:!0},IVe=/^(https?|ircs?|mailto|xmpp)$/i,AVe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function $Ve(e){const t=PVe(e),n=MVe(e);return OVe(t.runSync(t.parse(n),n),e)}function PVe(e){const t=e.rehypePlugins||RB,n=e.remarkPlugins||RB,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...DB}:DB;return kVe().use(dFe).use(n).use(oVe,r).use(t)}function MVe(e){const t=e.children||"",n=new AQ;return typeof t=="string"&&(n.value=t),n}function OVe(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,o=t.disallowedElements,s=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||NVe;for(const d of AVe)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+EVe+d.id,void 0);return HR(e,u),JLe(e,{Fragment:O.Fragment,components:i,ignoreInvalidStyle:!0,jsx:O.jsx,jsxs:O.jsxs,passKeys:!0,passNode:!0});function u(d,f,g){if(d.type==="raw"&&g&&typeof f=="number")return s?g.children.splice(f,1):g.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in VE)if(Object.hasOwn(VE,m)&&Object.hasOwn(d.properties,m)){const b=d.properties[m],x=VE[m];(x===null||x.includes(d.tagName))&&(d.properties[m]=l(String(b||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):o?o.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,g)),m&&g&&typeof f=="number")return a&&d.children?g.children.splice(f,1,...d.children):g.children.splice(f,1),f}}}function NVe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||IVe.test(e.slice(0,t))?e:""}function jB(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function RVe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function DVe(e,t,n){const i=sT((n||{}).ignore||[]),o=jVe(t);let s=-1;for(;++s<o.length;)IQ(e,"text",a);function a(u,d){let f=-1,g;for(;++f<d.length;){const m=d[f],b=g?g.children:void 0;if(i(m,b?b.indexOf(m):void 0,g))return;g=m}if(g)return l(u,d)}function l(u,d){const f=d[d.length-1],g=o[s][0],m=o[s][1];let b=0;const k=f.children.indexOf(u);let T=!1,E=[];g.lastIndex=0;let $=g.exec(u.value);for(;$;){const P=$.index,M={index:$.index,input:$.input,stack:[...d,u]};let R=m(...$,M);if(typeof R=="string"&&(R=R.length>0?{type:"text",value:R}:void 0),R===!1?g.lastIndex=P+1:(b!==P&&E.push({type:"text",value:u.value.slice(b,P)}),Array.isArray(R)?E.push(...R):R&&E.push(R),b=P+$[0].length,T=!0),!g.global)break;$=g.exec(u.value)}return T?(b<u.value.length&&E.push({type:"text",value:u.value.slice(b)}),f.children.splice(k,1,...E)):E=[u],k+E.length}}function jVe(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([LVe(i[0]),zVe(i[1])])}return t}function LVe(e){return typeof e=="string"?new RegExp(RVe(e),"g"):e}function zVe(e){return typeof e=="function"?e:function(){return e}}const XE="phrasing",QE=["autolink","link","image","label"];function FVe(){return{transforms:[qVe],enter:{literalAutolink:BVe,literalAutolinkEmail:eI,literalAutolinkHttp:eI,literalAutolinkWww:eI},exit:{literalAutolink:HVe,literalAutolinkEmail:WVe,literalAutolinkHttp:UVe,literalAutolinkWww:ZVe}}}function VVe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:XE,notInConstruct:QE},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:XE,notInConstruct:QE},{character:":",before:"[ps]",after:"\\/",inConstruct:XE,notInConstruct:QE}]}}function BVe(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function eI(e){this.config.enter.autolinkProtocol.call(this,e)}function UVe(e){this.config.exit.autolinkProtocol.call(this,e)}function ZVe(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function WVe(e){this.config.exit.autolinkEmail.call(this,e)}function HVe(e){this.exit(e)}function qVe(e){DVe(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,JVe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),KVe]],{ignore:["link","linkReference"]})}function JVe(e,t,n,r,i){let o="";if(!$Q(i)||(/^w/i.test(t)&&(n=t+n,t="",o="http://"),!GVe(n)))return!1;const s=YVe(n+r);if(!s[0])return!1;const a={type:"link",title:null,url:o+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[a,{type:"text",value:s[1]}]:a}function KVe(e,t,n,r){return!$Q(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function GVe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function YVe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=jB(e,"(");let o=jB(e,")");for(;r!==-1&&i>o;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),o++;return[e,n]}function $Q(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||fp(n)||rT(n))&&(!t||n!==47)}PQ.peek=sBe;function XVe(){this.buffer()}function QVe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function eBe(){this.buffer()}function tBe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function nBe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Pa(this.sliceSerialize(e)).toLowerCase(),n.label=t}function rBe(e){this.exit(e)}function iBe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Pa(this.sliceSerialize(e)).toLowerCase(),n.label=t}function oBe(e){this.exit(e)}function sBe(){return"["}function PQ(e,t,n,r){const i=n.createTracker(r);let o=i.move("[^");const s=n.enter("footnoteReference"),a=n.enter("reference");return o+=i.move(n.safe(n.associationId(e),{after:"]",before:o})),a(),s(),o+=i.move("]"),o}function aBe(){return{enter:{gfmFootnoteCallString:XVe,gfmFootnoteCall:QVe,gfmFootnoteDefinitionLabelString:eBe,gfmFootnoteDefinition:tBe},exit:{gfmFootnoteCallString:nBe,gfmFootnoteCall:rBe,gfmFootnoteDefinitionLabelString:iBe,gfmFootnoteDefinition:oBe}}}function lBe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:PQ},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,o,s){const a=o.createTracker(s);let l=a.move("[^");const u=o.enter("footnoteDefinition"),d=o.enter("label");return l+=a.move(o.safe(o.associationId(r),{before:l,after:"]"})),d(),l+=a.move("]:"),r.children&&r.children.length>0&&(a.shift(4),l+=a.move((t?`
`:" ")+o.indentLines(o.containerFlow(r,a.current()),t?MQ:uBe))),u(),l}}function uBe(e,t,n){return t===0?e:MQ(e,t,n)}function MQ(e,t,n){return(n?"":"    ")+e}const cBe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];OQ.peek=mBe;function dBe(){return{canContainEols:["delete"],enter:{strikethrough:pBe},exit:{strikethrough:hBe}}}function fBe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:cBe}],handlers:{delete:OQ}}}function pBe(e){this.enter({type:"delete",children:[]},e)}function hBe(e){this.exit(e)}function OQ(e,t,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),o(),s}function mBe(){return"~"}function gBe(e){return e.length}function yBe(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||gBe,o=[],s=[],a=[],l=[];let u=0,d=-1;for(;++d<e.length;){const x=[],k=[];let T=-1;for(e[d].length>u&&(u=e[d].length);++T<e[d].length;){const E=vBe(e[d][T]);if(n.alignDelimiters!==!1){const $=i(E);k[T]=$,(l[T]===void 0||$>l[T])&&(l[T]=$)}x.push(E)}s[d]=x,a[d]=k}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)o[f]=LB(r[f]);else{const x=LB(r);for(;++f<u;)o[f]=x}f=-1;const g=[],m=[];for(;++f<u;){const x=o[f];let k="",T="";x===99?(k=":",T=":"):x===108?k=":":x===114&&(T=":");let E=n.alignDelimiters===!1?1:Math.max(1,l[f]-k.length-T.length);const $=k+"-".repeat(E)+T;n.alignDelimiters!==!1&&(E=k.length+E+T.length,E>l[f]&&(l[f]=E),m[f]=E),g[f]=$}s.splice(1,0,g),a.splice(1,0,m),d=-1;const b=[];for(;++d<s.length;){const x=s[d],k=a[d];f=-1;const T=[];for(;++f<u;){const E=x[f]||"";let $="",P="";if(n.alignDelimiters!==!1){const M=l[f]-(k[f]||0),R=o[f];R===114?$=" ".repeat(M):R===99?M%2?($=" ".repeat(M/2+.5),P=" ".repeat(M/2-.5)):($=" ".repeat(M/2),P=$):P=" ".repeat(M)}n.delimiterStart!==!1&&!f&&T.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&E==="")&&(n.delimiterStart!==!1||f)&&T.push(" "),n.alignDelimiters!==!1&&T.push($),T.push(E),n.alignDelimiters!==!1&&T.push(P),n.padding!==!1&&T.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&T.push("|")}b.push(n.delimiterEnd===!1?T.join("").replace(/ +$/,""):T.join(""))}return b.join(`
`)}function vBe(e){return e==null?"":String(e)}function LB(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function bBe(e,t,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const s=n.indentLines(n.containerFlow(e,o.current()),xBe);return i(),s}function xBe(e,t,n){return">"+(n?"":" ")+e}function wBe(e,t){return zB(e,t.inConstruct,!0)&&!zB(e,t.notInConstruct,!1)}function zB(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function FB(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&wBe(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function SBe(e,t){const n=String(e);let r=n.indexOf(t),i=r,o=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>s&&(s=o):o=1,i=r+t.length,r=n.indexOf(t,i);return s}function kBe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function _Be(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function TBe(e,t,n,r){const i=_Be(n),o=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(kBe(e,n)){const f=n.enter("codeIndented"),g=n.indentLines(o,CBe);return f(),g}const a=n.createTracker(r),l=i.repeat(Math.max(SBe(o,i)+1,3)),u=n.enter("codeFenced");let d=a.move(l);if(e.lang){const f=n.enter(`codeFencedLang${s}`);d+=a.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...a.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);d+=a.move(" "),d+=a.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...a.current()})),f()}return d+=a.move(`
`),o&&(d+=a.move(o+`
`)),d+=a.move(l),u(),d}function CBe(e,t,n){return(n?"":"    ")+e}function JR(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function EBe(e,t,n,r){const i=JR(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),a(),!e.url||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),a(),e.title&&(a=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),s(),u}function IBe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function _x(e){return"&#x"+e.toString(16).toUpperCase()+";"}function S_(e,t,n){const r=pg(e),i=pg(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}NQ.peek=ABe;function NQ(e,t,n,r){const i=IBe(n),o=n.enter("emphasis"),s=n.createTracker(r),a=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:a,...s.current()}));const u=l.charCodeAt(0),d=S_(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=_x(u)+l.slice(1));const f=l.charCodeAt(l.length-1),g=S_(r.after.charCodeAt(0),f,i);g.inside&&(l=l.slice(0,-1)+_x(f));const m=s.move(i);return o(),n.attentionEncodeSurroundingInfo={after:g.outside,before:d.outside},a+l+m}function ABe(e,t,n){return n.options.emphasis||"*"}function $Be(e,t){let n=!1;return HR(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,V$}),!!((!e.depth||e.depth<3)&&zR(e)&&(t.options.setext||n))}function PBe(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),o=n.createTracker(r);if($Be(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),g=n.containerPhrasing(e,{...o.current(),before:`
`,after:`
`});return f(),d(),g+`
`+(i===1?"=":"-").repeat(g.length-(Math.max(g.lastIndexOf("\r"),g.lastIndexOf(`
`))+1))}const s="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");o.move(s+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(u)&&(u=_x(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,n.options.closeAtx&&(u+=" "+s),l(),a(),u}RQ.peek=MBe;function RQ(e){return e.value||""}function MBe(){return"<"}DQ.peek=OBe;function DQ(e,t,n,r){const i=JR(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),a(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(a=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(a=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),a(),e.title&&(a=n.enter(`title${o}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),a()),u+=l.move(")"),s(),u}function OBe(){return"!"}jQ.peek=NBe;function jQ(e,t,n,r){const i=e.referenceType,o=n.enter("imageReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const u=n.safe(e.alt,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return s(),n.stack=d,o(),i==="full"||!u||u!==f?l+=a.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function NBe(){return"!"}LQ.peek=RBe;function LQ(e,t,n){let r=e.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const s=n.unsafe[o],a=n.compilePattern(s);let l;if(s.atBreak)for(;l=a.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function RBe(){return"`"}function zQ(e,t){const n=zR(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}FQ.peek=DBe;function FQ(e,t,n,r){const i=JR(n),o=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let a,l;if(zQ(e,n)){const d=n.stack;n.stack=[],a=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),a(),n.stack=d,f}a=n.enter("link"),l=n.enter("label");let u=s.move("[");return u+=s.move(n.containerPhrasing(e,{before:u,after:"](",...s.current()})),u+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(l=n.enter("destinationRaw"),u+=s.move(n.safe(e.url,{before:u,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${o}`),u+=s.move(" "+i),u+=s.move(n.safe(e.title,{before:u,after:i,...s.current()})),u+=s.move(i),l()),u+=s.move(")"),a(),u}function DBe(e,t,n){return zQ(e,n)?"<":"["}VQ.peek=jBe;function VQ(e,t,n,r){const i=e.referenceType,o=n.enter("linkReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...a.current()});l+=a.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...a.current()});return s(),n.stack=d,o(),i==="full"||!u||u!==f?l+=a.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function jBe(){return"["}function KR(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function LBe(e){const t=KR(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function zBe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function BQ(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function FBe(e,t,n,r){const i=n.enter("list"),o=n.bulletCurrent;let s=e.ordered?zBe(n):KR(n);const a=e.ordered?s==="."?")":".":LBe(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),BQ(n)===s&&d){let f=-1;for(;++f<e.children.length;){const g=e.children[f];if(g&&g.type==="listItem"&&g.children&&g.children[0]&&g.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=a),n.bulletCurrent=s;const u=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=o,i(),u}function VBe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function BBe(e,t,n,r){const i=VBe(n);let o=n.bulletCurrent||KR(n);t&&t.type==="list"&&t.ordered&&(o=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+o);let s=o.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const a=n.createTracker(r);a.move(o+" ".repeat(s-o.length)),a.shift(s);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,a.current()),d);return l(),u;function d(f,g,m){return g?(m?"":" ".repeat(s))+f:(m?o:o+" ".repeat(s-o.length))+f}}function UBe(e,t,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),s=n.containerPhrasing(e,r);return o(),i(),s}const ZBe=sT(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function WBe(e,t,n,r){return(e.children.some(function(s){return ZBe(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function HBe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}UQ.peek=qBe;function UQ(e,t,n,r){const i=HBe(n),o=n.enter("strong"),s=n.createTracker(r),a=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:a,...s.current()}));const u=l.charCodeAt(0),d=S_(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=_x(u)+l.slice(1));const f=l.charCodeAt(l.length-1),g=S_(r.after.charCodeAt(0),f,i);g.inside&&(l=l.slice(0,-1)+_x(f));const m=s.move(i+i);return o(),n.attentionEncodeSurroundingInfo={after:g.outside,before:d.outside},a+l+m}function qBe(e,t,n){return n.options.strong||"*"}function JBe(e,t,n,r){return n.safe(e.value,r)}function KBe(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function GBe(e,t,n){const r=(BQ(n)+(n.options.ruleSpaces?" ":"")).repeat(KBe(n));return n.options.ruleSpaces?r.slice(0,-1):r}const ZQ={blockquote:bBe,break:FB,code:TBe,definition:EBe,emphasis:NQ,hardBreak:FB,heading:PBe,html:RQ,image:DQ,imageReference:jQ,inlineCode:LQ,link:FQ,linkReference:VQ,list:FBe,listItem:BBe,paragraph:UBe,root:WBe,strong:UQ,text:JBe,thematicBreak:GBe};function YBe(){return{enter:{table:XBe,tableData:VB,tableHeader:VB,tableRow:eUe},exit:{codeText:tUe,table:QBe,tableData:tI,tableHeader:tI,tableRow:tI}}}function XBe(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function QBe(e){this.exit(e),this.data.inTable=void 0}function eUe(e){this.enter({type:"tableRow",children:[]},e)}function tI(e){this.exit(e)}function VB(e){this.enter({type:"tableCell",children:[]},e)}function tUe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,nUe));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function nUe(e,t){return t==="|"?t:e}function rUe(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:g,table:s,tableCell:l,tableRow:a}};function s(m,b,x,k){return u(d(m,x,k),m.align)}function a(m,b,x,k){const T=f(m,x,k),E=u([T]);return E.slice(0,E.indexOf(`
`))}function l(m,b,x,k){const T=x.enter("tableCell"),E=x.enter("phrasing"),$=x.containerPhrasing(m,{...k,before:o,after:o});return E(),T(),$}function u(m,b){return yBe(m,{align:b,alignDelimiters:r,padding:n,stringLength:i})}function d(m,b,x){const k=m.children;let T=-1;const E=[],$=b.enter("table");for(;++T<k.length;)E[T]=f(k[T],b,x);return $(),E}function f(m,b,x){const k=m.children;let T=-1;const E=[],$=b.enter("tableRow");for(;++T<k.length;)E[T]=l(k[T],m,b,x);return $(),E}function g(m,b,x){let k=ZQ.inlineCode(m,b,x);return x.stack.includes("tableCell")&&(k=k.replace(/\|/g,"\\$&")),k}}function iUe(){return{exit:{taskListCheckValueChecked:BB,taskListCheckValueUnchecked:BB,paragraph:sUe}}}function oUe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:aUe}}}function BB(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function sUe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let o=-1,s;for(;++o<i.length;){const a=i[o];if(a.type==="paragraph"){s=a;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function aUe(e,t,n,r){const i=e.children[0],o=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",a=n.createTracker(r);o&&a.move(s);let l=ZQ.listItem(e,t,n,{...r,...a.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+s}}function lUe(){return[FVe(),aBe(),dBe(),YBe(),iUe()]}function uUe(e){return{extensions:[VVe(),lBe(e),fBe(),rUe(e),oUe()]}}const cUe={tokenize:gUe,partial:!0},WQ={tokenize:yUe,partial:!0},HQ={tokenize:vUe,partial:!0},qQ={tokenize:bUe,partial:!0},dUe={tokenize:xUe,partial:!0},JQ={name:"wwwAutolink",tokenize:hUe,previous:GQ},KQ={name:"protocolAutolink",tokenize:mUe,previous:YQ},Bu={name:"emailAutolink",tokenize:pUe,previous:XQ},Ol={};function fUe(){return{text:Ol}}let yf=48;for(;yf<123;)Ol[yf]=Bu,yf++,yf===58?yf=65:yf===91&&(yf=97);Ol[43]=Bu;Ol[45]=Bu;Ol[46]=Bu;Ol[95]=Bu;Ol[72]=[Bu,KQ];Ol[104]=[Bu,KQ];Ol[87]=[Bu,JQ];Ol[119]=[Bu,JQ];function pUe(e,t,n){const r=this;let i,o;return s;function s(f){return!W$(f)||!XQ.call(r,r.previous)||GR(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(f))}function a(f){return W$(f)?(e.consume(f),a):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(dUe,d,u)(f):f===45||f===95||Di(f)?(o=!0,e.consume(f),l):d(f)}function u(f){return e.consume(f),i=!0,l}function d(f){return o&&i&&to(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function hUe(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!GQ.call(r,r.previous)||GR(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(cUe,e.attempt(WQ,e.attempt(HQ,o),n),n)(s))}function o(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function mUe(e,t,n){const r=this;let i="",o=!1;return s;function s(f){return(f===72||f===104)&&YQ.call(r,r.previous)&&!GR(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),a):n(f)}function a(f){if(to(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),a;if(f===58){const g=i.toLowerCase();if(g==="http"||g==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),o?u:(o=!0,l)):n(f)}function u(f){return f===null||b_(f)||Rn(f)||fp(f)||rT(f)?n(f):e.attempt(WQ,e.attempt(HQ,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function gUe(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),o):n(s)}function o(s){return s===null?n(s):t(s)}}function yUe(e,t,n){let r,i,o;return s;function s(u){return u===46||u===95?e.check(qQ,l,a)(u):u===null||Rn(u)||fp(u)||u!==45&&rT(u)?l(u):(o=!0,e.consume(u),s)}function a(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),s}function l(u){return i||r||!o?n(u):t(u)}}function vUe(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?o(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(qQ,t,o)(s):s===null||Rn(s)||fp(s)?t(s):(e.consume(s),i)}function o(s){return s===41&&r++,e.consume(s),i}}function bUe(e,t,n){return r;function r(a){return a===33||a===34||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===63||a===95||a===126?(e.consume(a),r):a===38?(e.consume(a),o):a===93?(e.consume(a),i):a===60||a===null||Rn(a)||fp(a)?t(a):n(a)}function i(a){return a===null||a===40||a===91||Rn(a)||fp(a)?t(a):r(a)}function o(a){return to(a)?s(a):n(a)}function s(a){return a===59?(e.consume(a),r):to(a)?(e.consume(a),s):n(a)}}function xUe(e,t,n){return r;function r(o){return e.consume(o),i}function i(o){return Di(o)?n(o):t(o)}}function GQ(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Rn(e)}function YQ(e){return!to(e)}function XQ(e){return!(e===47||W$(e))}function W$(e){return e===43||e===45||e===46||e===95||Di(e)}function GR(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const wUe={tokenize:AUe,partial:!0};function SUe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:CUe,continuation:{tokenize:EUe},exit:IUe}},text:{91:{name:"gfmFootnoteCall",tokenize:TUe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:kUe,resolveTo:_Ue}}}}function kUe(e,t,n){const r=this;let i=r.events.length;const o=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return a;function a(l){if(!s||!s._balanced)return n(l);const u=Pa(r.sliceSerialize({start:s.end,end:r.now()}));return u.codePointAt(0)!==94||!o.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function _Ue(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const o={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},o.start),end:Object.assign({},o.end)},a=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",o,t],["enter",s,t],["exit",s,t],["exit",o,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...a),e}function TUe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o=0,s;return a;function a(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(o>999||f===93&&!s||f===null||f===91||Rn(f))return n(f);if(f===93){e.exit("chunkString");const g=e.exit("gfmFootnoteCallString");return i.includes(Pa(r.sliceSerialize(g)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Rn(f)||(s=!0),o++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),o++,u):u(f)}}function CUe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o,s=0,a;return l;function l(b){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(b){return b===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(b)}function d(b){if(s>999||b===93&&!a||b===null||b===91||Rn(b))return n(b);if(b===93){e.exit("chunkString");const x=e.exit("gfmFootnoteDefinitionLabelString");return o=Pa(r.sliceSerialize(x)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(b),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),g}return Rn(b)||(a=!0),s++,e.consume(b),b===92?f:d}function f(b){return b===91||b===92||b===93?(e.consume(b),s++,d):d(b)}function g(b){return b===58?(e.enter("definitionMarker"),e.consume(b),e.exit("definitionMarker"),i.includes(o)||i.push(o),dn(e,m,"gfmFootnoteDefinitionWhitespace")):n(b)}function m(b){return t(b)}}function EUe(e,t,n){return e.check(i0,t,e.attempt(wUe,t,n))}function IUe(e){e.exit("gfmFootnoteDefinition")}function AUe(e,t,n){const r=this;return dn(e,i,"gfmFootnoteDefinitionIndent",5);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(o):n(o)}}function $Ue(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,a){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let u=l;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[l][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[l][1].end)},f={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[l][1].start)},g=[["enter",d,a],["enter",s[u][1],a],["exit",s[u][1],a],["enter",f,a]],m=a.parser.constructs.insideSpan.null;m&&ds(g,g.length,0,iT(m,s.slice(u+1,l),a)),ds(g,g.length,0,[["exit",f,a],["enter",s[l][1],a],["exit",s[l][1],a],["exit",d,a]]),ds(s,u-1,l-u+3,g),l=u+g.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function o(s,a,l){const u=this.previous,d=this.events;let f=0;return g;function g(b){return u===126&&d[d.length-1][1].type!=="characterEscape"?l(b):(s.enter("strikethroughSequenceTemporary"),m(b))}function m(b){const x=pg(u);if(b===126)return f>1?l(b):(s.consume(b),f++,m);if(f<2&&!n)return l(b);const k=s.exit("strikethroughSequenceTemporary"),T=pg(b);return k._open=!T||T===2&&!!x,k._close=!x||x===2&&!!T,a(b)}}}class PUe{constructor(){this.map=[]}add(t,n,r){MUe(this,t,n,r)}consume(t){if(this.map.sort(function(o,s){return o[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const o of i)t.push(o);i=r.pop()}this.map.length=0}}function MUe(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function OUe(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function NUe(){return{flow:{null:{name:"table",tokenize:RUe,resolveAll:DUe}}}}function RUe(e,t,n){const r=this;let i=0,o=0,s;return a;function a(Z){let re=r.events.length-1;for(;re>-1;){const se=r.events[re][1].type;if(se==="lineEnding"||se==="linePrefix")re--;else break}const ee=re>-1?r.events[re][1].type:null,ne=ee==="tableHead"||ee==="tableRow"?R:l;return ne===R&&r.parser.lazy[r.now().line]?n(Z):ne(Z)}function l(Z){return e.enter("tableHead"),e.enter("tableRow"),u(Z)}function u(Z){return Z===124||(s=!0,o+=1),d(Z)}function d(Z){return Z===null?n(Z):pt(Z)?o>1?(o=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(Z),e.exit("lineEnding"),m):n(Z):Qt(Z)?dn(e,d,"whitespace")(Z):(o+=1,s&&(s=!1,i+=1),Z===124?(e.enter("tableCellDivider"),e.consume(Z),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),f(Z)))}function f(Z){return Z===null||Z===124||Rn(Z)?(e.exit("data"),d(Z)):(e.consume(Z),Z===92?g:f)}function g(Z){return Z===92||Z===124?(e.consume(Z),f):f(Z)}function m(Z){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(Z):(e.enter("tableDelimiterRow"),s=!1,Qt(Z)?dn(e,b,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(Z):b(Z))}function b(Z){return Z===45||Z===58?k(Z):Z===124?(s=!0,e.enter("tableCellDivider"),e.consume(Z),e.exit("tableCellDivider"),x):M(Z)}function x(Z){return Qt(Z)?dn(e,k,"whitespace")(Z):k(Z)}function k(Z){return Z===58?(o+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(Z),e.exit("tableDelimiterMarker"),T):Z===45?(o+=1,T(Z)):Z===null||pt(Z)?P(Z):M(Z)}function T(Z){return Z===45?(e.enter("tableDelimiterFiller"),E(Z)):M(Z)}function E(Z){return Z===45?(e.consume(Z),E):Z===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(Z),e.exit("tableDelimiterMarker"),$):(e.exit("tableDelimiterFiller"),$(Z))}function $(Z){return Qt(Z)?dn(e,P,"whitespace")(Z):P(Z)}function P(Z){return Z===124?b(Z):Z===null||pt(Z)?!s||i!==o?M(Z):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(Z)):M(Z)}function M(Z){return n(Z)}function R(Z){return e.enter("tableRow"),z(Z)}function z(Z){return Z===124?(e.enter("tableCellDivider"),e.consume(Z),e.exit("tableCellDivider"),z):Z===null||pt(Z)?(e.exit("tableRow"),t(Z)):Qt(Z)?dn(e,z,"whitespace")(Z):(e.enter("data"),F(Z))}function F(Z){return Z===null||Z===124||Rn(Z)?(e.exit("data"),z(Z)):(e.consume(Z),Z===92?q:F)}function q(Z){return Z===92||Z===124?(e.consume(Z),F):F(Z)}}function DUe(e,t){let n=-1,r=!0,i=0,o=[0,0,0,0],s=[0,0,0,0],a=!1,l=0,u,d,f;const g=new PUe;for(;++n<e.length;){const m=e[n],b=m[1];m[0]==="enter"?b.type==="tableHead"?(a=!1,l!==0&&(UB(g,t,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},b.start),end:Object.assign({},b.end)},g.add(n,0,[["enter",u,t]])):b.type==="tableRow"||b.type==="tableDelimiterRow"?(r=!0,f=void 0,o=[0,0,0,0],s=[0,n+1,0,0],a&&(a=!1,d={type:"tableBody",start:Object.assign({},b.start),end:Object.assign({},b.end)},g.add(n,0,[["enter",d,t]])),i=b.type==="tableDelimiterRow"?2:d?3:1):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(o[1]!==0&&(s[0]=s[1],f=gS(g,t,o,i,void 0,f),o=[0,0,0,0]),s[2]=n)):b.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(s[0]=s[1],f=gS(g,t,o,i,void 0,f)),o=s,s=[o[1],n,0,0])):b.type==="tableHead"?(a=!0,l=n):b.type==="tableRow"||b.type==="tableDelimiterRow"?(l=n,o[1]!==0?(s[0]=s[1],f=gS(g,t,o,i,n,f)):s[1]!==0&&(f=gS(g,t,s,i,n,f)),i=0):i&&(b.type==="data"||b.type==="tableDelimiterMarker"||b.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&UB(g,t,l,u,d),g.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=OUe(t.events,n))}return e}function gS(e,t,n,r,i,o){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(o.end=Object.assign({},dm(t.events,n[0])),e.add(n[0],0,[["exit",o,t]]));const l=dm(t.events,n[1]);if(o={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",o,t]]),n[2]!==0){const u=dm(t.events,n[2]),d=dm(t.events,n[3]),f={type:a,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const g=t.events[n[2]],m=t.events[n[3]];if(g[1].end=Object.assign({},m[1].end),g[1].type="chunkText",g[1].contentType="text",n[3]>n[2]+1){const b=n[2]+1,x=n[3]-n[2]-1;e.add(b,x,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(o.end=Object.assign({},dm(t.events,i)),e.add(i,0,[["exit",o,t]]),o=void 0),o}function UB(e,t,n,r,i){const o=[],s=dm(t.events,n);i&&(i.end=Object.assign({},s),o.push(["exit",i,t])),r.end=Object.assign({},s),o.push(["exit",r,t]),e.add(n+1,0,o)}function dm(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const jUe={name:"tasklistCheck",tokenize:zUe};function LUe(){return{text:{91:jUe}}}function zUe(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),o)}function o(l){return Rn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(l)}function a(l){return pt(l)?t(l):Qt(l)?e.check({tokenize:FUe},t,n)(l):n(l)}}function FUe(e,t,n){return dn(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function VUe(e){return uQ([fUe(),SUe(),$Ue(e),NUe(),LUe()])}const BUe={};function UUe(e){const t=this,n=e||BUe,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),o=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(VUe(n)),o.push(lUe()),s.push(uUe(n))}const ZUe=({content:e,processPrefix:t=!1,className:n="",inline:r=!1})=>{const{styling:i}=Pg(),[o,s]=D.useState(null),a=f=>{navigator.clipboard.writeText(f),s(f),setTimeout(()=>s(null),2e3)},l=f=>t?typeof f=="string"?f.split(/(@@PREFIX@@.*?@@ENDPREFIX@@)/).map((m,b)=>{if(m.startsWith("@@PREFIX@@")&&m.endsWith("@@ENDPREFIX@@")){const x=m.replace("@@PREFIX@@","").replace("@@ENDPREFIX@@","");return O.jsx("span",{style:{color:i.accentColor},children:x},b)}return m}):Array.isArray(f)?f.map(g=>typeof g=="string"?l(g):g):f:f,u=r?"span":"div",d=r?`inline ${n}`:n;return O.jsx(u,{className:d,children:O.jsx($Ve,{remarkPlugins:[UUe],components:{p:({children:f})=>r?O.jsx("span",{className:"inline",children:l(f)}):O.jsx("p",{children:l(f)}),a:({children:f,href:g})=>O.jsx("a",{href:g,className:"text-blue-500 underline inline",target:"_blank",rel:"noopener noreferrer",children:f}),code:({children:f,className:g})=>{const m=/language-(\w+)/.exec(g||""),b=!m,x=String(f).replace(/\n$/,"");return b?O.jsx("code",{className:"px-1 py-0.5 rounded text-sm inline font-mono bg-[#2d2d2d]",style:{color:i.color},children:f}):O.jsxs("div",{className:"relative group my-4 rounded-lg w-full font-mono",style:{backgroundColor:"#1e1e1e",border:"1px solid rgba(255, 255, 255, 0.1)"},children:[m&&O.jsxs("div",{className:"flex items-center justify-between w-full px-4 py-2 text-xs bg-[#2d2d2d] rounded-t-lg",style:{borderBottom:"1px solid rgba(255, 255, 255, 0.1)",color:"#888"},children:[O.jsx("span",{className:"",children:m[1]}),O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsxs("button",{onClick:()=>a(x),className:"flex items-center gap-1 px-2 py-1 rounded hover:bg-white/10 transition-colors",style:{color:"#888"},children:[o===x?O.jsx(nP,{className:"w-3 h-3"}):O.jsx(eoe,{className:"w-3 h-3"}),O.jsx("span",{children:o===x?"Copied":"Copy"})]}),O.jsx("button",{className:"px-2 py-1 rounded hover:bg-white/10 transition-colors",style:{color:"#888"},children:"Edit"})]})]}),O.jsx("pre",{className:"p-4 overflow-x-auto w-full",children:O.jsx("code",{className:"text-sm whitespace-pre",style:{color:"#d4d4d4"},children:x})})]})},pre:({children:f})=>O.jsx(O.Fragment,{children:f}),h1:({children:f})=>O.jsx("h1",{className:"text-2xl font-bold mt-4 mb-2",children:l(f)}),h2:({children:f})=>O.jsx("h2",{className:"text-xl font-bold mt-3 mb-2",children:l(f)}),h3:({children:f})=>O.jsx("h3",{className:"text-lg font-bold mt-2 mb-1",children:l(f)}),h4:({children:f})=>O.jsx("h4",{className:"text-base font-bold mt-2 mb-1",children:l(f)}),h5:({children:f})=>O.jsx("h5",{className:"text-sm font-bold mt-1 mb-1",children:l(f)}),h6:({children:f})=>O.jsx("h6",{className:"text-xs font-bold mt-1 mb-1",children:l(f)}),blockquote:({children:f})=>O.jsx("blockquote",{className:"border-l-4 pl-4 my-2 italic",style:{borderColor:i.accentColor},children:f}),strong:({children:f})=>O.jsx("strong",{className:"font-bold inline",children:l(f)}),em:({children:f})=>O.jsx("em",{className:"italic inline",children:l(f)}),ul:({children:f})=>O.jsx("ul",{className:"list-disc list-inside my-2 space-y-1",children:f}),ol:({children:f})=>O.jsx("ol",{className:"list-decimal list-inside my-2 space-y-1",children:f}),li:({children:f})=>O.jsx("li",{className:"ml-2",children:l(f)}),br:()=>O.jsx("br",{}),table:({children:f})=>O.jsx("div",{className:"overflow-x-auto my-4",children:O.jsx("table",{className:"min-w-full border-collapse",children:f})}),thead:({children:f})=>O.jsx("thead",{className:"border-b-2",style:{borderColor:i.accentColor},children:f}),tbody:({children:f})=>O.jsx("tbody",{className:"divide-y",style:{borderColor:`${i.accentColor}30`},children:f}),tr:({children:f})=>O.jsx("tr",{className:"border-b",style:{borderColor:`${i.accentColor}20`},children:f}),th:({children:f})=>O.jsx("th",{className:"px-4 py-2 text-left font-semibold",style:{borderRight:`1px solid ${i.accentColor}20`,backgroundColor:`${i.accentColor}10`},children:f}),td:({children:f})=>O.jsx("td",{className:"px-4 py-2",style:{borderRight:`1px solid ${i.accentColor}20`},children:f})},children:e})})},WUe=({message:e})=>{const{content:t,choices:n,multiselect:r,onChoice:i}=e,[o,s]=D.useState([]),a=wt(u=>u),l=u=>{s(r?d=>d.includes(u)?d.filter(f=>f!==u):[...d,u]:[u]),i&&i(u,a)};return!n||n.length===0?null:O.jsxs(O.Fragment,{children:[t&&O.jsx("p",{className:"mb-2 text-sm",children:t}),O.jsx("div",{className:"flex flex-col space-y-2",children:n.map(u=>{const d=o.includes(u);return O.jsx(JX,{onClick:()=>l(u),className:so("rounded-md px-3 py-2",d?"bg-green-100 border border-green-200 text-gray-800":"bg-white border border-gray-200 text-gray-800"),children:u},u)})})]})},HUe=({message:e})=>{const{items:t}=e,{messages:n,setMessages:r}=cY();if(!t||t.length===0)return null;const i=o=>{r(n.map(s=>{if(s.id!==e.id)return s;const a=s,l=a.items.map((u,d)=>d===o?{...u,done:!u.done}:u);return{...a,items:l}}))};return O.jsx("ul",{className:"space-y-2",children:t.map((o,s)=>O.jsx("li",{onClick:()=>i(s),className:`p-4 rounded-md cursor-pointer ${o.done?"bg-green-100 border border-green-200":"bg-blue-50 border border-blue-200"}`,children:O.jsxs("div",{className:"flex items-start",children:[o.done?O.jsx(nP,{className:"text-green-600 w-5 h-5 mt-1 mr-2"}):O.jsx("div",{className:"inline-flex items-center justify-center w-5 h-5 rounded-full bg-blue-100 text-blue-600 mr-2",children:s+1}),O.jsxs("div",{children:[O.jsx("span",{className:"font-medium",children:o.text}),o.description&&O.jsx("p",{className:"text-sm text-gray-500 mt-1",children:o.description})]})]})},`${e.id}-${o.text}`))})},Us="var(--mask-height, 0.15em)",H$="var(--mask-width, 0.5em)",If=`calc(${H$} / var(--invert-x, 1))`,yS="#000 0, transparent 71%",qUe=`linear-gradient(to right, transparent 0, #000 ${If}, #000 calc(100% - ${If}), transparent),linear-gradient(to bottom, transparent 0, #000 ${Us}, #000 calc(100% - ${Us}), transparent 100%),radial-gradient(at bottom right, ${yS}),radial-gradient(at bottom left, ${yS}), radial-gradient(at top left, ${yS}), radial-gradient(at top right, ${yS})`,JUe=`100% calc(100% - ${Us} * 2),calc(100% - ${If} * 2) 100%,${If} ${Us},${If} ${Us},${If} ${Us},${If} ${Us}`;rX({"--invert-x":{correct:(e,{treeScale:t,projectionDelta:n})=>n.x.scale*t.x}});function KUe({children:e,layoutDependency:t}){return O.jsx(nr.span,{layout:!0,layoutDependency:t,"aria-hidden":!0,style:{display:"inline-flex","--invert-x":1,margin:`0 calc(-1*${H$})`,padding:`calc(${Us}/2) ${H$}`,position:"relative",zIndex:-1,overflow:"clip",WebkitMaskImage:qUe,WebkitMaskSize:JUe,WebkitMaskPosition:"center, center, top left, top right, bottom right, bottom left",WebkitMaskRepeat:"no-repeat"},children:e})}function QQ(){const e=D.useRef(!0);return D.useEffect(()=>{e.current=!1},[]),e.current}function k_(e){const{width:t,fontSize:n}=getComputedStyle(e);return`${parseFloat(t)/parseFloat(n)}em`}const eee=new WeakMap,GUe=D.forwardRef(function({value:t,initialValue:n=t,...r},i){const{transition:o}=D.useContext(ju),s=D.useRef(n).current,a=QQ(),l=D.useRef(null),u=D.useRef(null);D.useImperativeHandle(i,()=>u.current,[]);const d=D.useRef(new Array(10)),f=YY(),g=f?t:0;D.useLayoutEffect(()=>{!l.current||!d.current[s]||(l.current.style.width=k_(d.current[s]))},[]);const m=D.useRef(n);D.useLayoutEffect(()=>{if(!l.current||g===m.current)return;const T=l.current.getBoundingClientRect(),E=u.current?.getBoundingClientRect(),$=T.height*(g-m.current)+(T.top-(E?E.top||0:T.top));return N$(l.current,{y:[$,0]},o),()=>{m.current=g}},[g]);const[b,x]=D.useState();D.useEffect(()=>{if(a&&s===g||!d.current[g])return;const T=k_(d.current[g]);u.current&&eee.set(u.current,T),x(T)},[g]);const k=T=>O.jsx("span",{style:{display:"inline-block",padding:`calc(${Us}/2) 0`},ref:E=>void(d.current[T]=E),children:T},T);return O.jsx(nr.span,{...r,ref:u,layout:"position","data-state":f?void 0:"exiting",style:{display:"inline-flex",justifyContent:"center",width:b},children:O.jsxs("span",{ref:l,style:{display:"inline-flex",justifyContent:"center",flexDirection:"column",alignItems:"center",position:"relative"},children:[g!==0&&O.jsx("span",{style:{...ZB,bottom:"100%",left:0},children:new Array(g).fill(null).map((T,E)=>k(E))}),k(g),g!==9&&O.jsx("span",{style:{...ZB,top:"100%",left:0},children:new Array(9-g).fill(null).map((T,E)=>k(g+E+1))})]})})}),ZB={display:"flex",flexDirection:"column",alignItems:"center",position:"absolute",width:"100%"},tee=D.createContext({justify:"left"}),YUe=D.forwardRef(function({partKey:t,type:n,children:r,layoutDependency:i,...o},s){const a=YY(),{justify:l}=D.useContext(tee);return O.jsx(nr.span,{...o,"data-state":a?void 0:"exiting",style:{display:"inline-flex",justifyContent:l,padding:`calc(${Us}/2) 0`,position:"relative"},layout:"position",layoutDependency:i,ref:s,children:O.jsx(xR,{mode:"popLayout",anchorX:l,initial:!1,children:O.jsx(nr.span,{layout:l==="right"?"position":!1,layoutDependency:i,initial:{opacity:0},animate:{opacity:[null,1]},exit:{opacity:[null,0]},style:{display:"inline-block",whiteSpace:"pre"},children:r},r)})})}),vS=D.forwardRef(function({parts:t,justify:n="left",mode:r,style:i,name:o,layoutDependency:s,...a},l){const u=D.useRef(null);D.useImperativeHandle(l,()=>u.current,[]);const d=D.useMemo(()=>({justify:n}),[n]),f=D.useRef(null),g=QQ(),[m,b]=D.useState();return D.useEffect(()=>{if(!f.current)return;if(g){u.current&&(u.current.style.width=k_(f.current));return}const x=Array.from(f.current.children).map(k=>{if(!(k instanceof HTMLElement))return;if(k.dataset.state==="exiting"){const $=k.nextSibling;return k.remove(),()=>{f.current&&f.current.insertBefore(k,$)}}const T=eee.get(k);if(!T)return;const E=k.style.width;return k.style.width=T,()=>{k.style.width=E}});b(k_(f.current));for(let k=x.length-1;k>=0;k--){const T=x[k];T&&T()}},[t.map(x=>x.value).join("")]),O.jsx(tee.Provider,{value:d,children:O.jsx(nr.span,{layoutDependency:s,...a,ref:u,className:`number-section-${o}`,style:{...i,display:"inline-flex",justifyContent:n,width:m},children:O.jsxs("span",{ref:f,style:{display:"inline-flex",justifyContent:"inherit",position:"relative"},children:["​",O.jsx(xR,{mode:r,anchorX:n,initial:!1,children:t.map(x=>x.type==="integer"||x.type==="fraction"?O.jsx(GUe,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},value:x.value,initialValue:g?void 0:0,layoutDependency:s},x.key):O.jsx(YUe,{type:x.type,partKey:x.key,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},layoutDependency:s,children:x.value},x.type==="literal"?`${x.key}:${x.value}`:x.key))})]})})})}),XUe=(e,{locales:t,format:n},r,i)=>{const s=new Intl.NumberFormat(t,n).formatToParts(Number(e));r&&s.unshift({type:"prefix",value:r}),i&&s.push({type:"suffix",value:i});const a=[],l=[],u=[],d=[],f={},g=T=>`${T}:${f[T]=(f[T]??-1)+1}`;let m="",b=!1,x=!1;for(const T of s){m+=T.value;const E=T.type==="minusSign"||T.type==="plusSign"?"sign":T.type;switch(E){case"integer":b=!0,l.push(...T.value.split("").map($=>({type:E,value:parseInt($)})));break;case"group":l.push({type:E,value:T.value});break;case"decimal":x=!0,u.push({type:E,value:T.value,key:g(E)});break;case"fraction":u.push(...T.value.split("").map($=>({type:E,value:parseInt($),key:g(E)})));break;default:(b||x?d:a).push({type:E,value:T.value,key:g(E)})}}const k=[];for(let T=l.length-1;T>=0;T--)k.unshift({...l[T],key:g(l[T].type)});return{pre:a,integer:k,fraction:u,post:d,formatted:m}},QUe={opacity:{duration:1,ease:cP},layout:{type:"spring",duration:1,bounce:0},y:{type:"spring",duration:1,bounce:0}};D.forwardRef(function({children:t,locales:n,format:r,transition:i,style:o,suffix:s,prefix:a,...l},u){const d=D.useMemo(()=>XUe(t,{locales:n,format:r},a,s),[t,n,r]),{pre:f,integer:g,fraction:m,post:b,formatted:x}=d,k=D.useContext(ju).transition;i=i??k??QUe;const{layoutDependency:T}=l,E=D.useMemo(()=>{if(T!==void 0)return{layoutDependency:T,value:t}},[T,t]);return O.jsx(pRe,{children:O.jsx(yRe,{transition:i,children:O.jsx(nr.div,{...l,ref:u,layout:!0,layoutDependency:E,style:{lineHeight:1,...o,display:"inline-flex",isolation:"isolate",whiteSpace:"nowrap"},children:O.jsxs(nr.div,{layout:!0,layoutDependency:E,"aria-label":x,style:{display:"inline-flex",direction:"ltr",isolation:"isolate",position:"relative",zIndex:-1},children:[O.jsx(vS,{style:{padding:`calc(${Us}/2) 0`},layoutDependency:E,"aria-hidden":!0,justify:"right",mode:"popLayout",parts:f,name:"pre"}),O.jsxs(KUe,{layoutDependency:E,children:[O.jsx(vS,{layoutDependency:E,justify:"right",parts:g,name:"integer"}),O.jsx(vS,{layout:"position",layoutDependency:E,parts:m,name:"fraction"})]}),O.jsx(vS,{style:{padding:`calc(${Us}/2) 0`},"aria-hidden":!0,layout:"position",layoutDependency:E,mode:"popLayout",parts:b,name:"post"})]})})})})});nr.create(D.Fragment);const e6e=D.createContext(void 0);function nee({offset:e,axis:t,listSize:n=0,itemIndex:r,cloneIndex:i,bounds:o,containerPaddingStart:s,...a}){const l=D.useRef(null),{start:u,end:d}=o,f=O$(()=>{const m=e.get();return!u&&!d||!n?0:m+d<=-s?n:0}),g=O$(()=>{const m=e.get(),b=f.get();return!u&&!d||!n?0:m+u+b});return O.jsx(e6e.Provider,{value:{offset:g},children:O.jsx(nr.li,{ref:l,...a,className:i===void 0?"ticker-item":"clone-item",style:{flexShrink:0,flexGrow:0,x:t==="x"?f:0,y:t==="y"?f:0},"aria-hidden":i!==void 0?!0:void 0})})}function t6e(e,t,n,r,i){const o=D.useRef(!1);D.useEffect(()=>{const s=e.current;if(!s)return;let a=!1;const l=new AbortController,u={signal:l.signal},d={...u,capture:!0},f=t==="x"?"scrollLeft":"scrollTop",g=t==="x"?"offsetLeft":"offsetTop",m=t==="x"?"ArrowLeft":"ArrowUp",b=t==="x"?"ArrowRight":"ArrowDown";let x=[],k=0;const T=()=>{const Z=x[k];Z.focus(),n.set(-Z[g]),s[f]=0,Ke.render(()=>{s[f]=0})},E=Z=>{if(Z.key==="Tab"){Z.preventDefault(),M();const re=Array.from(document.querySelectorAll('a, button, input, textarea, select, [tabindex]:not([tabindex="-1"]), [contenteditable="true"]')).filter(Iu);re.sort(n6e);const ee=re[Z.shiftKey?0:re.length-1],ne=Z.shiftKey?re.length-1:0;if(s.contains(ee)){re[ne].focus();return}else{const se=re.indexOf(x[k]),ue=Z.shiftKey?-1:1;for(let me=se;me<re.length&&me>=0;me+=ue){const ie=re[me];if(!s.contains(ie)){ie.focus();return}}}return}else Z.key===m?k--:Z.key===b&&k++;k=Ax(0,x.length,k),T()},$=()=>{o.current||(i(!0),o.current=!0,x=Array.from(s.querySelectorAll('.ticker-item a, .ticker-item button, .ticker-item input, .ticker-item textarea, .ticker-item select, .ticker-item [tabindex]:not([tabindex="-1"]), .ticker-item [contenteditable="true"]')).filter(Iu),k=0,T(),window.addEventListener("focus",P,d),window.addEventListener("blur",P,d),s.addEventListener("keydown",E,u))},P=Z=>{(!Z.target||!(Z.target instanceof HTMLElement)||!s.contains(Z.target))&&M()},M=()=>{o.current&&(o.current=!1,i(!1),r.set(n.get()),window.removeEventListener("focus",P),window.removeEventListener("blur",P),s.removeEventListener("keydown",E))},R=Z=>{const{target:re}=Z;Iu(re)&&(o.current||$())},z=()=>{a||(a=!0,s.addEventListener("focus",R,d),window.addEventListener("pointermove",F,u))},F=()=>{a&&(a=!1,s.removeEventListener("focus",R,!0),window.removeEventListener("pointermove",F,u))},q=Z=>{let ee=Z.target.closest('[aria-hidden="true"]');ee&&ee.removeAttribute("aria-hidden")};return window.addEventListener("keydown",z,u),s.addEventListener("pointerdown",q,u),()=>{l.abort(),M()}},[])}function n6e(e,t){return e.tabIndex>=1&&t.tabIndex>=1?e.tabIndex-t.tabIndex:e.tabIndex>=1&&t.tabIndex<=0?-1:t.tabIndex>=1&&e.tabIndex<=0?1:0}function r6e({items:e,velocity:t=50,hoverFactor:n=1,gap:r=10,axis:i="x",align:o="center",offset:s,isStatic:a=!1,...l}){const[u,d]=D.useState({listSize:0,containerSize:0,containerPaddingStart:0,containerPaddingEnd:0,itemSizes:[]}),f=o==="start"?"flex-start":o==="center"?"center":"flex-end";if(a){const ee=Jv(0);return O.jsx(WB,{containerProps:l,gap:r,axis:i,alignItems:f,renderedOffset:ee,items:e,state:u,isStatic:!0})}const[g,m]=D.useState(!1),b=Jv(1),x=Jv(0);s??(s=x);const k=O$(()=>Ax(-u.listSize-r-u.containerPaddingStart,-u.containerPaddingStart,s.get())),T=Jv(0),E=g?T:k,$=D.useRef(null),P=D.useRef(null),M=uLe($,{margin:"100px"}),R=Vje(),z=()=>{if(!$.current||!P.current)return;const ee=i==="x"?"innerWidth":"innerHeight",ne=i==="x"?"offsetWidth":"offsetHeight",se=i==="x"?"offsetLeft":"offsetTop",ue=i==="x"?"paddingLeft":"paddingTop",me=i==="x"?"paddingRight":"paddingBottom",ie=$.current,le=P.current.querySelectorAll(".ticker-item");if(!le.length)return;let B=!1;const G=[];for(let $e=0;$e<le.length;$e++){const je=le[$e];G.push({start:je[se],end:je[se]+je[ne]}),(!u.itemSizes[$e]||G[$e].start!==u.itemSizes[$e].start||G[$e].end!==u.itemSizes[$e].end)&&(B=!0)}const H=Math.min(ie[ne],window[ee]),W=G[G.length-1].end-G[0].start,Ie=window.getComputedStyle(ie),Ce=parseInt(Ie[ue]??0),Ae=parseInt(Ie[me]??0);(W!==u.listSize||H!==u.containerSize||B)&&d({listSize:W,containerSize:H,containerPaddingStart:Ce,containerPaddingEnd:Ae,itemSizes:G})};e0(()=>{if(!(!M||!$.current))return z(),jP($.current,z)},[e,M]);const F=u.containerSize>0&&u.listSize>0;Fje(F&&M&&s===x&&!R?(ee,ne)=>{const se=ne/1e3*(t*b.get());s.set(s.get()-se)}:rr);const q=D.useMemo(()=>{let ee=0;if(!F||!u.containerSize)return 0;let ne=0;const se=Math.max(...u.itemSizes.map(ue=>ue.end-ue.start));for(;ne<u.containerSize+u.containerPaddingStart;)ne=(u.listSize+r)*(ee+1)-se,ee++;return Math.max(ee-1,0)},[F,u.containerSize,u.listSize]),Z=u.listSize===0?0:(u.listSize+r)*(q+1),re=[];for(let ee=0;ee<q;ee++)e.forEach((ne,se)=>{const ue=u.itemSizes[se],me=(u.listSize+r)*(ee+1),ie=ue?{start:ue.start+me,end:ue.end+me}:ree;re.push(O.jsx(nee,{offset:E,axis:i,listSize:Z,cloneIndex:se,bounds:ie,containerPaddingStart:u.containerPaddingStart,children:ne},`clone-${ee}-${se}`))});return t6e($,i,T,s,m),O.jsx(WB,{containerProps:l,containerRef:$,listRef:P,gap:r,axis:i,alignItems:f,isMeasured:F,renderedOffset:E,items:e,clonedItems:re,onPointerEnter:()=>{N$(b,n)},onPointerLeave:()=>{N$(b,1)},totalListSize:Z,state:u})}function WB({containerProps:e,containerRef:t,listRef:n,gap:r,axis:i,alignItems:o,isMeasured:s,isStatic:a,items:l,clonedItems:u,renderedOffset:d,onPointerEnter:f,onPointerLeave:g,totalListSize:m,state:b}){return O.jsx(nr.div,{...e,ref:t,style:{...i6e,...e.style},onPointerEnter:f,onPointerLeave:g,children:O.jsxs(nr.ul,{ref:n,style:{...o6e,flexDirection:i==="x"?"row":"column",gap:`${r}px`,alignItems:o,x:i==="x"?d:0,y:i==="y"?d:0,opacity:s||a?1:0},children:[l.map((x,k)=>O.jsx(nee,{axis:i,offset:d,listSize:m,itemIndex:k,bounds:b.itemSizes[k]??ree,containerPaddingStart:b.containerPaddingStart,children:x},"original-"+k)),u||null]})})}const ree={start:0,end:0},i6e={display:"flex",position:"relative",overflow:"hidden"},o6e={display:"flex",position:"relative",willChange:"transform",listStyleType:"none",padding:0,margin:0,justifyContent:"flex-start"},s6e=({message:e})=>{const n=wt(o=>o.getMessageRenderers)(e.type);if(n&&(!n.validateMessage||n.validateMessage(e)))return O.jsx(O.Fragment,{children:n.render(e)});const r="linear-gradient(to right, transparent 5%, black 15%, black 85%, transparent 95%)",i=o=>{const s="prose prose-sm inline-block rounded-xl py-2 relative text-sm w-fit [&>*+*]:mt-3 [&>ol>li+li]:mt-2 [&>ul>li+li]:mt-2 [&>ol>li>p]:mb-1 [&>ul>li>p]:mb-1",a=o==="bot"||o==="assistant"?"font-serif dark:text-gray-100 text-[#141413] w-full":"text-[white] px-3",l=o==="bot"||o==="assistant"?{fontSize:"0.95rem",lineHeight:"1.5em"}:{boxShadow:"0 2px 10px rgba(0, 0, 0, 0.1)",backgroundColor:"#3b82f6",color:"#ffffff"};return{className:`${s} ${a}`,style:l}};switch(e.type){case"dialogue_options":return O.jsx("div",{className:"w-full",children:O.jsx("div",{...i(e.role),className:`${i(e.role).className} w-full`,children:O.jsx(bLe,{message:e})})});case"multiple_choice":return O.jsx("div",{className:"w-full",children:O.jsx("div",{...i(e.role),className:`${i(e.role).className} w-full`,children:O.jsx(WUe,{message:e})})});case"todolist":const o=i(e.role);return O.jsx("div",{className:"w-full",children:O.jsx("div",{...o.style,className:`${o.className} w-full`,children:O.jsx(HUe,{message:e})})});case"ticker":{const a=e.buttons.map((l,u)=>O.jsxs(qX,{whileHover:{scale:1.05},className:"w-48 my-3 flex flex-col items-center justify-start p-4",style:l.colour?{backgroundColor:l.colour,willChange:"transform"}:void 0,children:[l.icon&&O.jsx("div",{className:"mb-2 text-2xl",children:l.icon}),O.jsx("p",{className:"text-sm font-medium text-center truncate",children:l.title}),O.jsx("p",{className:"mt-1 text-center text-xs",children:l.description})]},u));return O.jsx("div",{className:"w-full",children:O.jsx("div",{className:"mb-2",children:O.jsx(r6e,{hoverFactor:0,items:a,style:{maskImage:r}})})})}default:return O.jsx("div",{className:`${e.role==="bot"||e.role==="assistant"?"max-w-[100%] w-full":"max-w-[80%] w-fit"}`,children:O.jsx("div",{...i(e.role),children:O.jsx(ZUe,{content:e.content??` \`\`\`json
${JSON.stringify(e,null,2)}
\`\`\``})})})}},a6e=({maxHeight:e,className:t=""})=>{const n=D.useRef(null),r=wt(u=>u.isProcessing),{messages:i}=dY(),o=i.filter(u=>u.role==="user"||u.role==="assistant"||u.role==="bot");D.useLayoutEffect(()=>{n.current&&(n.current.scrollTop=n.current.scrollHeight)},[]),D.useEffect(()=>{n.current&&n.current.scrollTo({top:n.current.scrollHeight,behavior:"smooth"})},[o]);const s=u=>u===0?!1:o[u].role===o[u-1].role,a=so(e?"overflow-x-hidden overflow-y-auto px-3":"flex-1 overflow-x-hidden overflow-y-auto min-h-0 px-3",t),l=e?{height:e,contain:"paint layout"}:{contain:"paint layout"};return O.jsx("div",{ref:n,className:so("w-full h-full mb-0 flex flex-col space-y-1 pb-3 relative",a),style:{...l,scrollbarColor:"rgba(156, 163, 175, 0.8) transparent"},children:O.jsx("div",{className:"relative z-20 px-1 py-1",children:O.jsxs(xR,{initial:!1,children:[o.map((u,d)=>O.jsx(nr.div,{initial:{opacity:0,y:20,filter:"blur(4px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},transition:{duration:.15,ease:"easeOut"},className:`flex ${u.role==="user"?"justify-end":"justify-start"} ${s(d)?"mt-1":"mt-2"}`,children:O.jsx(s6e,{message:u})},u.id)),r&&O.jsx("div",{className:"py-2",children:O.jsx(yLe,{text:"Thinking...",state:"thinking"})})]})})})},l6e=e=>{const{date:t,topics:n}=e;let r=`Daily Briefing (${t}):

`;return n.forEach((i,o)=>{r+=`${o+1}. ${i.title}
`,r+=`${i.summary}
`;const s=i.articles.slice(0,3);s.length>0&&(r+="Articles: ",r+=s.map(a=>`${a.title} (${a.source})`).join("; "),r+=`
`),r+=`
`}),r+="You are an AI assistant for discussing this briefing. Answer questions about these topics, provide insights, and help users understand the news. Be conversational and helpful.",r},u6e=({title:e="Cedar Chat",companyLogo:t,showHeader:n=!0,showCloseButton:r=!1,onClose:i,stream:o=!0,className:s="",briefingData:a})=>{const l=wt(m=>m.setShowChat),u=wt(m=>m.addMessage);wt(m=>m.messages);const[d,f]=Xt.useState(!1);Xt.useEffect(()=>{if(a&&!d){const m=l6e(a),b=`briefing-context-${Date.now()}`;console.log("🔄 Adding briefing context to chat:",{topicsCount:a.topics.length,date:a.date,contextLength:m.length,contextId:b}),u({id:b,role:"system",content:m,type:"text",timestamp:new Date}),f(!0),console.log("✅ Briefing context added as system message")}else a||console.log("⚠️ No briefing data available for AI context")},[a,u,d]);const g=()=>{i?i():l(!1)};return O.jsxs("div",{className:`rounded-lg border bg-card text-card-foreground shadow-sm border-border ${s}`,children:[n&&O.jsx("div",{className:"flex flex-col space-y-1.5 p-6",children:O.jsxs("div",{className:"flex items-center justify-between",children:[O.jsxs("div",{className:"flex items-center space-x-2",children:[t&&O.jsx("div",{className:"flex-shrink-0",children:t}),O.jsx("h3",{className:"font-semibold tracking-tight text-xl text-foreground",children:e})]}),r&&O.jsx("button",{className:"p-1.5 hover:bg-muted rounded-md transition-colors",onClick:g,"aria-label":"Close chat",children:O.jsx(fb,{className:"h-4 w-4"})})]})}),O.jsx("div",{className:"flex-1 min-h-0 overflow-hidden px-6",children:O.jsx(a6e,{})}),O.jsx("div",{className:"p-6 pt-0 border-t border-border",children:O.jsx(gLe,{handleFocus:()=>{},handleBlur:()=>{},isInputFocused:!1,stream:o,className:"bg-transparent border-0 p-0"})})]})},HB={date:"September 28, 2025",topics:[{title:"AI Technology Advances",summary:"Major breakthroughs in AI reasoning capabilities announced by leading tech companies, with new models showing significant improvements in complex problem-solving.",articles:[{title:"OpenAI Announces GPT-6 with Enhanced Reasoning",source:"techcrunch.com",url:"https://techcrunch.com/openai-gpt6"},{title:"Google's Gemini Ultra 2.0 Breaks New Benchmarks",source:"theverge.com",url:"https://theverge.com/gemini-ultra-2"}]},{title:"Climate Policy Updates",summary:"New international climate agreements reached at the Global Climate Summit, with commitments to accelerate renewable energy adoption.",articles:[{title:"Historic Climate Deal Signed by 50 Nations",source:"reuters.com",url:"https://reuters.com/climate-deal"},{title:"Renewable Energy Investment Hits Record High",source:"bloomberg.com",url:"https://bloomberg.com/renewable-energy"}]},{title:"Economic Market Trends",summary:"Stock markets show mixed signals as investors react to new Federal Reserve policy announcements and inflation data.",articles:[{title:"Fed Signals Potential Rate Changes",source:"wsj.com",url:"https://wsj.com/fed-policy"},{title:"Tech Stocks Rally Despite Market Uncertainty",source:"ft.com",url:"https://ft.com/tech-stocks"}]}]};function c6e(){const[e,t]=Xt.useState(HB),[n,r]=Xt.useState(!1),[i,o]=Xt.useState(""),[s,a]=Xt.useState(null),[l]=eie(),[u,d]=Xt.useState(!1);return Xt.useEffect(()=>{const f=l.get("id")||l.get("ID");if(!f){const x=new AbortController;return console.log("No ID parameter found, using mock data"),t(HB),r(!1),()=>x.abort()}const g=decodeURIComponent(f),m=new AbortController;return(async()=>{r(!0),a(null);try{let k=await fetch(`https://daily-digest-demo.zackaryia.workers.dev/api/get-briefing/${g}`,{signal:m.signal});if(!k.ok)throw new Error(`Failed to fetch briefing (status ${k.status})`);const T=await k.json();t(T)}catch(x){x?.name!=="AbortError"&&(console.error("Error fetching briefing by id:",x),a(x?.message||"Failed to load briefing"))}finally{r(!1)}})(),()=>m.abort()},[l]),Xt.useEffect(()=>{const f=setTimeout(()=>{d(!0)},500);return()=>clearTimeout(f)},[]),O.jsxs("div",{className:"min-h-screen bg-background",children:[O.jsx(wU,{}),O.jsx("main",{className:"container mx-auto px-4 py-8",children:O.jsxs("div",{className:"max-w-6xl mx-auto",children:[O.jsxs("div",{className:"mb-8",children:[O.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[O.jsx(roe,{className:"h-8 w-8 text-primary"}),O.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Daily Digest"}),O.jsx(XS,{variant:"secondary",className:"ml-2",children:e.date})]}),O.jsx("p",{className:"text-muted-foreground text-lg",children:"Stay informed with today's most important developments across your interests."}),s&&O.jsx("div",{className:"mt-4 p-3 rounded-md bg-destructive/10 text-destructive text-sm",children:s})]}),O.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[O.jsxs("div",{className:"space-y-6",children:[O.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Today's Key Topics"}),n&&O.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading briefing..."}),!n&&e.topics.map((f,g)=>O.jsxs(Im,{className:"border-border",children:[O.jsx(pb,{children:O.jsx(hb,{className:"text-xl text-foreground",children:f.title})}),O.jsxs(Am,{className:"space-y-4",children:[O.jsx("p",{className:"text-muted-foreground leading-relaxed",children:f.summary}),O.jsxs("div",{className:"space-y-3",children:[O.jsx("h4",{className:"font-medium text-foreground",children:"Related Articles:"}),f.articles.map((m,b)=>O.jsxs("div",{className:"flex items-start justify-between p-3 bg-muted/50 rounded-lg hover:bg-muted/70 transition-colors",children:[O.jsxs("div",{className:"flex-1",children:[O.jsx("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-foreground text-sm mb-1 hover:text-primary underline-offset-4 hover:underline block",children:m.title}),O.jsx("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-muted-foreground hover:text-primary",children:m.source})]}),O.jsx("a",{href:m.url,target:"_blank",rel:"noopener noreferrer",children:O.jsx(XS,{variant:"secondary",className:"ml-3 text-xs hover:bg-primary/20 cursor-pointer",children:m.source})})]},b))]})]})]},g))]}),O.jsx("div",{className:"lg:sticky lg:top-8",children:O.jsx("div",{className:"cedar-chat-custom",children:O.jsx(u6e,{title:"Discuss Your Briefing",companyLogo:O.jsx(Gie,{className:"h-5 w-5 text-primary"}),showHeader:!0,stream:!0,className:"h-[600px] flex flex-col",briefingData:e})})})]})]})}),O.jsx($U,{})]})}const d6e="modulepreload",f6e=function(e){return"/"+e},qB={},p6e=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var s=u;document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");i=u(n.map(d=>{if(d=f6e(d),d in qB)return;qB[d]=!0;const f=d.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":d6e,f||(m.as="script"),m.crossOrigin="",m.href=d,l&&m.setAttribute("nonce",l),document.head.appendChild(m),f)return new Promise((b,x)=>{m.addEventListener("load",b),m.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},_v={baseURL:"https://daily-digest-demo.zackaryia.workers.dev",endpoints:{call:"/api/llm/call"}},q$={provider:"custom",config:{baseURL:_v.baseURL,model:"@cf/meta/llama-3.3-70b-instruct-fp8-fast",apiKey:"not-needed",callLLM:async(e,t)=>{console.log("🔄 Making callLLM request to:",`${_v.baseURL}${_v.endpoints.call}`),console.log("📤 Request params:",e),console.log("📤 Context:",t);let n=e.systemPrompt||"",r=e.messages;if(!r&&typeof window<"u")try{const{useCedarStore:s}=await p6e(async()=>{const{useCedarStore:a}=await Promise.resolve().then(()=>eRe);return{useCedarStore:a}},[]);r=s.getState().messages,console.log("📥 Retrieved messages from Cedar store:",r?.length||0)}catch(s){console.warn("Could not access Cedar store:",s)}if(r&&Array.isArray(r)){const s=r.filter(a=>a.role==="system").map(a=>a.content).join(`

`);if(console.log("🔍 Found system messages:",{count:r.filter(a=>a.role==="system").length,totalMessages:r.length,systemMessagesLength:s.length,firstSystemMessage:r.find(a=>a.role==="system")?.content?.substring(0,100)+"..."}),s){n=s+(n?`

`+n:""),console.log("✅ Combined system prompt length:",n.length);const a=6e4;n.length>a&&(console.warn("⚠️ System prompt too long, truncating from",n.length,"to",a),n=n.substring(0,a)+`

[Context truncated due to length limits]`),console.log("📄 Final system prompt length:",n.length),console.log("📄 System prompt preview:",n.substring(0,200)+"...")}}else console.warn("⚠️ No messages array found in params or Cedar store");const i=await fetch(`${_v.baseURL}${_v.endpoints.call}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e.prompt,systemPrompt:n,temperature:e.temperature||.7,maxTokens:e.maxTokens||2048,model:e.model||"@cf/meta/llama-3.3-70b-instruct-fp8-fast"})});if(console.log("📥 Response status:",i.status),console.log("📥 Response headers:",i.headers),!i.ok){const s=await i.text();throw console.error("❌ API call failed:",i.status,s),new Error(`API call failed: ${i.status} - ${s}`)}const o=await i.json();return console.log("✅ API response:",o),{content:o.content||"",usage:o.usage||{promptTokens:0,completionTokens:0,totalTokens:0},metadata:o.metadata||{}}}}},h6e=async()=>{const e=wt.getState();try{return console.log("🔧 Configuring Cedar-OS with Daily Digest provider..."),console.log("Provider config:",q$),e.setProviderConfig(q$),console.log("🔗 Connecting to provider..."),await e.connect(),console.log("✅ Cedar-OS initialized with Daily Digest provider"),!0}catch(t){return console.error("❌ Failed to initialize Cedar-OS:",t),console.log("Available store methods:",Object.keys(e)),console.log("Store state:",e),!1}},m6e=()=>{console.log("📝 Daily Digest configuration applied"),console.log("🔗 API endpoints configured for:",q$.config.baseURL)};function g6e(){return D.useEffect(()=>{(async()=>{try{console.log("Initializing Cedar-OS for Daily Digest..."),await h6e()?(m6e(),console.log("Cedar-OS fully configured for Daily Digest")):console.warn("Cedar-OS initialization failed, chat may not work")}catch(t){console.error("Cedar-OS setup error:",t)}})()},[]),O.jsxs(Tre,{children:[O.jsx(rI,{path:"/",element:O.jsx(xoe,{})}),O.jsx(rI,{path:"/briefing",element:O.jsx(c6e,{})})]})}Rne.createRoot(document.getElementById("root")).render(O.jsx(Xt.StrictMode,{children:O.jsx(Kre,{children:O.jsx(g6e,{})})}));
